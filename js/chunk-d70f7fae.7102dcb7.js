(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d70f7fae","chunk-0c8ec293"],{"00ed":function(e,t,a){e.exports=a.p+"static/img/file.4fb6433c.svg"},"0272":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-form-box"},[a("el-form",{ref:"formRef",attrs:{model:e.formData,inline:!0}},e._l(e.formOptions,(function(t,i){return a("el-form-item",{key:e.newKeys[i],attrs:{prop:t.prop,label:t.label?t.label+"：":"",rules:t.rules}},[a("formItem",{attrs:{"item-options":t},model:{value:e.formData[t.prop],callback:function(a){e.$set(e.formData,t.prop,a)},expression:"formData[item.prop]"}})],1)})),1),a("div",{staticClass:"btn-box"},[e.btnItems.includes("search")?a("el-button",{staticClass:"btn-search",attrs:{size:"mini",type:"primary"},on:{click:e.onSearch}},[e._v("搜索")]):e._e(),e.btnItems.includes("export")?a("el-button",{staticClass:"btn-export",attrs:{size:"mini",type:"primary"},on:{click:e.onExport}},[e._v("导出")]):e._e(),e.btnItems.includes("reset")?a("el-button",{staticClass:"btn-reset",attrs:{size:"mini",type:"default"},on:{click:e.onReset}},[e._v("重置")]):e._e()],1)],1)},n=[],o=(a("d81d"),a("159b"),a("2cd5")),s=a("b893"),r={components:{FormItem:o["default"]},props:{formOptions:{type:Array,required:!0,default:function(){return[]}},btnItems:{type:String,default:function(){return"search,export,reset"}}},data:function(){return{formData:{}}},computed:{newKeys:function(){return this.formOptions.map((function(e){return s["a"].createUniqueString()}))}},created:function(){this.addInitValue()},methods:{onValidate:function(e){this.$refs.formRef.validate((function(t){t&&e()}))},onSearch:function(){var e=this;this.onValidate((function(){e.$emit("onSearch",e.formData)}))},onExport:function(){var e=this;this.onValidate((function(){e.$emit("onExport",e.formData)}))},onReset:function(){this.$refs.formRef.resetFields()},addInitValue:function(){var e={};this.formOptions.forEach((function(t){void 0!==t.initValue&&(e[t.prop]=t.initValue)})),this.formData=e}}},l=r,c=(a("89a6"),a("2877")),d=Object(c["a"])(l,i,n,!1,null,"662ea2f2",null);t["default"]=d.exports},"04cd":function(e,t,a){},"0883":function(e,t,a){"use strict";a("33f6")},"0892":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"right-board"},[a("el-tabs",{staticClass:"center-tabs",model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[a("el-tab-pane",{attrs:{label:"组件属性",name:"field"}}),a("el-tab-pane",{attrs:{label:"表单属性",name:"form"}})],1),a("div",{staticClass:"field-box"},[a("a",{staticClass:"document-link",attrs:{target:"_blank",href:e.documentLink,title:"查看组件文档"}},[a("i",{staticClass:"el-icon-link"})]),a("el-scrollbar",{staticClass:"right-scrollbar"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:"field"===e.currentTab&&e.showField,expression:"currentTab==='field' && showField"}],attrs:{size:"small","label-width":"90px"}},[e.activeData.__config__.changeTag?a("el-form-item",{attrs:{label:"组件类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择组件类型"},on:{change:e.tagChange},model:{value:e.activeData.__config__.tagIcon,callback:function(t){e.$set(e.activeData.__config__,"tagIcon",t)},expression:"activeData.__config__.tagIcon"}},e._l(e.tagList,(function(t){return a("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,(function(t){return a("el-option",{key:t.__config__.label,attrs:{label:t.__config__.label,value:t.__config__.tagIcon}},[a("svg-icon",{staticClass:"node-icon",attrs:{"icon-class":t.__config__.tagIcon}}),a("span",[e._v(" "+e._s(t.__config__.label))])],1)})),1)})),1)],1):e._e(),void 0!==e.activeData.__vModel__?a("el-form-item",{attrs:{label:"字段名"}},[a("el-input",{attrs:{placeholder:"请输入字段名（v-model）"},model:{value:e.activeData.__vModel__,callback:function(t){e.$set(e.activeData,"__vModel__",t)},expression:"activeData.__vModel__"}})],1):e._e(),void 0!==e.activeData.__config__.componentName?a("el-form-item",{attrs:{label:"组件名"}},[e._v(" "+e._s(e.activeData.__config__.componentName)+" ")]):e._e(),void 0!==e.activeData.__config__.label?a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"请输入标题"},on:{input:e.changeRenderKey},model:{value:e.activeData.__config__.label,callback:function(t){e.$set(e.activeData.__config__,"label",t)},expression:"activeData.__config__.label"}})],1):e._e(),void 0!==e.activeData.placeholder?a("el-form-item",{attrs:{label:"占位提示"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},on:{input:e.changeRenderKey},model:{value:e.activeData.placeholder,callback:function(t){e.$set(e.activeData,"placeholder",t)},expression:"activeData.placeholder"}})],1):e._e(),void 0!==e.activeData["start-placeholder"]?a("el-form-item",{attrs:{label:"开始占位"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData["start-placeholder"],callback:function(t){e.$set(e.activeData,"start-placeholder",t)},expression:"activeData['start-placeholder']"}})],1):e._e(),void 0!==e.activeData["end-placeholder"]?a("el-form-item",{attrs:{label:"结束占位"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData["end-placeholder"],callback:function(t){e.$set(e.activeData,"end-placeholder",t)},expression:"activeData['end-placeholder']"}})],1):e._e(),void 0!==e.activeData.__config__.span?a("el-form-item",{attrs:{label:"表单栅格"}},[a("el-slider",{attrs:{max:24,min:1,marks:{12:""}},on:{change:e.spanChange},model:{value:e.activeData.__config__.span,callback:function(t){e.$set(e.activeData.__config__,"span",t)},expression:"activeData.__config__.span"}})],1):e._e(),"rowFormItem"===e.activeData.__config__.layout&&void 0!==e.activeData.gutter?a("el-form-item",{attrs:{label:"栅格间隔"}},[a("el-input-number",{attrs:{min:0,placeholder:"栅格间隔"},model:{value:e.activeData.gutter,callback:function(t){e.$set(e.activeData,"gutter",t)},expression:"activeData.gutter"}})],1):e._e(),"rowFormItem"===e.activeData.__config__.layout&&void 0!==e.activeData.type?a("el-form-item",{attrs:{label:"布局模式"}},[a("el-radio-group",{model:{value:e.activeData.type,callback:function(t){e.$set(e.activeData,"type",t)},expression:"activeData.type"}},[a("el-radio-button",{attrs:{label:"default"}}),a("el-radio-button",{attrs:{label:"flex"}})],1)],1):e._e(),void 0!==e.activeData.justify&&"flex"===e.activeData.type?a("el-form-item",{attrs:{label:"水平排列"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择水平排列"},model:{value:e.activeData.justify,callback:function(t){e.$set(e.activeData,"justify",t)},expression:"activeData.justify"}},e._l(e.justifyOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),void 0!==e.activeData.align&&"flex"===e.activeData.type?a("el-form-item",{attrs:{label:"垂直排列"}},[a("el-radio-group",{model:{value:e.activeData.align,callback:function(t){e.$set(e.activeData,"align",t)},expression:"activeData.align"}},[a("el-radio-button",{attrs:{label:"top"}}),a("el-radio-button",{attrs:{label:"middle"}}),a("el-radio-button",{attrs:{label:"bottom"}})],1)],1):e._e(),void 0!==e.activeData.__config__.labelWidth?a("el-form-item",{attrs:{label:"标签宽度"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入标签宽度"},model:{value:e.activeData.__config__.labelWidth,callback:function(t){e.$set(e.activeData.__config__,"labelWidth",e._n(t))},expression:"activeData.__config__.labelWidth"}})],1):e._e(),e.activeData.style&&void 0!==e.activeData.style.width?a("el-form-item",{attrs:{label:"组件宽度"}},[a("el-input",{attrs:{placeholder:"请输入组件宽度",clearable:""},model:{value:e.activeData.style.width,callback:function(t){e.$set(e.activeData.style,"width",t)},expression:"activeData.style.width"}})],1):e._e(),void 0!==e.activeData.__vModel__?a("el-form-item",{attrs:{label:"默认值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData.__config__.defaultValue),placeholder:"请输入默认值"},on:{input:e.onDefaultValueInput}})],1):e._e(),"el-checkbox-group"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"至少应选"}},[a("el-input-number",{attrs:{value:e.activeData.min,min:0,placeholder:"至少应选"},on:{input:function(t){return e.$set(e.activeData,"min",t||void 0)}}})],1):e._e(),"el-checkbox-group"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"最多可选"}},[a("el-input-number",{attrs:{value:e.activeData.max,min:0,placeholder:"最多可选"},on:{input:function(t){return e.$set(e.activeData,"max",t||void 0)}}})],1):e._e(),e.activeData.__slot__&&void 0!==e.activeData.__slot__.prepend?a("el-form-item",{attrs:{label:"前缀"}},[a("el-input",{attrs:{placeholder:"请输入前缀"},model:{value:e.activeData.__slot__.prepend,callback:function(t){e.$set(e.activeData.__slot__,"prepend",t)},expression:"activeData.__slot__.prepend"}})],1):e._e(),e.activeData.__slot__&&void 0!==e.activeData.__slot__.append?a("el-form-item",{attrs:{label:"后缀"}},[a("el-input",{attrs:{placeholder:"请输入后缀"},model:{value:e.activeData.__slot__.append,callback:function(t){e.$set(e.activeData.__slot__,"append",t)},expression:"activeData.__slot__.append"}})],1):e._e(),void 0!==e.activeData["prefix-icon"]?a("el-form-item",{attrs:{label:"前图标"}},[a("el-input",{attrs:{placeholder:"请输入前图标名称"},model:{value:e.activeData["prefix-icon"],callback:function(t){e.$set(e.activeData,"prefix-icon",t)},expression:"activeData['prefix-icon']"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-thumb"},on:{click:function(t){return e.openIconsDialog("prefix-icon")}},slot:"append"},[e._v(" 选择 ")])],1)],1):e._e(),void 0!==e.activeData["suffix-icon"]?a("el-form-item",{attrs:{label:"后图标"}},[a("el-input",{attrs:{placeholder:"请输入后图标名称"},model:{value:e.activeData["suffix-icon"],callback:function(t){e.$set(e.activeData,"suffix-icon",t)},expression:"activeData['suffix-icon']"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-thumb"},on:{click:function(t){return e.openIconsDialog("suffix-icon")}},slot:"append"},[e._v(" 选择 ")])],1)],1):e._e(),void 0!==e.activeData["icon"]&&"el-button"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"按钮图标"}},[a("el-input",{attrs:{placeholder:"请输入按钮图标名称"},model:{value:e.activeData["icon"],callback:function(t){e.$set(e.activeData,"icon",t)},expression:"activeData['icon']"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-thumb"},on:{click:function(t){return e.openIconsDialog("icon")}},slot:"append"},[e._v(" 选择 ")])],1)],1):e._e(),"el-cascader"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"选项分隔符"}},[a("el-input",{attrs:{placeholder:"请输入选项分隔符"},model:{value:e.activeData.separator,callback:function(t){e.$set(e.activeData,"separator",t)},expression:"activeData.separator"}})],1):e._e(),void 0!==e.activeData.autosize?a("el-form-item",{attrs:{label:"最小行数"}},[a("el-input-number",{attrs:{min:1,placeholder:"最小行数"},model:{value:e.activeData.autosize.minRows,callback:function(t){e.$set(e.activeData.autosize,"minRows",t)},expression:"activeData.autosize.minRows"}})],1):e._e(),void 0!==e.activeData.autosize?a("el-form-item",{attrs:{label:"最大行数"}},[a("el-input-number",{attrs:{min:1,placeholder:"最大行数"},model:{value:e.activeData.autosize.maxRows,callback:function(t){e.$set(e.activeData.autosize,"maxRows",t)},expression:"activeData.autosize.maxRows"}})],1):e._e(),e.isShowMin?a("el-form-item",{attrs:{label:"最小值"}},[a("el-input-number",{attrs:{placeholder:"最小值"},model:{value:e.activeData.min,callback:function(t){e.$set(e.activeData,"min",t)},expression:"activeData.min"}})],1):e._e(),e.isShowMax?a("el-form-item",{attrs:{label:"最大值"}},[a("el-input-number",{attrs:{placeholder:"最大值"},model:{value:e.activeData.max,callback:function(t){e.$set(e.activeData,"max",t)},expression:"activeData.max"}})],1):e._e(),void 0!==e.activeData.height?a("el-form-item",{attrs:{label:"组件高度"}},[a("el-input-number",{attrs:{placeholder:"高度"},on:{input:e.changeRenderKey},model:{value:e.activeData.height,callback:function(t){e.$set(e.activeData,"height",t)},expression:"activeData.height"}})],1):e._e(),e.isShowStep?a("el-form-item",{attrs:{label:"步长"}},[a("el-input-number",{attrs:{placeholder:"步数"},model:{value:e.activeData.step,callback:function(t){e.$set(e.activeData,"step",t)},expression:"activeData.step"}})],1):e._e(),"el-input-number"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"精度"}},[a("el-input-number",{attrs:{min:0,placeholder:"精度"},model:{value:e.activeData.precision,callback:function(t){e.$set(e.activeData,"precision",t)},expression:"activeData.precision"}})],1):e._e(),"el-input-number"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"按钮位置"}},[a("el-radio-group",{model:{value:e.activeData["controls-position"],callback:function(t){e.$set(e.activeData,"controls-position",t)},expression:"activeData['controls-position']"}},[a("el-radio-button",{attrs:{label:""}},[e._v(" 默认 ")]),a("el-radio-button",{attrs:{label:"right"}},[e._v(" 右侧 ")])],1)],1):e._e(),void 0!==e.activeData.maxlength?a("el-form-item",{attrs:{label:"最多输入"}},[a("el-input",{attrs:{placeholder:"请输入字符长度"},model:{value:e.activeData.maxlength,callback:function(t){e.$set(e.activeData,"maxlength",t)},expression:"activeData.maxlength"}},[a("template",{slot:"append"},[e._v(" 个字符 ")])],2)],1):e._e(),void 0!==e.activeData["active-text"]?a("el-form-item",{attrs:{label:"开启提示"}},[a("el-input",{attrs:{placeholder:"请输入开启提示"},model:{value:e.activeData["active-text"],callback:function(t){e.$set(e.activeData,"active-text",t)},expression:"activeData['active-text']"}})],1):e._e(),void 0!==e.activeData["inactive-text"]?a("el-form-item",{attrs:{label:"关闭提示"}},[a("el-input",{attrs:{placeholder:"请输入关闭提示"},model:{value:e.activeData["inactive-text"],callback:function(t){e.$set(e.activeData,"inactive-text",t)},expression:"activeData['inactive-text']"}})],1):e._e(),void 0!==e.activeData["active-value"]?a("el-form-item",{attrs:{label:"开启值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData["active-value"]),placeholder:"请输入开启值"},on:{input:function(t){return e.onSwitchValueInput(t,"active-value")}}})],1):e._e(),void 0!==e.activeData["inactive-value"]?a("el-form-item",{attrs:{label:"关闭值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData["inactive-value"]),placeholder:"请输入关闭值"},on:{input:function(t){return e.onSwitchValueInput(t,"inactive-value")}}})],1):e._e(),void 0!==e.activeData.type&&"el-date-picker"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"时间类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择时间类型"},on:{change:e.dateTypeChange},model:{value:e.activeData.type,callback:function(t){e.$set(e.activeData,"type",t)},expression:"activeData.type"}},e._l(e.dateOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),void 0!==e.activeData.name?a("el-form-item",{attrs:{label:"文件字段名"}},[a("el-input",{attrs:{placeholder:"请输入上传文件字段名"},model:{value:e.activeData.name,callback:function(t){e.$set(e.activeData,"name",t)},expression:"activeData.name"}})],1):e._e(),void 0!==e.activeData.accept?a("el-form-item",{attrs:{label:"文件类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择文件类型",clearable:""},model:{value:e.activeData.accept,callback:function(t){e.$set(e.activeData,"accept",t)},expression:"activeData.accept"}},[a("el-option",{attrs:{label:"图片",value:"image/*"}}),a("el-option",{attrs:{label:"视频",value:"video/*"}}),a("el-option",{attrs:{label:"音频",value:"audio/*"}}),a("el-option",{attrs:{label:"excel",value:".xls,.xlsx"}}),a("el-option",{attrs:{label:"word",value:".doc,.docx"}}),a("el-option",{attrs:{label:"pdf",value:".pdf"}}),a("el-option",{attrs:{label:"txt",value:".txt"}})],1)],1):e._e(),void 0!==e.activeData.__config__.fileSize?a("el-form-item",{attrs:{label:"文件大小"}},[a("el-input",{attrs:{placeholder:"请输入文件大小"},model:{value:e.activeData.__config__.fileSize,callback:function(t){e.$set(e.activeData.__config__,"fileSize",e._n(t))},expression:"activeData.__config__.fileSize"}},[a("el-select",{style:{width:"66px"},attrs:{slot:"append"},slot:"append",model:{value:e.activeData.__config__.sizeUnit,callback:function(t){e.$set(e.activeData.__config__,"sizeUnit",t)},expression:"activeData.__config__.sizeUnit"}},[a("el-option",{attrs:{label:"KB",value:"KB"}}),a("el-option",{attrs:{label:"MB",value:"MB"}}),a("el-option",{attrs:{label:"GB",value:"GB"}})],1)],1)],1):e._e(),void 0!==e.activeData.action?a("el-form-item",{attrs:{label:"上传地址"}},[a("el-input",{attrs:{placeholder:"请输入上传地址",clearable:""},model:{value:e.activeData.action,callback:function(t){e.$set(e.activeData,"action",t)},expression:"activeData.action"}})],1):e._e(),void 0!==e.activeData["list-type"]?a("el-form-item",{attrs:{label:"列表类型"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.activeData["list-type"],callback:function(t){e.$set(e.activeData,"list-type",t)},expression:"activeData['list-type']"}},[a("el-radio-button",{attrs:{label:"text"}},[e._v(" text ")]),a("el-radio-button",{attrs:{label:"picture"}},[e._v(" picture ")]),a("el-radio-button",{attrs:{label:"picture-card"}},[e._v(" picture-card ")])],1)],1):e._e(),void 0!==e.activeData.type&&"el-button"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"按钮类型"}},[a("el-select",{style:{width:"100%"},model:{value:e.activeData.type,callback:function(t){e.$set(e.activeData,"type",t)},expression:"activeData.type"}},[a("el-option",{attrs:{label:"primary",value:"primary"}}),a("el-option",{attrs:{label:"success",value:"success"}}),a("el-option",{attrs:{label:"warning",value:"warning"}}),a("el-option",{attrs:{label:"danger",value:"danger"}}),a("el-option",{attrs:{label:"info",value:"info"}}),a("el-option",{attrs:{label:"text",value:"text"}})],1)],1):e._e(),void 0!==e.activeData.__config__.buttonText?a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"picture-card"!==e.activeData["list-type"],expression:"'picture-card' !== activeData['list-type']"}],attrs:{label:"按钮文字"}},[a("el-input",{attrs:{placeholder:"请输入按钮文字"},model:{value:e.activeData.__config__.buttonText,callback:function(t){e.$set(e.activeData.__config__,"buttonText",t)},expression:"activeData.__config__.buttonText"}})],1):e._e(),"el-button"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"按钮文字"}},[a("el-input",{attrs:{placeholder:"请输入按钮文字"},model:{value:e.activeData.__slot__.default,callback:function(t){e.$set(e.activeData.__slot__,"default",t)},expression:"activeData.__slot__.default"}})],1):e._e(),void 0!==e.activeData["range-separator"]?a("el-form-item",{attrs:{label:"分隔符"}},[a("el-input",{attrs:{placeholder:"请输入分隔符"},model:{value:e.activeData["range-separator"],callback:function(t){e.$set(e.activeData,"range-separator",t)},expression:"activeData['range-separator']"}})],1):e._e(),void 0!==e.activeData["picker-options"]?a("el-form-item",{attrs:{label:"时间段"}},[a("el-input",{attrs:{placeholder:"请输入时间段"},model:{value:e.activeData["picker-options"].selectableRange,callback:function(t){e.$set(e.activeData["picker-options"],"selectableRange",t)},expression:"activeData['picker-options'].selectableRange"}})],1):e._e(),void 0!==e.activeData.format?a("el-form-item",{attrs:{label:"时间格式"}},[a("el-input",{attrs:{value:e.activeData.format,placeholder:"请输入时间格式"},on:{input:function(t){return e.setTimeValue(t)}}})],1):e._e(),["el-checkbox-group","el-radio-group","el-select"].indexOf(e.activeData.__config__.tag)>-1?[a("el-divider",[e._v("选项")]),e.activeData.__config__.dataType?a("el-form-item",{attrs:{label:"数据类型"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.activeData.__config__.dataType,callback:function(t){e.$set(e.activeData.__config__,"dataType",t)},expression:"activeData.__config__.dataType"}},[a("el-radio-button",{attrs:{label:"dynamic"}},[e._v(" 动态数据 ")]),a("el-radio-button",{attrs:{label:"static"}},[e._v(" 静态数据 ")])],1)],1):e._e(),"dynamic"===e.activeData.__config__.dataType?[a("el-form-item",{attrs:{label:"数据位置"}},[a("el-input",{attrs:{placeholder:"请输入数据位置"},model:{value:e.activeData.__config__.dataPath,callback:function(t){e.$set(e.activeData.__config__,"dataPath",t)},expression:"activeData.__config__.dataPath"}})],1),a("el-form-item",{attrs:{label:"标签键名"}},[a("el-input",{attrs:{placeholder:"请输入标签键名"},model:{value:e.activeData.__config__.dynamicOptions.label,callback:function(t){e.$set(e.activeData.__config__.dynamicOptions,"label",t)},expression:"activeData.__config__.dynamicOptions.label"}})],1),a("el-form-item",{attrs:{label:"值键名"}},[a("el-input",{attrs:{placeholder:"请输入值键名"},model:{value:e.activeData.__config__.dynamicOptions.value,callback:function(t){e.$set(e.activeData.__config__.dynamicOptions,"value",t)},expression:"activeData.__config__.dynamicOptions.value"}})],1),a("el-form-item",{attrs:{label:"子级键名"}},[a("el-input",{attrs:{placeholder:"请输入子级键名"},model:{value:e.activeData.__config__.dynamicOptions.children,callback:function(t){e.$set(e.activeData.__config__.dynamicOptions,"children",t)},expression:"activeData.__config__.dynamicOptions.children"}})],1)]:e._e(),"static"===e.activeData.__config__.dataType?a("draggable",{attrs:{list:e.activeData.__slot__.options,animation:340,group:"selectItem",handle:".option-drag"}},e._l(e.activeData.__slot__.options,(function(t,i){return a("div",{key:i,staticClass:"select-item"},[a("div",{staticClass:"select-line-icon option-drag"},[a("i",{staticClass:"el-icon-s-operation"})]),a("el-input",{attrs:{placeholder:"选项名",size:"small"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}),a("el-input",{attrs:{placeholder:"选项值",size:"small",value:t.value},on:{input:function(a){return e.setOptionValue(t,a)}}}),a("div",{staticClass:"close-btn select-line-icon",on:{click:function(t){return e.activeData.__slot__.options.splice(i,1)}}},[a("i",{staticClass:"el-icon-remove-outline"})])],1)})),0):e._e(),"static"===e.activeData.__config__.dataType?a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{staticStyle:{"padding-bottom":"0"},attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addSelectItem}},[e._v(" 添加选项 ")])],1):e._e(),a("el-divider")]:e._e(),["el-cascader","el-table"].includes(e.activeData.__config__.tag)?[a("el-divider",[e._v("选项")]),e.activeData.__config__.dataType?a("el-form-item",{attrs:{label:"数据类型"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.activeData.__config__.dataType,callback:function(t){e.$set(e.activeData.__config__,"dataType",t)},expression:"activeData.__config__.dataType"}},[a("el-radio-button",{attrs:{label:"dynamic"}},[e._v(" 动态数据 ")]),a("el-radio-button",{attrs:{label:"static"}},[e._v(" 静态数据 ")])],1)],1):e._e(),"dynamic"===e.activeData.__config__.dataType?[a("el-form-item",{attrs:{label:"数据位置"}},[a("el-input",{attrs:{placeholder:"请输入数据位置"},on:{blur:function(t){return e.$emit("fetch-data",e.activeData)}},model:{value:e.activeData.__config__.dataPath,callback:function(t){e.$set(e.activeData.__config__,"dataPath",t)},expression:"activeData.__config__.dataPath"}})],1),e.activeData.__config__.dynamicOptions?[a("el-form-item",{attrs:{label:"标签键名"}},[a("el-input",{attrs:{placeholder:"请输入标签键名"},model:{value:e.activeData.__config__.dynamicOptions.label,callback:function(t){e.$set(e.activeData.__config__.dynamicOptions,"label",t)},expression:"activeData.__config__.dynamicOptions.label"}})],1),a("el-form-item",{attrs:{label:"值键名"}},[a("el-input",{attrs:{placeholder:"请输入值键名"},model:{value:e.activeData.__config__.dynamicOptions.value,callback:function(t){e.$set(e.activeData.__config__.dynamicOptions,"value",t)},expression:"activeData.__config__.dynamicOptions.value"}})],1),a("el-form-item",{attrs:{label:"子级键名"}},[a("el-input",{attrs:{placeholder:"请输入子级键名"},model:{value:e.activeData.__config__.dynamicOptions.children,callback:function(t){e.$set(e.activeData.__config__.dynamicOptions,"children",t)},expression:"activeData.__config__.dynamicOptions.children"}})],1)]:e._e()]:e._e(),"static"===e.activeData.__config__.dataType?a("el-tree",{attrs:{draggable:"",data:e.activeData.options,"node-key":"id","expand-on-click-node":!1,"render-content":e.renderContent}}):e._e(),"static"===e.activeData.__config__.dataType?a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{staticStyle:{"padding-bottom":"0"},attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addTreeItem}},[e._v(" 添加父级 ")])],1):e._e(),a("el-divider")]:e._e(),void 0!==e.activeData.__config__.optionType?a("el-form-item",{attrs:{label:"选项样式"}},[a("el-radio-group",{model:{value:e.activeData.__config__.optionType,callback:function(t){e.$set(e.activeData.__config__,"optionType",t)},expression:"activeData.__config__.optionType"}},[a("el-radio-button",{attrs:{label:"default"}},[e._v(" 默认 ")]),a("el-radio-button",{attrs:{label:"button"}},[e._v(" 按钮 ")])],1)],1):e._e(),void 0!==e.activeData["active-color"]?a("el-form-item",{attrs:{label:"开启颜色"}},[a("el-color-picker",{model:{value:e.activeData["active-color"],callback:function(t){e.$set(e.activeData,"active-color",t)},expression:"activeData['active-color']"}})],1):e._e(),void 0!==e.activeData["inactive-color"]?a("el-form-item",{attrs:{label:"关闭颜色"}},[a("el-color-picker",{model:{value:e.activeData["inactive-color"],callback:function(t){e.$set(e.activeData,"inactive-color",t)},expression:"activeData['inactive-color']"}})],1):e._e(),void 0!==e.activeData.__config__.showLabel&&void 0!==e.activeData.__config__.labelWidth?a("el-form-item",{attrs:{label:"显示标签"}},[a("el-switch",{model:{value:e.activeData.__config__.showLabel,callback:function(t){e.$set(e.activeData.__config__,"showLabel",t)},expression:"activeData.__config__.showLabel"}})],1):e._e(),void 0!==e.activeData.branding?a("el-form-item",{attrs:{label:"品牌烙印"}},[a("el-switch",{on:{input:e.changeRenderKey},model:{value:e.activeData.branding,callback:function(t){e.$set(e.activeData,"branding",t)},expression:"activeData.branding"}})],1):e._e(),void 0!==e.activeData["allow-half"]?a("el-form-item",{attrs:{label:"允许半选"}},[a("el-switch",{model:{value:e.activeData["allow-half"],callback:function(t){e.$set(e.activeData,"allow-half",t)},expression:"activeData['allow-half']"}})],1):e._e(),void 0!==e.activeData["show-text"]?a("el-form-item",{attrs:{label:"辅助文字"}},[a("el-switch",{on:{change:e.rateTextChange},model:{value:e.activeData["show-text"],callback:function(t){e.$set(e.activeData,"show-text",t)},expression:"activeData['show-text']"}})],1):e._e(),void 0!==e.activeData["show-score"]?a("el-form-item",{attrs:{label:"显示分数"}},[a("el-switch",{on:{change:e.rateScoreChange},model:{value:e.activeData["show-score"],callback:function(t){e.$set(e.activeData,"show-score",t)},expression:"activeData['show-score']"}})],1):e._e(),void 0!==e.activeData["show-stops"]?a("el-form-item",{attrs:{label:"显示间断点"}},[a("el-switch",{model:{value:e.activeData["show-stops"],callback:function(t){e.$set(e.activeData,"show-stops",t)},expression:"activeData['show-stops']"}})],1):e._e(),void 0!==e.activeData.range?a("el-form-item",{attrs:{label:"范围选择"}},[a("el-switch",{on:{change:e.rangeChange},model:{value:e.activeData.range,callback:function(t){e.$set(e.activeData,"range",t)},expression:"activeData.range"}})],1):e._e(),void 0!==e.activeData.__config__.border&&"default"===e.activeData.__config__.optionType?a("el-form-item",{attrs:{label:"是否带边框"}},[a("el-switch",{model:{value:e.activeData.__config__.border,callback:function(t){e.$set(e.activeData.__config__,"border",t)},expression:"activeData.__config__.border"}})],1):e._e(),"el-color-picker"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"颜色格式"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择颜色格式",clearable:""},on:{change:e.colorFormatChange},model:{value:e.activeData["color-format"],callback:function(t){e.$set(e.activeData,"color-format",t)},expression:"activeData['color-format']"}},e._l(e.colorFormatOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),void 0===e.activeData.size||"button"!==e.activeData.__config__.optionType&&!e.activeData.__config__.border&&"el-color-picker"!==e.activeData.__config__.tag&&"el-button"!==e.activeData.__config__.tag?e._e():a("el-form-item",{attrs:{label:"组件尺寸"}},[a("el-radio-group",{model:{value:e.activeData.size,callback:function(t){e.$set(e.activeData,"size",t)},expression:"activeData.size"}},[a("el-radio-button",{attrs:{label:"medium"}},[e._v(" 中等 ")]),a("el-radio-button",{attrs:{label:"small"}},[e._v(" 较小 ")]),a("el-radio-button",{attrs:{label:"mini"}},[e._v(" 迷你 ")])],1)],1),void 0!==e.activeData["show-word-limit"]?a("el-form-item",{attrs:{label:"输入统计"}},[a("el-switch",{model:{value:e.activeData["show-word-limit"],callback:function(t){e.$set(e.activeData,"show-word-limit",t)},expression:"activeData['show-word-limit']"}})],1):e._e(),"el-input-number"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"严格步数"}},[a("el-switch",{model:{value:e.activeData["step-strictly"],callback:function(t){e.$set(e.activeData,"step-strictly",t)},expression:"activeData['step-strictly']"}})],1):e._e(),"el-cascader"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"任选层级"}},[a("el-switch",{model:{value:e.activeData.props.props.checkStrictly,callback:function(t){e.$set(e.activeData.props.props,"checkStrictly",t)},expression:"activeData.props.props.checkStrictly"}})],1):e._e(),"el-cascader"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"是否多选"}},[a("el-switch",{model:{value:e.activeData.props.props.multiple,callback:function(t){e.$set(e.activeData.props.props,"multiple",t)},expression:"activeData.props.props.multiple"}})],1):e._e(),"el-cascader"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"展示全路径"}},[a("el-switch",{model:{value:e.activeData["show-all-levels"],callback:function(t){e.$set(e.activeData,"show-all-levels",t)},expression:"activeData['show-all-levels']"}})],1):e._e(),"el-cascader"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"可否筛选"}},[a("el-switch",{model:{value:e.activeData.filterable,callback:function(t){e.$set(e.activeData,"filterable",t)},expression:"activeData.filterable"}})],1):e._e(),void 0!==e.activeData.clearable?a("el-form-item",{attrs:{label:"能否清空"}},[a("el-switch",{model:{value:e.activeData.clearable,callback:function(t){e.$set(e.activeData,"clearable",t)},expression:"activeData.clearable"}})],1):e._e(),void 0!==e.activeData.__config__.showTip?a("el-form-item",{attrs:{label:"显示提示"}},[a("el-switch",{model:{value:e.activeData.__config__.showTip,callback:function(t){e.$set(e.activeData.__config__,"showTip",t)},expression:"activeData.__config__.showTip"}})],1):e._e(),"el-upload"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"多选文件"}},[a("el-switch",{model:{value:e.activeData.multiple,callback:function(t){e.$set(e.activeData,"multiple",t)},expression:"activeData.multiple"}})],1):e._e(),void 0!==e.activeData["auto-upload"]?a("el-form-item",{attrs:{label:"自动上传"}},[a("el-switch",{model:{value:e.activeData["auto-upload"],callback:function(t){e.$set(e.activeData,"auto-upload",t)},expression:"activeData['auto-upload']"}})],1):e._e(),void 0!==e.activeData.readonly?a("el-form-item",{attrs:{label:"是否只读"}},[a("el-switch",{model:{value:e.activeData.readonly,callback:function(t){e.$set(e.activeData,"readonly",t)},expression:"activeData.readonly"}})],1):e._e(),void 0!==e.activeData.disabled?a("el-form-item",{attrs:{label:"是否禁用"}},[a("el-switch",{model:{value:e.activeData.disabled,callback:function(t){e.$set(e.activeData,"disabled",t)},expression:"activeData.disabled"}})],1):e._e(),"el-select"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"能否搜索"}},[a("el-switch",{model:{value:e.activeData.filterable,callback:function(t){e.$set(e.activeData,"filterable",t)},expression:"activeData.filterable"}})],1):e._e(),"el-select"===e.activeData.__config__.tag?a("el-form-item",{attrs:{label:"是否多选"}},[a("el-switch",{on:{change:e.multipleChange},model:{value:e.activeData.multiple,callback:function(t){e.$set(e.activeData,"multiple",t)},expression:"activeData.multiple"}})],1):e._e(),void 0!==e.activeData.__config__.required?a("el-form-item",{attrs:{label:"是否必填"}},[a("el-switch",{model:{value:e.activeData.__config__.required,callback:function(t){e.$set(e.activeData.__config__,"required",t)},expression:"activeData.__config__.required"}})],1):e._e(),e.activeData.__config__.layoutTree?[a("el-divider",[e._v("布局结构树")]),a("el-tree",{attrs:{data:[e.activeData.__config__],props:e.layoutTreeProps,"node-key":"renderKey","default-expand-all":"",draggable:""},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,n=t.data;return a("span",{},[a("span",{staticClass:"node-label"},[a("svg-icon",{staticClass:"node-icon",attrs:{"icon-class":n.__config__?n.__config__.tagIcon:n.tagIcon}}),e._v(" "+e._s(i.label)+" ")],1)])}}],null,!1,3924665115)})]:e._e(),Array.isArray(e.activeData.__config__.regList)?[a("el-divider",[e._v("正则校验")]),e._l(e.activeData.__config__.regList,(function(t,i){return a("div",{key:i,staticClass:"reg-item"},[a("span",{staticClass:"close-btn",on:{click:function(t){return e.activeData.__config__.regList.splice(i,1)}}},[a("i",{staticClass:"el-icon-close"})]),a("el-form-item",{attrs:{label:"表达式"}},[a("el-input",{attrs:{placeholder:"请输入正则"},model:{value:t.pattern,callback:function(a){e.$set(t,"pattern",a)},expression:"item.pattern"}})],1),a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"错误提示"}},[a("el-input",{attrs:{placeholder:"请输入错误提示"},model:{value:t.message,callback:function(a){e.$set(t,"message",a)},expression:"item.message"}})],1)],1)})),a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addReg}},[e._v(" 添加规则 ")])],1)]:e._e()],2),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"form"===e.currentTab,expression:"currentTab === 'form'"}],attrs:{size:"small","label-width":"90px"}},[a("el-form-item",{attrs:{label:"表单名"}},[a("el-input",{attrs:{placeholder:"请输入表单名（ref）"},model:{value:e.formConf.formRef,callback:function(t){e.$set(e.formConf,"formRef",t)},expression:"formConf.formRef"}})],1),a("el-form-item",{attrs:{label:"表单模型"}},[a("el-input",{attrs:{placeholder:"请输入数据模型"},model:{value:e.formConf.formModel,callback:function(t){e.$set(e.formConf,"formModel",t)},expression:"formConf.formModel"}})],1),a("el-form-item",{attrs:{label:"校验模型"}},[a("el-input",{attrs:{placeholder:"请输入校验模型"},model:{value:e.formConf.formRules,callback:function(t){e.$set(e.formConf,"formRules",t)},expression:"formConf.formRules"}})],1),a("el-form-item",{attrs:{label:"表单尺寸"}},[a("el-radio-group",{model:{value:e.formConf.size,callback:function(t){e.$set(e.formConf,"size",t)},expression:"formConf.size"}},[a("el-radio-button",{attrs:{label:"medium"}},[e._v(" 中等 ")]),a("el-radio-button",{attrs:{label:"small"}},[e._v(" 较小 ")]),a("el-radio-button",{attrs:{label:"mini"}},[e._v(" 迷你 ")])],1)],1),a("el-form-item",{attrs:{label:"标签对齐"}},[a("el-radio-group",{model:{value:e.formConf.labelPosition,callback:function(t){e.$set(e.formConf,"labelPosition",t)},expression:"formConf.labelPosition"}},[a("el-radio-button",{attrs:{label:"left"}},[e._v(" 左对齐 ")]),a("el-radio-button",{attrs:{label:"right"}},[e._v(" 右对齐 ")]),a("el-radio-button",{attrs:{label:"top"}},[e._v(" 顶部对齐 ")])],1)],1),a("el-form-item",{attrs:{label:"标签宽度"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入标签宽度"},model:{value:e.formConf.labelWidth,callback:function(t){e.$set(e.formConf,"labelWidth",e._n(t))},expression:"formConf.labelWidth"}})],1),a("el-form-item",{attrs:{label:"栅格间隔"}},[a("el-input-number",{attrs:{min:0,placeholder:"栅格间隔"},model:{value:e.formConf.gutter,callback:function(t){e.$set(e.formConf,"gutter",t)},expression:"formConf.gutter"}})],1),a("el-form-item",{attrs:{label:"禁用表单"}},[a("el-switch",{model:{value:e.formConf.disabled,callback:function(t){e.$set(e.formConf,"disabled",t)},expression:"formConf.disabled"}})],1),a("el-form-item",{attrs:{label:"表单按钮"}},[a("el-switch",{model:{value:e.formConf.formBtns,callback:function(t){e.$set(e.formConf,"formBtns",t)},expression:"formConf.formBtns"}})],1),a("el-form-item",{attrs:{label:"显示未选中组件边框"}},[a("el-switch",{model:{value:e.formConf.unFocusedComponentBorder,callback:function(t){e.$set(e.formConf,"unFocusedComponentBorder",t)},expression:"formConf.unFocusedComponentBorder"}})],1),a("el-form-item",{attrs:{label:"数据源URL"}},[a("el-input",{attrs:{placeholder:"请输入数据源URL"},model:{value:e.formConf.datasourceUrl,callback:function(t){e.$set(e.formConf,"datasourceUrl",t)},expression:"formConf.datasourceUrl"}})],1)],1)],1)],1),a("treeNode-dialog",{attrs:{visible:e.dialogVisible,title:"添加选项"},on:{"update:visible":function(t){e.dialogVisible=t},commit:e.addNode}}),a("icons-dialog",{attrs:{visible:e.iconsVisible,current:e.activeData[e.currentIconModel]},on:{"update:visible":function(t){e.iconsVisible=t},select:e.setIcon}})],1)},n=[],o=(a("99af"),a("c740"),a("a434"),a("a15b"),a("d81d"),a("ac1f"),a("1276"),a("7db0"),a("caad"),a("3022")),s=a("16a9"),r=a("9255"),l=a("6e9f"),c=a("9c31"),d=a("ac5f"),u={date:"yyyy-MM-dd",week:"yyyy 第 WW 周",month:"yyyy-MM",year:"yyyy",datetime:"yyyy-MM-dd HH:mm:ss",daterange:"yyyy-MM-dd",monthrange:"yyyy-MM",datetimerange:"yyyy-MM-dd HH:mm:ss"},p=["tinymce"],m={components:{TreeNodeDialog:s["default"],IconsDialog:l["default"]},props:["showField","activeData","formConf"],data:function(){return{currentTab:"field",currentNode:null,dialogVisible:!1,iconsVisible:!1,currentIconModel:null,dateTypeOptions:[{label:"日(date)",value:"date"},{label:"周(week)",value:"week"},{label:"月(month)",value:"month"},{label:"年(year)",value:"year"},{label:"日期时间(datetime)",value:"datetime"}],dateRangeTypeOptions:[{label:"日期范围(daterange)",value:"daterange"},{label:"月范围(monthrange)",value:"monthrange"},{label:"日期时间范围(datetimerange)",value:"datetimerange"}],colorFormatOptions:[{label:"hex",value:"hex"},{label:"rgb",value:"rgb"},{label:"rgba",value:"rgba"},{label:"hsv",value:"hsv"},{label:"hsl",value:"hsl"}],justifyOptions:[{label:"start",value:"start"},{label:"end",value:"end"},{label:"center",value:"center"},{label:"space-around",value:"space-around"},{label:"space-between",value:"space-between"}],layoutTreeProps:{label:function(e,t){var a=e.__config__;return e.componentName||"".concat(a.label,": ").concat(e.__vModel__)}}}},computed:{documentLink:function(){return this.activeData.__config__.document||"https://element.eleme.cn/#/zh-CN/component/installation"},dateOptions:function(){return void 0!==this.activeData.type&&"el-date-picker"===this.activeData.__config__.tag?void 0===this.activeData["start-placeholder"]?this.dateTypeOptions:this.dateRangeTypeOptions:[]},tagList:function(){return[{label:"输入型组件",options:c["b"]},{label:"选择型组件",options:c["d"]}]},activeTag:function(){return this.activeData.__config__.tag},isShowMin:function(){return["el-input-number","el-slider"].indexOf(this.activeTag)>-1},isShowMax:function(){return["el-input-number","el-slider","el-rate"].indexOf(this.activeTag)>-1},isShowStep:function(){return["el-input-number","el-slider"].indexOf(this.activeTag)>-1}},watch:{formConf:{handler:function(e){Object(d["f"])(e)},deep:!0}},methods:{addReg:function(){this.activeData.__config__.regList.push({pattern:"",message:""})},addSelectItem:function(){this.activeData.__slot__.options.push({label:"",value:""})},addTreeItem:function(){++this.idGlobal,this.dialogVisible=!0,this.currentNode=this.activeData.options},renderContent:function(e,t){var a=this,i=t.node,n=t.data;t.store;return e("div",{class:"custom-tree-node"},[e("span",[i.label]),e("span",{class:"node-operation"},[e("i",{on:{click:function(){return a.append(n)}},class:"el-icon-plus",attrs:{title:"添加"}}),e("i",{on:{click:function(){return a.remove(i,n)}},class:"el-icon-delete",attrs:{title:"删除"}})])])},append:function(e){e.children||this.$set(e,"children",[]),this.dialogVisible=!0,this.currentNode=e.children},remove:function(e,t){this.activeData.__config__.defaultValue=[];var a=e.parent,i=a.data.children||a.data,n=i.findIndex((function(e){return e.id===t.id}));i.splice(n,1)},addNode:function(e){this.currentNode.push(e)},setOptionValue:function(e,t){e.value=Object(r["d"])(t)?+t:t},setDefaultValue:function(e){return Array.isArray(e)?e.join(","):"boolean"===typeof e?"".concat(e):e},onDefaultValueInput:function(e){Object(o["isArray"])(this.activeData.__config__.defaultValue)?this.$set(this.activeData.__config__,"defaultValue",e.split(",").map((function(e){return Object(r["d"])(e)?+e:e}))):["true","false"].indexOf(e)>-1?this.$set(this.activeData.__config__,"defaultValue",JSON.parse(e)):this.$set(this.activeData.__config__,"defaultValue",Object(r["d"])(e)?+e:e)},onSwitchValueInput:function(e,t){["true","false"].indexOf(e)>-1?this.$set(this.activeData,t,JSON.parse(e)):this.$set(this.activeData,t,Object(r["d"])(e)?+e:e)},setTimeValue:function(e,t){var a="week"===t?u.date:e;this.$set(this.activeData.__config__,"defaultValue",null),this.$set(this.activeData,"value-format",a),this.$set(this.activeData,"format",e)},spanChange:function(e){this.formConf.span=e},multipleChange:function(e){this.$set(this.activeData.__config__,"defaultValue",e?[]:"")},dateTypeChange:function(e){this.setTimeValue(u[e],e)},rangeChange:function(e){this.$set(this.activeData.__config__,"defaultValue",e?[this.activeData.min,this.activeData.max]:this.activeData.min)},rateTextChange:function(e){e&&(this.activeData["show-score"]=!1)},rateScoreChange:function(e){e&&(this.activeData["show-text"]=!1)},colorFormatChange:function(e){this.activeData.__config__.defaultValue=null,this.activeData["show-alpha"]=e.indexOf("a")>-1,this.activeData.__config__.renderKey=+new Date},openIconsDialog:function(e){this.iconsVisible=!0,this.currentIconModel=e},setIcon:function(e){this.activeData[this.currentIconModel]=e},tagChange:function(e){var t=c["b"].find((function(t){return t.__config__.tagIcon===e}));t||(t=c["d"].find((function(t){return t.__config__.tagIcon===e}))),this.$emit("tag-change",t)},changeRenderKey:function(){p.includes(this.activeData.__config__.tag)&&(this.activeData.__config__.renderKey=+new Date)}}},h=m,f=(a("63e5"),a("2877")),v=Object(f["a"])(h,i,n,!1,null,"c319a3f2",null);t["default"]=v.exports},"08b5":function(e,t,a){},"08d1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table-column",e._g(e._b({attrs:{prop:e.column.prop,label:e.column.label,type:e.column.type,index:e.column.index,"column-key":e.column.columnKey,width:e.column.width,"min-width":e.column.minWidth,fixed:e.column.fixed,"render-header":e.column.renderHeader,sortable:e.column.sortable||!1,"sort-method":e.column.sortMethod,"sort-by":e.column.sortBy,"sort-orders":e.column.sortOrders,resizable:e.column.resizable||!0,formatter:e.column.formatter,"show-overflow-tooltip":e.column.showOverflowTooltip||!0,align:e.column.align||e.align||"center","header-align":e.column.headerAlign||e.headerAlign||e.column.align||e.align||"center","class-name":e.column.className,"label-class-name":e.column.labelClassName,selectable:e.checkboxInit,"reserve-selection":e.column.reserveSelection||!1,filters:e.column.filters,"filter-placement":e.column.filterPlacement,"filter-multiple":e.column.filterMultiple,"filter-method":e.column.filterMethod,"filtered-value":e.column.filteredValue},scopedSlots:e._u([{key:"header",fn:function(t){return[a("render",{attrs:{"prop-column":e.column,scope:t,render:e.column.renderHeader}})]}},{key:"default",fn:function(t){return[a("render",{attrs:{"prop-column":e.column,scope:t,render:e.column.render}})]}}])},"el-table-column",e.$attrs,!1),e.$listeners),[e.column.children?e._l(e.column.children,(function(e,t){return a("column",{key:t,attrs:{column:e}})})):e._e()],2)},n=[],o=a("c4cc"),s=void 0,r={selection:{renderHeader:function(e,t){var a=t.store;return e("el-checkbox",{attrs:{disabled:a.states.data&&0===a.states.data.length,indeterminate:a.states.selection.length>0&&!s.isAllSelected,value:s.isAllSelected},nativeOn:{click:s.toggleAllSelection}})},renderCell:function(e,t){var a=t.row,i=t.column,n=t.store,o=t.$index;return e("el-checkbox",{nativeOn:{click:function(e){return e.stopPropagation()}},attrs:{value:n.isSelected(a),disabled:!!i.selectable&&!i.selectable.call(null,a,o)},on:{input:function(){n.commit("rowSelectedChanged",a)}}})},sortable:!1,resizable:!1},index:{renderHeader:function(e,t){return e("span",[t.column.label||"#"])},renderCell:function(e,t){var a=t.$index,i=t.column,n=a+1,o=i.index;return"number"===typeof o?n=a+o:"function"===typeof o&&(n=o(a)),e("div",[n])},sortable:!1},expand:{renderHeader:function(e,t){return e("span",[t.column.label||""])},renderCell:function(e,t,a){var i=t.row,n=t.store,o=n.states.expandRows.indexOf(i)>-1;return e("div",{class:"el-table__expand-icon "+(o?"el-table__expand-icon--expanded":""),on:{click:function(e){return a.handleExpandClick(i,e)}}},[e("i",{class:"el-icon el-icon-arrow-right"})])},sortable:!1,resizable:!1,className:"el-table__expand-column"}},l={name:"column",props:{column:Object,headerAlign:String,align:String},components:{render:o["default"]},created:function(){this.$createElement;this.column.type&&(this.column.renderHeader=r[this.column.type].renderHeader,this.column.render=this.column.render||r[this.column.type].renderCell),this.column.formatter&&(this.column.render=function(e,t){return e("span",[t.column.formatter(t.row,t.column,t.row,t.$index)])}),this.column.render||(this.column.render=function(e,t){return e("span",[t.row[t.column.property]])}),this.column.renderHeader||(this.column.renderHeader=function(e,t){return e("span",[t.column.label])})},methods:{checkboxInit:function(e,t){return e.selectDisabled?0:1}}},c=l,d=a("2877"),u=Object(d["a"])(c,i,n,!1,null,null,null);t["default"]=u.exports},"0a24":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"test-form"},[a("parser",{attrs:{"form-conf":e.formConf},on:{submit:e.sumbitForm1}}),a("parser",{key:e.key2,attrs:{"form-conf":e.formConf},on:{submit:e.sumbitForm2}}),a("el-button",{on:{click:e.change}},[e._v(" change ")])],1)},n=[],o=(a("159b"),a("3fbe")),s={components:{Parser:o["default"]},props:{},data:function(){return{key2:+new Date,formConf:{fields:[{__config__:{label:"单行文本",labelWidth:null,showLabel:!0,changeTag:!0,tag:"el-input",tagIcon:"input",required:!0,layout:"colFormItem",span:24,document:"https://element.eleme.cn/#/zh-CN/component/input",regList:[{pattern:"/^1(3|4|5|7|8|9)\\d{9}$/",message:"手机号格式错误"}]},__slot__:{prepend:"",append:""},__vModel__:"mobile",placeholder:"请输入手机号",style:{width:"100%"},clearable:!0,"prefix-icon":"el-icon-mobile","suffix-icon":"",maxlength:11,"show-word-limit":!0,readonly:!1,disabled:!1},{__config__:{label:"日期范围",tag:"el-date-picker",tagIcon:"date-range",defaultValue:null,span:24,showLabel:!0,labelWidth:null,required:!0,layout:"colFormItem",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/date-picker",formId:101,renderKey:1585980082729},style:{width:"100%"},type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",disabled:!1,clearable:!0,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",readonly:!1,__vModel__:"field101"},{__config__:{layout:"rowFormItem",tagIcon:"row",label:"行容器",layoutTree:!0,children:[{__config__:{label:"评分",tag:"el-rate",tagIcon:"rate",defaultValue:0,span:24,showLabel:!0,labelWidth:null,layout:"colFormItem",required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/rate",formId:102,renderKey:1586839671259},style:{},max:5,"allow-half":!1,"show-text":!1,"show-score":!1,disabled:!1,__vModel__:"field102"}],document:"https://element.eleme.cn/#/zh-CN/component/layout",formId:101,span:24,renderKey:1586839668999,componentName:"row101",gutter:15},type:"default",justify:"start",align:"top"},{__config__:{label:"按钮",showLabel:!0,changeTag:!0,labelWidth:null,tag:"el-button",tagIcon:"button",span:24,layout:"colFormItem",document:"https://element.eleme.cn/#/zh-CN/component/button",renderKey:1594288459289},__slot__:{default:"测试按钮1"},type:"primary",icon:"el-icon-search",round:!1,size:"medium",plain:!1,circle:!1,disabled:!1,on:{click:"clickTestButton1"}}],__methods__:{clickTestButton1:function(){}},formRef:"elForm",formModel:"formData",size:"small",labelPosition:"right",labelWidth:100,formRules:"rules",gutter:15,disabled:!1,span:24,formBtns:!0,unFocusedComponentBorder:!1},formConf2:{fields:[{__config__:{label:"单行文本",labelWidth:null,showLabel:!0,changeTag:!0,tag:"el-input",tagIcon:"input",required:!0,layout:"colFormItem",span:24,document:"https://element.eleme.cn/#/zh-CN/component/input",regList:[{pattern:"/^1(3|4|5|7|8|9)\\d{9}$/",message:"手机号格式错误"}]},__slot__:{prepend:"",append:""},__vModel__:"mobile",placeholder:"请输入手机号",style:{width:"100%"},clearable:!0,"prefix-icon":"el-icon-mobile","suffix-icon":"",maxlength:11,"show-word-limit":!0,readonly:!1,disabled:!1},{__config__:{label:"日期范围",tag:"el-date-picker",tagIcon:"date-range",defaultValue:null,span:24,showLabel:!0,labelWidth:null,required:!0,layout:"colFormItem",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/date-picker",formId:101,renderKey:1585980082729},style:{width:"100%"},type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",disabled:!1,clearable:!0,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",readonly:!1,__vModel__:"field101"}],formRef:"elForm",formModel:"formData",size:"small",labelPosition:"right",labelWidth:100,formRules:"rules",gutter:15,disabled:!1,span:24,formBtns:!0,unFocusedComponentBorder:!1}}},computed:{},watch:{},created:function(){},mounted:function(){var e=this;setTimeout((function(){var t={mobile:"18836662555"};e.fillFormData(e.formConf,t),e.key2=+new Date}),2e3)},methods:{fillFormData:function(e,t){e.fields.forEach((function(e){var a=t[e.__vModel__];a&&(e.__config__.defaultValue=a)}))},change:function(){this.key2=+new Date;var e=this.formConf;this.formConf=this.formConf2,this.formConf2=e},sumbitForm1:function(e){},sumbitForm2:function(e){}}},r=s,l=(a("c778"),a("2877")),c=Object(l["a"])(r,i,n,!1,null,"67c5617a",null);t["default"]=c.exports},"0a6d":function(e,t,a){},"0b8e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{top:"-20px"},attrs:{visible:e.visible,modal:!0,width:"40%","before-close":e.cancelModal,title:"文件夹上传",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",[a("div",{staticStyle:{border:"dashed 1px #c2c3ca",padding:"10px"}},[a("el-form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":"6rem","auto-complete":"off","label-position":"right"}},[a("el-row",{attrs:{gutter:12}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"年度",prop:"archYear"}},[a("el-select",{attrs:{size:"mini",placeholder:"请选择年度"},model:{value:e.model.archYear,callback:function(t){e.$set(e.model,"archYear",t)},expression:"model.archYear"}},e._l(e.yearOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.value,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"保管期限",prop:"keepTime"}},[a("dict-select-tag",{attrs:{size:"mini","dict-code":"KEEP_TIME",placeholder:"请选择"},model:{value:e.model.keepTime,callback:function(t){e.$set(e.model,"keepTime",t)},expression:"model.keepTime"}})],1)],1)],1),a("el-row",{attrs:{gutter:12}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:""}},[a("el-checkbox",{attrs:{label:"文件夹三级嵌套"},on:{change:e.handlNormType},model:{value:e.model.normType,callback:function(t){e.$set(e.model,"normType",t)},expression:"model.normType"}})],1)],1)],1),a("el-row",{attrs:{gutter:12}},[a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{color:"red"}},[e._v(e._s(e.explanation))])])],1),a("el-row",{attrs:{gutter:12}},[a("el-col",{attrs:{span:24}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.uploaderBtn}},[e._v("开始上传")])],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("uploader",{ref:"uploader",staticClass:"uploader-app",attrs:{options:e.options,autoStart:!0,fileStatusText:e.fileStatusText},on:{"files-added":e.onFilesAdded,"file-success":e.onFileSuccess,"file-progress":e.onFileProgress,"file-error":e.onFileError,"file-complete":e.fileComplete}},[a("uploader-unsupport"),a("uploader-btn",{staticClass:"uploader-btn",attrs:{directory:!0}}),e.showFileList?a("uploader-list"):e._e()],1)],1)],1)],1)],1),e.showUpload?a("div",{staticClass:"res-frame"},[a("div",{staticStyle:{color:"red","font-size":"15px"}},[e._v("结果列表:")]),e._l(e.resFile,(function(t,i){return a("ul",{key:i},[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("li",[e._v(e._s(t.relativePath))]),a("span",[e._v(e._s(t.resMsg)),a("i",{class:t.resStatus?"el-icon-check":"el-icon-close",style:t.resStatus?"color: #00c758;":"color: red;"})])])])}))],2):e._e()])]):e._e()},n=[],o=(a("ac1f"),a("5319"),a("c740"),a("a434"),a("159b"),a("0779")),s=a("ca00"),r=[],l={name:"FolUploadModule",components:{DictSelectTag:o["default"]},data:function(){return{options:{target:function(e,t){return r[0].reqUrl},testChunks:!1,simultaneousUploads:1,parseTimeRemaining:function(e,t){return t.replace(/\syears?/,"年").replace(/\days?/,"天").replace(/\shours?/,"小时").replace(/\sminutes?/,"分钟").replace(/\sseconds?/,"秒")},processParams:function(e,t,a,i){var n="1";if(r[0].uniqueArr.length>1){var o=r[0].uniqueArr.findIndex((function(e){return e==t.uniqueIdentifier}));r[0].uniqueArr.splice(o,1)}else n="0";return e.type=n,e.templateId=r[0].templateId,e.cateCode=r[0].cateCode,e.nowIndex=r[0].nowIndex,e.archYear=r[0].archYear,e.keepTime=r[0].keepTime,e.normType=r[0].normType,e}},model:{archYear:"",keepTime:"",normType:!1},tempArr:r,visible:!1,panelShow:!1,showUpload:!1,showFileList:!0,collapse:!1,fileStatusText:{success:"上传成功",error:"上传失败",uploading:"正在上传",paused:"暂停上传",waiting:"等待上传"},initData:{},resFile:[],rules:{archYear:[{required:!0,trigger:"blur",message:"请选择年度"}],keepTime:[{required:!0,trigger:"blur",message:"请选择保管期限"}]},yearOptions:[],explanation:""}},created:function(){this.setYearOptions()},computed:{domainURL:function(){return window._CONFIG["domainURL"]}},methods:{handlNormType:function(e){this.explanation=e?"文件夹三级嵌套上传，例如“学工部2016年燕园行动计划相关文件材料”为一级文件夹，里面分别有“2016年燕园行动文档材料”、“2016年燕园行动照片”、“2016年燕园行动视频”三个文件夹，三个文件夹内有对应的文件。文件夹上传时，案卷级信息为“学工部2016年燕园行动计划相关文件材料”，卷内级为里面三个文件夹。":""},uploaderBtn:function(){var e=this;this.$refs.form.validate((function(t){t&&e.$nextTick((function(){document.querySelector(".uploader-btn").click()}))}))},initModule:function(e){this.initData=e,this.visible=!0},fileComplete:function(e){this.tempArr.length=0,this.showUpload=!0,this.showFileList=!1},onFilesAdded:function(e,t,a){this.showUpload=!1,this.showFileList=!0;var i=[];e.forEach((function(e){i.push(e.uniqueIdentifier)})),this.tempArr.push({templateId:this.initData.templateId,cateCode:this.initData.cateCode,uniqueArr:i,nowIndex:(new Date).getTime(),archYear:this.model.archYear,keepTime:this.model.keepTime,normType:this.model.normType,reqUrl:this.domainURL+"/dynamic/folderUpload"})},onFileProgress:function(e,t,a){},onFileSuccess:function(e,t,a,i){var n=JSON.parse(a),o={id:t.id,relativePath:t.relativePath,resStatus:500!=n.code,resMsg:500==n.code?"上传失败":"上传成功"};this.resFile.push(o)},onFileError:function(e,t,a,i){},close:function(){this.uploader.cancel(),this.panelShow=!1},cancelModal:function(){this.visible=!1,this.$emit("close"),this.$emit("ok",1)},setYearOptions:function(){var e=this,t=(new Date).getFullYear()+5,a=Object(s["b"])(1988,t).reverse();a.forEach((function(t){var a={value:t,text:t};e.yearOptions.push(a)}))}}},c=l,d=(a("5dda"),a("2877")),u=Object(d["a"])(c,i,n,!1,null,"eb1f513a",null);t["default"]=u.exports},"0c90":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("1da1"),n=(a("96cf"),a("d81d"),a("a15b"),{data:function(){return{borrowApply:{show:!1,title:"查看详情",loading:!1},queryBorrowCarDataUrl:"/borrowCar/queryData",queryVolCountUrl:"/borrowCar/queryVolCount"}},methods:{showBorrowModal:function(e,t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function i(){var n,o,s,r,l,c,d;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n=[],e instanceof Array?n=e:n.push(e),o=n.some((function(e){return 1==e.LEND_STATUS})),!o){i.next=6;break}return a.$sweetAlert.errorWithTimer("存在已借出的档案，请重新选择！"),i.abrupt("return");case 6:if(n.map((function(e){e.opeType=t})),s=JSON.stringify({data:n,dateCode:"",page:"1",limit:"10"}),a.borrowApply.show=!0,r=0,l=0,1!=t){i.next=26;break}if(!(n.length>0)){i.next=24;break}return c=n.map((function(e){return e.ID})).join(","),d=n[0].TEMPLATE_ID,r=n.length,i.prev=16,i.next=19,a.queryVolCount(c,d);case 19:l=i.sent,i.next=24;break;case 22:i.prev=22,i.t0=i["catch"](16);case 24:i.next=27;break;case 26:2==t?(r=1,l=n.length):3==t&&(r=0,l=n.length);case 27:a.$nextTick((function(){a.$refs.borrowApply.init({data:n,volCount:r,docCount:l},s,"borrow",t)}));case 28:case"end":return i.stop()}}),i,null,[[16,22]])})))()},queryVolCount:function(e,t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function i(){var n,o,s,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=a.queryVolCountUrl,o={ids:e,templateId:t},s="post",i.next=5,a.$api.httpAction(n,o,s);case 5:if(r=i.sent,200!=r.code){i.next=10;break}return i.abrupt("return",r.data);case 10:a.$sweetAlert.errorWithTimer(r.msg);case 11:case"end":return i.stop()}}),i)})))()},queryBorrowCarData:function(e,t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function i(){var n,o,s,r,l,c,d;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n=[],e instanceof Array?n=e:n.push(e),o=n.some((function(e){return 1==e.LEND_STATUS})),!o){i.next=6;break}return a.$sweetAlert.errorWithTimer("存在已借出的档案，请重新选择！"),i.abrupt("return");case 6:return n.map((function(e){e.children?e.opeType="1":e.opeType="2"})),s=a.queryBorrowCarDataUrl,r=JSON.stringify({data:n,dateCode:"",page:"1",limit:"10"}),l={json:r},c="post",i.next=13,a.$api.httpAction(s,l,c);case 13:d=i.sent,200==d.code?(a.borrowApply.show=!0,a.$nextTick((function(){a.$refs.borrowApply.init(d.data,r,t)}))):a.$sweetAlert.errorWithTimer(d.msg);case 15:case"end":return i.stop()}}),i)})))()}}})},"0cbf":function(e,t,a){"use strict";a("4952")},"0cf1":function(e,t,a){e.exports=a.p+"static/img/xn-jydb.27b0ca6e.svg"},"0efe":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{top:"-20px"},attrs:{visible:e.visible,modal:!0,width:"70%","before-close":e.closeModal,title:"回收站",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",[a("div",{staticClass:"operate-box nowrap"},[a("div",[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.restore}},[e._v(" 恢复 ")]),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-sort"},on:{click:e.recyRem}},[e._v(" 彻底删除 ")]),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-files"},on:{click:e.clearRecycle}},[e._v(" 清空回收站 ")])],1)]),a("div",{staticClass:"auto-scroll"},[a("arch-dyn-table",{ref:"table",attrs:{"template-id":e.templateId,"oth-type":e.othType,"biz-type":e.bizType,"is-select":!0,recycle:!0,"show-total":!1,"cate-code":e.cateCode,transfered:e.transfered}})],1)])]):e._e()},n=[],o=a("facc"),s=a("14a6"),r=a("f7c4"),l=a("3f19"),c=a("2e5f"),d=a("ca00"),u={name:"recycleModule",mixins:[l["a"]],components:{SearchBar:s["default"],foxTable:r["a"],BtnList:c["default"],ArchDynTable:o["default"]},props:{},data:function(){return{visible:!1,templateId:"",cateCode:"",othType:"",transfered:"",bizType:"",url:{restoreArrange:"/archArrange/restoreArrange",removeArrange:"/archArrange/removeArrange",clearRecycle:"/archArrange/clearRecycle"},initFromData:{}}},computed:{},methods:{initForm:function(e){var t=this;this.templateId=e.templateId,this.cateCode=e.cateCode,this.othType=e.othType,this.bizType=e.bizType,this.transfered=e.transfered,this.visible=!0,this.$nextTick((function(){t.$refs["table"].getFields(t.templateId,t.othType)}))},restore:function(){var e=this,t=this.$refs["table"].table.selection;!t.length>0?this.$sweetAlert.warnWithTimer("请先勾选数据进行操作！"):this.$confirm("数据恢复后将从回收站消失！","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={ids:Object(d["e"])(t),othType:e.othType,templateId:e.templateId};e.$api.httpAction(e.url.restoreArrange,a,"post").then((function(t){"200"==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.$refs.table.queryList()):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))},recyRem:function(){var e=this,t=this.$refs["table"].table.selection;!t.length>0?this.$sweetAlert.warnWithTimer("请先勾选数据进行操作！"):this.$confirm("彻底删除？数据将不能恢复,请您谨慎操作！","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={id:Object(d["e"])(t),othType:e.othType,templateId:e.templateId};e.$api.httpAction(e.url.removeArrange,a,"post").then((function(t){"200"==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.$refs.table.queryList()):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))},clearRecycle:function(){var e=this,t=this.$refs["table"].table.data;!t.length>0?this.$sweetAlert.warnWithTimer("回收站为空，不用清理！"):this.$confirm("清空回收站将彻底删除数据，请您谨慎操作！","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={othType:e.othType,templateId:e.templateId,cateCode:e.cateCode};e.$api.httpAction(e.url.clearRecycle,t,"post").then((function(t){"200"==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.$refs.table.queryList()):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))},closeModal:function(){this.visible=!1,this.$emit("close"),this.$emit("ok",this.othType)}},created:function(){}},p=u,m=(a("8538"),a("2877")),h=Object(m["a"])(p,i,n,!1,null,"a3f63a5e",null);t["default"]=h.exports},"0f50":function(e,t,a){"use strict";a("85b2")},"0f52":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var i={data:function(){return{formModelObject:{formName:"setting",formModel:{labelWidth:"20rem",formList:[{value:"",prop:"specialChar",label:"著录项目数据包含特殊字符：",placeHolder:"",tips:"",rules:{value:[{required:!1,message:"",trigger:"blur"}]}},{value:"doc,docx,mp3,mp4,ppt,pptx,xls,xlsx,pdf,jpg,jpeg,html",prop:"longTimeFileSuf",label:"长期保存文件后缀名：",placeHolder:"",rules:{value:[{required:!1,message:"",trigger:"blur"}]}},{value:"mp4",prop:"videoSuf",label:"影像文件后缀名：",placeHolder:"",tips:"",rules:{value:[{required:!1,message:"",trigger:"blur"}]}},{value:"",prop:"antivirusPath",label:"服务器上杀毒软件路径：",placeHolder:"",tips:"",rules:{value:[{required:!1,message:"",trigger:"blur"}]}},{value:"",prop:"scriptPath",label:"服务器上杀毒脚本路径：",placeHolder:"",tips:"",rules:{value:[{required:!1,message:"",trigger:"blur"}]}},{value:"",prop:"resolutionPdf",label:"标准PDF的分辨率：",placeHolder:"",tips:"",rules:{value:[{required:!1,message:"",trigger:"blur"}]}},{value:"",prop:"resolutionPic",label:"标准扫描图片的分辨率：",placeHolder:"",tips:"",rules:{value:[{required:!1,message:"",trigger:"blur"}]}},{value:"",prop:"identity",label:"OA文件最高密级标识：\t",placeHolder:"",tips:"",type:"select",selectOptions:[{value:"MJ2",text:"内部"},{value:"MJ4",text:"机密"},{value:"WM",text:"WM"},{value:"MM",text:"MM"},{value:"JM",text:"JM"},{value:"MJ1",text:"公开"}],rules:{value:[{required:!1,message:"",trigger:"blur"}]}}]},halfFormFlag:!1}}},methods:{}}},"0f95":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var i=a("d4ec"),n=a("257e"),o=a("262e"),s=a("2caf"),r=a("9072"),l=(a("b0c0"),function(e){Object(o["a"])(a,e);var t=Object(s["a"])(a);function a(e){var o;return Object(i["a"])(this,a),o=t.call(this,e),o.name="CustomError",Error.captureStackTrace(Object(n["a"])(o),o.constructor),o}return a}(Object(r["a"])(Error)))},"0fac":function(e,t,a){},"105b":function(e,t,a){"use strict";a("dd8c")},1131:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dropdown",{staticClass:"international",attrs:{trigger:"click"},on:{command:e.handleSetLanguage}},[a("div",[a("svg-icon",{attrs:{"class-name":"international-icon","icon-class":"language"}})],1),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{disabled:"zh"===e.language,command:"zh"}},[e._v(" 中文 ")]),a("el-dropdown-item",{attrs:{disabled:"en"===e.language,command:"en"}},[e._v(" English ")]),a("el-dropdown-item",{attrs:{disabled:"es"===e.language,command:"es"}},[e._v(" Español ")]),a("el-dropdown-item",{attrs:{disabled:"ja"===e.language,command:"ja"}},[e._v(" 日本語 ")])],1)],1)},n=[],o={computed:{language:function(){return this.$store.getters.language}},methods:{handleSetLanguage:function(e){this.$i18n.locale=e,this.$store.dispatch("app/setLanguage",e),this.$message({message:"Switch Language Success",type:"success"})}}},s=o,r=a("2877"),l=Object(r["a"])(s,i,n,!1,null,null,null);t["default"]=l.exports},"125a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{top:"100px"},attrs:{visible:e.visible,modal:!0,width:"30%","before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",[a("el-input",{attrs:{autosize:{minRows:6,maxRows:6},type:"textarea",placeholder:e.title},model:{value:e.opiValue,callback:function(t){e.opiValue=t},expression:"opiValue"}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确定 ")]),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],on:{click:e.cancel}},[e._v(" 取消 ")])],1)]):e._e()},n=[],o={name:"OpinionModule",props:{},data:function(){return{opiValue:"",visible:!1,loading:!1,url:{resend:"/transferForm/resend",cacel:"/transferForm/cacel"},status:"",title:"",subUrl:"",subStatus:""}},computed:{},methods:{initForm:function(e,t){this.ids=t,this.status=e,1==e||4==e?(this.title="请输入送审意见",this.subUrl=this.url.resend,this.subStatus=2):(this.title="请输入撤回意见",this.subUrl=this.url.cacel,this.subStatus=4),this.visible=!0},submit:function(){var e=this;if(this.opiValue){var t={ids:this.ids,status:this.subStatus,opinion:this.opiValue};this.$api.httpAction(this.subUrl,t,"post").then((function(t){"200"==t.code?(e.$emit("ok"),e.cancelModal(),e.$sweetAlert.successWithTimer(t.msg)):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))}else this.$sweetAlert.warnWithTimer(this.title)},cancel:function(){this.cancelModal()},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}},s=o,r=a("2877"),l=Object(r["a"])(s,i,n,!1,null,"d9cba282",null);t["default"]=l.exports},"133c":function(e,t,a){"use strict";a("7c25")},"137c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"link--mallki",class:e.className,attrs:{href:"#"}},[e._v(" "+e._s(e.text)+" "),a("span",{attrs:{"data-letters":e.text}}),a("span",{attrs:{"data-letters":e.text}})])},n=[],o={props:{className:{type:String,default:""},text:{type:String,default:"vue-element-admin"}}},s=o,r=(a("8c05"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,null,null);t["default"]=l.exports},1397:function(e,t,a){"use strict";a("ed20")},1422:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",[e._l(e.detail.options,(function(t){return[a("el-form-item",{attrs:{label:t.label}},[e._v(e._s(e.detail.data[t.prop]))])]}))],2)},n=[],o={name:"Detail",props:{detail:{type:Object}},data:function(){return{}}},s=o,r=a("2877"),l=Object(r["a"])(s,i,n,!1,null,"3ee52b8d",null);t["default"]=l.exports},"144c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-search",class:{show:e.show}},[a("svg-icon",{attrs:{"class-name":"search-icon","icon-class":"search"},on:{click:function(t){return t.stopPropagation(),e.click(t)}}}),a("el-select",{ref:"headerSearchSelect",staticClass:"header-search-select",attrs:{"remote-method":e.querySearch,filterable:"","default-first-option":"",remote:"",placeholder:"Search"},on:{change:e.change},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},e._l(e.options,(function(e){return a("el-option",{key:e.path,attrs:{value:e,label:e.title.join(" > ")}})})),1)],1)},n=[],o=a("2909"),s=a("b85c"),r=a("1da1"),l=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("159b"),a("a15b"),a("ac1f"),a("841c"),a("99af"),a("ffe7")),c=a.n(l),d=a("df7c"),u=a.n(d),p=a("9923"),m={name:"HeaderSearch",data:function(){return{search:"",options:[],searchPool:[],show:!1,fuse:void 0}},computed:{routes:function(){return this.$store.getters.permission_routes},lang:function(){return this.$store.getters.language},supportPinyinSearch:function(){return this.$store.state.settings.supportPinyinSearch}},watch:{lang:function(){this.searchPool=this.generateRoutes(this.routes)},routes:function(){this.searchPool=this.generateRoutes(this.routes)},searchPool:function(e){"zh"===this.lang&&this.supportPinyinSearch&&this.addPinyinField(e),this.initFuse(e)},show:function(e){e?document.body.addEventListener("click",this.close):document.body.removeEventListener("click",this.close)}},mounted:function(){this.searchPool=this.generateRoutes(this.routes)},methods:{addPinyinField:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.e("chunk-107fdb58").then(a.t.bind(null,"d958",7));case 2:if(i=t.sent,n=i.default,!Array.isArray(e)){t.next=7;break}return e.forEach((function(e){var t=e.title;Array.isArray(t)&&t.forEach((function(t){t=n(t,{style:n.STYLE_NORMAL}).join(""),e.pinyinTitle=t}))})),t.abrupt("return",e);case 7:case"end":return t.stop()}}),t)})))()},click:function(){this.show=!this.show,this.show&&this.$refs.headerSearchSelect&&this.$refs.headerSearchSelect.focus()},close:function(){this.$refs.headerSearchSelect&&this.$refs.headerSearchSelect.blur(),this.options=[],this.show=!1},change:function(e){var t=this;this.$router.push(e.path),this.search="",this.options=[],this.$nextTick((function(){t.show=!1}))},initFuse:function(e){this.fuse=new c.a(e,{shouldSort:!0,threshold:.4,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"title",weight:.7},{name:"pinyinTitle",weight:.3},{name:"path",weight:.3}]})},generateRoutes:function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=[],r=Object(s["a"])(e);try{for(r.s();!(t=r.n()).done;){var l=t.value;if(!l.hidden){var c={path:u.a.resolve(a,l.path),title:Object(o["a"])(i)};if(l.meta&&l.meta.title){var d=p["a"].t("route.".concat(l.meta.title));c.title=[].concat(Object(o["a"])(c.title),[d]),"noRedirect"!==l.redirect&&n.push(c)}if(l.children){var m=this.generateRoutes(l.children,c.path,c.title);m.length>=1&&(n=[].concat(Object(o["a"])(n),Object(o["a"])(m)))}}}}catch(h){r.e(h)}finally{r.f()}return n},querySearch:function(e){this.options=""!==e?this.fuse.search(e):[]}}},h=m,f=(a("6655"),a("2877")),v=Object(f["a"])(h,i,n,!1,null,"db94b0e8",null);t["default"]=v.exports},"14a6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"operate-box nowrap flex justify-between border-dashed"},[a("div",{staticClass:"div-title",style:{borderLeft:"solid 4px",borderColor:e.theme,paddingLeft:"10px"}},[e._v(" "+e._s(e.title)+" ")]),a("div",{staticClass:"flex"},[a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"input-with-select",attrs:{size:"mini",placeholder:"输入档号"},model:{value:e.archRule,callback:function(t){e.archRule=t},expression:"archRule"}}),a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"input-with-select",attrs:{size:"mini",placeholder:"输入案卷(文件)题名"},model:{value:e.archTitle,callback:function(t){e.archTitle=t},expression:"archTitle"}}),a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"input-with-select",attrs:{size:"mini",placeholder:"输入原文名称"},model:{value:e.FPRIMALNAM,callback:function(t){e.FPRIMALNAM=t},expression:"FPRIMALNAM"}}),a("el-select",{staticStyle:{"margin-right":"5px"},attrs:{size:"mini",placeholder:"请选择",clearable:""},on:{change:e.handleChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.searchOptions,(function(e){return a("el-option",{key:e.fldName,attrs:{label:e.fldDesc,value:e.id}})})),1),e.showInput&&e.showSelect?a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"input-with-select",attrs:{size:"mini",placeholder:"输入查询值"},model:{value:e.resultValue,callback:function(t){e.resultValue=t},expression:"resultValue"}}):e._e(),e.showDict&&e.showSelect?a("dict-select-tag",{staticClass:"input-with-select",attrs:{size:"mini","dict-code":e.dictCode,clearable:"",placeholder:"请选择"},model:{value:e.resultValue,callback:function(t){e.resultValue=t},expression:"resultValue"}}):e._e(),e.showDate&&e.showSelect?a("el-date-picker",{staticClass:"input-with-select",staticStyle:{width:"88%"},attrs:{size:"mini",type:"date",clearable:"",placeholder:"请选择时间","value-format":e.format},model:{value:e.resultValue,callback:function(t){e.resultValue=t},expression:"resultValue"}}):e._e(),a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.queryList()}}},[e._v(" 搜索 ")]),a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-search",plain:""},on:{click:function(t){return e.advancedQuer()}}},[e._v(" 高级搜索 ")])],1)]),e.showAdvancedQuer?a("advanced-quer",{ref:"advancedQuer",attrs:{"search-options":e.searchOptions},on:{receQuerData:e.receQuerData}}):e._e()],1)},n=[],o=(a("7db0"),a("0779")),s=a("6eea"),r={name:"SearchBar",components:{DictSelectTag:o["default"],AdvancedQuer:s["default"]},props:{},data:function(){return{searchOptions:[],title:"",archRule:"",archTitle:"",FPRIMALNAM:"",showAdvancedQuer:!1,value:"",SelectedVal:"",resultValue:"",showDict:!1,showDate:!1,showInput:!0,showSelect:!1,format:"",dictCode:""}},computed:{theme:function(){return this.$store.state.settings.theme}},created:function(){},methods:{queryList:function(e){var t={};""!=this.archRule&&(t.ARCH_RULE=this.archRule),""!=this.archTitle&&(t.ARCH_TITLE=this.archTitle),""!=this.FPRIMALNAM&&(t.FPRIMALNAM=this.FPRIMALNAM),""!=this.resultValue&&(t[this.SelectedVal]=this.resultValue),Object.assign(t,void 0!=e?e:{}),this.$emit("set-search-val",t,this.othType)},handleChange:function(e){""!=this.value&&this.value?this.showSelect=!0:this.showSelect=!1;var t=this.searchOptions.find((function(t){return t.id==e}));this.showDict=!1,this.showDate=!1,this.showInput=!1,this.resultValue="",this.SelectedVal=t?t.fldName:"";var a=t?t.colType:null;switch(a){case 0:this.showInput=!0;break;case 1:void 0===t.colFormat||""===t.colFormat?this.showInput=!0:(this.dictCode=t.colFormat,this.showDict=!0);break;case 2:this.format=void 0!=t.colFormat||""!=t.colFormat?t.colFormat:"yyyy-MM-dd",this.showDate=!0;break;default:this.showInput=!0;break}},initSearchBar:function(e,t){var a=this;this.othType=t,this.title="1"==t?"案卷":"2"==t?"卷内":"单件";var i={templateId:e,othType:t};e?this.$api.getAction("/searchFld/sfList",i).then((function(e){"200"===e.code&&(a.searchOptions=e.data)})).catch((function(){a.$sweetAlert.errorWithTimer("error")})):this.searchOptions=[]},advancedQuer:function(){var e=this;this.showAdvancedQuer=!0,this.$nextTick((function(){e.$refs.advancedQuer.initAdvancedQuer()}))},receQuerData:function(e){this.queryList(e)}}},l=r,c=(a("3c0b"),a("2877")),d=Object(c["a"])(l,i,n,!1,null,"4d03bd10",null);t["default"]=d.exports},"15e7":function(e,t,a){"use strict";var i=a("5530"),n=a("2909"),o=a("53ca"),s=(a("d3b7"),a("ddb0"),a("159b"),a("ac1f"),a("5319"),a("b64b"),a("4d63"),a("25f0"),a("caad"),a("99af"),a("9255")),r={},l=a("9f00"),c=l.keys()||[];function d(e,t){var a=this;e.props.value=t,e.on.input=function(e){a.$emit("input",e)}}function u(e,t,a){var i=r[t.__config__.tag];i&&Object.keys(i).forEach((function(n){var o=i[n];t.__slot__&&t.__slot__[n]&&a.push(o(e,t,n))}))}function p(e){var t=this;["on","nativeOn"].forEach((function(a){var i=Object.keys(e[a]||{});i.forEach((function(i){var n=e[a][i];"string"===typeof n&&(e[a][i]=function(e){return t.$emit(n,e)})}))}))}function m(e,t){var a=this;Object.keys(e).forEach((function(s){var r=e[s];"__vModel__"===s?d.call(a,t,e.__config__.defaultValue):void 0!==t[s]?null===t[s]||t[s]instanceof RegExp||["boolean","string","number","function"].includes(Object(o["a"])(t[s]))?t[s]=r:Array.isArray(t[s])?t[s]=[].concat(Object(n["a"])(t[s]),Object(n["a"])(r)):t[s]=Object(i["a"])(Object(i["a"])({},t[s]),r):t.attrs[s]=r})),h(t)}function h(e){delete e.attrs.__config__,delete e.attrs.__slot__,delete e.attrs.__methods__}function f(){return{class:{},attrs:{},props:{},domProps:{},nativeOn:{},on:{},style:{},directives:[],scopedSlots:{},slot:null,key:null,ref:null,refInFor:!0}}c.forEach((function(e){var t=e.replace(/^\.\/(.*)\.\w+$/,"$1"),a=l(e).default;r[t]=a})),t["a"]={props:{conf:{type:Object,required:!0}},render:function(e){var t=f(),a=Object(s["b"])(this.conf),i=this.$slots.default||[];return u.call(this,e,a,i),p.call(this,a),m.call(this,a,t),e(this.conf.__config__.tag,t,i)}}},16:function(e,t){},"16a9":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",e._g(e._b({attrs:{"close-on-click-modal":!1,"modal-append-to-body":!1},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("el-row",{attrs:{gutter:0}},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"small","label-width":"100px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"选项名",prop:"label"}},[a("el-input",{attrs:{placeholder:"请输入选项名",clearable:""},model:{value:e.formData.label,callback:function(t){e.$set(e.formData,"label",t)},expression:"formData.label"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"选项值",prop:"value"}},[a("el-input",{attrs:{placeholder:"请输入选项值",clearable:""},model:{value:e.formData.value,callback:function(t){e.$set(e.formData,"value",t)},expression:"formData.value"}},[a("el-select",{style:{width:"100px"},attrs:{slot:"append"},slot:"append",model:{value:e.dataType,callback:function(t){e.dataType=t},expression:"dataType"}},e._l(e.dataTypeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1)],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handelConfirm}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.close}},[e._v(" 取消 ")])],1)],1)],1)},n=[],o=a("9255"),s=a("ac5f"),r=Object(s["d"])(),l={components:{},inheritAttrs:!1,props:[],data:function(){return{id:r,formData:{label:void 0,value:void 0},rules:{label:[{required:!0,message:"请输入选项名",trigger:"blur"}],value:[{required:!0,message:"请输入选项值",trigger:"blur"}]},dataType:"string",dataTypeOptions:[{label:"字符串",value:"string"},{label:"数字",value:"number"}]}},computed:{},watch:{"formData.value":function(e){this.dataType=Object(o["d"])(e)?"number":"string"},id:function(e){Object(s["h"])(e)}},created:function(){},mounted:function(){},methods:{onOpen:function(){this.formData={label:void 0,value:void 0}},onClose:function(){},close:function(){this.$emit("update:visible",!1)},handelConfirm:function(){var e=this;this.$refs.elForm.validate((function(t){t&&("number"===e.dataType&&(e.formData.value=parseFloat(e.formData.value)),e.formData.id=e.id++,e.$emit("commit",e.formData),e.close())}))}}},c=l,d=a("2877"),u=Object(d["a"])(c,i,n,!1,null,"4dbe7e16",null);t["default"]=u.exports},17:function(e,t){},1720:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-wrapper app-container"},[a("app-main",{attrs:{innerBox:!0}})],1)},n=[],o=a("cd4a"),s={name:"Layout",components:{AppMain:o["a"]},computed:{},data:function(){return{needTagsView:!1}},methods:{}},r=s,l=(a("b16b"),a("2877")),c=Object(l["a"])(r,i,n,!1,null,"76a0a2de",null);t["default"]=c.exports},18:function(e,t){},"18e9":function(e,t,a){"use strict";a("917e")},19:function(e,t){},1949:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container auto-box",attrs:{id:"fileBox"}},[e.showListFlag?a("el-row",{staticClass:"max-height"},[a("el-col",{staticClass:"max-height",attrs:{span:24}},[e.fileBoxShow?a("div",{staticClass:"flex-column max-height"},[e.showSeaBarBox?a("search-bar",{ref:"searchBarBox",on:{"set-search-val":e.setSearchVal}}):e._e(),a("tab-btn",{attrs:{list:e.fileBtnList,saveType:"collect-file",statisticsFlag:e.statisticsFlag,othType:"1",setBtn:!0},on:{click:e.tabBtnClick,set:function(t){return e.setArchTable(1)}}}),e.statisticsFlag?a("statistics-box",{attrs:{"params-data":e.statisticsParams}}):e._e(),a("div",{staticClass:"auto-scroll"},[a("arch-dyn-table",{ref:"fileBox",attrs:{"module-type":"collect","template-id":e.templateId,"oth-type":1,"is-select":e.fileBoxObj.isSelect,"cate-code":e.cateCode,"show-total":!0,transfered:e.transfered,"oper-col":e.fileBoxObj.operCol},on:{"cell-click":e.cellClickFile,"cell-style":e.cellStyle,"row-style":e.rowStyle}})],1)],1):e._e(),e.fileBoxShow?a("hr"):e._e(),e.fileReelShow?a("div",{staticClass:"flex-column max-height vol-common-box",class:{"vol-singe-box":!e.fileBoxShow}},[e.showSeaBarReel?a("search-bar",{ref:"searchBarReel",on:{"set-search-val":e.setSearchVal}}):e._e(),a("tab-btn",{attrs:{list:e.fileBoxShow?e.docBtnList:e.singlBtnList,saveType:e.fileBoxShow?"collect-doc":"collect-single",othType:e.fileBoxShow?"2":"3",setBtn:!0},on:{click:e.tabBtnClick,set:function(t){return e.setArchTable(2)}}}),e.statisticsFlag&&2==e.cateType?a("statistics-box",{attrs:{"params-data":e.statisticsParams}}):e._e(),a("div",{staticClass:"auto-scroll",attrs:{id:"volBox"}},[a("arch-dyn-table",{ref:"fileReel",attrs:{"module-type":"collect","template-id":e.templateId,"oth-type":e.fileBoxShow?2:3,"is-select":e.fileReelObj.isSelect,"vol-id":e.volId,"cate-code":e.cateCode,transfered:e.transfered,"oper-col":e.fileReelObj.operCol},on:{"row-style":e.rowStyle}})],1)],1):e._e()])],1):e._e(),a("back-top"),e.showListFlag?e._e():a("div",{staticClass:"max-height"},[a("cate-panel",{attrs:{cateId:e.cateId,templateNoneFlag:e.templateNoneFlag},on:{click:e.catePanelClick}})],1),e.showModal.show?a("show-modal",{ref:"showModal",attrs:{title:e.showModal.title},on:{close:function(t){e.showModal.show=!1}}}):e._e(),e.fileBoxReelModule.show?a("file-box-reel-module",{ref:"fileBoxReelModule",attrs:{title:e.fileBoxReelModule.textMap[e.fileBoxReelModule.status]},on:{ok:e.queryList,"vol-id":e.setVolId,close:function(t){e.fileBoxReelModule.show=!1}}}):e._e(),e.batchUpModuleShow?a("batch-update-module",{ref:"batchUpdateModule",attrs:{organData:e.paramsObject},on:{ok:e.queryList,close:function(t){e.batchUpModuleShow=!1}}}):e._e(),e.reviewModuleShow?a("review-module",{ref:"reviewModule",attrs:{"cate-type":this.cateType},on:{ok:function(t){return e.queryList("1")},close:function(t){e.reviewModuleShow=!1}}}):e._e(),e.bachConfShow?a("bach-conf-module",{ref:"bachConfModule",on:{ok:function(t){return e.queryList("1")},ConfVal:e.ConfVal,close:function(t){e.bachConfShow=!1}}}):e._e(),e.impModuleShow?a("imp-module",{ref:"impModule",on:{ok:function(t){return e.queryList("1")},close:function(t){e.impModuleShow=!1}}}):e._e(),e.recycleShow?a("recycle-module",{ref:"recycleModule",on:{ok:e.queryList,close:function(t){e.recycleShow=!1}}}):e._e(),e.folUploadShow?a("fol-upload-module",{ref:"folUploadModule",on:{ok:function(t){return e.queryList("1")},close:function(t){e.folUploadShow=!1}}}):e._e(),e.hookUpShow?a("batch-hook-up-module",{ref:"hookUpModule",on:{ok:e.queryList,close:function(t){e.hookUpShow=!1}}}):e._e(),e.tFormShow?a("transfer-form",{ref:"tFormModule",on:{ok:e.queryList,close:function(t){e.tFormShow=!1}}}):e._e(),e.print.show?a("print-modal",{ref:"print",on:{close:function(t){e.print.show=!1}}}):e._e(),e.exportPackage.show?a("export-package",{ref:"exportPackage",on:{close:function(t){e.exportPackage.show=!1}}}):e._e()],1)},n=[],o=a("1da1"),s=a("5530"),r=(a("96cf"),a("4de4"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("d81d"),a("b0c0"),a("159b"),a("5251")),l=a("e8ec"),c=a("b713"),d=a("c1c1"),u=a("69ca"),p=a("70ef"),m=a("faca"),h=a("60f9"),f=a("2e5f"),v=a("facc"),b=a("14a6"),g=a("1a36"),y=a("b217"),_=a("dca2"),w=a("e780"),k=a("9f6e"),x=a("2f62"),C=a("ca00"),D=a("0efe"),T=a("0b8e"),I=a("4ad7"),S=a("5c44"),A=a("a747"),O=a("cf45"),$={name:"CollectionList",components:{ExportPackage:r["default"],PrintModal:l["default"],TabBtn:c["default"],ShowModal:d["default"],StatisticsBox:u["default"],CatePanel:p["default"],BasicTree:h["default"],BtnList:f["default"],ArchDynTable:v["default"],FileBoxReelModule:g["default"],ReviewModule:_["default"],BatchUpdateModule:k["default"],BachConfModule:y["default"],ImpModule:w["default"],SearchBar:b["default"],FolUploadModule:T["default"],RecycleModule:D["default"],BatchHookUpModule:I["default"],TransferForm:S["default"],BackTop:A["default"]},mixins:[m["a"]],data:function(){var e=this;this.$createElement;return{searchOptions:[],value:"",cateType:1,searchVal:{},transfered:"1,2,3,5",initLoadOver:!1,fileBoxShow:!0,fileReelShow:!1,bachConfShow:!1,impModuleShow:!1,showSeaBarBox:!0,showSeaBarReel:!1,folUploadShow:!1,recycleShow:!1,hookUpShow:!1,tFormShow:!1,exportPackage:{show:!1,loading:!1},print:{show:!1,loading:!1},volId:"",templateId:"",cateCode:"",cateName:"",treeData:[],defaultCheckedKeys:[],defaultExpandedKeys:[],defaultExpandAll:!1,searchText:"",fileBoxObj:{isSelect:!0,operCol:[{label:"操作",prop:"oper",width:160,fixed:"right",render:function(t,a){var i=a.row,n=[{content:"编辑/阅览",type:"text",icon:"edit",permission:"sys:collection:update",event:function(){e.edit(i,"1")}},{content:"删除",type:"text",icon:"delete",color:"#CD2E18",permission:"sys:collection:del",event:function(){e.delete(i,"1")}}];return t(f["default"],{attrs:{btnInfo:n}})}}]},fileReelObj:{isSelect:!0,operCol:[{label:"操作",prop:"oper",width:160,fixed:"right",render:function(t,a){var i=a.row,n=[{content:"编辑/阅览",type:"text",icon:"edit",permission:"sys:collection:update",event:function(){e.edit(i,1==e.cateType?"2":"3")}},{content:"删除",type:"text",icon:"delete",color:"#CD2E18",permission:"sys:collection:del",event:function(){e.delete(i,1==e.cateType?"2":"3")}}];return t(f["default"],{attrs:{btnInfo:n}})}}]},url:{codeTree:"/category/archCateTree",filesList:"/dynamic/list",getFields:"/queryFld/qfListVo",subReviewApi:"",deleteArrange:"/dynamic/delete",expCheckData:"/arch/exportExcel",addTransferForm:"/transferForm/add",searchFld:"/searchFld/sfList",removeArrange:"/archArrange/removeArrange",copyBoxReel:"/dynamic/copyBoxReel"},fileBoxReelModule:{show:!1,status:"create",textMap:{update:"编辑",create:"添加",similarAdd:"类似新建",insert:"插入"},loading:!1},batchUpModuleShow:!1,reviewModuleShow:!1,initFromData:{templateId:"",cateCode:""},paramsObject:null,fileBtnList:[{label:"常用功能",key:"common",list:[{permission:"sys:collection:add",name:"新增",icon:"plus",key:"add"},{permission:"sys:collection:add",name:"类似新建",icon:"plus",key:"similarAdd"},{permission:"sys:collection:del",name:"删除",icon:"delete",key:"delete"},{permission:"",name:"复制",icon:"document-copy",key:"copy"},{permission:"sys:collection:batchEdit",name:"批量修改",icon:"finished",key:"batchEdit"},{permission:"sys:collection:folderUpload",name:"文件夹上传",icon:"folder-add",key:"folderUpload"}]},{label:"全部功能",key:"all",type:"hide",list:[{permission:"sys:collection:add",name:"新增",icon:"plus",key:"add"},{permission:"sys:collection:del",name:"删除",icon:"delete",key:"delete"},{permission:"sys:collection:recycle",name:"回收站",icon:"delete",key:"recycle"},{permission:"sys:collection:remove",name:"移除",icon:"delete",key:"remove"},{permission:"",name:"复制",icon:"document-copy",key:"copy"},{permission:"",name:"插入",icon:"bottom",key:"insert"},{permission:"",name:"批量挂接",icon:"folder-add",key:"batchHookUp"},{permission:"sys:collection:add",name:"类似新建",icon:"plus",key:"similarAdd"},{permission:"sys:collection:folderUpload",name:"文件夹上传",icon:"folder-add",key:"folderUpload"},{permission:"sys:collection:batchEdit",name:"批量修改",icon:"finished",key:"batchEdit"},{permission:"sys:collection:send",name:"移交",icon:"upload2",key:"subReview"},{type:"dropdown",permission:"",name:"导出导入",icon:"",key:"",dropdownList:[{name:"导出数据",command:"expCheckData",permission:"sys:collection:export"},{name:"下载导入模板",command:"dowImpTemp",permission:"sys:collection:import"},{name:"导入数据",command:"impData",permission:"sys:collection:import"}]},{permission:"sys:collection:print",name:"打印",icon:"",key:"print"},{type:"switchBtn",permission:"",name:"显示统计",switchName:"隐藏统计",switchFlag:!1,icon:"",key:"statistics"},{permission:"",name:"题名查重",icon:"",key:"title-vol"},{permission:"",name:"查漏",icon:"",key:"burst-vol"},{permission:"",name:"查重",icon:"",key:"repeat-vol"}]},{label:"新增",key:"add",list:[{permission:"sys:collection:add",name:"新增",icon:"plus",key:"add"},{permission:"sys:collection:add",name:"类似新建",icon:"plus",key:"similarAdd"},{permission:"",name:"复制",icon:"document-copy",key:"copy"},{permission:"",name:"插入",icon:"bottom",key:"insert"},{permission:"",name:"批量挂接",icon:"folder-add",key:"batchHookUp"}]},{label:"编辑与调整",key:"edit",list:[{permission:"sys:arch:batchEdit",name:"批量修改",icon:"finished",key:"batchEdit"},{permission:"sys:collection:transferForm",name:"移库",icon:"folder-add",key:"transferForm"}]},{label:"文件管理",key:"file",list:[{permission:"sys:collection:folderUpload",name:"文件夹上传",icon:"folder-add",key:"folderUpload"}]},{label:"删除",key:"delete",list:[{permission:"sys:collection:remove",name:"移除",icon:"delete",key:"remove"},{permission:"sys:collection:del",name:"删除",icon:"delete",key:"delete"},{permission:"sys:collection:recycle",name:"回收站",icon:"delete",key:"recycle"}]},{label:"移交",key:"transfer",list:[{permission:"sys:collection:send",name:"移交",icon:"upload2",key:"subReview"}]},{label:"查询与统计",key:"statistics",list:[{type:"switchBtn",permission:"",name:"显示统计",switchName:"隐藏统计",switchFlag:!1,icon:"",key:"statistics"}]},{label:"输出与打印",key:"output",list:[{type:"dropdown",permission:"",name:"导出导入",icon:"",key:"",dropdownList:[{name:"导出数据",command:"expCheckData"},{name:"下载导入模板",command:"dowImpTemp"},{name:"导入数据",command:"impData"}]},{permission:"sys:collection:print",name:"打印",icon:"",key:"print"},{name:"导出封包",key:"export-package"}]},{label:"检测与鉴定",key:"testing",list:[{permission:"",name:"题名查重",icon:"",key:"title-vol"},{permission:"",name:"查漏",icon:"",key:"burst-vol"},{permission:"",name:"查重",icon:"",key:"repeat-vol"}]}],docBtnList:[{label:"常用功能",key:"common",list:[{permission:"sys:collection:add",name:"新增",icon:"plus",key:"add"},{permission:"sys:collection:add",name:"类似新建",icon:"plus",key:"similarAdd"},{permission:"sys:collection:del",name:"删除",icon:"delete",key:"delete"},{permission:"",name:"复制",icon:"document-copy",key:"copy"},{permission:"sys:collection:batchEdit",name:"批量修改",icon:"finished",key:"batchEdit"}]},{label:"全部功能",key:"all",type:"hide",list:[{permission:"sys:collection:add",name:"新增",icon:"plus",key:"add"},{permission:"sys:collection:del",name:"删除",icon:"delete",key:"delete"},{permission:"sys:collection:recycle",name:"回收站",icon:"delete",key:"recycle"},{permission:"sys:collection:remove",name:"移除",icon:"delete",key:"remove"},{permission:"",name:"复制",icon:"document-copy",key:"copy"},{permission:"",name:"插入",icon:"bottom",key:"insert"},{permission:"",name:"批量挂接",icon:"folder-add",key:"batchHookUp"},{permission:"sys:collection:add",name:"类似新建",icon:"plus",key:"similarAdd"},{permission:"sys:collection:batchEdit",name:"批量修改",icon:"finished",key:"batchEdit"},{permission:"sys:collection:print",name:"打印",icon:"",key:"print"},{permission:"",name:"查漏",icon:"",key:"burst-doc"}]},{label:"新增",key:"add",list:[{permission:"sys:collection:add",name:"新增",icon:"plus",key:"add"},{permission:"sys:collection:add",name:"类似新建",icon:"plus",key:"similarAdd"},{permission:"",name:"复制",icon:"document-copy",key:"copy"},{permission:"",name:"插入",icon:"bottom",key:"insert"},{permission:"",name:"批量挂接",icon:"folder-add",key:"batchHookUp"}]},{label:"编辑与调整",key:"edit",list:[{permission:"sys:arch:batchEdit",name:"批量修改",icon:"finished",key:"batchEdit"}]},{label:"删除",key:"delete",list:[{permission:"sys:collection:remove",name:"移除",icon:"delete",key:"remove"},{permission:"sys:collection:del",name:"删除",icon:"delete",key:"delete"},{permission:"sys:collection:recycle",name:"回收站",icon:"delete",key:"recycle"}]},{label:"输出与打印",key:"output",list:[{permission:"sys:collection:print",name:"打印",icon:"",key:"print"}]},{label:"检测与鉴定",key:"testing",list:[{permission:"",name:"查漏",icon:"",key:"burst-doc"}]}],singlBtnList:[{label:"常用功能",key:"common",list:[{permission:"sys:collection:add",name:"新增",icon:"plus",key:"add"},{permission:"sys:collection:add",name:"类似新建",icon:"plus",key:"similarAdd"},{permission:"sys:collection:del",name:"删除",icon:"delete",key:"delete"},{permission:"",name:"复制",icon:"document-copy",key:"copy"},{permission:"sys:collection:batchEdit",name:"批量修改",icon:"finished",key:"batchEdit"}]},{label:"全部功能",key:"all",type:"hide",list:[{permission:"sys:collection:add",name:"新增",icon:"plus",key:"add"},{permission:"sys:collection:del",name:"删除",icon:"delete",key:"delete"},{permission:"sys:collection:recycle",name:"回收站",icon:"delete",key:"recycle"},{permission:"sys:collection:remove",name:"移除",icon:"delete",key:"remove"},{permission:"",name:"复制",icon:"document-copy",key:"copy"},{permission:"",name:"插入",icon:"bottom",key:"insert"},{permission:"",name:"批量挂接",icon:"folder-add",key:"batchHookUp"},{permission:"sys:collection:add",name:"类似新建",icon:"plus",key:"similarAdd"},{permission:"sys:collection:batchEdit",name:"批量修改",icon:"finished",key:"batchEdit"},{permission:"sys:collection:send",name:"移交",icon:"upload2",key:"subReview"},{type:"switchBtn",permission:"",name:"显示统计",switchName:"隐藏统计",switchFlag:!1,icon:"",key:"statistics"},{permission:"",name:"题名查重",icon:"",key:"title-vol"},{permission:"",name:"查重",icon:"",key:"repeat-vol"},{permission:"sys:collection:print",name:"打印",icon:"",key:"print"},{permission:"",name:"查漏",icon:"",key:"burst-doc"}]},{label:"新增",key:"add",list:[{permission:"sys:collection:add",name:"新增",icon:"plus",key:"add"},{permission:"sys:collection:add",name:"类似新建",icon:"plus",key:"similarAdd"},{permission:"",name:"复制",icon:"document-copy",key:"copy"},{permission:"",name:"插入",icon:"bottom",key:"insert"},{permission:"",name:"批量挂接",icon:"folder-add",key:"batchHookUp"}]},{label:"编辑与调整",key:"edit",list:[{permission:"sys:arch:batchEdit",name:"批量修改",icon:"finished",key:"batchEdit"}]},{label:"删除",key:"delete",list:[{permission:"sys:collection:remove",name:"移除",icon:"delete",key:"remove"},{permission:"sys:collection:del",name:"删除",icon:"delete",key:"delete"},{permission:"sys:collection:recycle",name:"回收站",icon:"delete",key:"recycle"}]},{label:"移交",key:"transfer",list:[{permission:"sys:collection:send",name:"移交",icon:"upload2",key:"subReview"}]},{label:"查询与统计",key:"statistics",list:[{type:"switchBtn",permission:"",name:"显示统计",switchName:"隐藏统计",switchFlag:!1,icon:"",key:"statistics"}]},{label:"输出与打印",key:"output",list:[{permission:"sys:collection:print",name:"打印",icon:"",key:"print"}]},{label:"检测与鉴定",key:"testing",list:[{permission:"",name:"题名查重",icon:"",key:"title-vol"},{permission:"",name:"查漏",icon:"",key:"burst-doc"},{permission:"",name:"查重",icon:"",key:"repeat-vol"}]}]}},watch:{defaultCheckedKeys:function(e){e&&this.$nextTick((function(){document.querySelector(".el-icon-document-copy").click()}))}},computed:Object(s["a"])(Object(s["a"])({},Object(x["c"])(["userInfo"])),{},{domainURL:function(){return window._CONFIG["domainURL"]},theme:function(){return this.$store.state.settings.theme},statisticsParams:function(){var e={};return this.paramsObject&&(e=this.paramsObject),1==this.cateType?e.cateType="1":e.cateType="2",e.templateId=this.templateId,e.cate_code=this.cateCode,e.archStatus="0",e.transfered="1,2,3,5",e}}),created:function(){},mounted:function(){},methods:{setArchTable:function(e){this.$refs["1"==e?"fileBox":"fileReel"].setArchTable()},tabBtnClick:function(e){var t=this,a=e.key,i=e.othType,n=this.$refs["1"==i?"fileBox":"fileReel"].table.selection,o={othType:i,templateId:this.templateId};switch(n.length>0&&(o=Object(s["a"])(Object(s["a"])({},o),{},{ids:Object(C["e"])(n)})),a){case"add":this.add(i);break;case"delete":this.batchDelRem(i,"1");break;case"recycle":this.recycle(i);break;case"remove":this.batchDelRem(i,"0");break;case"copy":this.batchCopy(i);break;case"insert":this.insertBoxReel(i);break;case"similarAdd":this.similarAdd(i);break;case"folderUpload":this.folderUpload();break;case"subReview":this.subReview();break;case"batchEdit":this.batchUpdate(i);break;case"expCheckData":this.expCheckData();break;case"dowImpTemp":this.dowImpTemp();break;case"impData":this.impData(i);break;case"statistics":this.statisticsFlag=!this.statisticsFlag;break;case"print":if(!n.length>0)return void this.$sweetAlert.warnWithTimer("请先勾选数据进行操作！");this.print.show=!0,this.$nextTick((function(){t.$refs.print.init("1",i,o)}));break;case"export-package":if(!n.length>0)return void this.$sweetAlert.warnWithTimer("请选择要导出的数据！");this.exportPackage.show=!0,this.$nextTick((function(){t.$refs.exportPackage.init(o)}));break;case"title-vol":this.selectDhScreen("title","vol");break;case"burst-vol":this.selectDhScreen("burst","vol");break;case"repeat-vol":this.selectDhScreen("repeat","vol");break;case"burst-doc":this.selectDhScreen("burst","doc");break;case"batchHookUp":this.batchHookUp(i);break;case"transferForm":this.transferForm(i);break;default:break}},subReview:function(){var e=this,t=[];if(1==this.cateType){if(!this.$refs["fileBox"].table.selection.length>0)return void this.$sweetAlert.warnWithTimer("请勾选案卷进行移交审核！");t=this.$refs["fileBox"].table.selection}else{if(!this.$refs["fileReel"].table.selection.length>0)return void this.$sweetAlert.warnWithTimer("请勾选单件进行移交审核！");t=this.$refs["fileReel"].table.selection}var a="",i=t.filter((function(e){return 2===e.TRANSFER_STATUS}));if(i.length!==t.length)if(0!==i.length&&i.length<t.length)this.$sweetAlert.warnWithTimer("勾选数据中，存在正在审核数据，无法提交！");else{for(var n=0;n<t.length;n++)n==t.length-1?a+=t[n].ID:a+=t[n].ID+",";this.$confirm("确定移交所选数据?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={othType:1==e.cateType?"1":"3",ids:a,transferDeptName:e.userInfo.baName,transferDeptCode:e.userInfo.currOrgan.id,templateId:e.templateId};e.$api.httpAction(e.url.addTransferForm,t,"post").then((function(t){"200"==t.code?e.showReviewModule(t.data):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))}else this.$sweetAlert.warnWithTimer("勾选数据正在审核，无法再次提交！")},batchHookUp:function(e){var t=this;if(this.$refs["1"==e?"fileBox":"fileReel"].table.data.length){var a=this.$refs["1"==e?"fileBox":"fileReel"].table.selection;a.length>0?this.initFromData.ids=Object(C["e"])(a):this.initFromData.ids="",this.hookUpShow=!0,this.initFromData.othType=e;var i={};null!=this.paramsObject&&(i=Object(O["c"])(this.paramsObject)),i.transfer_status="1,2,3,5",i.arch_status="0",i.cate_code=this.cateCode,this.$nextTick((function(){t.$refs["hookUpModule"].initModule(t.initFromData,i)}))}else this.$sweetAlert.warnWithTimer("列表无数据，无法挂接！")},transferForm:function(e){var t=this;this.tFormShow=!0;var a=this.$refs["1"==e?"fileBox":"fileReel"].table.selection;a.length<=0?this.$sweetAlert.warnWithTimer("请选勾选至少一条数据！"):this.$nextTick((function(){t.$refs["tFormModule"].initForm(e,"档案采集",a,t.templateId)}))},folderUpload:function(){var e=this;this.folUploadShow=!0,this.$nextTick((function(){e.$refs["folUploadModule"].initModule(e.initFromData)}))},showReviewModule:function(e){var t=this;this.reviewModuleShow=!0,this.$nextTick((function(){t.$refs["reviewModule"].initForm(e,t.cateCode)}))},treeNodeClick:function(e,t){var a=this;this.cateType=e.cateType,t||!e.children||"0"==e.children.length?(this.paramsObject=t,this.fileBoxShow=!1,this.fileReelShow=!1,this.initFromData.cateCode=e.cateCode,this.initFromData.folderCode=e.folderCode,this.initFromData.templateId=e.templateId,this.templateId=e.templateId,this.cateCode=e.cateCode,this.folderCode=e.folderCode,1==e.cateType?(this.fileBoxShow||(this.fileBoxShow=!0,this.showSeaBarBox=!0),this.$nextTick((function(){a.$refs["fileBox"].getFields(a.templateId,"1",null,t),a.$refs["searchBarBox"].initSearchBar(a.templateId,"1")}))):(this.fileReelShow||(this.fileReelShow=!0,this.showSeaBarReel=!0),this.$nextTick((function(){a.$refs["fileReel"].getFields(a.templateId,"3",null,t),a.$refs["searchBarReel"].initSearchBar(a.templateId,"3"),Object(O["l"])("fileBox","volBox")})))):this.$sweetAlert.warnWithTimer("请选择子节点进行业务操作！")},delete:function(e,t){var a=this;this.$confirm("确定删除?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){if(2!==e.TRANSFER_STATUS){var i={id:e.ID,othType:t,templateId:a.templateId};a.$api.httpAction(a.url.deleteArrange,i,"post").then((function(e){"200"==e.code?(a.$sweetAlert.successWithTimer(e.msg),a.queryList(t)):a.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")}))}else a.$sweetAlert.warnWithTimer("该数据正在审核中，无法删除！")})).catch((function(){}))},selection:function(e,t){e.length?this.show=Object(s["a"])(Object(s["a"])({},this.show),{},{batch:!0}):this.show=Object(s["a"])(Object(s["a"])({},this.show),{},{batch:!1}),this.table=Object(s["a"])(Object(s["a"])({},this.table),{},{selection:e})},cellClickFile:function(e,t){var a=this;"ARCH_RULE"==t.property&&(this.volId=e.ID,this.fileReelShow||(this.fileReelShow=!0,this.showSeaBarReel=!0),this.$nextTick((function(){a.$refs["fileReel"].getFields(a.templateId,"2"),a.$refs["searchBarReel"].initSearchBar(a.templateId,"2"),Object(O["l"])("fileBox","volBox")})))},setSearchVal:function(e,t){this.searchVal=e,this.queryList(t)},queryList:function(e){switch(this.paramsObject&&(this.searchVal=Object.assign(this.searchVal,this.paramsObject)),e){case"3":this.$refs.fileReel.queryList(this.searchVal);break;case"2":this.fileReelShow?(this.$refs.fileReel.queryList(this.searchVal),this.$refs.fileBox.queryList(this.searchVal)):this.$refs.fileBox.queryList(this.searchVal);break;case"all":this.$refs.fileBox.queryList(),this.$refs.fileReel.queryList();break;default:this.$refs.fileBox.queryList(this.searchVal);break}this.initFromData={templateId:this.templateId,cateCode:this.cateCode,folderCode:this.folderCode}},add:function(e){var t=this;this.fileBoxReelModule.status="create",this.fileBoxReelModule.show=!0,this.initFromData.othType=e,this.initFromData.status="create","2"==e&&(this.initFromData.volId=this.volId),this.$nextTick((function(){t.$refs["fileBoxReelModule"].initForm(t.initFromData)}))},recycle:function(e){var t=this;this.recycleShow=!0,this.initFromData.othType=e,this.initFromData.transfered="1,2,3,5",this.$nextTick((function(){t.$refs["recycleModule"].initForm(t.initFromData)}))},batchCopy:function(e){var t=this,a=this.$refs["1"==e?"fileBox":"fileReel"].table.selection;if(!a.length>0)this.$sweetAlert.warnWithTimer("请先勾选数据进行操作！");else{var i={ids:Object(C["e"])(a),othType:e,templateId:this.templateId,busiType:"collect"};this.$api.httpAction(this.url.copyBoxReel,i,"post").then((function(a){"200"==a.code?(t.$sweetAlert.successWithTimer(a.msg),t.queryList(e)):t.$sweetAlert.errorWithTimer(a.msg)})).catch((function(){t.$sweetAlert.errorWithTimer("error")}))}},insertBoxReel:function(e){var t=this,a=this.$refs["1"==e?"fileBox":"fileReel"].table.selection;if(1==a.length){var i=a[0];"1"!=e&&(this.initFromData.volId=this.volId),this.initFromData.othType=e,this.initFromData.row=i,this.initFromData.status="insert",this.fileBoxReelModule.status="insert",this.initFromData.transferStatus="1,2,3,5",this.initFromData.archStatus="0",this.fileBoxReelModule.show=!0,this.$nextTick((function(){t.$refs["fileBoxReelModule"].initForm(t.initFromData)}))}else this.$sweetAlert.warnWithTimer("请选择一条需要插卷的记录，新增记录将插入该记录上方，并会修改后续件号！")},batchDelRem:function(e,t){var a=this,i="",n=[],o="1"==t?"删除！":"移除！";if(1==e){if(!this.$refs["fileBox"].table.selection.length>0)return void this.$sweetAlert.warnWithTimer("请勾选数据进行"+o);n=this.$refs["fileBox"].table.selection}else{if(!this.$refs["fileReel"].table.selection.length>0)return void this.$sweetAlert.warnWithTimer("请勾选数据进行"+o);n=this.$refs["fileReel"].table.selection}var s=n.filter((function(e){return 2===e.TRANSFER_STATUS}));if(s.length!==n.length)if(0!==s.length&&s.length<n.length)this.$sweetAlert.warnWithTimer("勾选数据中，存在正在审核数据，无法"+o);else{for(var r=0;r<n.length;r++)r==n.length-1?i+=n[r].ID:i+=n[r].ID+",";var l="1"==t?"是否确定删除？删除数据将进入回收站，如需彻底删除请点击移除操作！":"是否确认移除？移除后数据将彻底消失，请您谨慎操作！";this.$confirm(l,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n={id:i,othType:e,templateId:a.templateId},o="1"==t?a.url.deleteArrange:a.url.removeArrange;a.$api.httpAction(o,n,"post").then((function(t){"200"==t.code?(a.$sweetAlert.successWithTimer(t.msg),a.queryList(e)):a.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))}else this.$sweetAlert.warnWithTimer("勾选数据正在审核，无法"+o)},similarAdd:function(e){var t=this;if(1==this.$refs["1"==e?"fileBox":"fileReel"].table.selection.length){var a=null;"1"!=e?(a=this.$refs["fileReel"].table.selection[0],this.initFromData.volId=this.volId):a=this.$refs["fileBox"].table.selection[0],this.initFromData.othType=e,this.initFromData.row=a,this.initFromData.status="similarAdd",this.fileBoxReelModule.status="similarAdd",this.fileBoxReelModule.show=!0,this.$nextTick((function(){t.$refs["fileBoxReelModule"].initForm(t.initFromData)}))}else this.$sweetAlert.warnWithTimer("请勾选一条数据进行类似新增！")},ConfVal:function(e,t){var a=this,i={othType:t,updateMode:e,templateId:this.templateId,dept_code:this.userInfo.baid};if("1"!=e)this.batchUpModuleShow=!0,i["ids"]="",i["isWait"]="0",i["cate_code"]=this.cateCode,i["cateCode"]=this.cateCode,i["VOL_ID"]="",i["transfered"]="1,2,5",this.$nextTick((function(){a.$refs["batchUpdateModule"].initForm(i)}));else{var n=this.$refs["1"==t?"fileBox":"fileReel"].table.selection;if(n.length<=0)return void this.$sweetAlert.warnWithTimer("请至少勾选一条数据进行批量修改！");var o=n.filter((function(e){return 2===e.TRANSFER_STATUS}));if(o.length===n.length)return void this.$sweetAlert.warnWithTimer("勾选数据正在审核，无法批量修改！");if(0!==o.length&&o.length<n.length)return void this.$sweetAlert.warnWithTimer("勾选数据中，存在正在审核数据，无法批量修改！");i["ids"]=Object(C["e"])(n),i["isWait"]="",i["cate_code"]="",i["cateCode"]=this.cateCode,i["VOL_ID"]="",i["transfered"]="",this.batchUpModuleShow=!0,this.$nextTick((function(){a.$refs["batchUpdateModule"].initForm(i)}))}},batchUpdate:function(e){this.ConfVal("1",e)},edit:function(e,t){var a=this;this.fileBoxReelModule.status="update",this.fileBoxReelModule.show=!0,this.initFromData.row=e,this.initFromData.volId=this.volId,this.initFromData.othType=t,this.initFromData.status="update",this.$nextTick((function(){a.$refs["fileBoxReelModule"].initForm(a.initFromData)}))},handleCommand:function(e){switch(e){case"expCheckData":this.expCheckData();break;case"dowImpTemp":this.dowImpTemp();break;case"impData":this.impData("1");break;default:break}},expCheckData:function(){var e=this;if(this.$refs["fileBox"].table.data.length<1)this.$sweetAlert.warnWithTimer("列表中没有数据！");else{!this.$refs["fileBox"].table.selection.length>0&&this.$sweetAlert.warnWithTimer("未勾选导出全部数据！正在处理数据。。。");for(var t=this.$refs["fileBox"].table.selection,a="",i=0;i<t.length;i++)i==t.length-1?a+=t[i].ID:a+=t[i].ID+",";var n={templateId:this.templateId,ids:a,othType:"1"};this.$api.downFile(this.url.expCheckData,n).then((function(t){if(t){var a="导出数据";if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([t]),a+".xlsx");else{var i=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.style.display="none",n.href=i,n.setAttribute("download",a+".xlsx"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}}else e.$sweetAlert.errorWithTimer("文件下载失败！")}))}},impData:function(e){var t=this;this.impModuleShow=!0;var a="collection";this.$nextTick((function(){t.$refs["impModule"].init(t.cateCode,t.userInfo.baid,t.templateId,a,e)}))},dowImpTemp:function(){var e="archive-vol.xlsx",t=this.domainURL+"/static/templates/"+e;window.open(t,"_parent")},getTreeData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.getAction(e.url.codeTree,{});case 3:a=t.sent,i=a.treeData,e.treeData=e.setTreeData(i),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},setTreeData:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));e.map((function(e){return e.label=e.name,e})),this.setDefaultCheck(t,e);var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length?(a.elIcon="folder",t(a.children)):a.elIcon="document-copy"}))};return a(t),t},setDefaultCheck:function(e,t){var a=e[0].id,i=t.filter((function(e){return e.parentId==a}));this.defaultExpandedKeys.push(a);var n=this,o=function e(a){if(a.length){var i=a[0].id;n.defaultExpandedKeys.push(i),a=t.filter((function(e){return e.parentId==i})),e(a)}else n.defaultCheckedKeys.push(n.defaultExpandedKeys[n.defaultExpandedKeys.length-1])};o(i)},rowStyle:function(e,t,a){},cellStyle:function(e,t,a,i){"ARCH_RULE"==t.property&&(a.cursor="pointer"),i(a)},setVolId:function(e){this.volId=e}}},L=$,F=(a("98618"),a("2877")),M=Object(F["a"])(L,i,n,!1,null,"4150dd97",null);t["default"]=M.exports},"195a":function(e,t,a){"use strict";a("8619")},1998:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v(" 全选 ")]),a("div",{staticStyle:{margin:"15px 0"}}),a("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedList,callback:function(t){e.checkedList=t},expression:"checkedList"}},e._l(e.options,(function(t,i){return a("el-checkbox",{key:i,staticClass:"check-box-item",attrs:{label:t.value}},[e._v(" "+e._s(t.name)+" "),t.required?a("span",{staticClass:"required-box"},[e._v("(必选)")]):e._e()])})),1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v(" 确定 ")]),a("el-button",{attrs:{type:"default"},on:{click:e.cancelModal}},[e._v("取消")])],1)]):e._e()},n=[],o=(a("d81d"),a("4de4"),a("caad"),a("2532"),a("b0c0"),{components:{},props:{title:{type:String,default:""},options:{type:Array,default:function(){return[{value:"1",name:"用户",required:!0},{value:"2",name:"登录次数"},{value:"3",name:"数据增加"},{value:"4",name:"数据修改"}]}}},data:function(){return{visible:!1,loading:!1,checkedList:[],checkAll:!1,isIndeterminate:!1,initType:""}},computed:{},created:function(){},methods:{handleCheckAllChange:function(e){this.checkedList=e?this.options.map((function(e){return e.value})):[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.options.length,this.isIndeterminate=t>0&&t<this.options.length},init:function(e){this.initType=e,this.checkedList=this.options.map((function(e){return e.value})),this.checkAll=!0,this.visible=!0},submit:function(e){var t=this,a=this.options.filter((function(e){return e.required})),i="";if(this.checkedList.length<2)return i="统计字段，至少选择两项！",void this.$sweetAlert.warnWithTimer(i);a.map((function(e){e.required&&(t.checkedList.includes(e.value)||(i="统计字段，"+e.name+"必选！",t.$sweetAlert.warnWithTimer(i)))})),i||(this.$emit("ok",{list:this.checkedList,type:this.initType}),this.cancelModal())},cancelModal:function(){this.visible=!1,this.$emit("close")}}}),s=o,r=(a("4c6f"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"0a4d41ca",null);t["default"]=l.exports},"1a36":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{top:"-20px"},attrs:{visible:e.visible,modal:e.showModal,width:"68%","before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.tabVal,callback:function(t){e.tabVal=t},expression:"tabVal"}},[e.isContinue?e._e():a("el-tab-pane",{attrs:{label:"基本信息",name:"base"}},[a("div",{staticStyle:{color:"#ff4f31","font-weight":"600"}},[a("i",{staticClass:"el-icon-warning"}),e._v(" 温馨提示：该分类档号规则为 [ "+e._s(e.arFieldLable.substr(0,e.arFieldLable.length-1).replace(/,/g,e.symbol))+" ] ")]),a("div",{staticClass:"auto-scroll"},[e.formBuildShow?a("FormBuild",{ref:"formBuild",attrs:{"form-template":e.formTemplate,models:e.model},on:{change:e.handelChange}}):e._e()],1)]),"update"===e.status||"view"===e.status?a("el-tab-pane",{attrs:{label:"操作日志",name:"backLog"}},[a("div",{staticClass:"auto-scroll"},[a("history-tab-pane",{attrs:{logInfo:e.backInfo}})],1)]):e._e(),"2"!==e.initData.othType||"update"!==e.status&&"view"!==e.status&&!e.isContinue?e._e():a("el-tab-pane",{attrs:{label:"正文附件",name:"file"}},[e.fileTabPaneShow?a("file-tab-pane",{ref:"fileTabPane"}):e._e()],1)],1)],1),e.showFooter?a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.showButton?a("el-button",{attrs:{loading:e.loading&&"default"==e.submitType,type:"primary"},on:{click:function(t){return e.submit("default")}}},[e._v("保存")]):e._e(),e.showNextFlag?a("el-button",{attrs:{loading:e.loading&&"next"==e.submitType},on:{click:function(t){return e.submit("next")}}},[e._v("保存并添加下一条")]):e._e(),e.showNextFlag&&e.initData&&"1"==e.initData.othType?a("el-button",{attrs:{loading:e.loading&&"volume"==e.submitType},on:{click:function(t){return e.submit("volume")}}},[e._v(" 保存并添加卷内 ")]):e._e(),e.showNextFlag&&e.initData&&"2"==e.initData.othType?a("el-button",{attrs:{loading:e.loading&&"attachment"==e.submitType},on:{click:function(t){return e.submit("attachment")}}},[e._v(" 保存并添加附件 ")]):e._e(),e.showButton?a("el-button",{on:{click:e.reset}},[e._v("重置")]):e._e(),a("el-button",{on:{click:e.cancelModal}},[e._v("取消")])],1):e._e(),e.msgModuleShow?a("msg-module",{ref:"msgModule",on:{cancel:e.cancelModal,continue:e.closeMsgMod}}):e._e()],1):e._e()},n=[],o=a("1da1"),s=a("5530"),r=(a("96cf"),a("159b"),a("ac1f"),a("1276"),a("7db0"),a("b0c0"),a("b64b"),a("4de4"),a("0779")),l=a("6440"),c=a("2f62"),d=a("a664"),u=a("52dc"),p=a("a2a1"),m={components:{DictSelectTag:r["default"],FormBuild:l["default"],FileTabPane:d["default"],HistoryTabPane:u["default"],MsgModule:p["default"]},props:{title:{type:String,default:""}},data:function(){return{showModal:!0,visible:!1,loading:!1,submitType:"",showFooter:!0,formBuildShow:!1,fileTabPaneShow:!1,msgModuleShow:!1,tabVal:"base",isContinue:!1,fileInFo:[],srcUrl:"",srcList:[],backInfo:[],baseData:null,initData:{},formTemplate:{},model:{},arFieldLable:"",symbol:"",arField:"",oldArchRule:"",url:{queryBackInfo:"dynamic/queryBackInfo",getBaseInfo:"templates/getTempView",getDefData:"dynamic/defaultData",getInfoData:"dynamic/info",queryRuleFiled:"dynamic/queryRuleFiled"},loadInfoDataOverFlag:!1}},computed:Object(s["a"])(Object(s["a"])({},Object(c["c"])(["userInfo"])),{},{showNextFlag:function(){var e=!1;return"similarAdd"!=this.status&&"create"!=this.status||(e=!0),e},showButton:function(){var e=!0;return"update"==this.status&&2==this.initData.row.TRANSFER_STATUS&&(e=!1),e}}),created:function(){},methods:{initForm:function(e){switch(this.initData=e,this.status=e.status,this.showModal=void 0==e.showModal||e.showModal,this.status){case"update":this.getInfoData(this.initData.row);break;case"similarAdd":this.getInfoData(this.initData.row);break;case"groupVol":this.initData["othType"]="1",this.getDefData();break;case"view":this.getInfoData(this.initData.row),this.showFooter=!1;break;case"insert":this.getInfoData(this.initData.row);break;default:this.getDefData();break}this.getArchRuleFiled(),this.getTemplate()},handelChange:function(e,t){this.loadInfoDataOverFlag&&("similarAdd"===this.status&&void 0!=this.model.ID&&delete this.model.ID,1==this.initData.othType||3==this.initData.othType?this.getArchRuleBox(e,t):this.getArchRuleReel(e,t))},getArchRuleFiled:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.arFieldLable="",e.arField="",1==e.initData.othType||3==e.initData.othType){t.next=8;break}e.arFieldLable="案卷档号,件号,",e.arField="DOC_NUM,",e.symbol=".",t.next=20;break;case 8:return a={cate_code:e.initData.cateCode},t.prev=9,t.next=12,e.$api.getAction(e.url.queryRuleFiled,a);case 12:i=t.sent,n=i.data,n.fieldListMap.forEach((function(t){e.arFieldLable+=t.FIELD_LABLE+",",e.arField+=t.FIELD_NAME+","})),e.symbol=n.symbol,t.next=20;break;case 18:t.prev=18,t.t0=t["catch"](9);case 20:case"end":return t.stop()}}),t,null,[[9,18]])})))()},getArchRuleBox:function(e,t){var a=this,i=this.arField.split(","),n=i.find((function(e){return e==t}));if(!n&&""!=e)return!1;var o=1;"VOL_NUM"!=t&&"DOC_NUM"!=t||(o=0);var s=Object.assign({templateId:this.initData.templateId,CATE_CODE:this.initData.cateCode,othType:this.initData.othType,reqType:o},this.model);this.$api.httpAction("/dynamic/genArchRule",s,"post").then((function(e){"200"==e.code?(a.model["ARCH_RULE"]=e.data.ARCH_RULE,a.model["VOL_NUM"]=e.data.VOL_NUM,a.model["DOC_NUM"]=e.data.DOC_NUM):(a.$sweetAlert.errorWithTimer(e.msg),a.model["ARCH_RULE"]="",a.model["VOL_NUM"]="")})).catch((function(e){}))},getArchRuleReel:function(e,t){var a=this;if("DOC_NUM"!=t&&""!=e)return!1;var i=Object.assign({templateId:this.initData.templateId,othType:this.initData.othType,oldArchRule:this.oldArchRule,CATE_CODE:this.initData.cateCode},this.model);this.$api.httpAction("/dynamic/genArchRule",i,"post").then((function(e){"200"==e.code?a.model["ARCH_RULE"]=e.data.ARCH_RULE:(a.$sweetAlert.errorWithTimer(e.msg),a.model["ARCH_RULE"]="")})).catch((function(e){}))},handleClick:function(e){switch(e.name){case"file":this.showFileTabPane();break;case"backLog":this.getBackLog();break;default:break}this.showFooter="base"==e.name&&"view"!=this.status},getInfoData:function(e){var t=this,a={othType:this.initData.othType,id:e.ID,templateId:this.initData.templateId};this.$api.httpAction(this.url.getInfoData,a,"post").then((function(e){"200"==e.code?(t.model=e.data,"similarAdd"!=t.status&&"create"!=t.status||t.getDefData()):t.$sweetAlert.errorWithTimer(e.msg)})).catch((function(e){}))},showFileTabPane:function(){var e=this;this.fileTabPaneShow=!0,this.$nextTick((function(){e.$refs["fileTabPane"].init(e.model.ID,e.initData.templateId)}))},getBackLog:function(){var e=this,t={id:this.model.ID,templateId:this.initData.templateId};this.$api.getAction(this.url.queryBackInfo,t).then((function(t){"200"==t.code&&(e.backInfo=t.data)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))},getTemplate:function(){var e=this,t={othType:this.initData.othType,templateId:this.initData.templateId};this.$api.getAction(this.url.getBaseInfo,t).then((function(t){"200"==t.code&&(e.formBuildShow=!0,e.$nextTick((function(){e.formTemplate=JSON.parse(t.data.vue),"insert"===e.initData.status&&e.handelChangeJson(e.formTemplate.list),setTimeout((function(){e.loadInfoDataOverFlag=!0}),1e3),e.visible=!0})))})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))},handelChangeJson:function(e){var t=this.arField.split(",");t.push("DOC_NUM"),e&&e.forEach((function(e){if(e.columns)e.columns.forEach((function(e){e.list.forEach((function(e){for(var a=0;a<t.length;a++)e.model==t[a]&&(e.options.disabled=!0)}))}));else for(var a=0;a<t.length;a++)e.model==t[a]&&(e.options.disabled=!0)}))},getDefData:function(){var e=this,t={deptCode:this.userInfo.baid,cateCode:this.initData.cateCode,templateId:this.initData.templateId,volSeq:"1"==this.initData.othType||void 0==this.initData.volId?"":this.initData.volId,tempArchRule:"similarAdd"==this.status||"create"==this.status?this.model.ARCH_RULE:null,othType:"similarAdd"==this.status||"create"==this.status||"mergeVol"==this.status||"groupVol"==this.status?this.initData.othType:null};this.$api.getAction(this.url.getDefData,t).then((function(t){"200"==t.code&&t.data&&("1"==e.initData.othType?(t.data["CATE_CODE"]=e.initData.cateCode,delete t.data.DOC_NUM):"2"!=e.initData.othType&&"3"!=e.initData.othType||(delete t.data.VOL_NUM,e.oldArchRule=t.data.ARCH_RULE),"similarAdd"===e.status&&delete t.data.ARCH_YEAR,t.data["FOLDER_CODE"]=e.initData.folderCode,e.model=Object.assign(Object.keys(e.model).length>0?e.model:{},t.data))})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))},reset:function(){this.model={},this.$refs["formBuild"].reset(),this.initForm(this.initData)},submit:function(e){var t=this;this.submitType=e,this.$refs.formBuild.getData().then((function(a){t.loading=!0;var i=/(dictText)|(label)/i;a=Object.keys(a).filter((function(e){return!i.test(e)})).reduce((function(e,t){return e[t]=a[t],e}),{});var n={dept_code:t.userInfo.baid,othType:t.initData.othType,CATE_CODE:t.initData.cateCode,transfer_status:t.initData.transferStatus,ARCH_TYPE:3==t.initData.othType?"1":"2"};"1"==t.initData.othType?("mergeVol"==t.status&&(n.mergeVolIds=t.initData.volId),"groupVol"==t.status&&(n["VOL_ID"]=t.initData.volId,n["ARCH_TYPE"]="2",n["mergeIds"]=t.initData.docIds,delete a.ARCH_RULE)):"2"==t.initData.othType&&(n["VOL_ID"]=t.initData.volId);var o=Object.assign({},a);"similarAdd"===t.status&&void 0!=o.ID&&delete o.ID,o["id"]=void 0!=o.ID?o.ID:"";var s="/dynamic/update?templateId="+t.initData.templateId;o=Object.assign(o,n),o.id||(s="/dynamic/add",o["templateId"]=t.initData.templateId,o["ARCH_STATUS"]=t.initData.archStatus),"insert"==t.status&&(s="/dynamic/insertBoxReel",o["templateId"]=t.initData.templateId,o["ARCH_STATUS"]=t.initData.archStatus,delete o.id),t.$api.httpAction(s,o,"post").then((function(a){if("200"==a.code){t.loading=!1,t.$sweetAlert.successWithTimer(a.msg);var i=(new Date).getTime();switch(t.$store.dispatch("treeMenu/changeSetting",{key:"treeMenuChangeTime",value:i}),e){case"next":t.closeMsgMod("0",a.data.ID);break;case"volume":t.closeMsgMod("1",a.data.ID);break;case"attachment":t.closeMsgMod("2",a.data.ID);break;default:t.cancelModal();break}}else t.$sweetAlert.errorWithTimer(a.msg)}))})).catch((function(e){t.loading=!1}))},continueOper:function(e){var t=this;this.loading=!1,this.msgModuleShow=!0,this.$nextTick((function(){t.$refs["msgModule"].initModule(e,t.initData.othType)}))},cancelModal:function(){this.visible=!1,this.$emit("close"),this.$emit("ok","groupVol"==this.status?"all":this.initData.othType)},closeMsgMod:function(e,t){switch(e){case"1":this.model={},this.initData.othType="2",this.initData.volId=t,this.formBuildShow=!1,"similarAdd"===this.status&&(this.initData.status="create"),this.$emit("vol-id",t);break;case"2":this.isContinue=!0,this.showFooter=!1,this.tabVal="file",this.model.ID=t,this.showFileTabPane();break;default:break}"similarAdd"!=this.status&"create"!=this.status&&this.$refs["formBuild"].reset(),this.msgModuleShow=!1,this.initForm(this.initData)}}},h=m,f=(a("0883"),a("2877")),v=Object(f["a"])(h,i,n,!1,null,"aba24708",null);t["default"]=v.exports},"1b5c":function(e,t,a){"use strict";a("5277")},"1b8e":function(e,t,a){"use strict";a.r(t);var i,n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("textarea",{staticStyle:{visibility:"hidden"},attrs:{id:e.tinymceId}})},o=[],s=(a("99af"),a("d3b7"),a("25f0"),a("7fde")),r=a("5c96"),l=a.n(r),c=a("1b9c");function d(e){var t=c["a"].tinymceUrl;if(i)e(i);else{var a=l.a.Loading.service({fullscreen:!0,lock:!0,text:"富文本资源加载中...",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.5)"});Object(s["a"])(t,(function(){a.close(),i=tinymce,e(i)}))}}var u=["advlist anchor autolink autosave code codesample directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textpattern visualblocks visualchars wordcount"],p=["code searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent blockquote removeformat subscript superscript codesample hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],m=a("9619"),h=1,f={props:{id:{type:String,default:function(){return 1e4===h&&(h=1),"tinymce".concat(+new Date).concat(h++)}},value:{default:""}},data:function(){return{tinymceId:this.id}},mounted:function(){var e=this;d((function(t){a("d8fe");var i={selector:"#".concat(e.tinymceId),language:"zh_CN",menubar:"file edit insert view format table",plugins:u,toolbar:p,height:300,branding:!1,object_resizing:!1,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0};i=Object.assign(i,e.$attrs),i.init_instance_callback=function(t){e.value&&t.setContent(e.value),e.vModel(t)},t.init(i)}))},destroyed:function(){this.destroyTinymce()},methods:{vModel:function(e){var t=this,a=Object(m["debounce"])(250,e.setContent);this.$watch("value",(function(t,i){e&&t!==i&&t!==e.getContent()&&("string"!==typeof t&&(t=t.toString()),a.call(e,t))})),e.on("change keyup undo redo",(function(){t.$emit("input",e.getContent())}))},destroyTinymce:function(){if(window.tinymce){var e=window.tinymce.get(this.tinymceId);e&&e.destroy()}}}},v=f,b=a("2877"),g=Object(b["a"])(v,n,o,!1,null,null,null);t["default"]=g.exports},"1b9c":function(e,t,a){"use strict";a("99af");var i="https://lib.baomitu.com/",n="/";function o(e,t,a){return"".concat(i).concat(e,"/").concat(t,"/").concat(a)}t["a"]={beautifierUrl:o("js-beautify","1.13.5","beautifier.min.js"),monacoEditorUrl:"".concat(n,"static/libs/monaco-editor/vs"),tinymceUrl:o("tinymce","5.7.0","tinymce.min.js")}},"1b9f":function(e,t,a){"use strict";a("2386")},"1bc8":function(e,t,a){"use strict";a("471e")},"1bf0":function(e,t,a){"use strict";a("83fd")},"1c6c":function(e,t,a){"use strict";a("36bd")},"1c88":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var i,n=a("7fde"),o=a("5c96"),s=a.n(o),r=a("1b9c");function l(e){if(i)e(i);else{var t=r["a"].monacoEditorUrl,a=s.a.Loading.service({fullscreen:!0,lock:!0,text:"编辑器资源初始化中...",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.5)"});!window.require&&(window.require={}),!window.require.paths&&(window.require.paths={}),window.require.paths.vs=t,Object(n["a"])("".concat(t,"/loader.js"),(function(){window.require(["vs/editor/editor.main"],(function(){a.close(),i=window.monaco,e(i)}))}))}}},"1f3f":function(e,t,a){e.exports=a.p+"static/img/folder.4f5ba536.svg"},20:function(e,t){},"20ab":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container graph-box"},[a("div",{staticClass:"flex justify-start"},e._l(e.typeList,(function(t,i){return a("div",{key:i,staticClass:"padding-right-10"},[a("el-button",{attrs:{type:t.value==e.typeId?"primary":"default"},on:{click:function(a){return e.changeTypeClick(t)}}},[e._v(" "+e._s(t.btnText)+" ")])],1)})),0),a("div",{staticClass:"flex echart-title webkit-transition"},[e._v(" 按档案类型统计 "+e._s(e.echartTitle)+" ")]),a("div",{staticClass:"flex echart-subtitle webkit-transition"},[e._v(" 来源： "+e._s(e.websiteName)+" ")]),"line"==e.typeId?a("basic-line",{ref:"line",attrs:{dataInfo:e.dataInfo}}):e._e(),"bar"==e.typeId?a("basic-bar",{ref:"bar",attrs:{dataInfo:e.dataInfo}}):e._e()],1)},n=[],o=(a("7db0"),a("b0c0"),a("d81d"),a("0779")),s=a("3cee"),r=a("fc5f"),l=a("0423"),c={components:{DictSelectTag:o["default"],TinymceEditor:s["default"],BasicLine:r["default"],BasicBar:l["default"]},props:{title:{type:String,default:"统计图表"}},data:function(){return{visible:!0,loading:!1,typeId:"line",typeList:[{value:"line",name:"折线图",btnText:"折线统计图表"},{value:"bar",name:"条形图",btnText:"条形统计图表"}],dataInfo:{title:"数量（次）",subTitle:"",legend:"",seriesArr:[],xAxisArr:[]}}},computed:{websiteName:{get:function(){return this.$store.state.settings.websiteName},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"websiteName",value:e})}},echartTitle:function(){var e=this,t="",a=this.typeList.find((function(t){return t.value==e.typeId}));return a&&(t=a.name),t}},created:function(){var e=this.$route.query;if(e&&(this.typeId=e.type,e.allData)){var t=decodeURIComponent(e.allData),a=JSON.parse(t);this.dataInfo.seriesArr=a,this.dataInfo.xAxisArr=a[0].map((function(e){return e.name}))}},methods:{init:function(e){this.visible=!0,this.showEchart()},changeTypeClick:function(e){var t=this;this.typeId=e.value,this.$nextTick((function(){t.showEchart()}))},showEchart:function(){this.$refs[this.typeId].initChart()},submit:function(e){},cancelModal:function(){this.visible=!1,this.$emit("close")}}},d=c,u=(a("0f50"),a("2877")),p=Object(u["a"])(d,i,n,!1,null,"f4bfc61e",null);t["default"]=p.exports},21:function(e,t){},"21e3":function(e,t,a){"use strict";a("44b6")},"21f5":function(e,t,a){},22:function(e,t){},2227:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,width:"400px",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("div",{staticClass:"option-list"},[a("el-radio-group",{on:{change:e.radioGroupChange},model:{value:e.styleValue,callback:function(t){e.styleValue=t},expression:"styleValue"}},e._l(e.styleList,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),a("div",{staticClass:"flex"},[a("div",{staticClass:"max-width"}),a("div",{staticClass:"max-width"},[a("el-slider",{attrs:{min:10,step:5,disabled:1!=e.styleValue},on:{input:e.maskValueChange},model:{value:e.maskValue,callback:function(t){e.maskValue=t},expression:"maskValue"}})],1)])]),a("div",{directives:[{name:"has",rawName:"v-has",value:"sys:user:update",expression:"'sys:user:update'"}],staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确定 ")]),a("el-button",{attrs:{type:"default"},on:{click:e.cancelModal}},[e._v("取消")])],1)]):e._e()},n=[],o=(a("2f62"),{components:{},props:{title:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,styleValue:"0",styleList:[{value:"0",name:"白色"},{value:"1",name:"马赛克"}],maskValue:0,oldMaskValue:0,oldStyleValue:"0"}},computed:{},created:function(){},methods:{initData:function(e){this.styleValue=e.styleValue,this.maskValue=e.maskValue,this.oldStyleValue=e.styleValue,this.oldMaskValue=e.maskValue,this.visible=!0},maskValueChange:function(e){var t={styleValue:this.styleValue,maskValue:e};this.visible&&this.$emit("ok",t)},radioGroupChange:function(e){var t={styleValue:e,maskValue:this.maskValue};this.visible&&this.$emit("ok",t)},submit:function(){var e=this.styleValue,t=this.maskValue;this.$emit("ok",{styleValue:e,maskValue:t}),this.visible=!1,this.$emit("close")},cancelModal:function(){this.visible=!1;var e={styleValue:this.oldStyleValue,maskValue:this.oldMaskValue};this.$emit("ok",e),this.$emit("close")}}}),s=o,r=(a("ca7e"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"134a0ce3",null);t["default"]=l.exports},"222e":function(e,t,a){},23:function(e,t){},2304:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",e._g(e._b({attrs:{width:"500px","close-on-click-modal":!1,"modal-append-to-body":!1},on:{open:e.onOpen}},"el-dialog",e.$attrs,!1),e.$listeners),[e.isShowParser?a("parser",{ref:"parser",attrs:{"form-conf":e.innerFormConf},on:{submit:e.submit}}):e._e(),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v(" 取消 ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.getFormData}},[e._v(" 获取数据 ")])],1)],1)],1)},n=[],o=a("93ff"),s=(a("5c96"),{name:"ParserDialog",components:{Parser:o["a"]},inheritAttrs:!1,props:["formConf"],data:function(){return{innerFormConf:this.formConf,isShowParser:!0}},computed:{},watch:{formConf:function(e){this.innerFormConf=e}},mounted:function(){},methods:{onOpen:function(){this.isShowParser=!0},close:function(e){this.isShowParser=!1,this.$emit("update:visible",!1)},getFormData:function(){this.$refs.parser.submitForm()},submit:function(e){this.$msgbox.alert(JSON.stringify(e))}}}),r=s,l=a("2877"),c=Object(l["a"])(r,i,n,!1,null,null,null);t["default"]=c.exports},"237b":function(e,t,a){},2386:function(e,t,a){},24:function(e,t){},2404:function(e,t,a){"use strict";a("dbe0")},"24f8":function(e,t,a){},"257c":function(e,t,a){},2684:function(e,t,a){"use strict";a("f812")},"26fc":function(e,t,a){e.exports=a.p+"static/img/404_cloud.0f4bc32b.png"},2750:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"refForm",attrs:{model:e.formData,rules:e.rules,"label-width":"75px"}},[a("el-collapse",{attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("span",{staticClass:"el_title"},[e._v("基本设置"),a("i",{staticClass:"header-icon el-icon-info"})])]),a("el-form-item",{attrs:{label:"节点ID",prop:"id"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.id,callback:function(t){e.$set(e.formData,"id",t)},expression:"formData.id"}})],1),a("el-form-item",{attrs:{label:"节点名称",prop:"name"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{rows:3,type:"textarea",clearable:""},model:{value:e.formData.documentation,callback:function(t){e.$set(e.formData,"documentation",t)},expression:"formData.documentation"}})],1),e.showConfig.taskCategory?a("el-form-item",{attrs:{label:"任务分类",prop:"taskCategory"}},[a("el-select",{model:{value:e.formData.category,callback:function(t){e.$set(e.formData,"category",t)},expression:"formData.category"}},e._l(this.taskCategory,(function(e){return a("el-option",{attrs:{label:e.name,value:e.id}})})),1)],1):e._e(),e.showConfig.conditionExpression?a("el-form-item",{attrs:{label:"流转条件",prop:"conditionExpression"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.conditionExpression,callback:function(t){e.$set(e.formData,"conditionExpression",t)},expression:"formData.conditionExpression"}})],1):e._e(),e.showConfig.async?a("el-form-item",{attrs:{label:"异步",prop:"async"}},[a("el-switch",{model:{value:e.formData.async,callback:function(t){e.$set(e.formData,"async",t)},expression:"formData.async"}})],1):e._e(),e.showConfig.multiInstance?a("el-form-item",{attrs:{label:"多实例"}},[a("el-badge",{attrs:{"is-dot":e.hasMultiInstance}},[a("el-button",{on:{click:function(t){e.multiInstanceDrawer=!0}}},[e._v("编辑")])],1)],1):e._e()],2),e.showConfig.candidate?a("el-collapse-item",{attrs:{name:"2"}},[a("template",{slot:"title"},[a("span",{staticClass:"el_title"},[e._v("候选配置"),a("i",{staticClass:"header-icon el-icon-info"})])]),e.showConfig.initiator?a("el-form-item",{attrs:{label:"创建者",prop:"initiator"}},[a("el-select",{attrs:{clearable:""},model:{value:e.formData.initiator,callback:function(t){e.$set(e.formData,"initiator",t)},expression:"formData.initiator"}},e._l(this.candidateUsers,(function(t){return a("el-option",{attrs:{label:t.realname,value:t.id}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.realname))])])})),1)],1):e._e(),e.showConfig.assignee?a("el-form-item",{attrs:{label:"执行人"}},[a("el-select",{model:{value:e.formData.assignee,callback:function(t){e.$set(e.formData,"assignee",t)},expression:"formData.assignee"}},e._l(this.assignee,(function(t){return a("el-option",{attrs:{label:t.userName,value:t.userId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.userName))])])})),1)],1):e._e(),e.showConfig.candidateUsers?a("el-form-item",{attrs:{label:"候选用户"}},[a("el-select",{model:{value:e.formData.candidateUsers,callback:function(t){e.$set(e.formData,"candidateUsers",t)},expression:"formData.candidateUsers"}},e._l(this.assignee,(function(t){return a("el-option",{attrs:{label:t.realname,value:t.id}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.realname))])])})),1)],1):e._e(),e.showConfig.candidateGroups?a("el-form-item",{attrs:{label:"候选组"}},[a("el-select",{model:{value:e.formData.candidateGroups,callback:function(t){e.$set(e.formData,"candidateGroups",t)},expression:"formData.candidateGroups"}},e._l(this.candidateGroups,(function(t){return a("el-option",{attrs:{label:t.postName,value:t.postId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.postName))])])})),1)],1):e._e()],2):e._e(),e.showConfig.form?a("el-collapse-item",{attrs:{name:"3"}},[a("template",{slot:"title"},[a("span",{staticClass:"el_title"},[e._v("表单配置"),a("i",{staticClass:"header-icon el-icon-info"})])]),e.showConfig.formKey?a("el-form-item",{attrs:{label:"表单Key",prop:"formKey"}},[a("el-select",{model:{value:e.formData.formKey,callback:function(t){e.$set(e.formData,"formKey",t)},expression:"formData.formKey"}},e._l(this.formKey,(function(t){return a("el-option",{attrs:{label:t.formKey,value:t.formKey}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.formName))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.formKey))])])})),1)],1):e._e(),e.showConfig.buttons?a("el-form-item",{attrs:{label:"按钮"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.buttons,callback:function(t){e.$set(e.formData,"buttons",t)},expression:"formData.buttons"}})],1):e._e()],2):e._e(),a("el-collapse-item",{attrs:{name:"4"}},[a("template",{slot:"title"},[a("span",{staticClass:"el_title"},[e._v("监听器"),a("i",{staticClass:"header-icon el-icon-info"})])]),a("el-form-item",{attrs:{label:"执行监听"}},[a("el-badge",{attrs:{value:e.executionListenerLength}},[a("el-button",{on:{click:function(t){e.executionListenerDrawer=!0}}},[e._v("编辑")])],1)],1),e.showConfig.taskListener?a("el-form-item",{attrs:{label:"任务监听"}},[a("el-badge",{attrs:{value:e.taskListenerLength}},[a("el-button",{on:{click:function(t){e.taskListenerDrawer=!0}}},[e._v("编辑")])],1)],1):e._e()],2)],1)],1),e.showConfig.multiInstance?a("multi-instance",{attrs:{title:"多实例",element:e.element,modeler:e.modeler,multiInstanceDrawer:e.multiInstanceDrawer},on:{changeMultiInstanceDrawer:e.changeMultiInstanceDrawer,saveMultiInstance:e.saveMultiInstance}}):e._e(),a("listener",{attrs:{title:"执行监听",type:"Execution",element:e.element,modeler:e.modeler,listenerDrawer:e.executionListenerDrawer},on:{changeListenerDrawer:e.changeExecutionListenerDrawer,saveListener:e.saveExecutionListener}}),a("listener",{attrs:{title:"任务监听",type:"Task",element:e.element,modeler:e.modeler,listenerDrawer:e.taskListenerDrawer},on:{changeListenerDrawer:e.changeTaskListenerDrawer,saveListener:e.saveTaskListener}})],1)},n=[],o=a("5530"),s=(a("4de4"),a("d3b7"),a("ddb0"),a("917d")),r=a("795c"),l=a("2d17"),c=(a("0fea"),{name:"BpmnNode",components:{listener:l["default"],MultiInstance:r["default"]},mixins:[s["a"]],props:{taskCategory:{type:Array,required:!0},formKey:{type:Array,required:!0},candidateUsers:{type:Array,required:!0},assignee:{type:Array,required:!0},candidateGroups:{type:Array,required:!0}},data:function(){return{activeName:"1",formData:{},rules:{id:[{required:!0,message:"该项不能为空",trigger:"change"}],name:[{required:!0,message:"该项不能为空",trigger:"change"}]},multiInstanceDrawer:!1,hasMultiInstance:!1,executionListenerDrawer:!1,executionListenerLength:0,taskListenerDrawer:!1,taskListenerLength:0}},watch:{"formData.initiator":function(e){this.updateProperty("initiator",e,!0)},"formData.category":function(e){this.updateProperty("category",e,!0)},"formData.formKey":function(e){this.updateProperty("formKey",e,!0)},"formData.buttons":function(e){this.updateProperty("buttons",e,!0)},"formData.async":function(e){this.updateProperty("async",e,!0)},"formData.conditionExpression":function(e){if(e){var t=this.modeler.get("moddle").create("bpmn:FormalExpression",{body:"<![CDATA[".concat(e,"]]>")});this.updateProperties({conditionExpression:t})}else this.updateProperties({conditionExpression:null})},"formData.skipExpression":function(e){this.updateProperty("skipExpression",e,!0)},"formData.assignee":function(e){this.updateProperty("assignee",e,!0)},"formData.candidateUsers":function(e){this.updateProperty("candidateUsers",e,!0)},"formData.candidateGroups":function(e){this.updateProperty("candidateGroups",e,!0)},"formData.dueDate":function(e){this.updateProperty("dueDate",e,!0)},"formData.priority":function(e){this.updateProperty("priority",e,!0)},"formData.isForCompensation":function(e){this.updateProperty("isForCompensation",e)},"formData.triggerable":function(e){this.updateProperty("triggerable",e,!0)},"formData.class":function(e){this.updateProperty("class",e,!0)},"formData.autoStoreVariables":function(e){this.updateProperty("autoStoreVariables",e,!0)},"formData.exclude":function(e){this.updateProperty("exclude",e,!0)},"formData.ruleVariablesInput":function(e){this.updateProperty("ruleVariablesInput",e,!0)},"formData.rules":function(e){this.updateProperty("rules",e,!0)},"formData.resultVariable":function(e){this.updateProperty("resultVariable",e,!0)}},created:function(){var e,t,a,i,n,s=this,r=Object(o["a"])(Object(o["a"])({},this.element.businessObject),this.element.businessObject.$attrs);r.documentation=this.getDocumentation(),r.conditionExpression=this.parseCDATA(null===(e=this.element.businessObject.conditionExpression)||void 0===e?void 0:e.body),this.formData=r,this.hasMultiInstance=!!this.element.businessObject.loopCharacteristics,this.executionListenerLength=null!==(t=null===(a=this.element.businessObject.extensionElements)||void 0===a?void 0:a.values.filter((function(e){return e.$type===s.descriptorPrefix+"ExecutionListener"})).length)&&void 0!==t?t:0,this.taskListenerLength=null!==(i=null===(n=this.element.businessObject.extensionElements)||void 0===n?void 0:n.values.filter((function(e){return e.$type===s.descriptorPrefix+"TaskListener"})).length)&&void 0!==i?i:0},methods:{changeMultiInstanceDrawer:function(e){this.multiInstanceDrawer=e},saveMultiInstance:function(e){this.hasMultiInstance=e},changeExecutionListenerDrawer:function(e){this.executionListenerDrawer=e},saveExecutionListener:function(e){this.executionListenerLength=e},changeTaskListenerDrawer:function(e){this.taskListenerDrawer=e},saveTaskListener:function(e){this.taskListenerLength=e}}}),d=c,u=a("2877"),p=Object(u["a"])(d,i,n,!1,null,null,null);t["default"]=p.exports},"289c":function(e,t,a){"use strict";a("237b")},"29ad":function(e,t,a){},"29e5":function(e,t,a){"use strict";a("82d2")},"2ba6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"web-file"},[a("div",{staticClass:"operate-box nowrap flex justify-between"},[a("div",{staticClass:"flex btn-list"},[a("div",{staticClass:"page-btn"},[a("el-button",{attrs:{type:"default",disabled:1==e.currentPage,size:"mini"},on:{click:function(t){return e.changePdfPage(0)}}},[e._v(" 上一页 ")]),a("div",{staticClass:"page-count"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.pageCount,expression:"pageCount"}]},[e._v(e._s(e.currentPage)+" / "+e._s(e.pageCount))])]),a("el-button",{attrs:{type:"default",disabled:e.currentPage==e.pageCount,size:"mini"},on:{click:function(t){return e.changePdfPage(1)}}},[e._v(" 下一页 ")])],1),a("div",{attrs:{id:"mask-print"}},[a("el-button",{attrs:{type:"default",icon:"el-icon-printer",size:"mini"},on:{click:e.printPdf}},[e._v(" 打印 ")])],1),a("div",{attrs:{id:"mask-setting"}},[a("el-button",{attrs:{type:"default",icon:"el-icon-setting",size:"mini"},on:{click:e.attributeEdit}},[e._v(" 遮罩属性设置 ")])],1),a("div",{attrs:{id:"mask-add"}},[a("el-button",{attrs:{type:"default",size:"mini"},on:{click:e.addMask}},[e._v(" 添加遮罩 ")])],1),a("el-button",{attrs:{type:"text",icon:"el-icon-info"},on:{click:e.guide}},[e._v(" 帮助 ")])],1),a("div",{staticClass:"flex btn-list"},[a("div",{attrs:{id:"mask-back"}},[a("el-button",{attrs:{type:"default",icon:"el-icon-arrow-left",size:"mini"},on:{click:e.stepBack}},[e._v(" 回退 ")])],1),a("div",{attrs:{id:"mask-clear"}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-refresh-left",size:"mini"},on:{click:e.clearClean}},[e._v(" 撤销 ")])],1),a("el-button",{attrs:{size:"mini"},on:{click:e.goBack}},[e._v("返回原文页")])],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.pageCount&&e.pageCount>0,expression:"pageCount && pageCount > 0"}]}),a("div",{staticClass:"mark-print-box"},[e.showPdfBoxFlag?a("div",{ref:"baseMap",staticClass:"pdf-box",attrs:{id:"pdf"}},[a("pdf",{ref:"pdf",attrs:{src:e.pdfsrc,page:e.currentPage},on:{"num-pages":function(t){e.pageCount=t},"page-loaded":e.pageLoaded,loaded:e.loadPdfHandler}}),a("div",{staticClass:"manager_detail",class:{"accurate-choice":e.accurateChoiceFlag},attrs:{id:"manager_detail"}},[a("canvas",{ref:"imgContent",staticStyle:{position:"absolute",left:"0",width:"'595.28px'",height:"'841.89px'",background:"rgba(255,255,155,0)"},attrs:{id:"canvas",width:e.canvasObj.width,height:e.canvasObj.height}})])],1):e._e(),a("div",{staticClass:"pdf-bot"})])]),e.attribute.show?a("attribute-set",{ref:"attribute",attrs:{title:e.attribute.title},on:{close:function(t){e.attribute.show=!1},ok:e.setAttribute}}):e._e()],1)},n=[],o=a("5530"),s=(a("a434"),a("ac1f"),a("1276"),a("159b"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("99af"),a("cb29"),a("7a94")),r=a("858e"),l=a("c0e9"),c=a.n(l),d=a("8baf"),u=a("2227"),p=a("c24c"),m=a.n(p),h=(a("01d7"),[{element:"#mask-setting",popover:{title:"遮罩属性设置",description:"点击按钮，可选择遮罩打印的样式，白色或者马赛克，并且可以调节马赛克的大小",position:"bottom"}},{element:"#mask-add",popover:{title:"添加遮罩",description:"点击按钮，在下方文件区域，按住鼠标左键然后拖拽，可生成遮罩打印的区域",position:"bottom"}},{element:"#mask-back",popover:{title:"回退",description:"点击按钮，回退到上一步添加的遮罩",position:"left"}},{element:"#mask-clear",popover:{title:"撤销",description:"点击按钮，撤销所有的遮罩层",position:"left"}},{element:"#mask-print",popover:{title:"打印",description:"点击按钮，可以打印添加遮罩之后的文件",position:"bottom"}}]),f=h,v={components:{pdf:r["a"],AttributeSet:u["default"]},props:{pdfsrc:{type:String,default:""}},data:function(){return{canvas:null,context:"",bgImage:null,pageCount:1,currentPage:1,clickFlag:!1,clickTimer:-1,canvasObj:{width:595.28,height:841.89},json:[],basecoordinate:[],xycoordinate:[],isMasic:!0,squareEdgeLength:20,mouse:{started:!1,x:0,y:0},accurateChoiceFlag:!1,imgUrl:"",makeGridObject:{beginX:0,beginY:0},makeList:[],fillColor:"",attribute:{show:!1,title:"属性设置",loading:!1,style:"1"},driver:null,showPdfBoxFlag:!1}},computed:{devicePixelRatio:function(){return window.devicePixelRatio||1}},created:function(){s["fabric"].Object.prototype.setControlsVisibility({bl:!1,br:!1,mb:!1,ml:!1,mr:!1,mt:!1,tl:!1,tr:!1,mtr:!1}),this.showPdfBoxFlag=!0},mounted:function(){this.driver=new m.a({animate:!0,opacity:.5,allowClose:!1,doneBtnText:"完成",closeBtnText:"关闭",nextBtnText:"下一步",prevBtnText:"上一步",onReset:function(e){}})},methods:{goBack:function(){this.$emit("back")},guide:function(){this.driver.defineSteps(f),this.driver.start()},setAttribute:function(e){this.attribute.style=e.styleValue,this.fillColor="0"==e.styleValue?"#fff":"",this.squareEdgeLength=e.maskValue,this.drawMake()},attributeEdit:function(){var e=this;this.attribute.show=!0,this.$nextTick((function(){var t={styleValue:e.attribute.style,maskValue:e.squareEdgeLength};e.$refs.attribute.initData(t)}))},addMask:function(){this.mouse.started=!0,this.initCanvasObjAndEvent(),this.accurateChoiceFlag=!0},stepBack:function(){this.makeList.length>0&&(this.makeList.splice(this.makeList.length-1,1),this.drawMake())},initCanvasObjAndEvent:function(){if(!this.canvas){this.canvas=new s["fabric"].Canvas("canvas");var e=this.$refs.imgContent;this.context=e.getContext("2d");var t=this.canvasObj,a=t.width,i=t.height,n=a/this.devicePixelRatio-1,o=i/this.devicePixelRatio-1,r=this;this.pageTransformedIntoCanvas((function(e,t){var s=new Image;s.src=e,r.bgImage=s,s.onload=function(){r.context.drawImage(s,0,0,a,i,0,0,n,o),r.context.save()}})),this.canvas.on("mouse:down",(function(e){r.mousedown(e)})),this.canvas.on("mouse:up",(function(e){r.mouseup(e)})),this.canvas.on("mouse:move",(function(e){r.mousemove(e)}))}},pageLoaded:function(e){this.currentPage=e},loadPdfHandler:function(e){},changePdfPage:function(e){var t=this;this.clickFlag||(this.clickFlag=!0,this.clickTimer=setTimeout((function(){t.clickFlag=!1}),500),0===e&&this.currentPage>1&&this.currentPage--,1===e&&this.currentPage<this.pageCount&&this.currentPage++,this.canvas&&this.canvas.clear(),this.canvas=null,this.makeList=[],this.showPdfBoxFlag=!1,this.$nextTick((function(){t.showPdfBoxFlag=!0})))},mousedown:function(e){if(!this.mouse.started)return!1;var t=this.canvas.getPointer(e.e),a=t.x,i=t.y;this.mouse=Object(o["a"])(Object(o["a"])({},this.mouse),{},{x:a,y:i}),this.makeGridObject={beginX:a,beginY:i}},mousemove:function(e){if(!this.mouse.started)return!1;var t=this.canvas.getPointer(e.e),a=Math.abs(t.x-this.mouse.x),i=Math.abs(t.y-this.mouse.y);return!(!a||!i)&&void 0},mouseup:function(e){if(!this.mouse.started)return!1;this.mouse.started=!1,this.accurateChoiceFlag=!1;e.offsetX,e.offsetY;var t=this.makeGridObject,a=t.beginX,i=t.beginY,n=this.canvas.getPointer(e.e),o=Math.abs(n.x-a),s=Math.abs(n.y-i);o>this.squareEdgeLength&&(o-=this.squareEdgeLength),s>this.squareEdgeLength&&(s-=this.squareEdgeLength);var r={beginX:a,beginY:i,w:o,h:s};this.makeList.push(r),this.drawMake()},pageTransformedIntoCanvas:function(e){c()(document.getElementById("pdf"),{allowTaint:!0,useCORS:!0,scale:this.devicePixelRatio}).then((function(t){var a=t.width,i=t.height,n=595.28,o=841.89,s=n,r=n/a*i,l=a/n*o,c=i,u=0;a>i&&(s=o,r=o/a*i);var p,m=t.toDataURL("image/jpeg",1);if(p=a<=i?new d["a"]("","pt","a4"):new d["a"]("l","pt","a4"),c<l)p.addImage(m,"JPEG",0,0,s,r);else while(c>0)p.addImage(m,"JPEG",0,u,s,r),c-=l,u-=o,c>0&&p.addPage();var h=p.output("dataurlstring");h.split("base64,")[1];e(m,p)}))},drawMake:function(){var e=this;if(this.canvas){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);var t=this.canvasObj,a=t.width,i=t.height,n=a/this.devicePixelRatio-1,o=i/this.devicePixelRatio-1;this.context.drawImage(this.bgImage,0,0,a,i,0,0,n,o),this.context.save(),this.makeList.forEach((function(t){var a=t.beginX,i=t.beginY,n=t.w,o=t.h;e.makeGrid(a,i,n,o)}))}},clearClean:function(){this.canvas&&this.canvas.clear(),this.makeList=[]},printPdf:function(){var e=this;this.pageTransformedIntoCanvas((function(t,a){var i=a.output("blob");e.print(i)}))},print:function(e){var t=(new Date).getTime(),a=document.createElement("iframe");a.style.frameborder="no",a.style.display="none",a.style.pageBreakBefore="always",a.setAttribute("id","printPdf"+t),a.setAttribute("name","printPdf"+t),a.src=window.URL.createObjectURL(e),document.body.appendChild(a),this.doPrint("printPdf"+t),window.URL.revokeObjectURL(a.src)},doPrint:function(e){var t=document.getElementById(e).contentWindow;setTimeout((function(){t.print()}),100)},makeGrid:function(e,t,a,i){for(var n=Math.round(a/this.squareEdgeLength)+1,o=Math.round(i/this.squareEdgeLength)+1,s=0;s<n*o;s++){var r=s%n*this.squareEdgeLength+e,l=parseInt(s/n)*this.squareEdgeLength+t;this.setColor(r,l)}},setColor:function(e,t){for(var a=this.context.getImageData(e,t,this.squareEdgeLength,this.squareEdgeLength).data,i=0,n=0,o=0,s=0;s<a.length;s+=4)i+=a[s],n+=a[s+1],o+=a[s+2];i=Math.round(i/(a.length/4)),n=Math.round(n/(a.length/4)),o=Math.round(o/(a.length/4)),this.drawRect(e,t,this.squareEdgeLength,this.squareEdgeLength,"rgb(".concat(i,", ").concat(n,", ").concat(o,")"),2,"rgb(".concat(i,", ").concat(n,", ").concat(o,")"))},drawRect:function(e,t,a,i,n,o,s,r){this.context.beginPath(),this.context.rect(e,t,a,i),this.context.lineWidth=o,this.fillColor&&(n=this.fillColor,s=this.fillColor),this.context.strokeStyle=s,n&&(this.context.fillStyle=n),r&&(this.context.globalAlpha=r),this.context.fill(),this.context.stroke()}}},b=v,g=(a("5e0e"),a("2877")),y=Object(g["a"])(b,i,n,!1,null,"78a953eb",null);t["default"]=y.exports},"2c72":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container max-height tab-pane-box flex-column"},[i("div",{staticClass:"page-title"},[e._v("电子签章验证")]),i("div",{staticClass:"file-box"},[i("div",{staticClass:"file-form"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.model,"status-icon":"",rules:e.rules,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"签章分类",prop:"category"}},[i("el-select",{staticStyle:{width:"100%"},on:{change:e.onCategoryChange},model:{value:e.model.category,callback:function(t){e.$set(e.model,"category",t)},expression:"model.category"}},e._l(e.categoryList,(function(e){return i("el-option",{key:e.value,attrs:{label:e.name,value:e.mark}})})),1)],1),i("el-form-item",{attrs:{label:"签章名称",prop:"id"}},[i("el-select",{staticStyle:{width:"100%"},model:{value:e.model.id,callback:function(t){e.$set(e.model,"id",t)},expression:"model.id"}},e._l(e.classList,(function(e){return i("el-option",{key:e.id,attrs:{label:e.fieldname||e.name,value:e.id}})})),1)],1)],1)],1),e._m(0),i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",data:e.uploadData,action:e.uploadUrl,"on-success":e.handleSuccess,"on-remove":e.handleRemove,"before-upload":e.beforeAvatarUpload,"auto-upload":!1,accept:"application/pdf","on-change":function(t,a){e.handleChangeFile(t,a)}}},[i("div",{staticClass:"uploader-box webkit-transition"},[i("div",{staticClass:"uploader-img"},[i("img",{attrs:{src:a("1f3f"),alt:""}})]),i("div",{staticClass:"uploader-tips"},[e._v("点击上传文件")])])]),i("el-button",{staticClass:"submit-btn",attrs:{type:"primary"},on:{click:e.submitUpload}},[e._v(" 在线验证 ")])],1)])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[e._v(" 上传电子签章文件: "),a("div",{staticClass:"tips"},[e._v("只能上传pdf文件，且不超过200MB")])])}],o=a("1da1"),s=(a("96cf"),a("99af"),a("d3b7"),a("a434"),a("b0c0"),a("cf45")),r={name:"DocumentOriginTrace",components:{},props:{},data:function(){return{fileListL:[],fileName:"",fileData:null,msgData:"",stampList:[],signList:[],categoryList:[{value:"DZQZPARAM_DZQZFL1",mark:0,name:"签章分类一"},{value:"DZQZPARAM_XTQZ",mark:1,name:"系统签章"}],classList:[],signatureList:[{id:"DZQZPARAM_DZQZFL1_北京数字认证测试章一",name:"北京数字认证测试章一"},{id:"DZQZPARAM_DZQZFL1_江苏智慧CA电子签章一",name:"江苏智慧CA电子签章一"}],model:{category:"",id:""},rules:{category:[{required:!0,trigger:"change",message:"请选择签章分类"}],name:[{required:!0,trigger:"change",message:"请选择签章名称"}]},uploadData:null,url:{stamp:"/sys/stamp/pageList",sign:"/eleSign/signatureInfoList"}}},watch:{},computed:{uploadUrl:function(){return window._CONFIG["domainURL"]+"/eleSign/checkSignInfo?__sid="+Object(s["e"])("ARCAMEL-JESSIONID")}},methods:{onCategoryChange:function(e){this.model.id="","0"==e?this.classList=this.stampList:"1"==e&&(this.classList=this.signList)},submitUpload:function(){this.fileName?(this.uploadData=Object.assign({},this.model),this.showMsg(this.msgData),this.$refs.upload.submit()):this.$message.error("请先选择要验证的文件！")},showMsg:function(e){var t="文件来源";e&&this.$alert(e,t,{confirmButtonText:"确定",dangerouslyUseHTMLString:!0,callback:function(e){}})},handleSuccess:function(e){var t="",a=null;if(e&&"200"==e.code&&(a=e.data),a)if("true"==a)t="Docunebt verifies：签章有效，文档未被修改";else{var i=JSON.parse(a).message[0];t="Signature name：".concat(i.fieldName||"","<br/>Subject：").concat(i.certDNs||"","<br/>Docunebt verifies：签章有效，文档未被修改")}else t="电子签章验证失败";this.msgData=t,this.showMsg(this.msgData)},handleRemove:function(e,t){this.fileName="",this.msgData=""},beforeAvatarUpload:function(){var e=this;return new Promise((function(t,a){e.$nextTick((function(){return t()}))}))},handleChangeFile:function(e,t){var a=e.size/1024/1024<200;if(!a)return this.$message.error("文件大小不能超过 200MB!"),void(this.$refs["upload"].uploadFiles=[]);t.length>1&&t.splice(0,1),this.fileData=e,this.fileName=e.name,"success"!=e.status&&(this.msgData="")},getSignList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.url.sign,i={page:1,limit:9999},n="post",t.next=5,e.$api.httpAction(a,i,n);case 5:o=t.sent,s=o.data,e.signList=s.results;case 8:case"end":return t.stop()}}),t)})))()},getSampList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.url.stamp,i={page:1,limit:9999},n="post",t.next=5,e.$api.httpAction(a,i,n);case 5:o=t.sent,s=o.data,e.stampList=s||s.results;case 8:case"end":return t.stop()}}),t)})))()}},created:function(){this.getSignList(),this.getSampList()},mounted:function(){}},l=r,c=(a("f950"),a("2877")),d=Object(c["a"])(l,i,n,!1,null,"b8f6b148",null);t["default"]=d.exports},"2ca2":function(e,t,a){},"2cd5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-item"},[e.isInput?a("el-input",e._g(e._b({attrs:{size:"mini"},model:{value:e.currentVal,callback:function(t){e.currentVal=t},expression:"currentVal"}},"el-input",e.bindProps,!1),e.bindEvents)):e._e(),e.isInputNumber?a("el-input-number",e._g(e._b({attrs:{"controls-position":e.itemOptions["controls-position"]||"right",size:"mini"},model:{value:e.currentVal,callback:function(t){e.currentVal=t},expression:"currentVal"}},"el-input-number",e.bindProps,!1),e.bindEvents)):e._e(),e.isSelect?a("el-select",e._g(e._b({attrs:{size:"mini",clearable:""},model:{value:e.currentVal,callback:function(t){e.currentVal=t},expression:"currentVal"}},"el-select",e.bindProps,!1),e.bindEvents),e._l(e.itemOptions.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e(),e.isDatePickerDateRange?a("el-date-picker",e._g(e._b({attrs:{type:e.itemOptions.type||"datetimerange",size:"mini",clearable:"","picker-options":e.pickerOptionsRange,"start-placeholder":"开始日期","range-separator":"至","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"],"value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.currentVal,callback:function(t){e.currentVal=t},expression:"currentVal"}},"el-date-picker",e.bindProps,!1),e.bindEvents)):e._e(),e.isDatePickerMonthRange?a("el-date-picker",e._g(e._b({attrs:{type:"monthrange",size:"mini",clearable:"","picker-options":e.pickerOptionsRangeMonth,"start-placeholder":"开始日期","range-separator":"至","end-placeholder":"结束日期","value-format":"yyyy-MM"},model:{value:e.currentVal,callback:function(t){e.currentVal=t},expression:"currentVal"}},"el-date-picker",e.bindProps,!1),e.bindEvents)):e._e(),e.isDatePickerOthers?a("el-date-picker",e._g(e._b({attrs:{type:e.itemOptions.type,size:"mini",clearable:"",placeholder:"请选择日期"},model:{value:e.currentVal,callback:function(t){e.currentVal=t},expression:"currentVal"}},"el-date-picker",e.bindProps,!1),e.bindEvents)):e._e(),e.isCascader?a("el-cascader",e._g(e._b({attrs:{size:"mini",clearable:""},model:{value:e.currentVal,callback:function(t){e.currentVal=t},expression:"currentVal"}},"el-cascader",e.bindProps,!1),e.bindEvents)):e._e()],1)},n=[],o=a("5530"),s=a("b893"),r={components:{},inheritAttrs:!1,props:{value:{},itemOptions:{type:Object,default:function(){return{}}}},data:function(){return{pickerOptionsRange:s["a"].pickerOptionsRange,pickerOptionsRangeMonth:s["a"].pickerOptionsRangeMonth}},computed:{currentVal:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},bindProps:function(){var e=Object(o["a"])({},this.itemOptions);return delete e.label,delete e.prop,delete e.element,delete e.initValue,delete e.rules,delete e.events,"el-select"===e.element&&delete e.options,e},bindEvents:function(){return this.itemOptions.events||{}},isInput:function(){return"el-input"===this.itemOptions.element},isInputNumber:function(){return"el-input-number"===this.itemOptions.element},isSelect:function(){return"el-select"===this.itemOptions.element},isDatePickerDateRange:function(){var e="el-date-picker"===this.itemOptions.element,t=!this.itemOptions.type||"datetimerange"===this.itemOptions.type||"daterange"===this.itemOptions.type;return e&&t},isDatePickerMonthRange:function(){var e="el-date-picker"===this.itemOptions.element,t="monthrange"===this.itemOptions.type;return e&&t},isDatePickerOthers:function(){var e="el-date-picker"===this.itemOptions.element;return e&&!this.isDatePickerDateRange&&!this.isDatePickerMonthRange},isCascader:function(){return"el-cascader"===this.itemOptions.element}},created:function(){},methods:{}},l=r,c=a("2877"),d=Object(c["a"])(l,i,n,!1,null,"9e212604",null);t["default"]=d.exports},"2d17":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{title:e.title,visible:e._listenerDrawer,direction:"rtl"},on:{"update:visible":function(t){e._listenerDrawer=t},open:e.init}},[a("div",{staticStyle:{padding:"10px"}},[a("el-table",{ref:"listenersRef",attrs:{data:e.listeners,border:"",fit:"","highlight-current-row":""},on:{"row-click":e.editListener}},[a("el-table-column",{attrs:{prop:"eventType",label:"事件",align:"center"}}),a("el-table-column",{attrs:{prop:"listenerType",label:"类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.listenerType[t.row.listenerType]))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{icon:"el-icon-delete"},nativeOn:{click:function(t){return t.stopPropagation(),e.deleteListener(i)}}})]}}])})],1),e.showForm?a("div",[a("el-divider"),a("el-form",{attrs:{model:e.listener,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"事件类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.listener.eventType,callback:function(t){e.$set(e.listener,"eventType",t)},expression:"listener.eventType"}},e._l(e.eventTypes,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"监听类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.listener.listenerType,callback:function(t){e.$set(e.listener,"listenerType",t)},expression:"listener.listenerType"}},e._l(e.listenerTypes,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"值",prop:"value"}},[a("el-input",{model:{value:e.listener.value,callback:function(t){e.$set(e.listener,"value",t)},expression:"listener.value"}})],1),a("el-form-item",{attrs:{label:"参数"}},[a("el-badge",{attrs:{value:e.listenerParams.length}},[a("el-button",{on:{click:e.editListenerParams}},[e._v("编辑")])],1)],1)],1)],1):e._e()],1),a("div",{staticStyle:{"text-align":"right",padding:"10px"}},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.addListener}},[e._v("添加")]),a("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e._listenerDrawer=!1}}},[e._v("取消")]),a("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:e.save}},[e._v("确定")])],1),a("listener-param",{attrs:{title:"参数维护",listenerParamsDrawer:e.listenerParamsDrawer,listenerParams:e.listenerParams},on:{changeListenerParamsDrawer:e.changeListenerParamsDrawer,saveListenerParams:e.saveListenerParams}})],1)},n=[],o=(a("d81d"),a("4de4"),a("d3b7"),a("ddb0"),a("b0c0"),a("a434"),a("159b"),a("917d")),s=a("4f13"),r=a("ca00"),l={components:{ListenerParam:s["default"]},props:{listenerDrawer:{type:Boolean,default:!1},title:{type:String,default:""},type:{type:String,default:"Execution"}},mixins:[o["a"]],computed:{_listenerDrawer:{get:function(){return this.listenerDrawer},set:function(e){this.$emit("changeListenerDrawer",e)}}},data:function(){return{listeners:[],listenerType:{class:"类",expression:"表达式",delegateExpression:"代理表达式"},excutionEventTypes:[{value:"start",label:"start"},{value:"take",label:"take"},{value:"end",label:"end"}],taskEventTypes:[{value:"create",label:"create"},{value:"assignment",label:"assignment"},{value:"complete",label:"complete"},{value:"delete",label:"delete"}],eventTypes:"Execution"===this.type?this.excutionEventTypes:this.taskEventTypes,listenerTypes:[{value:"class",label:"类"},{value:"expression",label:"表达式"},{value:"delegateExpression",label:"代理表达式"}],listener:{id:"",eventType:"start",listenerType:"class",value:""},showForm:!1,listenerParamsDrawer:!1,listenerParams:[]}},mounted:function(){this.init()},methods:{init:function(){var e,t,a=this;this.eventTypes="Execution"===this.type?this.excutionEventTypes:this.taskEventTypes,this.showForm=!1,this.listener={id:"",eventType:"start",listenerType:"class",value:""},this.listeners=null!==(e=null===(t=this.element.businessObject.extensionElements)||void 0===t?void 0:t.values.filter((function(e){return e.$type===a.descriptorPrefix+a.type+"Listener"})).map((function(e){var t,a,i;return"class"in e&&(i="class"),"expression"in e&&(i="expression"),"delegateExpression"in e&&(i="delegateExpression"),{eventType:e.event,listenerType:i,value:e[i],params:null!==(t=null===(a=e.fields)||void 0===a?void 0:a.map((function(e){var t,a;return"string"in e&&(t="string",a=e.string.body),"expression"in e&&(t="expression",a=e.expression.body),{name:e.name,paramType:t,value:a}})))&&void 0!==t?t:[]}})))&&void 0!==e?e:[]},addListener:function(){this.showForm=!0;var e={id:Object(r["f"])(),eventType:void 0,listenerType:void 0,value:""};this.listeners.push(e),this.listener=e,this.$refs["listenersRef"].setCurrentRow(e,!0),this.listenerParams=[]},deleteListener:function(e){var t=this.listeners.indexOf(e);this.listeners.splice(t,1),this.showForm=!1,this.listenerParams=[]},editListener:function(e){var t,a;this.showForm=!0,this.listener=e;var i=this.listeners.indexOf(this.listener);this.listenerParams=null!==(t=null===(a=this.listeners[i])||void 0===a?void 0:a.params)&&void 0!==t?t:[]},editListenerParams:function(){this.listenerParamsDrawer=!0},changeListenerParamsDrawer:function(e){this.listenerParamsDrawer=e},saveListenerParams:function(e){var t=this.listeners.indexOf(this.listener);this.listeners[t].params=e,this.listenerParams=e},save:function(){var e,t,a,i,n=this,o=this.element.businessObject.get("extensionElements");o||(o=this.modeler.get("moddle").create("bpmn:ExtensionElements")),o.values=null!==(e=null===(t=o.values)||void 0===t?void 0:t.filter((function(e){return e.$type!==n.descriptorPrefix+n.type+"Listener"})))&&void 0!==e?e:[],this.listeners.forEach((function(e){var t=n.modeler.get("moddle").create(n.descriptorPrefix+n.type+"Listener");t["event"]=e.eventType,t[e.listenerType]=e.value,e.params&&e.params.length&&e.params.forEach((function(e){var a=n.modeler.get("moddle").create(n.descriptorPrefix+"Field");a["name"]=e.name;var i=n.modeler.get("moddle").create(n.descriptorPrefix+e.paramType,{body:e.value});a.set(e.paramType,i),t.get("fields").push(a)})),o.get("values").push(t)})),this.updateProperties({extensionElements:0==(null===(a=o.get("values"))||void 0===a?void 0:a.length)?void 0:o}),this._listenerDrawer=!1,this.$emit("saveListener",null===(i=this.listeners)||void 0===i?void 0:i.length)}}},c=l,d=(a("3c92"),a("2877")),u=Object(d["a"])(c,i,n,!1,null,null,null);t["default"]=u.exports},"2d66":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tooltip",{attrs:{content:e.$t("common_flush"),placement:"top"}},[a("el-button",{attrs:{circle:"",icon:"el-icon-refresh"},on:{click:e.search}})],1),a("el-tooltip",{attrs:{content:e.$t("common_show")+"/"+e.$t("common_hide"),placement:"top"}},[a("el-button",{attrs:{circle:"",icon:"el-icon-menu"},on:{click:e.showColumn}})],1),a("drag-dialog",{attrs:{"drag-dialog":e.dialog}},[a("el-transfer",{attrs:{titles:[e.$t("common_show"),e.$t("common_hide")],data:e.transfer.data},on:{change:e.dataChange},model:{value:e.transfer.values,callback:function(t){e.$set(e.transfer,"values",t)},expression:"transfer.values"}})],1)],1)},n=[],o=a("5530"),s=(a("4de4"),a("caad"),a("2532"),a("159b"),a("b0c0"),a("eddf")),r={name:"OperMenu",components:{DragDialog:s["a"]},props:{handleMenus:{type:Array}},data:function(){return{dialog:{width:"30",height:"80",title:"",showFooter:!1},transfer:{values:[],data:[]}}},methods:{search:function(){this.$emit("search")},dataChange:function(e){var t=this.handleMenus.filter((function(t){return!e.includes(t.prop)}));this.$emit("showColumn",t)},handleData:function(){var e=[];this.handleMenus.forEach((function(t){var a=t.label,i=t.prop;a&&i&&e.push({label:a,key:i})})),this.transfer=Object(o["a"])(Object(o["a"])({},this.transfer),{},{data:e})},showColumn:function(){var e=this;this.dialog=Object(o["a"])(Object(o["a"])({},this.dialog),{},{width:550,height:380,title:this.$t("common_show")+"/"+this.$t("common_hide"),name:"showHide"}),this.handleData();var t=this.dialog.name;this.$nextTick((function(){e.$modal.show(t)}))}}},l=r,c=(a("9b8d6"),a("2877")),d=Object(c["a"])(l,i,n,!1,null,"22ab8ea4",null);t["default"]=d.exports},"2da7":function(e,t,a){},"2de5":function(e,t,a){"use strict";a("a3d4")},"2e5f":function(e,t,a){"use strict";a.r(t);a("d81d"),a("2f62");var i,n,o={name:"BtnList",props:{btnInfo:{type:Array}},computed:{themeImg:function(){return this.$store.state.settings.themeImg}},mounted:function(){},methods:{},render:function(e){var t=this.btnInfo,a=this.themeImg;return e("div",[t.map((function(t,i){var n=t.type,o=t.icon,s=t.color,r=t.cursor,l=t.dropDownItems,c=(t.popover,t.popText,t.content),d=t.imgIcon,u=(t.className,t.effect),p=t.tooltipContent,m=t.placement,h=t.permission,f=t.event;return d?p?e("el-tooltip",{attrs:{effect:u||"dark",placement:m||"bottom"}},[e("div",{slot:"content",domProps:{innerHTML:p}}),e("span",{directives:[{name:"has",value:h}]},[e("img",{class:"logo-fill",attrs:{src:"static/img/icon/"+d+"-"+a+".svg"},on:{click:function(e){e.stopPropagation(),f()}}})])]):e("span",{directives:[{name:"has",value:h}]},[e("img",{class:"logo-fill",attrs:{src:"static/img/icon/"+d+"-"+a+".svg"},on:{click:function(e){e.stopPropagation(),f()}}})]):"dropDown"===n?e("el-dropdown",{attrs:{size:"mini"}},[e("el-button",{attrs:{type:"text",size:"mini",icon:o?"el-icon-"+o:""},style:{color:s},directives:[{name:"has",value:h}]},[c,e("i",{class:"el-icon-caret-bottom el-icon--right"})]),e("el-dropdown-menu",{slot:"dropdown"},[l.map((function(t,a){return e("el-dropdown-item",{nativeOn:{click:function(e){e.stopPropagation(),t.event()}}},[t.content])}))])]):p?e("el-tooltip",{attrs:{effect:u||"dark",placement:m||"bottom"}},[e("div",{slot:"content",domProps:{innerHTML:p}}),e("el-button",{attrs:{type:n||"default",size:"mini",icon:o?"el-icon-"+o:""},style:{color:s},directives:[{name:"has",value:h}],on:{click:function(e){e.stopPropagation(),f()}}},[c])]):e("el-button",{attrs:{type:n||"default",size:"mini",icon:o?"el-icon-"+o:""},style:{color:s,cursor:r},directives:[{name:"has",value:h}],on:{click:function(e){e.stopPropagation(),f()}}},[c])}))])}},s=o,r=(a("a394"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"a6edd8a8",null);t["default"]=l.exports},"2fcf":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-popover",{attrs:{placement:"top",width:"160"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("div",{staticClass:"pb-3 flex"},[a("span",{staticClass:"px-1 text-orange-500 font-mono"},[a("i",{staticClass:"el-icon-warning"})]),e._t("popover-title",[e._v(e._s(e.$t("common_confirm")))])],2),a("div",{staticClass:"text-right"},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:e.cancel}},[e._v(e._s(e.$t("common_cancel"))+" ")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.confirm}},[e._v(e._s(e.$t("common_confirm"))+" ")])],1),a("div",{attrs:{slot:"reference"},slot:"reference"},[e._t("popover-content")],2)])},n=[],o={name:"PopoverConfirm",props:{popoverShow:{type:Boolean,default:!1}},data:function(){return{show:this.popoverShow}},methods:{confirm:function(){this.show=!1,this.$emit("confirm")},cancel:function(){this.show=!1}}},s=o,r=a("2877"),l=Object(r["a"])(s,i,n,!1,null,"1b1315b2",null);t["default"]=l.exports},3014:function(e,t,a){},"30c1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"max-height"},[a("el-col",{staticClass:"max-height",attrs:{span:3}},[a("div",{staticClass:"max-height left-side border-solid-right",staticStyle:{position:"relative"}},[a("div",{staticClass:"tree-title"},[e._v("档案分类树")]),a("div",{staticClass:"overflow-auto"},[a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],attrs:{data:e.treeData,"default-checked-keys":e.defaultCheckedKeys,"default-expanded-keys":e.defaultExpandedKeys},on:{click:e.treeNodeClick}})],1),a("div",{staticClass:"ces"},[e._v(" < ")])])]),a("el-col",{staticClass:"max-height",attrs:{span:21}},[a("div",{staticClass:"max-height card-scroll"},[a("card-sort")],1),e.fileBoxShow?a("div",[a("div",{staticClass:"operate-box nowrap flex justify-between"},[a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.add("1")}}},[e._v(" 新增 ")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.similarAdd("1")}}},[e._v(" 类似新建 ")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-finished"},on:{click:function(t){return e.batchUpdate("1")}}},[e._v(" 批量修改 ")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-upload2"},on:{click:e.subReview}},[e._v(" 送审 ")]),a("el-dropdown",{on:{command:e.handleCommand}},[a("el-button",{attrs:{type:"primary"}},[e._v(" 导出导入"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"expCheckData"}},[e._v("导出勾选数据")]),a("el-dropdown-item",{attrs:{command:"dowImpTemp"}},[e._v("下载导入模板")]),a("el-dropdown-item",{attrs:{command:"impData"}},[e._v("导入数据")])],1)],1),a("el-dropdown",{staticStyle:{"margin-left":"10px"}},[a("el-button",{attrs:{type:"primary"}},[e._v(" 打印"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[e._v("目录报表")])],1)],1)],1),a("div",{staticClass:"flex"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"输入用户名"},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.queryList("1")}}},[e._v(" 搜索 ")])],1)]),a("div",{staticClass:"auto-scroll"},[a("arch-dyn-table",{ref:"fileBox",attrs:{"template-id":e.templateId,"oth-type":1,"is-select":e.fileBoxObj.isSelect,"cate-code":e.cateCode,transfered:e.transfered,"oper-col":e.fileBoxObj.operCol},on:{"cell-click":e.cellClickFile}})],1)]):e._e(),a("hr"),e.fileReelShow?a("div",[a("div",{staticClass:"operate-box nowrap flex justify-between"},[a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.add("2")}}},[e._v(" 新增 ")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.similarAdd("2")}}},[e._v(" 类似新建 ")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-finished"},on:{click:function(t){return e.batchUpdate("2")}}},[e._v(" 批量修改 ")]),a("el-dropdown",[a("el-button",{attrs:{type:"primary"}},[e._v(" 打印"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[e._v("目录报表")])],1)],1)],1),a("div",{staticClass:"flex"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.queryList("2")}}},[e._v(" 搜索 ")])],1)]),a("div",{staticClass:"auto-scroll"},[a("arch-dyn-table",{ref:"fileReel",attrs:{"template-id":e.templateId,"oth-type":2,"is-select":e.fileReelObj.isSelect,"vol-id":e.volId,"cate-code":e.cateCode,transfered:e.transfered,"oper-col":e.fileReelObj.operCol}})],1)]):e._e()])],1),e.fileBoxReelModule.show?a("file-box-reel-module",{ref:"fileBoxReelModule",attrs:{title:e.fileBoxReelModule.textMap[e.fileBoxReelModule.status],status:e.fileBoxReelModule.status},on:{ok:function(t){return e.queryList("1")},close:function(t){e.fileBoxReelModule.show=!1}}}):e._e(),e.batchUpModuleShow?a("batch-update-module",{ref:"batchUpdateModule",on:{ok:function(t){return e.queryList("1")},close:function(t){e.batchUpModuleShow=!1}}}):e._e(),e.reviewModuleShow?a("review-module",{ref:"reviewModule",on:{ok:function(t){return e.queryList("1")},close:function(t){e.reviewModuleShow=!1}}}):e._e()],1)},n=[],o=a("1da1"),s=a("5530"),r=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("99af"),a("4de4"),a("159b"),a("b0c0"),a("60f9")),l=a("2e5f"),c=(a("ed08"),a("facc")),d=a("f07a"),u=a("1a36"),p=a("dca2"),m=a("9f6e"),h=a("2f62"),f=(a("ca00"),{name:"CollectionListCopy",components:{BasicTree:r["default"],BtnList:l["default"],ArchDynTable:c["default"],FileBoxReelModule:u["default"],ReviewModule:p["default"],BatchUpdateModule:m["default"],CardSort:d["default"]},data:function(){var e=this;this.$createElement;return{initLoadOver:!1,transfered:"1,2,3,5",fileBoxShow:!1,fileReelShow:!1,volId:"",templateId:"",cateCode:"",treeData:[],defaultCheckedKeys:[],defaultExpandedKeys:[],defaultExpandAll:!1,searchText:"",fileBoxObj:{isSelect:!0,operCol:[{label:"操作",prop:"oper",width:160,fixed:"right",render:function(t,a){var i=a.row,n=[{content:"编辑/阅览",type:"text",icon:"edit",event:function(){e.edit(i,"1")}},{content:"删除",type:"text",icon:"delete",color:"#F56C6C",event:function(){e.delete(i,"1")}}];return t(l["default"],{attrs:{btnInfo:n}})}}]},fileReelObj:{isSelect:!0,operCol:[{label:"操作",prop:"oper",width:160,fixed:"right",render:function(t,a){var i=a.row,n=[{content:"编辑/上传",type:"text",icon:"edit",event:function(){e.edit(i,"2")}},{content:"删除",type:"text",icon:"delete",color:"#F56C6C",event:function(){e.delete(i,"2")}}];return t(l["default"],{attrs:{btnInfo:n}})}}]},url:{codeTree:"/category/archCateTree",filesList:"/dynamic/list",getFields:"/queryFld/qfListVo",subReviewApi:"",deleteArrange:"/archArrange/delete",dowImpTemp:"/resource/templates",expCheckData:"/arch/exportExcel",addTransferForm:"/transferForm/add",searchFld:"/searchFld/sfList"},fileBoxReelModule:{show:!1,status:"create",textMap:{update:"编辑",create:"添加",similarAdd:"类似新建"},loading:!1},batchUpModuleShow:!1,reviewModuleShow:!1}},watch:{defaultCheckedKeys:function(e){e&&this.$nextTick((function(){document.querySelector(".el-icon-document-copy").click()}))}},computed:Object(s["a"])(Object(s["a"])({},Object(h["c"])(["userInfo"])),{},{domainURL:function(){return window._CONFIG["domainURL"]}}),created:function(){this.getTreeData()},mounted:function(){},methods:{subReview:function(){var e=this;if(!this.$refs["fileBox"].table.selection.length>0)this.$sweetAlert.warnWithTimer("请勾选案卷进行送审！");else{for(var t=this.$refs["fileBox"].table.selection,a="",i=0;i<t.length;i++){if(2===t[i].TRANSFER_STATUS)return void this.$sweetAlert.warnWithTimer("存在不能送审数据！");i==t.length-1?a+=t[i].ID:a+=t[i].ID+","}this.$confirm("确定送审所选数据??","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={othType:"1",ids:a,transferDeptName:e.userInfo.baName,transferDeptCode:e.userInfo.currOrgan.id,templateId:e.templateId};e.$api.httpAction(e.url.addTransferForm,t,"post").then((function(t){"200"==t.code?e.showReviewModule(t.data):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))}},showReviewModule:function(e){var t=this;this.reviewModuleShow=!0,this.$nextTick((function(){t.$refs["reviewModule"].initForm(e,t.cateCode)}))},treeNodeClick:function(e){var t=this;"0"==e.children.length?(this.fileBoxShow=!1,this.fileReelShow=!1,this.templateId=e.templateId,this.cateCode=e.cateCode,this.fileBoxShow||(this.fileBoxShow=!0),this.$nextTick((function(){t.$refs["fileBox"].getFields(e.templateId,"1")}))):this.$sweetAlert.errorWithTimer("请选择子节点进行业务操作！")},getSearchField:function(){var e=this,t={id:""};this.$api.getAction(this.url.searchFld,t).then((function(t){"200"===t.code&&(e.logInfo=t.data)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))},delete:function(e,t){var a=this;this.$confirm("确定删除?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i={id:e.ID,othType:t};a.$api.httpAction(a.url.deleteArrange,i,"post").then((function(e){"200"==e.code?(a.$sweetAlert.successWithTimer(e.msg),a.queryList(t)):a.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))},selection:function(e,t){e.length?this.show=Object(s["a"])(Object(s["a"])({},this.show),{},{batch:!0}):this.show=Object(s["a"])(Object(s["a"])({},this.show),{},{batch:!1}),this.table=Object(s["a"])(Object(s["a"])({},this.table),{},{selection:e})},cellClickFile:function(e){var t=this;this.volId=e.ID,this.fileReelShow||(this.fileReelShow=!0),this.$nextTick((function(){t.$refs["fileReel"].getFields(t.templateId,"2")}))},queryList:function(e){"1"!=e?(this.$refs.fileReel.queryData="",this.$refs.fileReel.queryList()):this.$refs.fileBox.queryList()},add:function(e){var t=this;this.fileBoxReelModule.status="create",this.fileBoxReelModule.show=!0,this.$nextTick((function(){t.$refs["fileBoxReelModule"].initForm(null,t.templateId,e,t.cateCode)}))},similarAdd:function(e){var t=this;if(1==this.$refs["1"==e?"fileBox":"fileReel"].table.selection.length){var a=null;"1"!=e?(a=this.$refs["fileReel"].table.selection[0],delete a.ID,delete a.TRANSFER_STATUS,delete a.DEPT_CODE,delete a.ARCH_RULE):(a=this.$refs["fileBox"].table.selection[0],delete a.ID,delete a.DOC_TOTAL,delete a.TRANSFER_STATUS,delete a.DEPT_CODE,delete a.ARCH_RULE),this.fileBoxReelModule.status="similarAdd",this.fileBoxReelModule.show=!0,this.$nextTick((function(){t.$refs["fileBoxReelModule"].initForm(a,t.templateId,e,t.cateCode)}))}else this.$sweetAlert.warnWithTimer("请勾选一条数据进行类似新增！")},batchUpdate:function(e){var t=this;this.$refs["1"==e?"fileBox":"fileReel"].table.selection.length<=0?this.$sweetAlert.warnWithTimer("请至少勾选一条数据进行批量修改！"):(this.batchUpModuleShow=!0,this.$nextTick((function(){t.$refs["batchUpdateModule"].initForm(e,t.templateId)})))},edit:function(e,t){var a=this;this.fileBoxReelModule.status="update",this.fileBoxReelModule.show=!0,this.$nextTick((function(){a.$refs["fileBoxReelModule"].initForm(e,a.templateId,t,a.cateCode)}))},handleCommand:function(e){switch(e){case"expCheckData":this.expCheckData();break;case"dowImpTemp":this.dowImpTemp();break;case"impData":this.impData();break;default:break}},expCheckData:function(){var e=this;if(!this.$refs["fileBox"].table.selection.length>0)this.$sweetAlert.warnWithTimer("请至少勾选一条数据！");else{for(var t=this.$refs["fileBox"].table.selection,a="",i=0;i<t.length;i++)i==t.length-1?a+=t[i].ID:a+=t[i].ID+",";var n={templateId:this.templateId,ids:a,othType:"1"};this.$api.downFile(this.url.expCheckData,n).then((function(t){if(t){var a="导出数据";if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([t]),a+".xlsx");else{var i=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.style.display="none",n.href=i,n.setAttribute("download",a+".xlsx"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}}else e.$sweetAlert.errorWithTimer("文件下载失败！")}))}},impData:function(){},dowImpTemp:function(){var e="archive-vol.xlsx",t=this.domainURL+this.url.dowImpTemp.concat("/")+e;window.open(t,"_parent")},getTreeData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.getAction(e.url.codeTree,{});case 3:a=t.sent,i=a.treeData,e.treeData=e.setTreeData(i),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},setTreeData:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));return t.forEach((function(e){e.elIcon="folder",e.label=e.name})),t},setDefaultCheck:function(e){var t=e[0].id,a=list.filter((function(e){return e.parentId==t}));this.defaultExpandedKeys.push(t);var i=this,n=function e(t){if(t.length){var a=t[0].id;i.defaultExpandedKeys.push(a),t=list.filter((function(e){return e.parentId==a})),e(t)}else i.defaultCheckedKeys.push(i.defaultExpandedKeys[i.defaultExpandedKeys.length-1])};n(a)}}}),v=f,b=(a("e22d"),a("2877")),g=Object(b["a"])(v,i,n,!1,null,"c632757c",null);t["default"]=g.exports},"333d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},n=[];a("a9e3");Math.easeInOutQuad=function(e,t,a,i){return e/=i/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function s(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function r(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function l(e,t,a){var i=r(),n=e-i,l=20,c=0;t="undefined"===typeof t?500:t;var d=function e(){c+=l;var r=Math.easeInOutQuad(c,i,n,t);s(r),c<t?o(e):a&&"function"===typeof a&&a()};d()}var c={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&l(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&l(0,800)}}},d=c,u=(a("c844"),a("2877")),p=Object(u["a"])(d,i,n,!1,null,"11006834",null);t["default"]=p.exports},3342:function(e,t){e.exports="data:image/png;base64,"},"33f6":function(e,t,a){},3501:function(e,t,a){"use strict";a("6a8ff")},3535:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container max-height tab-pane-box flex-column"},[i("div",{staticClass:"page-title"},[e._v("文件来源追溯")]),i("div",{staticClass:"file-box"},[e._m(0),i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",action:e.uploadUrl,"on-success":e.handleSuccess,"on-remove":e.handleRemove,"before-upload":e.beforeAvatarUpload,"auto-upload":!1,accept:"application/pdf","on-change":function(t,a){e.handleChangeFile(t,a)}}},[i("div",{staticClass:"uploader-box webkit-transition"},[i("div",{staticClass:"uploader-img"},[i("img",{attrs:{src:a("1f3f"),alt:""}})]),i("div",{staticClass:"uploader-tips"},[e._v("点击上传文件")])])]),i("el-button",{staticClass:"submit-btn",attrs:{type:"primary"},on:{click:e.submitUpload}},[e._v(" 开始追溯 ")])],1)])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[e._v(" 上传PDF文件： "),a("div",{staticClass:"tips"},[e._v("只能上传pdf文件，且不超过200MB")])])}],o=(a("99af"),a("d3b7"),a("a434"),a("b0c0"),a("cf45")),s={name:"DocumentOriginTrace",components:{},props:{},data:function(){return{fileListL:[],fileName:"",fileData:null,msgData:""}},watch:{},computed:{uploadUrl:function(){return window._CONFIG["domainURL"]+"/statisticFile/trace?__sid="+Object(o["e"])("ARCAMEL-JESSIONID")}},methods:{submitUpload:function(){this.fileName?(this.showMsg(this.msgData),this.$refs.upload.submit()):this.$message.error("请先选择要验证的文件！")},showMsg:function(e){var t="文件来源";e&&this.$alert(e,t,{confirmButtonText:"确定",dangerouslyUseHTMLString:!0,callback:function(e){}})},handleSuccess:function(e){var t="",a=null;if(e&&"200"==e.code&&(a=e.data),a){var i=a.info;t="创建人账号：".concat(i.userAccount||"","<br/>创建人姓名：").concat(i.userName||"","<br/>文件创建IP地址：").concat(i.userIp,"<br/>文件创建日期：").concat(a.createDate,"<br/>档案系统名称：").concat(i.servName,"<br/>档案系统MAC地址：").concat(i.servMac)}else t="文件来源追溯失败";this.msgData=t,this.showMsg(this.msgData)},handleRemove:function(e,t){this.fileName="",this.msgData=""},beforeAvatarUpload:function(){var e=this;return new Promise((function(t,a){e.$nextTick((function(){return t()}))}))},handleChangeFile:function(e,t){var a=e.size/1024/1024<200;if(!a)return this.$message.error("文件大小不能超过 200MB!"),void(this.$refs["upload"].uploadFiles=[]);t.length>1&&t.splice(0,1),this.fileData=e,this.fileName=e.name,"success"!=e.status&&(this.msgData="")}},created:function(){},mounted:function(){}},r=s,l=(a("cad9"),a("2877")),c=Object(l["a"])(r,i,n,!1,null,"086923a2",null);t["default"]=c.exports},"35af":function(e,t,a){"use strict";a("896f")},3631:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"fm2-container",class:{"view-mode":e.isView},attrs:{"v-loading":e.isView}},[a("el-header",{attrs:{height:"45px"}},[a("el-button-group",{staticStyle:{margin:"5px"}},[a("el-button",{attrs:{icon:"el-icon-arrow-left"},on:{click:e.handleUndo}},[e._v("撤回")]),a("el-button",{attrs:{icon:"el-icon-arrow-right"},on:{click:e.handleRedo}},[e._v("重做")]),a("el-button",{attrs:{icon:"el-icon-circle-plus-outline"},on:{click:function(t){return e.handleZoom(.2)}}},[e._v("放大")]),a("el-button",{attrs:{icon:"el-icon-help"},on:{click:function(t){return e.handleZoom(0)}}},[e._v("还原")]),a("el-button",{attrs:{icon:"el-icon-remove-outline"},on:{click:function(t){return e.handleZoom(-.2)}}},[e._v("缩小")]),a("el-button",{attrs:{icon:"el-icon-upload2"},on:{click:e.importXml}},[e._v("导入")]),a("el-upload",{staticStyle:{display:"none"},attrs:{action:"","before-upload":e.openBpmn}},[a("el-button",{ref:"importBtn",attrs:{size:"mini",icon:"el-icon-folder-opened"}})],1),a("el-button",{attrs:{icon:"el-icon-download"},on:{click:e.handleExportXmlAction}},[e._v("XML")]),a("el-button",{attrs:{icon:"el-icon-download"},on:{click:e.handleExportSvgAction}},[e._v("SVG ")]),a("el-button",{attrs:{icon:"el-icon-tickets"},on:{click:e.handlePreviewXml}},[e._v("预览")]),a("el-button",{attrs:{icon:"el-icon-delete"},on:{click:e.handleClear}},[e._v("清空")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:model:save",expression:"'flowable:model:save'"}],attrs:{icon:"el-icon-upload"},on:{click:e.handleSave}},[e._v("保存 ")])],1)],1),a("el-main",{staticClass:"fm2-main"},[a("el-container",{staticClass:"center-container"},[a("el-container",{staticClass:"containers"},[a("div",{ref:"canvas",staticClass:"canvas"})]),a("el-aside",{staticClass:"widget-config-container1"},[e.modeler?a("bpmn-element",{ref:"_bpmnElement",attrs:{modeler:e.modeler,formKey:e.formKey,candidateUsers:e.candidateUsers,candidateGroups:e.candidateGroups,processCategory:e.processCategory,taskCategory:e.taskCategory}}):e._e()],1)],1)],1),a("el-dialog",{attrs:{visible:e.xmlVisible,title:"预览",fullscreen:"",center:""},on:{"update:visible":function(t){e.xmlVisible=t}}},[a("vue-ace-editor",{attrs:{lang:"xml",theme:"chrome",width:"100%",height:"calc(100vh - 214px)",options:{wrap:!0,readOnly:!0}},on:{init:e.editorInit},model:{value:e.process.xml,callback:function(t){e.$set(e.process,"xml",t)},expression:"process.xml"}}),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.process.xml,expression:"process.xml",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],attrs:{icon:"el-icon-document",type:"primary"}},[e._v("复 制")]),a("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.xmlVisible=!1}}},[e._v("关闭")])],1)],1)],1)},n=[],o=(a("d81d"),a("b0c0"),a("a4d3"),a("e01a"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("ac1f"),a("5319"),a("159b"),a("ecdc"));function s(e,t){return t=t||{},e=o["b"][e]||e,e.replace(/{([^}]+)}/g,(function(e,a){var i=t[a];return null!==o["b"][t[a]]&&"undefined"!==o["b"][t[a]]&&(i=o["b"][t[a]]),i||"{"+a+"}"}))}var r=a("7024"),l=a("77a9"),c=a("aab9"),d=a("7c9e"),u=a.n(d),p=(a("99af"),function(e,t,a,i){return'<?xml version="1.0" encoding="UTF-8"?>\n<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" \n xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"\n  xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" \n  targetNamespace="'.concat(a,'">\n  <bpmn2:process id="').concat(e,'" name="').concat(t,'" isExecutable="true">\n    <bpmn2:documentation>').concat(i,'</bpmn2:documentation>\n    <bpmn2:startEvent id="StartEvent_1"/>\n  </bpmn2:process>\n  <bpmndi:BPMNDiagram id="BPMNDiagram_1">\n    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement=""').concat(t,'"">\n      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">\n         <dc:Bounds x="160" y="160" width="36" height="36" />\n      </bpmndi:BPMNShape>\n    </bpmndi:BPMNPlane>\n  </bpmndi:BPMNDiagram>\n</bpmn2:definitions>\n')}),m=(a("5c96"),a("0fea")),h=(a("4ec3"),{name:"VueBpmn",props:{isView:{type:Boolean,default:!1},modelData:{type:Object,default:{id:void 0,key:"processId_1",name:"processName_1",category:"category_1",description:"description_1"}}},components:{VueAceEditor:u.a,BpmnElement:l["default"]},data:function(){return{formKey:[],candidateUsers:[],candidateGroups:[],scale:1,modeler:null,process:{xml:"",svg:""},xmlVisible:!1,idTest:/^[a-z_][\w-.]*$/i,processCategory:[],taskCategory:[],formDataPars:{current:1,size:100,limit:100,formKey:void 0,formName:void 0}}},created:function(){this.getFormdataSelect()},mounted:function(){var e=this,t=this;this.getDicts("processCategory,taskCategory").then((function(a){var i,n,o,l,d,u=a.data;t.processCategory=null!==(i=null===(n=u["processCategory"])||void 0===n?void 0:n.map((function(e){return{id:e.value,name:e.content}})))&&void 0!==i?i:[],t.taskCategory=null!==(o=null===(l=u["taskCategory"])||void 0===l?void 0:l.map((function(e){return{id:e.value,name:e.content}})))&&void 0!==o?o:[];e.$refs.canvas;e.modeler=new r["a"]({container:e.$refs.canvas,additionalModules:[{translate:["value",s]}],moddleExtensions:{flowable:c}}),e.createNewDiagram(null===(d=e.modelData)||void 0===d?void 0:d.editor)}))},methods:{editorInit:function(){a("2099"),a("0696"),a("95b8")},getProcessElement:function(){return this.modeler.getDefinitions().rootElements[0]},getProcess:function(){var e=this.getProcessElement();return{id:e.id,name:e.name,category:e.$parent.targetNamespace}},createNewDiagram:function(e){this.process.xml=e||p(this.modelData.key,this.modelData.name,this.modelData.category,this.modelData.description),this.modeler.importXML(this.process.xml,(function(e){}))},setEncoded:function(e,t){var a=encodeURIComponent(t);if(t){if("xml"===e)return this.process.xml=t,{filename:this.process.name+".bpmn20.xml",href:"data:application/bpmn20-xml;charset=UTF-8,"+a,data:t};if("svg"===e)return this.process.svg=t,{filename:this.process.name+".bpmn20.svg",href:"data:application/text/xml;charset=UTF-8,"+a,data:t}}},importXml:function(){this.$refs.importBtn.$el.click()},openBpmn:function(e){var t=this,a=new FileReader;return a.readAsText(e,"utf-8"),a.onload=function(){t.createNewDiagram(a.result)},!1},download:function(e,t,a){var i="",n=document.createElement("a");switch(e){case"xml":i="bpmn";break;case"svg":i="svg";break;default:break}a=a||"diagram.".concat(i),n.setAttribute("href","data:application/bpmn20-xml;charset=UTF-8,".concat(encodeURIComponent(t))),n.setAttribute("target","_blank"),n.setAttribute("dataTrack","diagram:download-".concat(i)),n.setAttribute("download",a),document.body.appendChild(n),n.click(),URL.revokeObjectURL(n.href),document.body.removeChild(n)},handleExportXmlAction:function(){var e=this;this.modeler.saveXML({format:!0},(function(t,a){a=e.replaceLtAndGt(a),e.download("xml",a,e.getProcess().name+".bpmn20.xml")}))},handleExportSvgAction:function(){var e=this;this.modeler.saveSVG({format:!0},(function(t,a){e.download("svg",a,e.getProcess().name+".bpmn20.svg")}))},handlePreviewXml:function(){var e=this;this.modeler.saveXML({format:!0},(function(t,a){e.process.xml=e.replaceLtAndGt(a),e.xmlVisible=!0}))},handleClear:function(){this.createNewDiagram()},handleSave:function(){var e,t=this,a=this;null===(e=this.$refs._bpmnElement)||void 0===e||e.validate().then((function(){var e=t.getProcess().id;t.idTest.test(e)?t.modeler.saveXML({format:!0},(function(e,t){t=a.replaceLtAndGt(t);var i=a.getProcess();a.process.xml=t,a.modelData.editor=t,a.modelData.key=i.id,a.modelData.name=i.name,a.modelData.category=i.category,a.$emit("save",a.modelData)})):t.$sweetAlert.warnWithTimer("流程标识key格式不正确")})).catch((function(e){}))},onCopy:function(){this.$message.success("内容复制成功")},handleRedo:function(){this.modeler.get("commandStack").redo()},handleUndo:function(){this.modeler.get("commandStack").undo()},handleZoom:function(e){var t=e?this.scale+e<=.2?.2:this.scale+e:1;this.modeler.get("canvas").zoom(t),this.scale=t},replaceLtAndGt:function(e){return e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),e},getFormdataSelect:function(){var e=this;0==this.formKey.length&&(Object(m["e"])("/flowable/form/list",this.formDataPars).then((function(t){var a=t.data;e.records=a.records,e.formKey=e.records})),Object(m["e"])("/sys/role/list",this.formDataPars).then((function(t){var a=t.data;e.records=a,e.records.forEach((function(e){e.postName=e.name,e.postId=e.id})),e.candidateGroups=e.records})),Object(m["e"])("/sys/user/list",this.formDataPars).then((function(t){var a=t.data;e.records=a,e.records.forEach((function(e){e.realname=e.userName,e.userId=e.id})),e.candidateUsers=e.records})))}}}),f=h,v=(a("bd3d"),a("2877")),b=Object(v["a"])(f,i,n,!1,null,"2d5a994b",null);t["default"]=b.exports},"36bd":function(e,t,a){},"373c":function(e,t,a){"use strict";a.r(t),t["default"]={prepend:function(e,t,a){return e("template",{slot:"prepend"},[t.__slot__[a]])},append:function(e,t,a){return e("template",{slot:"append"},[t.__slot__[a]])}}},"37e1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{attrs:{id:"video"}})])}],o={name:"ckplaye",props:{videoUrls:{type:String,default:""},autoplay:{type:Boolean,default:!0}},data:function(){return{player:""}},watch:{videoUrls:{handler:function(e){this.initVideo(e)},immediate:!0}},mounted:function(){this.initVideo(this.videoUrls)},methods:{initVideo:function(e){var t={container:"#video",variable:"player",poster:"static/ckplayer/poster.jpg",loop:!1,debug:!1,autoplay:this.autoplay,video:[[e,"video/mp4","中文标清",0]]},a=new ckplayer(t);this.player=a}}},s=o,r=(a("c713"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"78eb38e7",null);t["default"]=l.exports},"3c0b":function(e,t,a){"use strict";a("4500")},"3c92":function(e,t,a){"use strict";a("f96a")},"3c98":function(e,t,a){},"3cbc":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pan-item",style:{zIndex:e.zIndex,height:e.height,width:e.width}},[a("div",{staticClass:"pan-info"},[a("div",{staticClass:"pan-info-roles-container"},[e._t("default")],2)]),a("div",{staticClass:"pan-thumb",style:{backgroundImage:"url("+e.image+")"}})])},n=[],o=(a("a9e3"),{name:"PanThumb",props:{image:{type:String,required:!0},zIndex:{type:Number,default:1},width:{type:String,default:"150px"},height:{type:String,default:"150px"}}}),s=o,r=(a("133c"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"799537af",null);t["default"]=l.exports},"3d09":function(e,t,a){"use strict";a.r(t);var i,n,o={name:"LogoText",props:{logoInfo:{type:Object},height:{type:String,default:"25px"}},computed:{},mounted:function(){},methods:{},render:function(e){var t=this.logoInfo;return e("div",{class:"logo-text"},[e("img",{style:{height:this.height},attrs:{src:t.logo}}),e("div",[t.text])])}},s=o,r=(a("8b76"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"53bd67a2",null);t["default"]=l.exports},"3e04":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.cardload,expression:"cardload"}]},[a("div",{staticStyle:{padding:"8px",height:"55px"}},[a("el-row",{attrs:{gutter:4}},[a("el-col",{attrs:{span:7}},[a("span",{staticStyle:{"font-size":"14px","margin-right":"9px"}},[e._v("保管期限")]),a("dict-select-tag",{staticStyle:{width:"60%"},attrs:{"dict-code":"KEEP_TIME",clearable:!0},model:{value:e.keepTimeValue,callback:function(t){e.keepTimeValue=t},expression:"keepTimeValue"}})],1),a("el-col",{attrs:{span:5,offset:12}},[a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.testClick}},[e._v("统计")])],1)])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",attrs:{height:e.pageheight-200,border:"","header-cell-style":e.headerstyle,"summary-method":e.getSummaries,"show-summary":"",data:e.tableData}},[a("el-table-column",{attrs:{label:"保管期限",align:"center",width:"100px",prop:"keepTime"}}),a("el-table-column",{attrs:{label:"卷级档案",align:"center"}},[a("el-table-column",{attrs:{label:"案卷",align:"center",prop:"volTotal"}}),a("el-table-column",{attrs:{label:"卷内",align:"center",prop:"volInTotal"}}),a("el-table-column",{attrs:{label:"电子档案",align:"center",prop:"volInHasfileTotal"}})],1),a("el-table-column",{attrs:{label:"案卷总数",align:"center",width:"100px",prop:"archiveVolTotal"}}),a("el-table-column",{attrs:{label:"卷内总数",align:"center",width:"100px",prop:"archiveVolInTotal"}}),a("el-table-column",{attrs:{label:"电子档案总数",align:"center",width:"100px",prop:"archiveHasfileTotal"}}),a("el-table-column",{attrs:{label:"页数",align:"center",width:"100px",prop:"pageNumTotal"}}),a("el-table-column",{attrs:{label:"存储",align:"center",width:"100px",prop:"fileSizeTotal"}})],1),e.loading?e._e():a("div",{staticStyle:{float:"right",height:"55px",padding:"10px"}},[a("el-pagination",{attrs:{background:"","current-page":e.page,"pager-count":5,"page-sizes":[10,20,30],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},n=[],o=(a("159b"),a("0779")),s={name:"",components:{DictSelectTag:o["default"]},data:function(){return{keepTimeValue:void 0,tableData:[],cateNameData:[],summarData:{},rootData:[],rootCateCode:void 0,count:0,pageheight:420,page:1,loading:!1,cardload:!1,limit:10,archYear:void 0,pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}}}},updated:function(){var e=this;this.$nextTick((function(){e.$refs["table"].doLayout()}))},created:function(){this.queryList(),this.doStatisticForRootCategoryFigure(),this.pageheight=document.body.offsetHeight},methods:{headerstyle:function(e){e.row,e.column;var t=e.rowIndex;e.columnIndex;if(1==t)return{borderTop:"none !important"}},handleSizeChange:function(e){this.limit=e,this.queryList()},handleCurrentChange:function(e){this.page=e,this.queryList()},testClick:function(){this.queryList(),this.doStatisticForRootCategoryFigure()},getSummaries:function(e){var t=this,a=e.columns,i=(e.data,[]);return a.forEach((function(e,a){i[a]=0!==a?t.summarData[e.property]:"合计"})),i},objectSpanMethod:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex;if(0===a){for(var i=0;i<this.cateNameData.length;i++){if(t==this.cateNameData[i])return{rowspan:2,colspan:1};if(t==this.cateNameData[i]+1)return{rowspan:0,colspan:0}}return{rowspan:1,colspan:1}}},queryList:function(){var e=this,t={};t.page=this.page,t.limit=this.limit,t.keepTimeValue=this.keepTimeValue,this.loading=!0,this.$api.getAction("/statistic/statisticForKeeptime",t).then((function(t){"200"==t.code?(e.tableData=t.data,e.count=parseInt(t.count),e.cateNameData=[],t.data.length>0&&t.data.forEach((function(a,i){i>0&&a.cateName==t.data[i-1].cateName&&e.cateNameData.push(i-1),e.loading=!1})),e.loading=!1,e.cardload=!1):(e.$sweetAlert.errorWithTimer("网络出错"),e.loading=!1,e.cardload=!1)}))},doStatisticForRootCategoryFigure:function(){var e=this,t={};t.keepTimeValue=this.keepTimeValue,this.$api.httpAction("/statistic/doStatisticForKeeptimeFigure",t,"post").then((function(t){e.summarData=t}))}}},r=s,l=a("2877"),c=Object(l["a"])(r,i,n,!1,null,"e7875324",null);t["default"]=c.exports},"3f19":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("5530"),n=(a("a9e3"),a("caad"),a("d3b7"),a("25f0"),a("7db0"),a("159b"),a("a434"),{data:function(){return{table:{show:!0,data:[],column:[],loading:!1,selection:[],radio:""},page:{pageNum:1,pageSize:Number("20"),total:0}}},created:function(){},methods:{cellClick:function(e,t){var a=t.property,n=t.type,o=["oper"];"selection"===n||o.includes(a)||(this.role=Object(i["a"])(Object(i["a"])({},this.role),{},{data:e,show:!0}))},currentChange:function(e){this.page=Object(i["a"])(Object(i["a"])({},this.page),{},{pageNum:e}),this.queryList()},sizeChange:function(e){this.$store.dispatch("settings/changeSetting",{key:"pageSize",value:e.toString()}),this.page=Object(i["a"])(Object(i["a"])({},this.page),{},{pageSize:e}),this.queryList()},selection:function(e){e.length?this.show=Object(i["a"])(Object(i["a"])({},this.show),{},{batch:!0}):this.show=Object(i["a"])(Object(i["a"])({},this.show),{},{batch:!1}),this.table=Object(i["a"])(Object(i["a"])({},this.table),{},{selection:e})},selectChange:function(e,t){var a=this;e.find((function(e){return a.getDataId(e)===a.getDataId(t)}))?t.children&&t.children.forEach((function(t){a.$refs.foxTable.toggleRowSelection(t,!0),e.push(t),t.children&&a.selectChange(e,t)})):this.toggleRowSelection(e,t)},selectAllChange:function(e){var t=this;e&&e.length===this.table.data.length?e.forEach((function(a){t.selectChange(e,a)})):this.$refs.foxTable.clearSelection(),e.length?this.show=Object(i["a"])(Object(i["a"])({},this.show),{},{batch:!0}):this.show=Object(i["a"])(Object(i["a"])({},this.show),{},{batch:!1}),this.table=Object(i["a"])(Object(i["a"])({},this.table),{},{selection:e})},selectionChangeHandler:function(e){if(e&&e.length>1){var t=e[0].id?"id":"ID";this.selectedUnique(e,t)}e.length?this.show=Object(i["a"])(Object(i["a"])({},this.show),{},{batch:!0}):this.show=Object(i["a"])(Object(i["a"])({},this.show),{},{batch:!1}),this.table=Object(i["a"])(Object(i["a"])({},this.table),{},{selection:e})},toggleRowSelection:function(e,t){var a=this;t.children&&t.children.forEach((function(t){a.$refs.foxTable.toggleRowSelection(t,!1),t.children&&a.toggleRowSelection(e,t)}))},getDataId:function(e){return e["id"]||e["ID"]},selectedUnique:function(e,t){for(var a=0;a<e.length;a++)for(var i=a+1;i<e.length;i++)e[a][t]==e[i][t]&&(e.splice(i,1),i--)}}})},"3f93":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{top:"-20px"},attrs:{visible:e.visible,modal:!0,width:"70%","before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("el-form",{ref:"batchModForm",attrs:{model:e.batchModForm}},[a("el-form-item",e._l(e.batchModForm.batchModList,(function(t,i){return a("el-row",{key:i,staticStyle:{"margin-bottom":"20px"}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"字段",prop:"batchModList."+i+".oprField"}},[a("el-select",{staticStyle:{width:"170px"},attrs:{placeholder:"请选择修改字段"},on:{change:function(t){return e.changeValType(t,i)}},model:{value:t.oprField,callback:function(a){e.$set(t,"oprField",a)},expression:"item.oprField"}},e._l(e.fields,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"条件",prop:"batchModList."+i+".where"}},[a("el-select",{staticStyle:{width:"130px"},attrs:{placeholder:"操作类型"},model:{value:t.where,callback:function(a){e.$set(t,"where",a)},expression:"item.where"}},e._l(e.decideOptions_1,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"值",prop:"batchModList."+i+".value"}},[t.showInput?a("el-input",{staticStyle:{width:"160px"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),t.showDict?a("el-select",{staticStyle:{width:"160px"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}},e._l(e.paramsObject,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e()],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"关系",prop:"batchModList."+i+".oprType"}},[a("el-select",{staticStyle:{width:"100px"},model:{value:t.oprType,callback:function(a){e.$set(t,"oprType",a)},expression:"item.oprType"}},e._l(e.decideOptions,(function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{staticStyle:{"text-align":"center",display:"flex"},attrs:{span:4}},[a("el-button",{attrs:{type:"danger",size:"small",disabled:1===e.batchModForm["batchModList"].length},on:{click:function(t){return e.del(i,"batchModList")}}},[e._v("删除 ")]),a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.add("batchModList")}}},[e._v("添加")])],1)],1)})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.subForm}},[e._v(" 检索 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)])},n=[],o=(a("159b"),a("d81d"),a("a434"),a("7db0"),a("b0c0"),a("0779")),s=a("cf45"),r={name:"BatchUpdateModule",components:{DictSelectTag:o["default"]},props:{organData:{type:Array,default:function(){return[]}}},data:function(){return{selectItem:"",dictCode:"",format:"",type:"",title:"综合查询",decideOptions:[{label:"或者",value:" or "},{label:"并且",value:" and "}],decideOptions_1:[{label:"等于",value:" = "},{label:"包含",value:" in "},{label:"不包含",value:" not in "},{label:"前缀匹配",value:' like "% '},{label:"后缀匹配",value:" like "},{label:"不等于",value:" <> "},{label:"为空",value:" is null "},{label:"不为空",value:" is not null "},{label:"大于",value:" > "},{label:"小于",value:" < "},{label:"大于等于",value:" >= "},{label:"小于等于",value:" <= "}],fields:[{label:"请选择",value:"",type:"input"},{label:"年度",value:"ARCH_YEAR",type:"input"},{label:"入库类别",value:"DEPT_CODE",type:"select"},{label:"归档人",value:"ARCH_USER",type:"input"},{label:"保管期限",value:"KEEP_TIME",type:"select"},{label:"分类名称",value:"CATE_NAME",type:"input"},{label:"档号",value:"ARCH_RULE",type:"input"}],visible:!1,pushForm:{batchModList:{oprField:"",where:" = ",oprType:" and ",value:"",showInput:!0,showDict:!1}},batchModForm:{batchModList:[{oprField:"",where:" = ",oprType:" and ",value:"",showInput:!0,showDict:!1}]},keepTime:[],loading:!1,radio:1,FieldOptions:[],paramsObject:[],value:"",url:{batchUpdate:"/dynamic/batchUpdate",queryVueFld:"/templates/queryVueFld",getTempView:"/templates/getTempView"},params:{}}},created:function(){},methods:{getFieldsByVue:function(){this.params.othType,this.params.templateId},parsingJson:function(e){var t=this,a=JSON.parse(e).list;a.forEach((function(e){if(void 0!=e.columns)e.columns.map((function(e){if(e.list.length>0&&!e.list[0].options.disabled){var a={};a.fldName=e.list[0].key,a.fldDesc=e.list[0].label,a.type=e.list[0].type,"date"==e.list[0].type&&(a.format=e.list[0].options.format),"select"==e.list[0].type&&(a.dictCode=e.list[0].options.dictType),t.FieldOptions.push(a)}}));else{var a={};e.options.disabled||(a.fldName=e.key,a.fldDesc=e.label,a.type=e.type,"date"==e.type&&(a.format=e.options.format),"select"==e.type&&(a.dictCode=e.options.dictType),t.FieldOptions.push(a))}}))},initForm:function(e){this.params=e,this.getFieldsByVue(),this.visible=!0,this.paramsObject=this.organData},del:function(e,t){this.batchModForm[t].splice(e,1)},reset:function(){for(var e=0;e<this.batchModForm.batchModList.length;e++)this.batchModForm.batchModList[e].value=""},cancelModal:function(){this.visible=!1,this.$emit("close"),this.$emit("ok",this.params.othType)},subForm:function(){var e=this,t="";this.$refs.batchModForm.validate((function(a){a&&(e.batchModForm.batchModList.forEach((function(a,i){if(""!=a.value&&""!=a.oprField){var n="";n=" not in "==a.where||" in "==a.where?a.oprField+a.where+'("'+a.value+'")':' like "% '==a.where?a.oprField+a.where+a.value+'"':" like "==a.where?a.oprField+a.where+'"'+a.value+'%"':a.oprField+a.where+'"'+a.value+'"',e.batchModForm.batchModList.length-1!=i&&(n+=a.oprType),t+=n}if(""!=a.oprField&&(" is null "==a.where||" is not null "==a.where)){var o="";o=a.oprField+a.where,e.batchModForm.batchModList.length-1!=i&&(o+=a.oprType),t+=o}})),e.$emit("submit",t))}))},add:function(e){var t=Object(s["c"])(this.pushForm[e]);this.batchModForm[e].push(t)},changeValType:function(e,t){var a=this;this.archType="",this.batchModForm.batchModList[t].value="",this.batchModForm.batchModList[t].showDict=!1,this.batchModForm.batchModList[t].showInput=!1;var i=this.fields.find((function(t){return t.value===e}));"select"===i.type&&(this.batchModForm.batchModList[t].showDict=!0,"KEEP_TIME"==i.value&&this.$api.getDictItems({mark:"KEEP_TIME"},null).then((function(e){e&&(e.data.forEach((function(e){a.keepTime.push({label:e.name,value:e.value})})),a.paramsObject=a.keepTime)})),"DEPT_CODE"==i.value&&(this.paramsObject=this.organData)),"input"===i.type&&(this.batchModForm.batchModList[t].showInput=!0)}}},l=r,c=(a("289c"),a("2877")),d=Object(c["a"])(l,i,n,!1,null,"2a179127",null);t["default"]=d.exports},"3fbe":function(e,t,a){"use strict";a.r(t);var i,n,o=a("4eb8"),s=o["a"],r=a("2877"),l=Object(r["a"])(s,i,n,!1,null,null,null);t["default"]=l.exports},"3ff8":function(e,t,a){},4e3:function(e,t,a){"use strict";a("f345")},"43fa":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a("159b"),a("a15b");var i={"el-rate":".el-rate{display: inline-block; vertical-align: text-top;}","el-upload":".el-upload__tip{line-height: 1.2;}"};function n(e,t){var a=i[t.__config__.tag];a&&-1===e.indexOf(a)&&e.push(a),t.__config__.children&&t.__config__.children.forEach((function(t){return n(e,t)}))}function o(e){var t=[];return e.fields.forEach((function(e){return n(t,e)})),t.join("\n")}},"44b6":function(e,t,a){},4500:function(e,t,a){},4585:function(e,t,a){},4629:function(e,t,a){e.exports=a.p+"static/img/checkDis.9323c5d9.png"},"466b":function(e,t,a){"use strict";a("9027")},4678:function(e,t,a){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3b","./en-ie.js":"e1d3b","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c96","./es-us.js":"55c96","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df48","./fa.js":"8df48","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b46","./gd.js":"f6b46","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"05583","./is.js":"05583","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e9","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e9","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=o,e.exports=n,n.id="4678"},"471e":function(e,t,a){},"47b5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",e._g(e._b({attrs:{width:"500px","close-on-click-modal":!1,"modal-append-to-body":!1},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("el-row",{attrs:{gutter:15}},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"medium","label-width":"100px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"生成类型",prop:"type"}},[a("el-radio-group",{model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}},e._l(e.typeOptions,(function(t,i){return a("el-radio-button",{key:i,attrs:{label:t.value,disabled:t.disabled}},[e._v(" "+e._s(t.label)+" ")])})),1)],1),e.showFileName?a("el-form-item",{attrs:{label:"文件名",prop:"fileName"}},[a("el-input",{attrs:{placeholder:"请输入文件名",clearable:""},model:{value:e.formData.fileName,callback:function(t){e.$set(e.formData,"fileName",t)},expression:"formData.fileName"}})],1):e._e()],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v(" 取消 ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handelConfirm}},[e._v(" 确定 ")])],1)],1)],1)},n=[],o=a("5530"),s={inheritAttrs:!1,props:["showFileName"],data:function(){return{formData:{fileName:void 0,type:"file"},rules:{fileName:[{required:!0,message:"请输入文件名",trigger:"blur"}],type:[{required:!0,message:"生成类型不能为空",trigger:"change"}]},typeOptions:[{label:"页面",value:"file"},{label:"弹窗",value:"dialog"}]}},computed:{},watch:{},mounted:function(){},methods:{onOpen:function(){this.showFileName&&(this.formData.fileName="".concat(+new Date,".vue"))},onClose:function(){},close:function(e){this.$emit("update:visible",!1)},handelConfirm:function(){var e=this;this.$refs.elForm.validate((function(t){t&&(e.$emit("confirm",Object(o["a"])({},e.formData)),e.close())}))}}},r=s,l=a("2877"),c=Object(l["a"])(r,i,n,!1,null,"0d91d181",null);t["default"]=c.exports},4952:function(e,t,a){},"496f":function(e,t,a){"use strict";a("6f82")},"49cf":function(e,t,a){},"4ad7":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{top:"-20px"},attrs:{visible:e.visible,modal:!0,width:"60%","before-close":e.cancelModule,title:"批量挂接",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",[a("div",[a("el-form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":"6rem","auto-complete":"off","label-position":"right"}},[a("el-row",{attrs:{gutter:12}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"规范类型",prop:"specType"}},[a("el-select",{attrs:{size:"mini",placeholder:"请选择规范类型"},model:{value:e.model.specType,callback:function(t){e.$set(e.model,"specType",t)},expression:"model.specType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"命名规范",prop:"oprField1"}},[a("el-select",{attrs:{size:"mini",clearable:"",placeholder:"请选择命名规范"},on:{change:e.changeValType},model:{value:e.model.oprField1,callback:function(t){e.$set(e.model,"oprField1",t)},expression:"model.oprField1"}},e._l(e.FieldOptions,(function(e){return a("el-option",{key:e.field,attrs:{label:e.fldName,value:e.field}})})),1)],1)],1),a("el-col",{staticStyle:{"margin-top":"4px"},attrs:{span:6}},[a("el-select",{attrs:{size:"mini",clearable:"",placeholder:"请选择命名规范"},on:{change:e.changeValType},model:{value:e.model.oprField2,callback:function(t){e.$set(e.model,"oprField2",t)},expression:"model.oprField2"}},e._l(e.FieldOptions2,(function(e){return a("el-option",{key:e.field,attrs:{label:e.fldName,value:e.field}})})),1)],1)],1),a("el-row",{attrs:{gutter:12}},[a("el-col",{attrs:{span:12}},[a("el-radio",{attrs:{label:"1"},model:{value:e.model.type,callback:function(t){e.$set(e.model,"type",t)},expression:"model.type"}},[e._v("覆盖挂接")]),a("el-radio",{attrs:{label:"2"},model:{value:e.model.type,callback:function(t){e.$set(e.model,"type",t)},expression:"model.type"}},[e._v("追加挂接")])],1),a("el-col",{attrs:{span:12}},[a("el-checkbox",{model:{value:e.model.isMultiple,callback:function(t){e.$set(e.model,"isMultiple",t)},expression:"model.isMultiple"}},[e._v("按序号多对一")])],1)],1),a("el-row",{attrs:{gutter:12}},[a("div",{staticStyle:{color:"red"}},[e._v(" 一个条目一次如果挂接多个文件，可以选择勾选按序号多对一或者按照挂接规则重命名生成副本文件挂接 ")])])],1)],1),a("div",{staticStyle:{display:"none"}},[a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"upload",staticClass:"upload-demo",attrs:{action:e.uploadUrl,"on-progress":e.onProgress,"on-success":e.uploadSuccess,multiple:!0,data:e.model,"show-file-list":!1,"auto-upload":!1,"on-change":function(t,a){e.handleChangeFile(t,a)}}},[a("el-button",{attrs:{id:"selectedFile",type:"primary",size:"small",icon:"el-icon-upload"}},[e._v("选取文件")])],1)],1),a("div",{staticStyle:{margin:"10px 0"}},[a("span",[e._v("总数：")]),a("span",[e._v(e._s(e.fileTableData.length))]),e._v(" "),a("span",[e._v("成功数：")]),a("span",[e._v(e._s(e.successQua))]),e._v(" "),a("span",{staticStyle:{color:"red"}},[e._v("失败数：")]),a("span",{staticStyle:{color:"red"}},[e._v(e._s(e.failQua))])]),a("div",{attrs:{calss:"auto-scroll"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.fileTableData,border:"","row-class-name":e.rowClassName,"cell-class-name":e.cellClassName,height:"350","max-height":"350"}},[a("el-table-column",{attrs:{prop:"fileName",label:"文件名","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"size",label:"大小",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.fileSize)+" ")]}}],null,!1,805394238)}),a("el-table-column",{attrs:{prop:"progress",label:"进度",width:"200"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-progress",{attrs:{percentage:e.row.progress}})]}}],null,!1,3379806389)}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return["ready"==t.row.status?a("el-tag",[e._v("等待挂接")]):e._e(),"uploading"==t.row.status?a("el-tag",{attrs:{type:"warning"}},[e._v("挂接中...")]):e._e(),"success"==t.row.status?a("el-tag",{attrs:{type:"success"}},[e._v("挂接成功")]):e._e(),"fail"==t.row.status?a("el-tag",{attrs:{type:"danger"}},[e._v("挂接失败")]):e._e()]}}],null,!1,2508733839)}),a("el-table-column",{attrs:{prop:"details",label:"详情","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"oper",label:"操作",width:"88"},scopedSlots:e._u([{key:"default",fn:function(t){return["fail"==t.row.status||"ready"==t.row.status?a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.handleDelete(t.row.fileUid)}}},[e._v("删除 ")]):e._e()]}}],null,!1,2998207990)})],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.selectedFile}},[e._v(" 选择文件 ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitUpload}},[e._v(" 确定上传 ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.backgroundConnection}},[e._v(" 后台挂接 ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.dowFailLog}},[e._v(" 下载挂接失败日志 ")]),a("el-button",{on:{click:e.cancelModule}},[e._v("关 闭")])],1)]):e._e()},n=[],o=(a("159b"),a("4de4"),a("a9e3"),a("b0c0"),a("c740"),a("cf45")),s={name:"BatchHookUpModule",components:{},props:{},data:function(){return{visible:!1,loading:!1,FieldOptions:[],FieldOptions2:[],rowClassName:"rowClass",cellClassName:"cellClass",fileList:[],fileTableData:[],type:"2",isMultiple:!1,failQua:0,successQua:0,url:{getFields:"/queryFld/qfListVo"},typeOptions:[{key:1,value:"根据文件名"}],model:{specType:1,oprField1:"",oprField2:"",type:"2",isMultiple:!1,othType:"",templateId:""},rules:{specType:[{required:!0,trigger:"blur",message:"请选择命名规范类型"}],oprField1:[{required:!0,trigger:"blur",message:"请选择命名规范"}]}}},computed:{uploadUrl:function(){return window._CONFIG["domainURL"]+"/dynamic/batchHookUp"}},created:function(){},methods:{getListFiled:function(e){var t=this,a={templateId:e.templateId,othType:e.othType};this.$api.getAction(this.url.getFields,a).then((function(e){"200"==e.code&&(e.data.forEach((function(e){"2"!=e.colType&&t.FieldOptions.push({field:e.fldName,fldName:e.fldDesc})})),t.FieldOptions2=t.FieldOptions.filter((function(e){return"ARCH_RULE"!=e.field})))})).catch((function(){t.$sweetAlert.errorWithTimer("error")}))},initModule:function(e,t){this.model.templateId=e.templateId,this.model.othType=e.othType,this.model.ids=e.ids;var a="";t&&(a=JSON.stringify(t)),this.model.group=a,this.visible=!0,this.getListFiled(e)},statusProcess:function(e,t){var a=this;this.fileTableData.forEach((function(i,n){if(i.fileUid==e.uid){switch(e.status){case"uploading":a.fileTableData[n].status="uploading";break;default:break}null!=t?100==t&&"success"!=e.status&&(t=99):t="success"==e.status?100:0,a.fileTableData[n].progress=t}})),!this.fileTableData.filter((function(e){return"ready"===e.status||"uploading"===e.status})).length>0&&(this.loading=!1)},changeValType:function(e){},handleDelete:function(e){this.fileTableData=this.fileTableData.filter((function(t){return t.fileUid!=e})),this.$refs["upload"].uploadFiles=this.$refs["upload"].uploadFiles.filter((function(t){return t.uid!=e}))},handleChangeFile:function(e,t){if(this.fileList=t,0==e.percentage&&"ready"==e.status){var a=Object(o["o"])(Number(e.size||0));this.fileTableData.push({fileName:e.name,fileSize:a,status:e.status,fileUid:e.uid,progress:0,details:"",upStatus:""})}else this.statusProcess(e,null)},onProgress:function(e,t,a){var i=Math.floor(e.percent);this.statusProcess(t,i)},uploadSuccess:function(e,t,a){var i=this.fileTableData.findIndex((function(e){return e.fileUid===t.uid}));switch(this.fileTableData[i].details=e.msg,e.code){case"200":this.fileTableData[i].status="success",this.successQua++;break;case"0000":this.fileTableData[i].status="fail",this.failQua++;break;default:break}},backgroundConnection:function(){var e=this.$store.state.backgroundMount.showPop;if(e)this.$sweetAlert.warnWithTimer("您还有后台挂接的弹框未关闭！");else if(this.$refs["upload"].uploadFiles.length)if(this.fileList=this.fileList.filter((function(e){return"ready"==e.status})),this.fileList.length){this.model.nameRul=(this.model.oprField1?this.model.oprField1:"")+","+(this.model.oprField2?this.model.oprField2:"");var t=(new Date).getTime();this.$store.dispatch("backgroundMount/changeSetting",{key:"fileList",value:this.fileList}),this.$store.dispatch("backgroundMount/changeSetting",{key:"fileData",value:this.model}),this.$store.dispatch("backgroundMount/changeSetting",{key:"operateTime",value:t}),this.cancelModule()}else this.$sweetAlert.warnWithTimer("未获取待挂接文件，请勿重复点击！");else this.$sweetAlert.warnWithTimer("请选择文件进行挂接！")},submitUpload:function(){if(this.$refs["upload"].uploadFiles.length){var e=this.$refs["upload"].uploadFiles.filter((function(e){return"fail"==e.status||"ready"==e.status}));e.length?(this.model.nameRul=(this.model.oprField1?this.model.oprField1:"")+","+(this.model.oprField2?this.model.oprField2:""),this.loading=!0,this.$refs.upload.submit()):this.$sweetAlert.warnWithTimer("文件均已挂接完成，请勿重复点击！可见页面详情！")}else this.$sweetAlert.warnWithTimer("请选择文件进行挂接！")},dowFailLog:function(){if(0==this.failQua)return this.$sweetAlert.warnWithTimer("无错误信息，无需下载！");var e="";this.fileTableData.forEach((function(t){"fail"==t.status&&(e+="文件:【"+t.fileName+"】"+t.details+"\n")}));var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),t.setAttribute("download","error-"+(new Date).getTime()),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)},abortUpload:function(){var e=this;this.$refs.upload.abort(),this.fileTableData.forEach((function(t,a){"success"!=t.status&&(e.fileTableData[a].status="fail",e.failQua++)}))},selectedFile:function(){var e=this;this.$refs.form.validate((function(t){t&&e.$nextTick((function(){document.querySelector("#selectedFile").click()}))}))},cancelModule:function(){this.visible=!1,this.$emit("close"),this.$emit("ok",this.othType)}}},r=s,l=(a("1b9f"),a("2877")),c=Object(l["a"])(r,i,n,!1,null,"1f2070a4",null);t["default"]=c.exports},"4b3f":function(e){e.exports=JSON.parse('["platform-eleme","eleme","delete-solid","delete","s-tools","setting","user-solid","user","phone","phone-outline","more","more-outline","star-on","star-off","s-goods","goods","warning","warning-outline","question","info","remove","circle-plus","success","error","zoom-in","zoom-out","remove-outline","circle-plus-outline","circle-check","circle-close","s-help","help","minus","plus","check","close","picture","picture-outline","picture-outline-round","upload","upload2","download","camera-solid","camera","video-camera-solid","video-camera","message-solid","bell","s-cooperation","s-order","s-platform","s-fold","s-unfold","s-operation","s-promotion","s-home","s-release","s-ticket","s-management","s-open","s-shop","s-marketing","s-flag","s-comment","s-finance","s-claim","s-custom","s-opportunity","s-data","s-check","s-grid","menu","share","d-caret","caret-left","caret-right","caret-bottom","caret-top","bottom-left","bottom-right","back","right","bottom","top","top-left","top-right","arrow-left","arrow-right","arrow-down","arrow-up","d-arrow-left","d-arrow-right","video-pause","video-play","refresh","refresh-right","refresh-left","finished","sort","sort-up","sort-down","rank","loading","view","c-scale-to-original","date","edit","edit-outline","folder","folder-opened","folder-add","folder-remove","folder-delete","folder-checked","tickets","document-remove","document-delete","document-copy","document-checked","document","document-add","printer","paperclip","takeaway-box","search","monitor","attract","mobile","scissors","umbrella","headset","brush","mouse","coordinate","magic-stick","reading","data-line","data-board","pie-chart","data-analysis","collection-tag","film","suitcase","suitcase-1","receiving","collection","files","notebook-1","notebook-2","toilet-paper","office-building","school","table-lamp","house","no-smoking","smoking","shopping-cart-full","shopping-cart-1","shopping-cart-2","shopping-bag-1","shopping-bag-2","sold-out","sell","present","box","bank-card","money","coin","wallet","discount","price-tag","news","guide","male","female","thumb","cpu","link","connection","open","turn-off","set-up","chat-round","chat-line-round","chat-square","chat-dot-round","chat-dot-square","chat-line-square","message","postcard","position","turn-off-microphone","microphone","close-notification","bangzhu","time","odometer","crop","aim","switch-button","full-screen","copy-document","mic","stopwatch","medal-1","medal","trophy","trophy-1","first-aid-kit","discover","place","location","location-outline","location-information","add-location","delete-location","map-location","alarm-clock","timer","watch-1","watch","lock","unlock","key","service","mobile-phone","bicycle","truck","ship","basketball","football","soccer","baseball","wind-power","light-rain","lightning","heavy-rain","sunrise","sunrise-1","sunset","sunny","cloudy","partly-cloudy","cloudy-and-sunny","moon","moon-night","dish","dish-1","food","chicken","fork-spoon","knife-fork","burger","tableware","sugar","dessert","ice-cream","hot-water","water-cup","coffee-cup","cold-drink","goblet","goblet-full","goblet-square","goblet-square-full","refrigerator","grape","watermelon","cherry","apple","pear","orange","coffee","ice-tea","ice-drink","milk-tea","potato-strips","lollipop","ice-cream-square","ice-cream-round"]')},"4c6f":function(e,t,a){"use strict";a("b256")},"4d02":function(e,t,a){"use strict";a.r(t);var i,n,o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-drawer",e._g(e._b({on:{opened:e.onOpen,close:e.onClose}},"el-drawer",e.$attrs,!1),e.$listeners),[a("div",{staticClass:"action-bar",style:{"text-align":"left"}},[a("span",{staticClass:"bar-btn",on:{click:e.refresh}},[a("i",{staticClass:"el-icon-refresh"}),e._v(" 刷新 ")]),a("span",{ref:"copyBtn",staticClass:"bar-btn copy-json-btn"},[a("i",{staticClass:"el-icon-document-copy"}),e._v(" 复制JSON ")]),a("span",{staticClass:"bar-btn",on:{click:e.exportJsonFile}},[a("i",{staticClass:"el-icon-download"}),e._v(" 导出JSON文件 ")]),a("span",{staticClass:"bar-btn delete-btn",on:{click:function(t){return e.$emit("update:visible",!1)}}},[a("i",{staticClass:"el-icon-circle-close"}),e._v(" 关闭 ")])]),a("div",{staticClass:"json-editor",attrs:{id:"editorJson"}})])],1)},s=[],r=a("9255"),l=a("b311"),c=a.n(l),d=a("21a6"),u=a("1c88"),p=a("72b7"),m={components:{},props:{jsonStr:{type:String,required:!0}},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){var e=this;window.addEventListener("keydown",this.preventDefaultSave);var t=new c.a(".copy-json-btn",{text:function(t){return e.$notify({title:"成功",message:"代码已复制到剪切板，可粘贴。",type:"success"}),e.beautifierJson}});t.on("error",(function(t){e.$message.error("代码复制失败")}))},beforeDestroy:function(){window.removeEventListener("keydown",this.preventDefaultSave)},methods:{preventDefaultSave:function(e){"s"===e.key&&(e.metaKey||e.ctrlKey)&&e.preventDefault()},onOpen:function(){var e=this;Object(p["a"])((function(t){i=t,e.beautifierJson=i.js(e.jsonStr,r["a"].js),Object(u["a"])((function(t){n=t,e.setEditorValue("editorJson",e.beautifierJson)}))}))},onClose:function(){},setEditorValue:function(e,t){var a=this;this.jsonEditor?this.jsonEditor.setValue(t):(this.jsonEditor=n.editor.create(document.getElementById(e),{value:t,theme:"vs-dark",language:"json",automaticLayout:!0}),this.jsonEditor.onKeyDown((function(e){49===e.keyCode&&(e.metaKey||e.ctrlKey)&&a.refresh()})))},exportJsonFile:function(){var e=this;this.$prompt("文件名:","导出文件",{inputValue:"".concat(+new Date,".json"),closeOnClickModal:!1,inputPlaceholder:"请输入文件名"}).then((function(t){var a=t.value;a||(a="".concat(+new Date,".json"));var i=e.jsonEditor.getValue(),n=new Blob([i],{type:"text/plain;charset=utf-8"});Object(d["saveAs"])(n,a)}))},refresh:function(){try{this.$emit("refresh",JSON.parse(this.jsonEditor.getValue()))}catch(e){this.$notify({title:"错误",message:"JSON格式错误，请检查",type:"error"})}}}},h=m,f=(a("ca0a"),a("2877")),v=Object(f["a"])(h,o,s,!1,null,"97bba786",null);t["default"]=v.exports},"4eb8":function(module,__webpack_exports__,__webpack_require__){"use strict";var E_hm_ArchSystemUIXTU_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("ade3"),_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2638"),_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("b64b"),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("1276"),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_7__),_components_FormGenerator_utils_index__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("9255"),_components_FormGenerator_components_render_render_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("15e7"),ruleTrigger={"el-input":"blur","el-input-number":"blur","el-select":"change","el-radio-group":"change","el-checkbox-group":"change","el-cascader":"change","el-time-picker":"change","el-date-picker":"change","el-rate":"change"},layouts={colFormItem:function(e,t){var a=t.__config__,i=buildListeners.call(this,t),n=a.labelWidth?"".concat(a.labelWidth,"px"):null;return!1===a.showLabel&&(n="0"),e("el-col",{attrs:{span:a.span}},[e("el-form-item",{attrs:{"label-width":n,prop:t.__vModel__,label:a.showLabel?a.label:""}},[e(_components_FormGenerator_components_render_render_js__WEBPACK_IMPORTED_MODULE_9__["a"],_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_1___default()([{attrs:{conf:t}},{on:i}]))])])},rowFormItem:function(e,t){var a=renderChildren.apply(this,arguments);return"flex"===t.type&&(a=e("el-row",{attrs:{type:t.type,justify:t.justify,align:t.align}},[a])),e("el-col",{attrs:{span:t.span}},[e("el-row",{attrs:{gutter:t.gutter}},[a])])}};function renderFrom(e){var t=this.formConfCopy;return e("el-row",{attrs:{gutter:t.gutter}},[e("el-form",_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_1___default()([{attrs:{size:t.size,"label-position":t.labelPosition,disabled:t.disabled,"label-width":"".concat(t.labelWidth,"px")},ref:t.formRef},{props:{model:this[t.formModel]}},{attrs:{rules:this[t.formRules]}}]),[renderFormItem.call(this,e,t.fields),t.formBtns&&formBtns.call(this,e)])])}function formBtns(e){return e("el-col",[e("el-form-item",{attrs:{size:"large"}},[e("el-button",{attrs:{type:"primary"},on:{click:this.submitForm}},["提交"]),e("el-button",{on:{click:this.resetForm}},["重置"])])])}function renderFormItem(e,t){var a=this;return t.map((function(t){var i=t.__config__,n=layouts[i.layout];if(n)return n.call(a,e,t);throw new Error("没有与".concat(i.layout,"匹配的layout"))}))}function renderChildren(e,t){var a=t.__config__;return Array.isArray(a.children)?renderFormItem.call(this,e,a.children):null}function setValue(e,t,a){this.$set(t,"defaultValue",e),this.$set(this[this.formConf.formModel],a.__vModel__,e)}function buildListeners(e){var t=this,a=e.__config__,i=this.formConf.__methods__||{},n={};return Object.keys(i).forEach((function(e){n[e]=function(a){return i[e].call(t,a)}})),n.input=function(i){return setValue.call(t,i,a,e)},n}__webpack_exports__["a"]={components:{render:_components_FormGenerator_components_render_render_js__WEBPACK_IMPORTED_MODULE_9__["a"]},props:{formConf:{type:Object,required:!0},value:{type:Object,required:!1}},data:function(){var e,t=this,a=(e={formConfCopy:Object(_components_FormGenerator_utils_index__WEBPACK_IMPORTED_MODULE_8__["b"])(this.formConf)},Object(E_hm_ArchSystemUIXTU_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["a"])(e,this.formConf.formModel,{}),Object(E_hm_ArchSystemUIXTU_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["a"])(e,this.formConf.formRules,{}),e);return this.value&&a.formConfCopy.fields.forEach((function(e){var a=t.value[e.__vModel__];a?e.__config__.defaultValue=a:delete e.__config__.defaultValue})),this.initFormData(a.formConfCopy.fields,a[this.formConf.formModel]),this.buildRules(a.formConfCopy.fields,a[this.formConf.formRules]),a},created:function(){var e=this;this.formConfCopy.datasourceUrl&&this.getAction(this.formConfCopy.datasourceUrl).then((function(t){e.formConfCopy.datasource=t,e.formConfCopy.fields.forEach((function(e){var a=e.__config__,i=a.dataPath,n=a.dataConsumer,o=a.dynamicOptions;if("dynamic"==e.__config__.dataType){var s,r=i.split(".").reduce((function(e,t){return e[t]}),t);r&&o&&(s=r.map((function(e){return{value:e[o.value],label:e[o.label],children:e[o.children]}}))),Object(_components_FormGenerator_utils_index__WEBPACK_IMPORTED_MODULE_8__["f"])(e,n,s)}}))}))},methods:{initFormData:function(e,t){var a=this;e.forEach((function(e){var i=e.__config__;e.__vModel__&&(t[e.__vModel__]=i.defaultValue),i.children&&a.initFormData(i.children,t)}))},buildRules:function buildRules(componentList,rules){var _this6=this;componentList.forEach((function(cur){var config=cur.__config__;if(Array.isArray(config.regList)){if(config.required){var required={required:config.required,message:cur.placeholder};Array.isArray(config.defaultValue)&&(required.type="array",required.message="请至少选择一个".concat(config.label)),void 0===required.message&&(required.message="".concat(config.label,"不能为空")),config.regList.push(required)}rules[cur.__vModel__]=config.regList.map((function(item){return item.pattern&&(item.pattern=eval(item.pattern)),item.trigger=ruleTrigger&&ruleTrigger[config.tag],item}))}config.children&&_this6.buildRules(config.children,rules)}))},resetForm:function(){this.formConfCopy=Object(_components_FormGenerator_utils_index__WEBPACK_IMPORTED_MODULE_8__["b"])(this.formConf),this.$refs[this.formConf.formRef].resetFields()},submitForm:function(){var e=this;this.$refs[this.formConf.formRef].validate((function(t){return!!t&&(e.$emit("submit",e[e.formConf.formModel]),!0)}))},getData:function(){var e=this;return new Promise((function(t,a){e.$refs[e.formConf.formRef].validate((function(i){i?t(e[e.formConf.formModel]):a("获取数据失败")}))}))}},render:function(e){return renderFrom.call(this,e)}}},"4f13":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{title:e.title,"append-to-body":!0,visible:e._listenerParamsDrawer,direction:"rtl"},on:{"update:visible":function(t){e._listenerParamsDrawer=t},open:e.init}},[a("div",{staticStyle:{padding:"10px"}},[a("el-table",{ref:"listenerParamsRef",attrs:{data:e.listenerParamsInner,border:"",fit:"","highlight-current-row":""},on:{"row-click":e.editListenerParam}},[a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),a("el-table-column",{attrs:{prop:"paramType",label:"类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.paramType[t.row.paramType]))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{icon:"el-icon-delete"},nativeOn:{click:function(t){return t.stopPropagation(),e.deleteListenerParam(i)}}})]}}])})],1),e.showForm?a("div",[a("el-divider"),a("el-form",{attrs:{model:e.listenerParam,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.listenerParam.name,callback:function(t){e.$set(e.listenerParam,"name",t)},expression:"listenerParam.name"}})],1),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.listenerParam.paramType,callback:function(t){e.$set(e.listenerParam,"paramType",t)},expression:"listenerParam.paramType"}},e._l(e.paramTypes,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"值",prop:"value"}},[a("el-input",{model:{value:e.listenerParam.value,callback:function(t){e.$set(e.listenerParam,"value",t)},expression:"listenerParam.value"}})],1)],1)],1):e._e()],1),a("div",{staticStyle:{"text-align":"right",padding:"10px"}},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.addListenerParam}},[e._v("添加")]),a("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e._listenerParamsDrawer=!1}}},[e._v("取消")]),a("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:e.save}},[e._v("确定")])],1)])},n=[],o=a("2909"),s=(a("a434"),a("ca00")),r={props:{listenerParamsDrawer:{type:Boolean,default:!1},listenerParams:{type:Array,default:[]},title:{type:String,default:""}},watch:{listenerParams:function(e){this.listenerParamsInner=e}},computed:{_listenerParamsDrawer:{get:function(){return this.listenerParamsDrawer},set:function(e){this.$emit("changeListenerParamsDrawer",e)}}},data:function(){return{listenerParamsInner:[],paramType:{string:"字符串",expression:"表达式"},paramTypes:[{value:"string",label:"字符串"},{value:"expression",label:"表达式"}],listenerParam:{id:"",name:"",paramType:"string",value:""},showForm:!1}},mounted:function(){this.init()},methods:{init:function(){this.listenerParamsInner=Object(o["a"])(this.listenerParams),this.showForm=!1,this.listenerParam={id:"",name:"",paramType:"string",value:""}},addListenerParam:function(){this.showForm=!0;var e={id:Object(s["f"])(),name:"",paramType:"string",value:""};this.listenerParamsInner.push(e),this.listenerParam=e,this.$refs["listenerParamsRef"].setCurrentRow(e,!0)},deleteListenerParam:function(e){var t=this.listenerParamsInner.indexOf(e);this.listenerParamsInner.splice(t,1),this.showForm=!1},editListenerParam:function(e){this.showForm=!0,this.listenerParam=e},save:function(){this._listenerParamsDrawer=!1,this.$emit("saveListenerParams",this.listenerParamsInner)}}},l=r,c=(a("6ee6"),a("2877")),d=Object(c["a"])(l,i,n,!1,null,null,null);t["default"]=d.exports},"501e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"no-data"},[i("div",{staticClass:"logo"},["blue"==e.themeImg?i("img",{attrs:{src:a("fcab"),alt:""}}):e._e(),"red"==e.themeImg?i("img",{attrs:{src:a("b8b7"),alt:""}}):e._e()]),i("div",{staticClass:"text"},[e._v("暂无数据")])])},n=[],o={name:"NoData",components:{},props:{},data:function(){return{}},watch:{},computed:{themeImg:function(){return this.$store.state.settings.themeImg}},methods:{},created:function(){},mounted:function(){}},s=o,r=(a("84ba"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"540084fe",null);t["default"]=l.exports},5066:function(e,t,a){"use strict";a.r(t);a("d81d");var i=a("1980"),n=a.n(i),o=a("15e7"),s={itemBtns:function(e,t,a,i){var n=this.$listeners,o=n.copyItem,s=n.deleteItem;return[e("span",{class:"drawing-item-copy",attrs:{title:"复制"},on:{click:function(e){o(t,i),e.stopPropagation()}}},[e("i",{class:"el-icon-copy-document"})]),e("span",{class:"drawing-item-delete",attrs:{title:"删除"},on:{click:function(e){s(a,i),e.stopPropagation()}}},[e("i",{class:"el-icon-delete"})])]}},r={colFormItem:function(e,t,a,i){var n=this,r=this.$listeners.activeItem,c=t.__config__,d=l.apply(this,arguments),u=this.activeId===c.formId?"drawing-item active-from-item":"drawing-item";this.formConf.unFocusedComponentBorder&&(u+=" unfocus-bordered");var p=c.labelWidth?"".concat(c.labelWidth,"px"):null;return!1===c.showLabel&&(p="0"),e("el-col",{attrs:{span:c.span},class:u,nativeOn:{click:function(e){r(t),e.stopPropagation()}}},[e("el-form-item",{attrs:{"label-width":p,label:c.showLabel?c.label:"",required:c.required}},[e(o["a"],{key:c.renderKey,attrs:{conf:t},on:{input:function(e){n.$set(c,"defaultValue",e)}}},[d])]),s.itemBtns.apply(this,arguments)])},rowFormItem:function(e,t,a,i){var o=this.$listeners.activeItem,r=t.__config__,c=this.activeId===r.formId?"drawing-row-item active-from-item":"drawing-row-item",d=l.apply(this,arguments);return"flex"===t.type&&(d=e("el-row",{attrs:{type:t.type,justify:t.justify,align:t.align}},[d])),e("el-col",{attrs:{span:r.span}},[e("el-row",{attrs:{gutter:r.gutter},class:c,nativeOn:{click:function(e){o(t),e.stopPropagation()}}},[e("span",{class:"component-name"},[r.componentName]),e(n.a,{attrs:{list:r.children||[],animation:340,group:"componentsGroup"},class:"drag-wrapper"},[d]),s.itemBtns.apply(this,arguments)])])},raw:function(e,t,a,i){var n=this,s=t.__config__,r=l.apply(this,arguments);return e(o["a"],{key:s.renderKey,attrs:{conf:t},on:{input:function(e){n.$set(s,"defaultValue",e)}}},[r])}};function l(e,t,a,i){var n=this,o=t.__config__;return Array.isArray(o.children)?o.children.map((function(t,a){var i=r[t.__config__.layout];return i?i.call(n,e,t,a,o.children):c.call(n)})):null}function c(){throw new Error("没有与".concat(this.currentItem.__config__.layout,"匹配的layout"))}var d,u,p={components:{render:o["a"],draggable:n.a},props:["currentItem","index","drawingList","activeId","formConf"],render:function(e){var t=r[this.currentItem.__config__.layout];return t?t.call(this,e,this.currentItem,this.index,this.drawingList):c.call(this)}},m=p,h=a("2877"),f=Object(h["a"])(m,d,u,!1,null,null,null);t["default"]=f.exports},5084:function(e,t,a){"use strict";a("bdbb")},"51ab":function(e,t,a){},5251:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,width:"800px",title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("div",{staticClass:"title"},[e._v("请选择EEP文件名称组成：")]),a("div",{staticStyle:{margin:"15px 0"}}),a("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedList,callback:function(t){e.checkedList=t},expression:"checkedList"}},e._l(e.options,(function(t,i){return a("el-checkbox",{key:i,staticClass:"check-box-item",attrs:{label:t.FIELD_NAME}},[e._v(" "+e._s(t.FIELD_DESC)+" "),t.required?a("span",{staticClass:"required-box"},[e._v("(必选)")]):e._e()])})),1),a("el-divider"),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.model,"status-icon":"",rules:e.rules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"封装包创建单位：\t",prop:"dept"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"",clearable:""},model:{value:e.model.dept,callback:function(t){e.$set(e.model,"dept",t)},expression:"model.dept"}})],1),a("el-form-item",{attrs:{label:"服务器路径：\t",prop:"serverPath"}},[a("el-input",{attrs:{maxlength:"200",type:"text",placeholder:"服务器上生成EEP,将不提示下载",clearable:""},model:{value:e.model.serverPath,callback:function(t){e.$set(e.model,"serverPath",t)},expression:"model.serverPath"}})],1),a("el-form-item",{attrs:{label:"证书",prop:"certificateId"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.model.certificateId,callback:function(t){e.$set(e.model,"certificateId",t)},expression:"model.certificateId"}},e._l(e.certList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"文件类型：",prop:"type"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.model.type,callback:function(t){e.$set(e.model,"type",t)},expression:"model.type"}},e._l(e.typeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.submit()}}},[e._v(" 确定 ")]),a("el-button",{attrs:{type:"default"},on:{click:e.cancelModal}},[e._v("取消")])],1)]):e._e()},n=[],o=a("5530"),s=a("1da1"),r=(a("96cf"),a("d81d"),a("a15b"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("cf45")),l={components:{},props:{title:{type:String,default:"导出封包"}},data:function(){return{visible:!1,loading:!1,checkedList:[],checkAll:!1,isIndeterminate:!1,initType:"",model:{dept:"",certificateId:"",path:"",type:""},formData:null,options:[],certList:[],typeList:[{value:"EEP",name:"EEP"},{value:"XML",name:"XML"}],rules:{dept:[{required:!0,trigger:"change",message:"封装包创建单位不能为空！"}]},url:{certList:"/cert/certList",testeep:"/fileShar/testeep",queryFild:"/fileShar/queryFild"}}},computed:{},created:function(){this.getCertList(),this.typeList&&this.typeList.length>0&&(this.model.type=this.typeList[0].value)},methods:{init:function(e){this.queryFild(e.templateId),this.formData=e},queryFild:function(e){var t=this,a={tempId:e};this.$api.getAction(this.url.queryFild,a).then((function(e){"200"==e.code&&(t.options=e.data,t.visible=!0)}))},handleCheckAllChange:function(e){this.checkedList=e?this.options.map((function(e){return e.value})):[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.options.length,this.isIndeterminate=t>0&&t<this.options.length},getCertList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.getAction(e.url.certList,{});case 2:a=t.sent,i=a.data,e.certList=i.list,e.certList&&e.certList.length>0&&(e.model.certificateId=e.certList[0].id);case 6:case"end":return t.stop()}}),t)})))()},submit:function(e){var t=this,a="";if(0==this.checkedList.length)return a="请至少选择一个属性项来作为EEP文件的名字！",void this.$sweetAlert.warnWithTimer(a);this.$refs["ruleForm"].validate((function(e,a){if(e){var i=t.url.testeep,n=Object.assign({},t.model),s=t.checkedList.join(",");n=Object(o["a"])(Object(o["a"])({},n),{},{templateId:t.formData.templateId,basids:t.formData.ids,fildList:s}),t.loading=!0;var r="zip";t.$api.downFile(i,n).then((function(e){t.loading=!1,t.downloadFile(e,r),t.$emit("ok"),t.cancelModal()}))}else t.$validateMsg(a)}))},downloadFile:function(e,t){var a=Object(r["h"])(new Date,"{y}-{m}-{d}");if(e)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([e]),a+"."+t);else{var i=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.style.display="none",n.href=i,n.setAttribute("download",a+"."+t),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}else this.$sweetAlert.errorWithTimer("文件下载失败！")},cancelModal:function(){this.visible=!1,this.$emit("close")}}},c=l,d=(a("bbe1"),a("2877")),u=Object(d["a"])(c,i,n,!1,null,"50892ea3",null);t["default"]=u.exports},5277:function(e,t,a){},"52cc":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-select",{staticClass:"w-full",attrs:{value:e.valueTitle,clearable:e.clearable},on:{clear:e.clearHandle}},[a("el-option",{staticClass:"options",attrs:{value:e.valueTitle,label:e.valueTitle}},[e.lazy?a("el-tree",{ref:"selectTree",staticClass:"tree-option",attrs:{accordion:e.accordion,lazy:"",load:e.loadNode,props:e.props,"node-key":e.props.key,"default-expanded-keys":e.defaultExpandedKey},on:{"node-click":e.handleNodeClick}}):a("el-tree",{ref:"selectTree",staticClass:"tree-option",attrs:{accordion:e.accordion,data:e.options,props:e.props,"node-key":e.props.key,"default-expanded-keys":e.defaultExpandedKey},on:{"node-click":e.handleNodeClick}})],1)],1)},n=[],o=(a("a9e3"),a("159b"),a("b0c0"),{name:"el-tree-select",props:{props:{type:Object,default:{value:"id",label:"title",children:"children"}},options:{type:[Array,null]},value:{type:[Number,String],default:null},clearable:{type:Boolean,default:!0},accordion:{type:Boolean,default:!0},lazy:{type:Boolean,default:!1}},data:function(){return{valueId:null,valueTitle:"",defaultExpandedKey:[]}},mounted:function(){this.lazy||(this.valueId=this.value,this.initHandle())},methods:{initHandle:function(){var e=this;this.valueId&&this.$nextTick((function(){e.valueTitle=e.$refs.selectTree.getNode(e.valueId).data[e.props.label],e.$refs.selectTree.setCurrentKey(e.valueId),e.defaultExpandedKey=[e.valueId]}))},initScroll:function(){this.$nextTick((function(){var e=document.querySelectorAll(".el-scrollbar .el-select-dropdown__wrap")[0],t=document.querySelectorAll(".el-scrollbar .el-scrollbar__bar");e.style.cssText="margin: 0px; max-height: none; overflow: hidden;",t.forEach((function(e){return e.style.width=0}))}))},handleNodeClick:function(e){this.valueTitle=e[this.props.label||this.props.name],this.valueId=e[this.props.value],this.$emit("getValue",this.valueId),this.defaultExpandedKey=[]},clearHandle:function(){this.valueTitle="",this.valueId=null,this.defaultExpandedKey=[],this.clearSelected(),this.$emit("getValue",null)},clearSelected:function(){var e=document.querySelectorAll(".tree-option .el-tree-node");e.forEach((function(e){return e.classList.remove("is-current")}))},loadNode:function(e,t){this.$emit("loadNode",e,t)}},watch:{value:function(){this.lazy||(this.valueId=this.value,this.initHandle())}}}),s=o,r=(a("751d"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"212de8d8",null);t["default"]=l.exports},"52dc":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return"review"==e.type?a("div",[a("el-timeline",{attrs:{reverse:e.reverse}},e._l(e.logInfo,(function(t,i){return a("el-timeline-item",{key:i,attrs:{placement:"top",timestamp:t.operTime}},[a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"600"}},[e._v(" "+e._s(t.operTypeDesc)+" ")]),a("hr",{staticStyle:{"border-top":"1px solid #e6e6e6"}}),a("div",[a("el-row",{attrs:{gutter:12}},[a("el-col",{attrs:{span:6}},[e._v("操作人："+e._s(t.operUsername))]),a("el-col",{attrs:{span:6}},[e._v("操作时间："+e._s(t.operTime))]),a("el-col",{attrs:{span:12}},[e._v("操作内容："+e._s(t.opinion)+e._s(t.OPT_CONTENT))])],1)],1)])],1)})),1)],1):a("div",[a("el-timeline",{attrs:{reverse:e.reverse}},e._l(e.logInfo,(function(t,i){return a("el-timeline-item",{key:i,attrs:{placement:"top",timestamp:t.OPT_TIME}},[a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"600"}},[e._v(" "+e._s(t.OPT_TYPE_DESC)+" ")]),a("hr",{staticStyle:{"border-top":"1px solid #e6e6e6"}}),a("div",[a("el-row",{attrs:{gutter:12}},[a("el-col",{attrs:{span:6}},[e._v("操作人："+e._s(t.OPT_USER))]),a("el-col",{attrs:{span:6}},[e._v("操作时间："+e._s(t.OPT_TIME))]),a("el-col",{attrs:{span:12}},[e._v("操作内容："+e._s(t.OPT_CONTENT))])],1)],1),2==t.OPT_TYPE&&void 0!=t.OPT_FLD?a("div",[a("el-collapse",{attrs:{accordion:""}},[a("el-collapse-item",[a("template",{slot:"title"},[e._v(" 修改内容详情"),a("i",{staticClass:"el-icon-info"})]),e._l(JSON.parse(t.OPT_FLD),(function(t,i){return a("el-row",{key:i,attrs:{gutter:12}},[a("el-col",{attrs:{span:4}},[e._v("修改字段："+e._s(t.fldDesc))]),a("el-col",{attrs:{span:10}},[e._v("修改前："+e._s(t.orgVal))]),a("el-col",{attrs:{span:10}},[e._v("修改后："+e._s(t.newVal))])],1)}))],2)],1)],1):e._e()])],1)})),1)],1)},n=[],o={name:"HistoryTabPane",props:{logInfo:Array,type:String},data:function(){return{}},computed:{},created:function(){},methods:{}},s=o,r=(a("daaa"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"737cac66",null);t["default"]=l.exports},"52ef":function(e,t,a){},"52fa":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"},on:{click:e.wordClick}},[a("wordcloud",{attrs:{data:e.defaultWords,nameKey:"name",valueKey:"value",spiral:"rectangular",fontSize:e.fontSize,showTooltip:!1,rotate:{from:-90,to:0,numOfOrientation:2},wordClick:e.wordClickHandler}})],1)},n=[],o=a("9b23"),s=a.n(o),r={name:"app",components:{wordcloud:s.a},props:{defaultWords:{type:Array,default:function(){return[]}},fontSize:{type:Array,default:function(){return[14,32]}}},methods:{wordClickHandler:function(e,t,a){this.$emit("wordClick",{name:e,value:t,vm:a})},wordClick:function(){this.$emit("wordClick",null)}},data:function(){return{}}},l=r,c=(a("8576"),a("2877")),d=Object(c["a"])(l,i,n,!1,null,"2b94a072",null);t["default"]=d.exports},"53ec":function(e,t,a){"use strict";a("7dbc")},"53f5":function(e,t,a){},5483:function(e,t,a){"use strict";a("7459")},"54c7":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.cardload,expression:"cardload"}]},[a("div",{staticStyle:{padding:"8px",height:"55px"}},[a("el-row",{attrs:{gutter:4}},[a("el-col",{attrs:{span:7}},[a("span",{staticStyle:{"font-size":"14px","margin-right":"9px"}},[e._v("档案分类")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.rootCateCode,callback:function(t){e.rootCateCode=t},expression:"rootCateCode"}},e._l(e.rootData,(function(e){return a("el-option",{key:e.cateCode,attrs:{label:e.cateName,value:e.cateCode}})})),1)],1),a("el-col",{attrs:{span:5,offset:12}},[a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.testClick}},[e._v("统计")])],1)])],1)],1),a("el-table",{ref:"table",attrs:{height:e.pageheight-200,"span-method":e.objectSpanMethod,"header-cell-style":e.headerstyle,border:"","summary-method":e.getSummaries,"show-summary":"",data:e.tableData}},[a("el-table-column",{attrs:{label:"档案年度",align:"center",width:"100px",prop:"archYear"}}),a("el-table-column",{attrs:{label:"档案类别",align:"center",width:"120px",prop:"cateName"}}),a("el-table-column",{attrs:{label:"卷级档案",align:"center"}},[a("el-table-column",{attrs:{label:"永久",align:"center"}},[a("el-table-column",{attrs:{label:"案卷",align:"center",prop:"volTotalForever"}}),a("el-table-column",{attrs:{label:"卷内",align:"center",prop:"volInTotalForever"}}),a("el-table-column",{attrs:{label:"电子档案",align:"center",prop:"volInHasfileTotalForever"}})],1),a("el-table-column",{attrs:{label:"长期",align:"center"}},[a("el-table-column",{attrs:{label:"案卷",align:"center",prop:"volTotalLong"}}),a("el-table-column",{attrs:{label:"卷内",align:"center",prop:"volInTotalLong"}}),a("el-table-column",{attrs:{label:"电子档案",align:"center",prop:"volInHasfileTotalLong"}})],1),a("el-table-column",{attrs:{label:"短期",align:"center"}},[a("el-table-column",{attrs:{label:"案卷",align:"center",prop:"volTotalShort"}}),a("el-table-column",{attrs:{label:"卷内",align:"center",prop:"volInTotalShort"}}),a("el-table-column",{attrs:{label:"电子档案",align:"center",prop:"volInHasfileTotalShort"}})],1),a("el-table-column",{attrs:{label:"30",align:"center"}},[a("el-table-column",{attrs:{label:"案卷",align:"center",prop:"volTotalThirty"}}),a("el-table-column",{attrs:{label:"卷内",align:"center",prop:"volInTotalThirty"}}),a("el-table-column",{attrs:{label:"电子档案",align:"center",prop:"volInHasfileTotalThirty"}})],1),a("el-table-column",{attrs:{label:"10",align:"center"}},[a("el-table-column",{attrs:{label:"案卷",align:"center",prop:"volTotalTen"}}),a("el-table-column",{attrs:{label:"卷内",align:"center",prop:"volInTotalTen"}}),a("el-table-column",{attrs:{label:"电子档案",align:"center",prop:"volInHasfileTotalTen"}})],1)],1),a("el-table-column",{attrs:{label:"案卷总数",align:"center",width:"100px",prop:"archiveVolTotal"}}),a("el-table-column",{attrs:{label:"卷内总数",align:"center",width:"100px",prop:"archiveVolInTotal"}}),a("el-table-column",{attrs:{label:"电子档案总数",align:"center",width:"100px",prop:"archiveHasfileTotal"}}),a("el-table-column",{attrs:{label:"总页数",align:"center",width:"100px",prop:"pageNumTotal"}}),a("el-table-column",{attrs:{label:"总存储",align:"center",width:"100px",prop:"fileSizeTotal"}})],1),e.loading?e._e():a("div",{staticStyle:{float:"right",height:"55px",padding:"10px"}},[a("el-pagination",{attrs:{background:"","current-page":e.page,"pager-count":5,"page-sizes":[10,20,30],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},n=[],o=(a("159b"),{name:"",data:function(){return{tableData:[],cateNameData:[],summarData:{},rootData:[],rootCateCode:void 0,count:0,page:1,pageheight:420,loading:!1,cardload:!1,limit:10,archYear:void 0,pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}}}},updated:function(){var e=this;this.$nextTick((function(){e.$refs["table"].doLayout()}))},created:function(){this.pageDataList(),this.pageheight=document.body.offsetHeight},methods:{headerstyle:function(e){e.row,e.column;var t=e.rowIndex;e.columnIndex;if(1==t)return{border:"none !important"}},handleSizeChange:function(e){this.limit=e,this.queryList()},handleCurrentChange:function(e){this.page=e,this.queryList()},testClick:function(){this.queryList(),this.doStatisticForRootCategoryFigure()},getSummaries:function(e){var t=this,a=e.columns,i=(e.data,[]);return a.forEach((function(e,a){i[a]=0!==a?1!==a?t.summarData[e.property]:"合计":""})),i},objectSpanMethod:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex;if(0===a){for(var i=0;i<this.cateNameData.length;i++)if(this.cateNameData[i].index===t)return{rowspan:this.cateNameData[i].count,colspan:1};return{rowspan:1,colspan:0}}},queryList:function(){var e=this,t={};this.loading=!1,t.page=this.page,t.limit=this.limit,t.rootCateCode=this.rootCateCode,this.loading=!0,this.$api.getAction("/statistic/statisticForCateKeepTime",t).then((function(t){if("200"==t.code){if(e.tableData=t.data,e.count=parseInt(t.count),e.cateNameData=[],t.data.length>0){var a=0;1==t.data.length?(e.cateNameData.push({index:a,count:1,itemIndex:1}),e.loading=!1):t.data.forEach((function(i,n){n>0&&i.archYear!=t.data[n-1].archYear&&(e.cateNameData.push({index:a,count:n-a,itemIndex:n}),a=n),e.loading=!1})),0==e.cateNameData.length&&e.cateNameData.push({index:a,count:t.data.length-a,itemIndex:t.data.length}),e.cateNameData[e.cateNameData.length-1].itemIndex!=t.data.length&&e.cateNameData.push({index:a,count:t.data.length-a,itemIndex:t.data.length})}e.loading=!1,e.cardload=!1}else e.$sweetAlert.errorWithTimer("网络出错"),e.loading=!1,e.cardload=!1}))},doStatisticForRootCategoryFigure:function(){var e=this,t={};t.archYear=this.archYear,t.rootCateCode=this.rootCateCode,this.$api.httpAction("/statistic/doStatisticForCateKeepTimeFigure",t,"post").then((function(t){e.summarData=t}))},pageDataList:function(){var e=this;this.cardload=!0,this.$api.getAction("/category/pageList",{}).then((function(t){e.cardload=!1,"200"==t.code&&(t.data.forEach((function(t){"-1"==t.parentId&&e.rootData.push(t)})),e.rootCateCode=e.rootData[0].cateCode,e.queryList(),e.doStatisticForRootCategoryFigure())}))}}}),s=o,r=a("2877"),l=Object(r["a"])(s,i,n,!1,null,"258b9616",null);t["default"]=l.exports},"55cc":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("div",{staticStyle:{"padding-bottom":"20px","line-height":"2","border-bottom":"1px solid #dcdfe6"}},[a("el-row",{attrs:{gutter:4}},[a("el-col",{attrs:{span:16}},[a("span",{staticStyle:{"font-size":"14px","margin-right":"9px"}},[e._v("档案统计/按档案类型统计")])]),a("el-col",{attrs:{span:8}},[a("div",{staticStyle:{float:"right"}},[a("span",{staticStyle:{"font-size":"14px","margin-right":"9px"}},[e._v("切换统计维度： "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.change},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)])])],1)],1),a("div",{staticStyle:{margin:"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.showParam}},[e._v("筛选数据")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.exportVisible=!0}}},[e._v("导出")]),a("el-button",{on:{click:e.btnClick}},[e._v("统计图表")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",staticStyle:{"border-collapse":"collapse"},attrs:{height:e.pageheight-200,border:"","header-cell-style":e.headerstyle,"span-method":e.objectSpanMethod,"show-summary":"",data:e.tableData}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center",width:"50"}}),a("el-table-column",{attrs:{label:"入库档案类别",align:"center",prop:"path"}}),a("el-table-column",{attrs:{label:"案卷件数",align:"center",prop:"doc_total"}}),a("el-table-column",{attrs:{label:"卷内件数",align:"center",prop:"vol_total"}}),a("el-table-column",{attrs:{label:"文件件数",align:"center",prop:"file_num"}}),a("el-table-column",{attrs:{label:"文件页数",align:"center",prop:"pAGE_NUM"}}),a("el-table-column",{attrs:{label:"图片张数",align:"center",prop:"pic_num"}}),a("el-table-column",{attrs:{label:"原文",align:"center"}},[a("el-table-column",{attrs:{label:"数量",align:"center",prop:"file_num"}}),a("el-table-column",{attrs:{label:"大小",align:"center",prop:"size"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.convert(t.row.size))+" ")]}}])})],1)],1),a("el-dialog",{attrs:{title:"请选择字段",visible:e.exportVisible},on:{"update:visible":function(t){e.exportVisible=t}}},[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),a("div",{staticStyle:{margin:"15px 0"}}),a("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedCities,callback:function(t){e.checkedCities=t},expression:"checkedCities"}},e._l(e.cities,(function(t){return a("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])})),1),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.exportEX}},[e._v("导出")]),a("el-button",{on:{click:function(t){e.exportVisible=!1}}},[e._v("取消")])],1)],1),e.paramsModuleShow?a("params-module",{ref:"paramsModule",attrs:{organData:e.paramsObject},on:{ok:e.queryList,submit:e.query,close:function(t){e.paramsModuleShow=!1}}}):e._e(),e.checkboxGroup.show?a("checkbox-modal",{ref:"checkboxGroup",attrs:{title:e.checkboxGroup.title,options:e.checkboxGroup.options[0]},on:{close:function(t){e.checkboxGroup.show=!1},ok:e.checkedResult}}):e._e()],1)},n=[],o=(a("159b"),a("4de4"),a("caad"),a("2532"),a("a9e3"),a("d81d"),a("a15b"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("1998")),s=a("3f93"),r=a("20ab"),l=a("cf45"),c=["入库档案类别","案卷件数","文件页数","原文数量","原文大小","图片张数","卷内件数"],d={name:"ArchTypeStatsticsList",components:{ParamsModule:s["default"],GraphList:r["default"],CheckboxModal:o["default"]},data:function(){return{checkboxGroup:{show:!1,title:"请选择要统计的字段",options:[],loading:!1},tableData:[],cateNameData:[],summarData:{},options:[{value:"",label:"请选择"},{value:1,label:"档案收集"},{value:2,label:"档案整理"},{value:3,label:"档案管理"}],column:[{label:"案卷件数",value:"doc_total"},{label:"卷内件数",value:"vol_total"},{label:"文件件数",value:"file_num"},{label:"文件页数",value:"PAGE_NUM"},{label:"图片张数",value:"pic_num"},{label:"数量",value:"file_num"},{label:"大小",value:"size"},{label:"入库档案类别",value:"path"}],type:"",where:"",loading:!1,pageheight:490,exportVisible:!1,cities:c,checkedCities:["入库档案类别"],checkAll:!1,isIndeterminate:!0,paramsModuleShow:!1,paramsObject:[]}},updated:function(){var e=this;this.$nextTick((function(){e.$refs["table"].doLayout()}))},created:function(){this.queryList(),this.pageheight=document.body.offsetHeight},methods:{showParam:function(){var e=this,t={};this.paramsModuleShow=!0,this.$nextTick((function(){e.$refs["paramsModule"].initForm(t)}))},checkedResult:function(e){var t=e.list,a=e.type;switch(a){case"export":break;case"line":case"bar":var i=[];this.checkboxGroup.options.forEach((function(e){var a=e.filter((function(e){return t.includes(e.value)&&null!=e.number}));i.push(a)}));var n=JSON.stringify(i),o=this.$router.resolve({path:"/modules/GraphList",query:{type:a,allData:encodeURIComponent(n)}});window.open(o.href,"_blank");break;default:break}},convert:function(e){return Object(l["o"])(Number(e||0))},btnClick:function(){var e=this;this.checkboxGroup.show=!0,this.checkboxGroup.options=[],this.tableData.forEach((function(t){var a=[];e.column.map((function(e,i){var n={value:i,name:e.label,number:t[e.value]||0,username:t["入库档案类别"]};"入库档案类别"==e.label?(n.required=!0,n.number=null):n.required=!1,a.push(n)})),e.checkboxGroup.options.push(a)})),this.$nextTick((function(){e.$refs.checkboxGroup.init("line")}))},headerstyle:function(e){e.row,e.column;var t=e.rowIndex;e.columnIndex;if(1===t)return{border:"none !important"}},handleCheckAllChange:function(e){this.checkedCities=e?c:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.cities.length,this.isIndeterminate=t>0&&t<this.cities.length},change:function(){this.queryList()},objectSpanMethod:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex;if(0===a){for(var i=0;i<this.cateNameData.length;i++){if(t===this.cateNameData[i])return{rowspan:2,colspan:1};if(t===this.cateNameData[i]+1)return{rowspan:0,colspan:0}}return{rowspan:1,colspan:1}}},exportEX:function(){var e=this,t={field:this.checkedCities.join(","),type:1,jsonStr:this.where};this.tableData=[],this.paramsObject=[],this.$api.downFileByPostData("/ArchType/exportExcel",t).then((function(t){if(t){var a=Date.parse(new Date);if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([data]),a+".xlsx");else{var i=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.style.display="none",n.href=i,n.setAttribute("download",a+".xlsx"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}}else e.$sweetAlert.errorWithTimer("文件下载失败！")}))},query:function(e){this.where=[],this.where=e,this.queryList()},queryList:function(){var e=this,t={type:this.type,jsonStr:this.where};this.tableData=[],this.loading=!0,this.paramsObject=[],this.$api.getAction("/ArchType/list",t).then((function(t){"200"==t.code?(e.tableData=t.data,t.data.forEach((function(t){e.paramsObject.push({label:t.path,value:t.code})})),e.loading=!1):(e.$sweetAlert.errorWithTimer("网络出错"),e.loading=!1)}))}}},u=d,p=a("2877"),m=Object(p["a"])(u,i,n,!1,null,"373a9a11",null);t["default"]=m.exports},"55e3":function(e,t,a){},"5aae":function(e,t,a){"use strict";a("8a96")},"5b17":function(e,t,a){"use strict";a("ded2")},"5c44":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"移库",visible:e.dialogFormVisible,width:"1200px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("div",{staticStyle:{"font-size":"18px"}},[e._v(" 从【 "+e._s(e.sourcePath)+" 】移动到【 "+e._s(e.target)+" 】数据设置 ")]),a("div",{staticStyle:{color:"red",margin:"20px 0 20px 0"}},[e._v(" 【（唯一列）：根据设置唯一列验证数据是否重复，唯一性重复则无法进行移库操作;未设置则默认不验证；】 ")]),a("div",{staticClass:"col"},[a("el-form-item",{staticClass:"col",attrs:{label:"设置唯一列"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.uniqueField,callback:function(t){e.uniqueField=t},expression:"uniqueField"}},e._l(e.fieldList,(function(e){return a("el-option",{key:e.fldDesc,attrs:{label:e.fldDesc,value:e.fldName}})})),1)],1),a("el-form-item",{staticClass:"col mag",attrs:{label:"并且"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.field1,callback:function(t){e.field1=t},expression:"field1"}},e._l(e.fieldList,(function(e){return a("el-option",{key:e.fldDesc,attrs:{label:e.fldDesc,value:e.fldName}})})),1)],1),a("el-form-item",{staticClass:"col mag",attrs:{label:"并且"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.field2,callback:function(t){e.field2=t},expression:"field2"}},e._l(e.fieldList,(function(e){return a("el-option",{key:e.fldDesc,attrs:{label:e.fldDesc,value:e.fldName}})})),1)],1),a("el-form-item",{staticClass:"col mag",attrs:{label:"并且"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.field3,callback:function(t){e.field3=t},expression:"field3"}},e._l(e.fieldList,(function(e){return a("el-option",{key:e.fldDesc,attrs:{label:e.fldDesc,value:e.fldName}})})),1)],1)],1),a("div",{staticClass:"tCenter"},[a("el-checkbox",{model:{value:e.checkedDel,callback:function(t){e.checkedDel=t},expression:"checkedDel"}},[e._v("移库后删除源数据")]),a("el-checkbox",{model:{value:e.checkedMod,callback:function(t){e.checkedMod=t},expression:"checkedMod"}},[e._v("移库后修改档号")])],1),a("div",{staticStyle:{color:"red",margin:"20px 0 20px 0"}},[e._v(" 【下列为数据对应,左边为要移动到的库字段,右边为需移动库字段,进行字段对应】 ")]),a("div",{staticClass:"col tCenter"},[a("div",[a("ul",[a("span",{staticStyle:{"margin-right":"200px"}},[e._v("目标库字段 <=")]),e._v(" =>当前库字段 "),e._l(e.fieldList,(function(t,i){return a("li",{key:i,staticStyle:{display:"flex"}},[a("el-form-item",{attrs:{label:""}},[a("el-input",{staticStyle:{"margin-bottom":"10px","margin-right":"130px",width:"150px"},attrs:{placeholder:"请输入内容",disabled:!0},model:{value:t.fldDesc,callback:function(a){e.$set(t,"fldDesc",a)},expression:"item.fldDesc"}})],1),a("el-form-item",{staticStyle:{display:"inline-block"},attrs:{label:""}},[a("el-select",{staticStyle:{"margin-bottom":"10px"},attrs:{name:"select"+i,filterable:"","no-match-text":"无匹配数据",placeholder:"请选择"},on:{change:function(a){return e.selectChange(t.fldName,i)}},model:{value:t.fldName,callback:function(a){e.$set(t,"fldName",a)},expression:"item.fldName"}},e._l(e.targetList,(function(e,t){return a("el-option",{key:t,attrs:{name:"select"+i+t,label:e.fldDesc,value:e.fldName}})})),1)],1)],1)}))],2)])])]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelFormModule}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.move}},[e._v("移 库")])],1)],1),e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"auto-scroll"},[a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],ref:"tree",attrs:{data:e.treeData,"default-expanded-keys":e.defaultExpandedKeys,singleCheck:!0,checkStrictly:!0},on:{keys:e.getCheckedKeys,click:e.treeNodeClick}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.showForm}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()],1)},n=[],o=a("1da1"),s=a("b85c"),r=a("ade3"),l=(a("96cf"),a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("159b"),a("6062"),a("a15b"),a("d81d"),a("7db0"),a("4de4"),a("b0c0"),a("60f9")),c={name:"TransferForm",mixins:[],components:{BasicTree:l["default"]},props:{},data:function(){var e;return e={form:{region:""},visible:!1,loading:!1,title:"选择分类",checkList:[],selectedTreeId:"",activeName:"all",treeListBaseData:[],othType:"",othType1:"",volType:1,docType:2,root:"",treeData:[],checkedDel:!1,checkedMod:!1,selectedData:null,rowList:[],sourcePath:"",sourceCode:"",target:"",defaultCheckedKeys:[],defaultExpandedKeys:[],url:{tree:"/category/categoryTree",rootPath:"/category/getCategoryPath",getCategory:"/category/getCategory",field:"/templates/queryBasicFld",move:"/archArrange/moveTable"},ids:"",templateId:"",keys:[],uniqueField:"ARCH_RULE",field:"",field1:"",field2:"",field3:"",fieldList:[],targetList:[],result:[]},Object(r["a"])(e,"ids",[]),Object(r["a"])(e,"OldTemplateId",""),Object(r["a"])(e,"map",new Map),Object(r["a"])(e,"optionList",[{label:"档案收集",id:"1"},{label:"档案整理",id:"2"},{label:"档案管理",id:"3"}]),Object(r["a"])(e,"dialogFormVisible",!1),e},watch:{},computed:{},methods:{initForm:function(e,t,a,i){var n=this;this.root=t,this.othType=e,this.OldTemplateId=i,this.visible=!0;var o=localStorage.getItem("treeDataArray");if(o){var s=JSON.parse(o);this.setData(s)}else this.getTreeData();a.forEach((function(e){n.ids.push(e.ID)}));var r=1==e?this.volType:this.docType;this.sourceCode=a[0].CATE_CODE,this.$api.httpAction(this.url.getCategory,{codes:a[0].CATE_CODE},"post").then((function(t){var a={templateId:t.data[0].templateId,archType:e,fldType:r};n.$api.httpAction(n.url.field,a,"post").then((function(e){e.data.forEach((function(e){n.fieldList.push(e)}))}))}))},move:function(){var e=this,t=[];t.push(this.uniqueField),t.push(this.field1),t.push(this.field2),t.push(this.field3);var a,i=Object(s["a"])(this.map.values());try{var n=function(){var t=a.value,i=e.result.find((function(e){return e!=t}));"obj"!=i&&e.result.push(i)};for(i.s();!(a=i.n()).done;)n()}catch(l){i.e(l)}finally{i.f()}var o=new Set(result);this.result=[],o.forEach((function(t){e.result.push(t)}));var r={othType1:this.othType,othType2:this.othType1,OldTemplateId:this.OldTemplateId,newTemplateId:this.selectedData.templateId,ids:this.ids.join(","),del_flag:this.checkedDel,modifyArch:this.checkedMod,cateCode:this.selectedData.cateCode,uniqueField:t.join(","),fields:this.result.join(",")};this.$api.httpAction(this.url.move,r,"post").then((function(t){"200"==t.code&&(e.$sweetAlert.successWithTimer(t.msg),e.cancelFormModule())}))},selectChange:function(e,t){this.map.set(t,e)},change:function(e,t){},cancelFormModule:function(){this.fieldList=[],this.targetList=[],this.result=[],this.ids=[],this.map=new Map,this.dialogFormVisible=!1,this.$emit("close")},getTreeData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$api.getAction(e.url.tree,{moduleType:1});case 4:a=t.sent,i=a.treeData,e.setData(i),e.loading=!1,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),e.loading=!1;case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},setData:function(e){this.treeListBaseData=this.setTreeDataResetParentId(e),this.treeData=this.setTreeData(this.treeListBaseData)},setTreeData:function(e){var t=this,a=e.filter((function(e){return"-1"==e.parentId}));e.map((function(e){return e.label=e.name,e}));var i=function e(t){t.forEach((function(t){t.children.length?(t.elIcon="folder",e(t.children)):(t.elIcon="document-copy",t.templateId&&(t.children=[{parentId:t.id,cateCode:t.cateCode,templateId:t.templateId,label:"案卷目录"},{parentId:t.id,cateCode:t.cateCode,templateId:t.templateId,label:"卷内目录"}]))}))};i(a);var n=[];return this.optionList.forEach((function(e,i){var o={label:e.label,children:t.setTreeDataByOptionList(a,i)};n.push(o)})),n},setTreeDataByOptionList:function(e,t){var a=function e(a){a.forEach((function(a){a.id&&(a.id=t+"-"+a.id),a.children&&a.children.length>0&&e(a.children)}))},i=JSON.parse(JSON.stringify(e));return a(i),i},setTreeDataResetParentId:function(e){var t=[];return this.optionList.forEach((function(a,i){t=[];var n=JSON.parse(JSON.stringify(e));n.forEach((function(e,n){e.id=i+"-"+n+"-"+e.id,e.elementId=e.id,e.optionId=a.id,e.cateCode=e.cateCode,t.push(e)}))})),t},getCheckedKeys:function(e){this.keys=e},treeNodeClick:function(e){this.selectedData=e},showForm:function(){var e=this;if(this.selectedData)if(this.selectedData.children&&this.selectedData.children.length>0)this.$sweetAlert.warnWithTimer("只能选择叶子节点！");else if(this.selectedData.templateId){this.$api.httpAction(this.url.rootPath,{code:this.sourceCode},"post").then((function(t){1==e.othType?e.sourcePath=e.root+" / "+t.data+" / 案卷目录 / ":e.sourcePath=e.root+" / "+t.data+" / 卷内目录 / "})),this.othType1="案卷目录"==this.selectedData.label?this.volType:this.docType;1==this.othType1?this.volType:this.docType;this.$api.httpAction(this.url.rootPath,{code:this.selectedData.cateCode},"post").then((function(t){"200"==t.code&&(e.target=e.root+" / "+t.data+" / "+e.selectedData.label+" / ",e.$api.httpAction(e.url.getCategory,{codes:e.selectedData.cateCode},"post").then((function(t){var a={templateId:t.data[0].templateId,archType:e.othType1};e.$api.httpAction(e.url.field,a,"post").then((function(t){"200"==t.code&&(t.data.forEach((function(t){e.targetList.push(t)})),e.fieldList.forEach((function(t){var a=e.targetList.find((function(e){return e.fldName==t.fldName}));e.result.push(a.fldName)})))}))})),e.dialogFormVisible=!0,e.visible=!1)}))}else this.$sweetAlert.warnWithTimer("该分类下没有配置模板！");else this.$sweetAlert.warnWithTimer("请先选择！")},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){},mounted:function(){}},d=c,u=(a("496f"),a("2877")),p=Object(u["a"])(d,i,n,!1,null,"13e606a3",null);t["default"]=p.exports},"5d897":function(e,t,a){"use strict";a("750c")},"5dda":function(e,t,a){"use strict";a("4585")},"5e0e":function(e,t,a){"use strict";a("257c")},"5e7f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container auto-box",attrs:{id:"fileBox"}},[e.showListFlag?a("el-row",{staticClass:"max-height"},[a("el-col",{staticClass:"max-height",attrs:{span:24}},[e.fileBoxShow?a("div",{staticClass:"flex-column max-height"},[e.showSeaBarBox?a("search-bar",{ref:"searchBarBox",on:{"set-search-val":e.setSearchVal}}):e._e(),a("tab-btn",{attrs:{list:e.fileBtnList,saveType:"keep-file",statisticsFlag:e.statisticsFlag,othType:"1",setBtn:!0},on:{click:e.tabBtnClick,set:function(t){return e.setArchTable(1)}}}),e.statisticsFlag?a("statistics-box",{attrs:{paramsData:e.statisticsParams}}):e._e(),a("div",{staticClass:"auto-scroll"},[a("arch-dyn-table",{ref:"fileBox",attrs:{"module-type":"keep","template-id":e.templateId,"oth-type":1,"biz-type":"keepArch","is-select":e.fileBoxObj.isSelect,"cate-code":e.cateCode,"show-total":!0,transfered:e.transfered,"oper-col":e.fileBoxObj.operCol},on:{"cell-click":e.cellClickFile,"cell-style":e.cellStyle}})],1)],1):e._e(),e.fileBoxShow?a("hr"):e._e(),e.fileReelShow?a("div",{staticClass:"flex-column max-height vol-common-box",class:{"vol-singe-box":!e.fileBoxShow}},[e.showSeaBarReel?a("search-bar",{ref:"searchBarReel",on:{"set-search-val":e.setSearchVal}}):e._e(),a("tab-btn",{attrs:{list:e.fileBoxShow?e.docBtnList:e.singlBtnList,saveType:e.fileBoxShow?"keep-doc":"keep-single",othType:e.fileBoxShow?"2":"3",setBtn:!0},on:{click:e.tabBtnClick,set:function(t){return e.setArchTable(2)}}}),e.statisticsFlag&&2==e.cateType?a("statistics-box",{attrs:{"params-data":e.statisticsParams}}):e._e(),a("div",{staticClass:"auto-scroll",attrs:{id:"volBox"}},[a("arch-dyn-table",{ref:"fileReel",attrs:{"module-type":"keep","biz-type":"keepArch","template-id":e.templateId,"oth-type":e.fileBoxShow?2:3,"is-select":e.fileReelObj.isSelect,"vol-id":e.volId,"cate-code":e.cateCode,transfered:e.transfered,"oper-col":e.fileReelObj.operCol}})],1)],1):e._e()])],1):e._e(),a("back-top"),e.showListFlag?e._e():a("div",{staticClass:"max-height"},[a("cate-panel",{attrs:{cateId:e.cateId,templateNoneFlag:e.templateNoneFlag},on:{click:e.catePanelClick}})],1),e.showModal.show?a("show-modal",{ref:"showModal",attrs:{title:e.showModal.title},on:{close:function(t){e.showModal.show=!1}}}):e._e(),e.putArchModuleShow?a("put-arch-module",{ref:"putArchModule",attrs:{"cate-type":e.cateType},on:{ok:function(t){return e.queryList("1")},close:function(t){e.putArchModuleShow=!1}}}):e._e(),e.fileBoxReelModule.show?a("file-box-reel-module",{ref:"fileBoxReelModule",attrs:{title:e.fileBoxReelModule.textMap[e.fileBoxReelModule.status],status:e.fileBoxReelModule.status},on:{ok:e.queryList,close:function(t){e.fileBoxReelModule.show=!1}}}):e._e(),e.recycleShow?a("recycle-module",{ref:"recycleModule",on:{ok:e.queryList,close:function(t){e.recycleShow=!1}}}):e._e(),e.borrowApply.show?a("apply-modal",{ref:"borrowApply",attrs:{cateCode:e.cateCode},on:{close:function(t){e.borrowApply.show=!1},ok:function(t){return e.queryList(1)}}}):e._e(),e.print.show?a("print-modal",{ref:"print",on:{close:function(t){e.print.show=!1}}}):e._e(),e.exportPackage.show?a("export-package",{ref:"exportPackage",on:{close:function(t){e.exportPackage.show=!1}}}):e._e()],1)},n=[],o=a("1da1"),s=a("5530"),r=(a("96cf"),a("d81d"),a("a15b"),a("4de4"),a("b0c0"),a("159b"),a("5251")),l=a("e8ec"),c=a("b713"),d=a("bd66"),u=a("c1c1"),p=a("69ca"),m=a("70ef"),h=a("faca"),f=a("0c90"),v=a("facc"),b=a("1a36"),g=a("14a6"),y=a("60f9"),_=a("2e5f"),w=a("60d4"),k=a("ca00"),x=a("0efe"),C=a("a747"),D=a("cf45"),T={name:"KeepArchList",mixins:[h["a"],f["a"]],components:{ExportPackage:r["default"],PrintModal:l["default"],TabBtn:c["default"],ApplyModal:d["default"],ShowModal:u["default"],StatisticsBox:p["default"],CatePanel:m["default"],ArchDynTable:v["default"],BasicTree:y["default"],BtnList:_["default"],PutArchModule:w["default"],SearchBar:g["default"],FileBoxReelModule:b["default"],RecycleModule:x["default"],BackTop:C["default"]},props:{},data:function(){var e=this;this.$createElement;return{cateType:1,fileBoxShow:!0,fileReelShow:!1,putArchModuleShow:!1,showSeaBarBox:!0,showSeaBarReel:!1,recycleShow:!1,exportPackage:{show:!1,loading:!1},print:{show:!1,loading:!1},searchVal:{},transfered:"",cateCode:"",templateId:"",volId:"",searchOptions:[],treeData:[],defaultCheckedKeys:[],defaultExpandedKeys:[],fileBoxReelModule:{show:!1,status:"create",textMap:{update:"编辑",create:"添加",similarAdd:"类似新建",mergeVol:"案卷合并",groupVol:"卷内组卷",view:"查看",insert:"插入"},loading:!1},initFromData:{templateId:"",cateCode:""},fileBoxObj:{isSelect:!0,operCol:[{label:"操作",prop:"oper",width:160,fixed:"right",render:function(t,a){var i=a.row,n=[{content:"查看",type:"text",icon:"view",event:function(){e.view(i,"1")}}];return t(_["default"],{attrs:{btnInfo:n}})}}]},fileReelObj:{isSelect:!0,operCol:[{label:"操作",prop:"oper",width:160,fixed:"right",render:function(t,a){var i=a.row,n=[{content:"查看",type:"text",icon:"view",event:function(){e.view(i,1==e.cateType?"2":"3")}}];return t(_["default"],{attrs:{btnInfo:n}})}}]},url:{codeTree:"/category/archCateTree",searchFld:"/searchFld/sfList",recall:"/keepArch/recall",archivesLower:"/dynamic/archivesLower",undercarriage:"/storeCapacity/undercarriage",addFavorite:"/MyFavorites/addFavorite",removeArrange:"/archArrange/removeArrange",deleteArrange:"/archArrange/delete",copyBoxReel:"/dynamic/copyBoxReel",addCar:"/borrowCar/addBorrowCar"},paramsObject:null,fileBtnList:[{label:"常用功能",key:"common",list:[{permission:"sys:keep:unfiling",name:"撤销归档",icon:"refresh-left",key:"revoke"},{permission:"",name:"档案上架",icon:"top",key:"putArch"},{permission:"",name:"档案下架",icon:"bottom",key:"shelfOff"},{permission:"",name:"加入借阅车",icon:"",key:"joinBorrowCart"},{permission:"",name:"直接借阅",icon:"",key:"borrowClick"}]},{label:"全部功能",key:"all",type:"hide",list:[{permission:"sys:keep:unfiling",name:"撤销归档",icon:"refresh-left",key:"revoke"},{permission:"",name:"档案上架",icon:"top",key:"putArch"},{permission:"",name:"档案下架",icon:"bottom",key:"shelfOff"},{permission:"sys:keep:collection",name:"收藏",icon:"collection-tag",key:"collection"},{permission:"sys:keep:print",name:"打印",icon:"",key:"print"},{type:"switchBtn",permission:"",name:"显示统计",switchName:"隐藏统计",switchFlag:!1,icon:"",key:"statistics"},{permission:"",name:"题名查重",icon:"",key:"title-vol"},{permission:"",name:"查漏",icon:"",key:"burst-vol"},{permission:"",name:"查重",icon:"",key:"repeat-vol"},{permission:"",name:"加入借阅车",icon:"",key:"joinBorrowCart"},{permission:"",name:"直接借阅",icon:"",key:"borrowClick"}]},{label:"文件管理",key:"file",list:[{permission:"sys:keep:unfiling",name:"撤销归档",icon:"refresh-left",key:"revoke"},{permission:"",name:"档案上架",icon:"top",key:"putArch"},{permission:"",name:"档案下架",icon:"bottom",key:"shelfOff"}]},{label:"查询与统计",key:"statistics",list:[{type:"switchBtn",permission:"",name:"显示统计",switchName:"隐藏统计",switchFlag:!1,icon:"",key:"statistics"}]},{label:"输出与打印",key:"output",list:[{permission:"sys:keep:print",name:"打印",icon:"",key:"print"},{name:"导出封包",key:"export-package"}]},{label:"借阅",key:"borrow",list:[{permission:"",name:"加入借阅车",icon:"",key:"joinBorrowCart"},{permission:"",name:"直接借阅",icon:"",key:"borrowClick"}]},{label:"检测与鉴定",key:"testing",list:[{permission:"",name:"题名查重",icon:"",key:"title-vol"},{permission:"",name:"查漏",icon:"",key:"burst-vol"},{permission:"",name:"查重",icon:"",key:"repeat-vol"}]},{label:"其他",key:"other",list:[{permission:"sys:keep:collection",name:"收藏",icon:"collection-tag",key:"collection"}]}],docBtnList:[{label:"常用功能",key:"common",list:[{permission:"",name:"加入借阅车",icon:"",key:"joinBorrowCart"},{permission:"",name:"直接借阅",icon:"",key:"borrowClick"}]},{label:"全部功能",key:"all",type:"hide",list:[{permission:"sys:keep:print",name:"打印",icon:"",key:"print"},{permission:"",name:"查漏",icon:"",key:"burst-doc"},{permission:"",name:"加入借阅车",icon:"",key:"joinBorrowCart"},{permission:"",name:"直接借阅",icon:"",key:"borrowClick"}]},{label:"输出与打印",key:"output",list:[{permission:"sys:keep:print",name:"打印",icon:"",key:"print"}]},{label:"借阅",key:"borrow",list:[{permission:"",name:"加入借阅车",icon:"",key:"joinBorrowCart"},{permission:"",name:"直接借阅",icon:"",key:"borrowClick"}]},{label:"检测与鉴定",key:"testing",list:[{permission:"",name:"查漏",icon:"",key:"burst-doc"}]}],singlBtnList:[{label:"常用功能",key:"common",list:[{permission:"sys:keep:unfiling",name:"撤销归档",icon:"refresh-left",key:"revoke"},{permission:"",name:"档案上架",icon:"top",key:"putArch"},{permission:"",name:"档案下架",icon:"bottom",key:"shelfOff"},{permission:"",name:"加入借阅车",icon:"",key:"joinBorrowCart"},{permission:"",name:"直接借阅",icon:"",key:"borrowClick"}]},{label:"全部功能",key:"all",type:"hide",list:[{permission:"sys:keep:unfiling",name:"撤销归档",icon:"refresh-left",key:"revoke"},{permission:"",name:"档案上架",icon:"top",key:"putArch"},{permission:"",name:"档案下架",icon:"bottom",key:"shelfOff"},{type:"switchBtn",permission:"",name:"显示统计",switchName:"隐藏统计",switchFlag:!1,icon:"",key:"statistics"},{permission:"",name:"题名查重",icon:"",key:"title-vol"},{permission:"",name:"查重",icon:"",key:"repeat-vol"},{permission:"sys:collection:print",name:"打印",icon:"",key:"print"},{permission:"",name:"查漏",icon:"",key:"burst-doc"},{permission:"",name:"加入借阅车",icon:"",key:"joinBorrowCart"},{permission:"",name:"直接借阅",icon:"",key:"borrowClick"}]},{label:"文件管理",key:"file",list:[{permission:"sys:keep:unfiling",name:"撤销归档",icon:"refresh-left",key:"revoke"},{permission:"",name:"档案上架",icon:"top",key:"putArch"},{permission:"",name:"档案下架",icon:"bottom",key:"shelfOff"}]},{label:"查询与统计",key:"statistics",list:[{type:"switchBtn",permission:"",name:"显示统计",switchName:"隐藏统计",switchFlag:!1,icon:"",key:"statistics"}]},{label:"输出与打印",key:"output",list:[{permission:"sys:collection:print",name:"打印",icon:"",key:"print"}]},{label:"借阅",key:"borrow",list:[{permission:"",name:"加入借阅车",icon:"",key:"joinBorrowCart"},{permission:"",name:"直接借阅",icon:"",key:"borrowClick"}]},{label:"检测与鉴定",key:"testing",list:[{permission:"",name:"题名查重",icon:"",key:"title-vol"},{permission:"",name:"查漏",icon:"",key:"burst-doc"},{permission:"",name:"查重",icon:"",key:"repeat-vol"}]},{label:"其他",key:"other",list:[{permission:"sys:keep:collection",name:"收藏",icon:"collection-tag",key:"collection"}]}]}},watch:{defaultCheckedKeys:function(e){e&&this.$nextTick((function(){document.querySelector(".el-icon-document-copy").click()}))}},computed:{theme:function(){return this.$store.state.settings.theme},statisticsParams:function(){var e={};return this.paramsObject&&(e=this.paramsObject),1==this.cateType?e.cateType="1":e.cateType="2",e.templateId=this.templateId,e.cate_code=this.cateCode,e.archStatus="1",e.transfered="4",e}},methods:{setArchTable:function(e){this.$refs["1"==e?"fileBox":"fileReel"].setArchTable()},tabBtnClick:function(e){var t=this,a=e.key,i=e.othType,n=this.$refs["1"==i?"fileBox":"fileReel"].table.selection,o={othType:i,templateId:this.templateId};switch(n.length>0&&(o=Object(s["a"])(Object(s["a"])({},o),{},{ids:Object(k["e"])(n)})),a){case"revoke":this.archLowerRevoke(i);break;case"putArch":this.putArch();break;case"shelfOff":this.archLowerRevoke("0");break;case"collection":this.collection();break;case"delete":this.batchDelRem(i,"1");break;case"copy":this.batchCopy(i);break;case"insert":this.insertBoxReel(i);break;case"recycle":this.recycle(i);break;case"remove":this.batchDelRem(i,"0");break;case"joinBorrowCart":this.joinBorrowCart(i);break;case"borrowClick":this.borrowClick(i);break;case"statistics":this.statisticsFlag=!this.statisticsFlag;break;case"print":if(!n.length>0)return void this.$sweetAlert.warnWithTimer("请先勾选数据进行操作！");this.print.show=!0,this.$nextTick((function(){t.$refs.print.init("1",i,o)}));break;case"export-package":if(!n.length>0)return void this.$sweetAlert.warnWithTimer("请选择要导出的数据！");this.exportPackage.show=!0,this.$nextTick((function(){t.$refs.exportPackage.init(o)}));break;case"title-vol":this.selectDhScreen("title","vol");break;case"burst-vol":this.selectDhScreen("burst","vol");break;case"repeat-vol":this.selectDhScreen("repeat","vol");break;case"burst-doc":this.selectDhScreen("burst","doc");break;default:break}},borrowClick:function(e){var t=this,a=this.getDataListByOthType(e);!a.length>0?this.$sweetAlert.warnWithTimer("请先勾选数据进行操作！"):(a.map((function(a){a.TEMPLATE_ID=t.templateId,2==e&&(a.VOL_ID=t.volId)})),this.showBorrowModal(a,e))},joinBorrowCart:function(e){var t=this.getDataListByOthType(e);!t.length>0?this.$sweetAlert.warnWithTimer("请先勾选数据进行操作！"):this.addCar(e,t)},getDataListByOthType:function(e){var t=this.$refs["1"==e?"fileBox":"fileReel"].table.selection;return t},addCar:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){var n,o,s,r,l,c,d,u;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=a.templateId,o=t.map((function(e){return e.ID})).join(","),s=null,r=e,"2"==e&&(s=t.map((function(e){return e.ID})).join(","),o=a.volId),l=a.url.addCar,c={templateId:n,vol_id:o,doc_id:s,ope_type:r},d="post",i.next=11,a.$api.httpAction(l,c,d);case 11:u=i.sent,200==u.code?a.$sweetAlert.successWithTimer(u.msg):a.$sweetAlert.errorWithTimer(u.msg);case 13:case"end":return i.stop()}}),i)})))()},batchCopy:function(e){var t=this,a=this.$refs["1"==e?"fileBox":"fileReel"].table.selection;if(!a.length>0)this.$sweetAlert.warnWithTimer("请先勾选数据进行操作！");else{var i={ids:Object(k["e"])(a),othType:e,templateId:this.templateId};this.$api.httpAction(this.url.copyBoxReel,i,"post").then((function(a){"200"==a.code?(t.$sweetAlert.successWithTimer(a.msg),t.queryList(e)):t.$sweetAlert.errorWithTimer(a.msg)})).catch((function(){t.$sweetAlert.errorWithTimer("error")}))}},insertBoxReel:function(e){var t=this,a=this.$refs["1"==e?"fileBox":"fileReel"].table.selection;if(1==a.length){var i=a[0];"1"!=e&&(this.initFromData.volId=this.volId),this.initFromData.othType=e,this.initFromData.row=i,this.initFromData.status="insert",this.fileBoxReelModule.status="insert",this.initFromData.transferStatus="4",this.initFromData.archStatus="1",this.fileBoxReelModule.show=!0,this.$nextTick((function(){t.$refs["fileBoxReelModule"].initForm(t.initFromData)}))}else this.$sweetAlert.warnWithTimer("请选择一条需要插卷的记录，新增记录将插入该记录上方，并会修改后续件号！")},recycle:function(e){var t=this;this.recycleShow=!0,this.initFromData.othType=e,this.initFromData.bizType="keepArch",this.$nextTick((function(){t.$refs["recycleModule"].initForm(t.initFromData)}))},batchDelRem:function(e,t){var a=this,i=this.$refs["1"==e?"fileBox":"fileReel"].table.selection;if(!i.length>0)this.$sweetAlert.warnWithTimer("请先勾选数据进行操作！");else{var n="1"==t?"是否确定删除？删除数据将进入回收站，如需彻底删除请点击移除操作！":"是否确认移除？移除只会移除未送审、未上架、未借出数据，移除后数据将彻底消失，请您谨慎操作！";this.$confirm(n,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n={id:Object(k["e"])(i),othType:e,templateId:a.templateId},o="1"==t?a.url.deleteArrange:a.url.removeArrange;a.$api.httpAction(o,n,"post").then((function(t){"200"==t.code?(a.$sweetAlert.successWithTimer(t.msg),a.queryList(e)):a.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))}},collection:function(){var e=this;if(1==this.cateType){if(!this.$refs["fileBox"].table.selection.length>0)return void this.$sweetAlert.warnWithTimer("请勾选数据再进行操作！")}else if(!this.$refs["fileReel"].table.selection.length>0)return void this.$sweetAlert.warnWithTimer("请勾选数据再进行操作！");this.$confirm("收藏只收藏您未收藏数据！","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t="";t=1==e.cateType?Object(k["e"])(e.$refs["fileBox"].table.selection):Object(k["e"])(e.$refs["fileReel"].table.selection);var a={ids:t,templateId:e.templateId,cateType:e.cateType};e.$api.httpAction(e.url.addFavorite,a,"post").then((function(t){"200"==t.code?e.$sweetAlert.successWithTimer(t.msg):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))},archLowerRevoke:function(e){var t=this,a=[];if(a=3!=e&&0!=e||2!=this.cateType?this.$refs["fileBox"].table.selection:this.$refs["fileReel"].table.selection,a.length<=0)this.$sweetAlert.warnWithTimer("请至少勾选一条数据进行操作！");else{if(0==e){var i=a.filter((function(e){return 0===e.PUT_STATUS}));if(i.length===a.length)return this.$sweetAlert.warnWithTimer("勾选数据均未上架，无需下架！"),void this.queryList(1);if(0!==i.length&&i.length<a.length)return this.$sweetAlert.warnWithTimer("勾选数据存在未上架数据，无需下架！"),void this.queryList(1)}this.$confirm("1"==e||"3"==e?"确定要撤销吗?":"确定要下架所选档案吗?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i={ids:Object(k["e"])(a),othType:e,cateType:t.cateType,templateId:t.templateId},n="1"==e||"3"==e?t.url.recall:t.url.undercarriage;t.$api.httpAction(n,i,"post").then((function(e){"200"==e.code?(t.$sweetAlert.successWithTimer(e.msg),t.queryList(1)):t.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){t.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))}},putArch:function(){var e=this,t={};t="1"==this.cateType?this.$refs["fileBox"].table.selection:this.$refs["fileReel"].table.selection,!t.length>0?this.$sweetAlert.warnWithTimer("请勾选数据再进行操作！"):(this.putArchModuleShow=!0,this.$nextTick((function(){e.$refs["putArchModule"].init({ids:Object(k["e"])(t),templateId:e.templateId})})))},treeNodeClick:function(e,t){var a=this;this.cateType=e.cateType,t||!e.children||"0"==e.children.length?(this.paramsObject=t,this.fileBoxShow=!1,this.fileReelShow=!1,this.initFromData.cateCode=e.cateCode,this.initFromData.templateId=e.templateId,this.templateId=e.templateId,this.cateCode=e.cateCode,1==e.cateType?(this.fileBoxShow||(this.fileBoxShow=!0,this.showSeaBarBox=!0),this.$nextTick((function(){a.$refs["fileBox"].getFields(e.templateId,"1",null,t),a.$refs["searchBarBox"].initSearchBar(a.templateId,"1")}))):(this.fileReelShow||(this.fileReelShow=!0,this.showSeaBarReel=!0),this.$nextTick((function(){a.$refs["fileReel"].getFields(a.templateId,"3",null,t),a.$refs["searchBarReel"].initSearchBar(a.templateId,"3"),Object(D["l"])("fileBox","volBox")})))):this.$sweetAlert.warnWithTimer("请选择子节点进行业务操作！")},cellClickFile:function(e,t){var a=this;"ARCH_RULE"==t.property&&(this.volId=e.ID,this.fileReelShow||(this.fileReelShow=!0,this.showSeaBarReel=!0),this.$nextTick((function(){a.$refs["fileReel"].getFields(a.templateId,"2"),a.$refs["searchBarReel"].initSearchBar(a.templateId,"2"),Object(D["l"])("fileBox","volBox")})))},setTreeData:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));e.map((function(e){return e.label=e.name,e})),this.setDefaultCheck(t,e);var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length?(a.elIcon="folder",t(a.children)):a.elIcon="document-copy"}))};return a(t),t},setDefaultCheck:function(e,t){var a=e[0].id,i=t.filter((function(e){return e.parentId==a}));this.defaultExpandedKeys.push(a);var n=this,o=function e(a){if(a.length){var i=a[0].id;n.defaultExpandedKeys.push(i),a=t.filter((function(e){return e.parentId==i})),e(a)}else n.defaultCheckedKeys.push(n.defaultExpandedKeys[n.defaultExpandedKeys.length-1])};o(i)},getTreeData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.getAction(e.url.codeTree,{});case 3:a=t.sent,i=a.treeData,e.treeData=e.setTreeData(i),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},setSearchVal:function(e,t){this.searchVal=e,this.queryList(t)},queryList:function(e){this.paramsObject&&(this.searchVal=Object.assign(this.searchVal,this.paramsObject)),"1"!=e?this.$refs.fileReel.queryList(this.searchVal):this.$refs.fileBox.queryList(this.searchVal),this.initFromData={templateId:this.templateId,cateCode:this.cateCode}},view:function(e,t){var a=this;this.fileBoxReelModule.status="view",this.fileBoxReelModule.show=!0,this.initFromData.row=e,this.initFromData.status="view",this.initFromData.othType=t,this.$nextTick((function(){a.$refs["fileBoxReelModule"].initForm(a.initFromData)}))},cellStyle:function(e,t,a,i){"ARCH_RULE"==t.property&&(a.cursor="pointer"),i(a)}},created:function(){}},I=T,S=(a("2de5"),a("2877")),A=Object(S["a"])(I,i,n,!1,null,"b618353e",null);t["default"]=A.exports},"60d4":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,width:"75%","before-close":e.cancelModal,title:"档案上架",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",[a("div",{staticClass:"div-main"},[a("div",{staticClass:"div-left auto-scroll"},[a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],attrs:{data:e.treeData,"default-checked-keys":e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys},on:{click:e.treeNodeClick}})],1),a("div",{staticClass:"div-right auto-scroll"},[a("store-capacity-view",{ref:"capView",on:{putaway:e.putaway}})],1)])]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelModal}},[e._v("取消")])],1)]):e._e()},n=[],o=a("1da1"),s=(a("4de4"),a("d81d"),a("b0c0"),a("159b"),a("ac1f"),a("1276"),a("96cf"),a("60f9")),r=a("f5ae"),l={name:"PutArchModule",components:{StoreCapacityView:r["default"],BasicTree:s["default"]},props:{cateType:{type:String}},data:function(){return{treeData:[],arrId:"",saId:"",serial:"",location:"",templateId:"",ids:"",mouseOverId:"",clickId:"",baseData:[],denseData:[],visible:!1,capView:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],url:{tree:"/storeRoom/viewTree?isArray=true",queryData:"/storeRoom/queryDataByArrId",updateForStore:"/dynamic/updateForStore",putArch:"/storeCapacity/putArch"}}},watch:{defaultCheckedKeys:function(e){e&&this.$nextTick((function(){document.querySelector(".is-checked .is-leaf+span .el-icon-office-building").click()}))}},computed:{theme:function(){return this.$store.state.settings.theme}},methods:{init:function(e){this.templateId=e.templateId,this.ids=e.ids,this.getTreeData(),this.visible=!0},getCapData:function(){var e=this,t={saId:this.saId,serial:this.serial,showChange:!1};this.capView=!0,this.$nextTick((function(){e.$refs["capView"].init(t)}))},queryData:function(e){var t=this,a={arrId:e};this.$api.httpAction(this.url.queryData,a,"post").then((function(e){e.length>0&&(t.denseData=e)})).catch((function(){t.$sweetAlert.errorWithTimer("error")}))},treeNodeClick:function(e){"0"==e.children.length?(this.saId=e.parentId,this.serial=e.serial,this.getCapData()):this.$sweetAlert.errorWithTimer("请选择密集排列节点操作！")},getTreeData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.getAction(e.url.tree,{});case 3:a=t.sent,i=a.treeData,e.baseData=i,e.treeData=e.setTreeData(i),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))()},setTreeData:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));this.setDefaultCheck(t,e),e.map((function(e){return e.label=e.name,"-1"==e.parentId?e.elIcon="s-home":e.elIcon="office-building",e}));var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.saParentId&&"-1"!=e.saParentId?e.saParentId==a.id:e.parentId==a.id}));a.children=i,i.length&&t(a.children)}))};return a(t),t},setDefaultCheck:function(e,t){var a=e[0].id,i=t.filter((function(e){return e.parentId==a}));this.defaultExpandedKeys.push(a);var n=this,o=function e(a){if(a.length){var i=a[0].id;n.defaultExpandedKeys.push(i),a=t.filter((function(e){return e.parentId==i})),e(a)}else n.defaultCheckedKeys.push(n.defaultExpandedKeys[n.defaultExpandedKeys.length-1])};o(i)},cancelModal:function(){this.visible=!1,this.$emit("close"),this.$emit("ok","1")},mouseOver:function(e){this.mouseOverId=e},mouseLeave:function(){this.mouseOverId=""},handleClick:function(e,t){this.clickId=e,this.location=t},submit:function(){var e=this;if(this.location){var t={ids:this.ids,othType:"1",location:this.location,templateId:this.templateId};this.$api.httpAction(this.url.updateForStore,t,"post").then((function(t){"200"==t.code?e.$sweetAlert.successWithTimer(t.msg+"，存放位置为："+e.location):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))}else this.$sweetAlert.warnWithTimer("请选择档案存放位置！")},putaway:function(e,t,a){var i=this;if("3"!=a){var n=this.ids.split(",");this.$confirm("您确定选择 ["+t+"]"+(n.length>1?"做为起始位上架？":"位置上架？"),"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={cateType:i.cateType,startBoxId:e,voIds:i.ids,saId:i.saId,cabSided:i.serial,templateId:i.templateId};i.$api.httpAction(i.url.putArch,t,"post").then((function(e){"200"==e.code?(i.$sweetAlert.successWithTimer(e.msg),i.getCapData()):i.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){i.$sweetAlert.errorWithTimer("error")}))}))}else this.$sweetAlert.warnWithTimer("该位置已使用,请您选择其它位置进行上架！")}},created:function(){}},c=l,d=(a("5aae"),a("2877")),u=Object(d["a"])(c,i,n,!1,null,"819bcec0",null);t["default"]=u.exports},"60f9":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tree",{ref:"tree",attrs:{data:e.data,props:e.defaultProps,"default-expand-all":e.defaultExpandAll,"default-expanded-keys":e.defaultExpandedKeys,"show-checkbox":e.showCheckbox,"check-strictly":e.checkStrictly,"default-checked-keys":e.defaultCheckedKeys,"expand-on-click-node":e.expandOnClickNode,"filter-node-method":e.filterNode,draggable:e.draggable,"allow-drop":e.allowDrop,lazy:e.lazy,load:e.loadNode,accordion:"","node-key":"id","render-content":e.renderContent},on:{"node-drag-start":e.handleDragStart,"node-drag-enter":e.handleDragEnter,"node-drop":e.handleDrop,"node-click":e.handleNodeClick,"node-expand":e.nodeExpand,"node-collapse":e.nodeCollapse,"check-change":e.handleClick}})],1)},n=[],o=(a("4de4"),a("99af"),a("a434"),{name:"",components:{},props:{data:{type:Array,default:[]},defaultExpandAll:{type:Boolean,default:!1},defaultExpandedKeys:{type:Array,default:function(){return[]}},defaultCheckedKeys:{type:Array,default:function(){return[]}},showCheckbox:{type:Boolean,default:!1},expandOnClickNode:{type:Boolean,default:!1},highlightCurrent:{type:Boolean,default:!0},checkStrictly:{type:Boolean,default:!1},singleCheck:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},getHalfCheckedKeys:{type:Boolean,default:!1},filterText:{type:String,default:""}},data:function(){return{defaultProps:{children:"children",label:"label"},expandedList:[]}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},computed:{},methods:{renderContent:function(e,t){var a=t.node,i=t.data;t.store;return e("span",[e("i",{class:"el-icon-"+i.elIcon}),e("span",[" ",a.label])])},handleNodeClick:function(e){this.$emit("click",e)},setCheckedKeys:function(e){this.$refs.tree.setCheckedKeys(e)},getCheckedKeys:function(){var e=this.$refs.tree.getCheckedKeys();this.getHalfCheckedKeys&&(e=this.$refs.tree.getCheckedKeys().concat(this.$refs.tree.getHalfCheckedKeys())),this.$emit("keys",e)},nodeExpand:function(e){this.expandedList.push(e.id),this.$emit("expandedChange",this.expandedList)},nodeCollapse:function(e){this.expandedList.splice(this.expandedList.indexOf(e.id),1),this.$emit("expandedChange",this.expandedList)},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleClick:function(e,t,a){this.singleCheck&&t&&this.$refs.tree.setCheckedNodes([e]),this.$emit("checkChange",{data:e,checked:t,node:a})},loadNode:function(e,t){this.$emit("loadNode",e,t)},allowDrop:function(e,t,a){if("inner"==a)return!0},handleDragStart:function(e,t){this.$emit("nodeDragStart",{node:e})},handleDragEnter:function(e,t,a){this.$emit("nodeDragEnter",{draggingNode:e,dropNode:t})},handleDrop:function(e,t,a,i){this.$emit("nodeDrop",{draggingNode:e,dropNode:t,dropType:a})}},created:function(){this.expandedList=this.defaultExpandedKeys},mounted:function(){}}),s=o,r=(a("18e9"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"4dfff174",null);t["default"]=l.exports},"610c":function(e,t,a){"use strict";a("9461")},"612c":function(e,t,a){},"62f7":function(e,t,a){},6302:function(e,t,a){},"633d":function(e,t,a){},"63e5":function(e,t,a){"use strict";a("9a66")},6432:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,width:"900px",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"content-box"},[a("div",{staticClass:"transfer-panel"},[a("div",{staticClass:"header"},[a("el-checkbox",{attrs:{indeterminate:e.transferObject.optionalField.isIndeterminate},on:{change:function(t){return e.handleCheckAllChange("optionalField",t)}},model:{value:e.transferObject.optionalField.checkAll,callback:function(t){e.$set(e.transferObject.optionalField,"checkAll",t)},expression:"transferObject.optionalField.checkAll"}},[e._v(" 可选字段 ")])],1),a("div",{staticClass:"body"},e._l(e.transferObject.optionalField.list,(function(t,i){return a("div",{key:t.id+"optionalField"},[a("el-checkbox",{staticClass:"item-box",on:{change:function(t){return e.handleCheckedChange("optionalField",t)}},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"element.checked"}},[e._v(" "+e._s(t.fldDesc)+" ")])],1)})),0)]),a("div",{staticClass:"operate-panel"},e._l(e.operateBtnLeftList,(function(t,i){return a("div",{key:i},[a("el-button",{attrs:{size:"mini",icon:"el-icon- "+t.icon},on:{click:function(a){return e.btnClick(t)}}},[e._v(" "+e._s(t.name)+" ")])],1)})),0),a("div",{staticClass:"transfer-panel"},[a("div",{staticClass:"header operate-header"},[a("el-checkbox",{attrs:{indeterminate:e.transferObject.selectedField.isIndeterminate},on:{change:function(t){return e.handleCheckAllChange("selectedField",t)}},model:{value:e.transferObject.selectedField.checkAll,callback:function(t){e.$set(e.transferObject.selectedField,"checkAll",t)},expression:"transferObject.selectedField.checkAll"}},[e._v(" 已选字段 ")])],1),a("div",{staticClass:"body"},[a("draggable",{attrs:{dragClass:"drag-class"},on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:e.transferObject.selectedField.list,callback:function(t){e.$set(e.transferObject.selectedField,"list",t)},expression:"transferObject.selectedField.list"}},e._l(e.transferObject.selectedField.list,(function(t,i){return a("div",{key:t.id+"selectedField"},[a("el-checkbox",{staticClass:"item-box move-item",attrs:{disabled:e.specialFieldNameList.includes(t.fldName)},on:{change:function(t){return e.handleCheckedChange("selectedField",t)}},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"element.checked"}},[e._v(" "+e._s(t.fldDesc)+" ")])],1)})),0)],1)]),a("div",{staticClass:"operate-panel"},e._l(e.operateBtnRightList,(function(t,i){return a("div",{key:i},[a("el-button",{attrs:{size:"mini",icon:"el-icon- "+t.icon},on:{click:function(a){return e.btnClick(t)}}},[e._v(" "+e._s(t.name)+" ")])],1)})),0),a("div",{staticClass:"transfer-panel"},[a("div",{staticClass:"header"},[a("el-checkbox",{attrs:{indeterminate:e.transferObject.sortField.isIndeterminate},on:{change:function(t){return e.handleCheckAllChange("sortField",t)}},model:{value:e.transferObject.sortField.checkAll,callback:function(t){e.$set(e.transferObject.sortField,"checkAll",t)},expression:"transferObject.sortField.checkAll"}},[e._v(" 排序字段 ")])],1),a("div",{staticClass:"body"},e._l(e.transferObject.sortField.list,(function(t,i){return a("div",{key:t.id+"sortField"},[a("el-checkbox",{staticClass:"item-box",attrs:{disabled:e.specialFieldNameList.includes(t.fldName)},on:{change:function(t){return e.handleCheckedChange("sortField",t)}},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"element.checked"}},[e._v(" "+e._s(t.fldDesc)+" ")])],1)})),0)])]),a("div",{staticClass:"bot-list"},[a("div",[e._v("单页显示条数：")]),a("div",[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}},e._l(e.pageSizeList,(function(t,i){return a("el-radio-button",{key:i,attrs:{label:t.label}},[e._v(" "+e._s(t.label)+"条/页 ")])})),1)],1),a("div",[a("el-input-number",{staticStyle:{width:"180px"},attrs:{size:"mini",min:1,max:100,placeholder:"请输入条数"},model:{value:e.pageSize,callback:function(t){e.pageSize=t},expression:"pageSize"}})],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},n=[],o=a("2909"),s=a("5530"),r=(a("d81d"),a("caad"),a("2532"),a("4de4"),a("99af"),a("c740"),a("4ec9"),a("d3b7"),a("3ca3"),a("ddb0"),a("1980")),l=a.n(r),c=a("2f62"),d={name:"ArchColumnSet",components:{draggable:l.a},props:{content:{type:String,default:""},title:{type:String,default:"行列设置"}},data:function(){return{visible:!1,loading:!1,status:"",operateBtnLeftList:[{icon:"el-icon-arrow-right",type:"selected"},{icon:"el-icon-arrow-left",type:"unselected"}],operateBtnRightList:[{icon:"el-icon-arrow-right",type:"sortable"},{icon:"el-icon-arrow-left",type:"not-sorted"}],fieldList:[],transferObject:{optionalField:{checkAll:!1,isIndeterminate:!1,list:[]},selectedField:{checkAll:!1,isIndeterminate:!1,list:[]},sortField:{checkAll:!1,isIndeterminate:!1,list:[]}},paramsObject:null,baseObject:null,pageSize:void 0,pageSizeList:[{label:10},{label:20},{label:30},{label:40},{label:50}],specialFieldNameList:["ARCH_RULE"]}},computed:Object(s["a"])({},Object(c["c"])(["userInfo"])),methods:{handleCheckAllChange:function(e,t){var a=this;this.transferObject[e].list.map((function(e){return e.checked=t&&!a.specialFieldNameList.includes(e.fldName)})),this.transferObject[e].isIndeterminate=!1},handleCheckedChange:function(e,t){var a=this,i=this.transferObject[e].list.filter((function(e){return!a.specialFieldNameList.includes(e.fldName)})),n=i.filter((function(e){return e.checked})).length;this.transferObject[e].checkAll=n===i.length,this.transferObject[e].isIndeterminate=n>0&&n<i.length},btnClick:function(e){var t=e.type,a="",i="",n=!1;switch(t){case"selected":a="optionalField",i="selectedField",n=!0;break;case"unselected":a="selectedField",i="optionalField",n=!0;break;case"sortable":a="selectedField",i="sortField";break;case"not-sorted":a="sortField",i="selectedField",n=!0;break}this.setFieldList(a,i,n)},setFieldList:function(e,t,a){var i=this,n=[],s=[],r=[],l=[];if(n=this.transferObject[e].list,l=this.transferObject[t].list,s=n.filter((function(e){return e.checked})),0!=n.length&&0!=s.length){r=n.filter((function(e){return!e.checked})),s.map((function(e){return e.checked=!1}));var c=[].concat(Object(o["a"])(l),Object(o["a"])(s));c=this.unique(c);var d=s.filter((function(e){return i.transferObject[t].list.some((function(t){return t.id==e.id}))}));this.transferObject[t].list=this.deepCopy(c),this.transferObject[t].checkAll&&0==d.length&&(this.transferObject[t].checkAll=!1,l.length>0&&(this.transferObject[t].isIndeterminate=!0)),a&&(this.transferObject[e].list=this.deepCopy(r)),this.transferObject[e].checkAll=!1,this.transferObject[e].isIndeterminate=!1}},init:function(e){var t=this;this.paramsObject=e,this.baseObject=this.getBaseObject(),this.fieldList=e.fieldList,this.visible=!0,this.fieldList.map((function(e,a){t.$set(e,"checked",!1)}));var a=this.fieldList,i=[],n=[],o=this.$store.state.columnSet.columnList;if(o.length>0){var r=this,l=o.findIndex((function(e){var t=!1,a=Object(s["a"])(Object(s["a"])({},e),{},{pageSize:"",selectedList:[],sortList:[]});return JSON.stringify(r.baseObject)===JSON.stringify(a)&&(t=!0),t}));l>-1?(this.pageSize=o[l].pageSize,i=o[l].selectedList,i.map((function(e,a){t.$set(e,"checked",!1)})),n=o[l].sortList,n.map((function(e,a){t.$set(e,"checked",!1)})),a=a.filter((function(e){var t=i.some((function(t){return e.id==t.id}));return!t}))):(i=this.fieldList,a=[],n=this.fieldList.filter((function(e){return t.specialFieldNameList.includes(e.fldName)})))}else i=this.fieldList,a=[],n=this.fieldList.filter((function(e){return t.specialFieldNameList.includes(e.fldName)}));this.transferObject.optionalField.list=this.deepCopy(a),this.transferObject.selectedField.list=this.deepCopy(i),this.transferObject.sortField.list=this.deepCopy(n)},deepCopy:function(e){var t=JSON.parse(JSON.stringify(e));return t},unique:function(e,t){var a=new Map;return e.filter((function(e){return!a.has(e[t||"id"])&&a.set(e[t||"id"],1)}))},submit:function(){var e=this.transferObject.selectedField.list;e.map((function(e){e.checked=!1,delete e.selected,delete e.sortable}));var t=this.transferObject.sortField.list;t.map((function(e){e.checked=!1,delete e.selected,delete e.sortable}));var a=this.$store.state.columnSet.columnList,i=Object(s["a"])(Object(s["a"])({},this.baseObject),{},{pageSize:this.pageSize,selectedList:e,sortList:t}),n="";a.length>0&&(n=a[0].id);var o={id:n,userId:"",roleId:i.roleId,archType:i.module,othType:i.othType,pageSize:i.pageSize,cateCode:i.cateCode,sortFld:JSON.stringify(t),viewFld:JSON.stringify(e)};if(this.$api.httpAction("/sys/user/menuFldSave",{model:JSON.stringify(o)},"POST").then((function(e){})),a.length>0){var r=this,l=a.findIndex((function(e){var t=!1,a=Object(s["a"])(Object(s["a"])({},e),{},{pageSize:"",selectedList:[],sortList:[]});return JSON.stringify(r.baseObject)===JSON.stringify(a)&&(t=!0),t}));l>-1?(a[l].pageSize=this.pageSize,a[l].selectedList=e,a[l].sortList=t):a.push(i)}else 0==a.length&&a.push(i);this.$store.dispatch("columnSet/changeSetting",{key:"columnList",value:a}),this.$emit("ok"),this.cancelModal()},getBaseObject:function(){var e=this.paramsObject,t=e.module,a=e.templateId,i=e.othType,n=e.cateCode,o=this.userInfo.id,s="",r=this.userInfo.roleList;r&&r.length>0&&(s=r[0].id);var l={userId:o,roleId:s,module:t,templateId:a,othType:i,cateCode:n,pageSize:"",selectedList:[],sortList:[]};return l},cancel:function(){this.cancelModal()},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}},u=d,p=(a("d58b"),a("2877")),m=Object(p["a"])(u,i,n,!1,null,"2f4c888c",null);t["default"]=m.exports},"64b1":function(e,t,a){"use strict";a.r(t),t["default"]={default:function(e,t,a){return t.__slot__[a]}}},"65cf":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basic-card border-box",class:{"max-height":e.maxHeight}},[e.title?a("div",{staticClass:"title"},[a("span",{staticClass:"title-text",style:{borderLeft:"3px solid "+e.theme}},[e._v(" "+e._s(e.title)+" ")]),a("div",{staticClass:"operate"},[e._t("operate")],2)]):e._e(),a("div",{staticClass:"body"},[e._t("body")],2)])},n=[],o={name:"",components:{},props:{title:{type:String,default:""},maxHeight:{type:Boolean,default:!1}},data:function(){return{}},watch:{},computed:{theme:function(){return this.$store.state.settings.theme}},methods:{},created:function(){},mounted:function(){}},s=o,r=(a("5084"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"4ff602b2",null);t["default"]=l.exports},6655:function(e,t,a){"use strict";a("2ca2")},"66bd":function(e,t,a){},"67df":function(e,t,a){"use strict";a.r(t);a("d81d");var i,n,o={name:"TreeOperation",props:{treeOperation:{type:Object}},data:function(){return{tree:{operation:[{label:"父子关联",event:this.connect},{label:"取消关联",event:this.cancelConnect},{label:"全部勾选",event:this.selectAll},{label:"全部取消",event:this.selectNone},{label:"展开所有",event:this.expandAll},{label:"合并所有",event:this.shrinkAll}]}}},render:function(e,t){var a=this.tree.operation;return e("el-dropdown",{attrs:{placement:"top"}},[e("el-button",{attrs:{plain:!0}},["树操作",e("i",{class:"el-icon-arrow-up el-icon--right"})]),e("el-dropdown-menu",{slot:"dropdown"},[a.map((function(t){var a=t.label,i=t.event;return e("el-dropdown-item",{nativeOn:{click:function(){return i()}}},[a])}))])])},methods:{connect:function(){this.$emit("connect")},cancelConnect:function(){this.$emit("cancelConnect")},selectAll:function(){this.$emit("selectAll")},selectNone:function(){this.$emit("selectNone")},expandAll:function(){this.$emit("expandAll")},shrinkAll:function(){this.$emit("shrinkAll")}}},s=o,r=a("2877"),l=Object(r["a"])(s,i,n,!1,null,"59af7dca",null);t["default"]=l.exports},"692e":function(e,t,a){var i={"./App.vue":"3dfd","./components/AlertModal/index.vue":"7ff5","./components/ArchColumnSet/index.vue":"6432","./components/BackTop/index.vue":"a747","./components/BackgroundMount/index.vue":"9ade","./components/BasicCard/index.vue":"65cf","./components/BasicForm/index.vue":"9962","./components/BasicTree/index.vue":"60f9","./components/Breadcrumb/index.vue":"6350","./components/CatePanel/index.vue":"70ef","./components/CheckboxModal/index.vue":"1998","./components/ErrorLog/index.vue":"baee","./components/ExportPackage/index.vue":"5251","./components/FabricPdf/AttributeSet.vue":"2227","./components/FabricPdf/MaskPrint.vue":"2ba6","./components/FabricPdf/PreviewPdf.vue":"b68f","./components/FabricPdf/index.vue":"93e7","./components/FilesUploadModal/UploaderComponent.vue":"d1e9","./components/FilesUploadModal/index.vue":"7c1a","./components/FormGenerator/CodeTypeDialog.vue":"47b5","./components/FormGenerator/DraggableItem.vue":"5066","./components/FormGenerator/FormDrawer.vue":"8e02","./components/FormGenerator/IconsDialog.vue":"6e9f","./components/FormGenerator/JsonDrawer.vue":"4d02","./components/FormGenerator/ParserDialog.vue":"2304","./components/FormGenerator/ResourceDialog.vue":"7298","./components/FormGenerator/RightPanel.vue":"0892","./components/FormGenerator/TreeNodeDialog.vue":"16a9","./components/FormGenerator/components/SvgIcon/index.vue":"e8f7","./components/FormGenerator/components/parser/Parser.vue":"3fbe","./components/FormGenerator/components/parser/example/Index.vue":"0a24","./components/FormGenerator/components/tinymce/example/Index.vue":"c568","./components/FormGenerator/components/tinymce/index.vue":"1b8e","./components/FormGenerator/index.vue":"8849","./components/Hamburger/index.vue":"4f1e","./components/HeaderSearch/index.vue":"144c","./components/HelpCenter/index.vue":"7acb","./components/LangSelect/index.vue":"1131","./components/NoData/index.vue":"501e","./components/Pagination/index.vue":"333d","./components/PanThumb/index.vue":"3cbc","./components/PdfDetail/index.vue":"eccd","./components/PrintModal/index.vue":"e8ec","./components/RightPanel/index.vue":"7403","./components/Screenfull/index.vue":"e886","./components/SearchForm/FormItem.vue":"2cd5","./components/SearchForm/index.vue":"0272","./components/SelectPrint/index.vue":"c5d4","./components/SelectTree/index.vue":"fb36","./components/ShortcutModal/index.vue":"1387","./components/ShowModal/index.vue":"c1c1","./components/SizeSelect/index.vue":"fe79","./components/SvgIcon/index.vue":"c00a","./components/SwitchSkin/index.vue":"8757","./components/TabBtn/index.vue":"b713","./components/TextHoverEffect/Mallki.vue":"137c","./components/ThemePicker/index.vue":"b18f","./components/UpdatePwd/index.vue":"33fc","./components/VueBpmn/BpmnElement/BpmnNode.vue":"2750","./components/VueBpmn/BpmnElement/BpmnProcess.vue":"c0b2","./components/VueBpmn/BpmnElement/index.vue":"77a9","./components/VueBpmn/index.vue":"3631","./components/VueBpmn/properties/listener.vue":"2d17","./components/VueBpmn/properties/listenerParam.vue":"4f13","./components/VueBpmn/properties/multiInstance.vue":"795c","./components/VueBpmn/properties/properties.vue":"9db6","./components/WordCloudChart/index.vue":"52fa","./components/ckplaye/index.vue":"37e1","./components/collapse/Collapse.vue":"c000","./components/dict/DictSelectTag.vue":"0779","./components/dragDialog/DragDialog.vue":"dd46c","./components/dragDrawer/DragDrawer.vue":"d61b","./components/dragDrawer/drag-drawer-trigger.vue":"d6e3","./components/editor/Tinymce.vue":"3cee","./components/fileUpload/FileUpload.vue":"d719","./components/form/detail/Detail.vue":"1422","./components/form/query/Query.vue":"8ae9","./components/fox-table/column.vue":"08d1","./components/fox-table/render.vue":"c4cc","./components/fox-table/table.vue":"f2c4","./components/highSearch/HighSearch.vue":"9e95","./components/icon/Icons.vue":"cbb7b","./components/layouts/BlankLayout.vue":"e0179","./components/layouts/RouteView.vue":"501f","./components/layouts/TabLayout.vue":"0f63","./components/layouts/UserLayout.vue":"7efd","./components/popoverConfirm/PopoverConfirm.vue":"2fcf","./components/select/SelectOrg/index.vue":"80a1","./components/select/SelectUser/index.vue":"c4f3","./components/table/BtnList.vue":"2e5f","./components/table/LogoText.vue":"3d09","./components/table/OperBtn.vue":"f541","./components/table/OperMenu.vue":"2d66","./components/treeSelect/TreeSelect.vue":"52cc","./layout/components/AppMain.vue":"1a4e","./layout/components/Navbar.vue":"850b","./layout/components/Settings/index.vue":"3160","./layout/components/Sidebar/Item.vue":"837c","./layout/components/Sidebar/Link.vue":"a6e1","./layout/components/Sidebar/Logo.vue":"c463","./layout/components/Sidebar/SidebarItem.vue":"119c","./layout/components/Sidebar/index.vue":"a04e","./layout/components/TagsView/ScrollPane.vue":"b3d7","./layout/components/TagsView/index.vue":"baad","./layout/index.vue":"c1f7","./layout/main.vue":"1720","./views/404.vue":"8cdb","./views/ArchivesCompilation/ArchivesCompilationList.vue":"902b","./views/ArchivesCompilation/modles/ArchivesCompilationModel.vue":"76ee","./views/ArchivesCompilation/modles/ArchivesInfo.vue":"eae9","./views/ArchivesCompilation/modles/FormBulidModle.vue":"e45a","./views/archives/AdvancedQuer.vue":"6eea","./views/archives/ArchDynTable.vue":"facc","./views/archives/CardSort.vue":"f07a","./views/archives/FileTabPane.vue":"a664","./views/archives/HistoryTabPane.vue":"52dc","./views/archives/ReviewTable.vue":"cf9d","./views/archives/SearchBar.vue":"14a6","./views/archives/TransferForm.vue":"5c44","./views/archives/appraisal/AppraisalBoxReel.vue":"f625","./views/archives/appraisal/AppraisalList.vue":"71ad5","./views/archives/appraisal/modules/PreserveModule.vue":"903f","./views/archives/arrange/ArchArrangeList.vue":"a684","./views/archives/arrange/modules/ArchiveModule.vue":"dcd5","./views/archives/arrange/modules/CheckDisModule.vue":"7b9d","./views/archives/arrange/modules/DataRelatedModule.vue":"c79f","./views/archives/arrange/modules/SortModule.vue":"cf3b","./views/archives/collection/CollectionList.vue":"1949","./views/archives/collection/CollectionListCopy.vue":"30c1","./views/archives/collection/modules/ReviewModule.vue":"dca2","./views/archives/keepArch/KeepArchList.vue":"5e7f","./views/archives/keepArch/modules/PutArchModule.vue":"60d4","./views/archives/modules/BachConfModule.vue":"b217","./views/archives/modules/BatchHookUpModule.vue":"4ad7","./views/archives/modules/BatchUpdateModule.vue":"9f6e","./views/archives/modules/BatchUploadModule.vue":"99d6","./views/archives/modules/FileBoxReelModule.vue":"1a36","./views/archives/modules/FolUploadModule.vue":"0b8e","./views/archives/modules/ImpModule.vue":"e780","./views/archives/modules/MsgModule.vue":"a2a1","./views/archives/modules/RecycleModule.vue":"0efe","./views/archives/modules/RevokeInfoModal.vue":"e48a","./views/archives/review/SubReviewMain.vue":"9ced","./views/archives/review/reviewForm/RevFormMain.vue":"7b0c","./views/archives/review/reviewForm/ReviewList.vue":"8dac","./views/archives/review/reviewForm/modules/OpinionModule.vue":"125a","./views/archives/review/reviewForm/modules/ReviewFormModule.vue":"ee96","./views/archives/review/reviewList/RevListMain.vue":"e4f1","./views/archives/statistics/StatisticsBox.vue":"69ca","./views/archivesStatistics/ArchTypeStatsticsList.vue":"55cc","./views/archivesStatistics/OriginalStatsticsList.vue":"94c9","./views/archivesStatistics/RootStatisticsList.vue":"873b","./views/archivesStatistics/StoragePeriodList.vue":"3e04","./views/archivesStatistics/modules/GraphList.vue":"20ab","./views/archivesStatistics/modules/ParamsModule.vue":"3f93","./views/archivesStatistics/yearStatisticsList.vue":"54c7","./views/archivesUtilization/DocumentOriginTrace.vue":"3535","./views/archivesUtilization/SignatureVerification.vue":"2c72","./views/common/TreeOperation.vue":"67df","./views/dashboard/analysis/CellNum.vue":"276f","./views/dashboard/analysis/ChartCard.vue":"5304","./views/dashboard/analysis/ComparisonStoragePeriod.vue":"cb1f","./views/dashboard/analysis/DigitalizationArchives.vue":"fbbd","./views/dashboard/analysis/FileDistribution.vue":"57f2","./views/dashboard/analysis/QuotaExplain.vue":"fd5c","./views/dashboard/analysis/TopStyle.vue":"452d","./views/dashboard/analysis/VisitNum.vue":"94dd","./views/dashboard/backup.vue":"f7a3","./views/dashboard/components/BacklogBox/index.vue":"e210","./views/dashboard/components/BarChart.vue":"5756","./views/dashboard/components/BoxCard.vue":"0a82","./views/dashboard/components/BrokenLine.vue":"1c18","./views/dashboard/components/CreateShortcut/index.vue":"6c2d","./views/dashboard/components/FullText/index.vue":"aa8f","./views/dashboard/components/LibraryBox/index.vue":"7e4d","./views/dashboard/components/LineChart.vue":"79cf","./views/dashboard/components/MessageBox/index.vue":"755b","./views/dashboard/components/NoticeBox/index.vue":"6873","./views/dashboard/components/PanelGroup.vue":"3e3b","./views/dashboard/components/PieChart.vue":"8e8b","./views/dashboard/components/RaddarChart.vue":"1971","./views/dashboard/components/ShareBox/index.vue":"06c0","./views/dashboard/components/ShortcutOptions/index.vue":"1f0d","./views/dashboard/components/TodoList/Todo.vue":"c062","./views/dashboard/components/TodoList/index.vue":"979f","./views/dashboard/components/TransactionTable.vue":"3f3a","./views/dashboard/index.vue":"9406","./views/electronicSignature/Index.vue":"4bf61","./views/electronicSignature/InfoList.vue":"8650","./views/electronicSignature/PictureList.vue":"16c1","./views/electronicSignature/modal/InfoModal.vue":"4de3","./views/electronicSignature/modal/PictureModal.vue":"f0d5","./views/flowable/components/ArchiveInfo.vue":"d0ea","./views/flowable/components/BorrowInfo.vue":"620a","./views/flowable/components/DataInfo.vue":"128f","./views/flowable/components/ExecuteTask.vue":"f357","./views/flowable/components/FlowForm.vue":"51f0","./views/flowable/components/ProcessDetail.vue":"3579","./views/flowable/components/ProcessImage.vue":"d35e","./views/flowable/components/ReviewInfo.vue":"84ee5","./views/flowable/components/StartProcess.vue":"3f4b","./views/flowable/components/TaskBackNodes.vue":"db89","./views/flowable/components/TaskDetail.vue":"9d14","./views/flowable/form/FormDesign.vue":"eecf","./views/flowable/form/FormParser.vue":"ef35","./views/flowable/form/edit.vue":"1f31","./views/flowable/form/index.vue":"8652","./views/flowable/model/edit.vue":"af4a","./views/flowable/model/index.vue":"c208","./views/flowable/myFrom/index.vue":"2f89","./views/flowable/myProcess/index.vue":"2b2b","./views/flowable/myProcess/query.vue":"3bdc","./views/flowable/processDefinition/ProcessDefinitionIdentityLink.vue":"4e8e","./views/flowable/processDefinition/index.vue":"a95a","./views/flowable/processInstance/index.vue":"e841","./views/flowable/startMyProcess/index.vue":"7529","./views/flowable/task/index.vue":"4d29","./views/flowable/taskDone/index.vue":"879c","./views/flowable/taskToRead/index.vue":"d3a05","./views/flowable/taskTodo/index.vue":"bf7e","./views/form/index.vue":"371d","./views/fullTextSearch/ConfigurationList.vue":"1463","./views/fullTextSearch/SynonymList.vue":"cc47","./views/fullTextSearch/components/SynonymModal.vue":"3b4b","./views/fullTextSearch/fullTextSearch.vue":"d86e","./views/fullTextSearch/model/RecordSide.vue":"fe5f","./views/fullTextSearch/model/TableData.vue":"ecf3","./views/login/index.vue":"9ed6","./views/mySpace/DoneList.vue":"65ed","./views/mySpace/MyApplication.vue":"ba91","./views/mySpace/MyArchive.vue":"f029","./views/mySpace/MyFavorites.vue":"1e00","./views/mySpace/ToDoList.vue":"c2ed","./views/mySpace/WorkCondition.vue":"9d89","./views/mySpace/WorkloadStatistics.vue":"1b37","./views/mySpace/application/BorrowContent.vue":"14de","./views/mySpace/application/BorrowInfo.vue":"ff44","./views/mySpace/application/ExamineInfo.vue":"efe1","./views/mySpace/application/FileList.vue":"5de6","./views/mySpace/application/List.vue":"295a","./views/mySpace/application/OpinionList.vue":"f19a","./views/mySpace/application/RecordsList.vue":"86b3","./views/mySpace/application/TaskInfo.vue":"10b8","./views/mySpace/application/modal/BatchModify.vue":"d323","./views/mySpace/application/modal/DetailModal.vue":"e6a1","./views/mySpace/application/modal/ExamineRecords.vue":"3588","./views/mySpace/application/modal/FormEdit.vue":"9306","./views/mySpace/application/modal/FullText.vue":"4b48","./views/mySpace/application/modal/HistoryList.vue":"a3b2","./views/mySpace/borrow/BorrowManage.vue":"b82e","./views/mySpace/borrow/BorrowRecords.vue":"bc81","./views/mySpace/borrow/MyBorrowCart.vue":"f5a3","./views/mySpace/borrow/modal/ApplyModal.vue":"bd66","./views/mySpace/borrow/modal/ApproveModal.vue":"220c","./views/mySpace/borrow/modal/BorrowContent.vue":"8684","./views/mySpace/borrow/modal/EvaluateModal.vue":"5c13","./views/mySpace/borrow/modal/FileList.vue":"6ef1","./views/mySpace/borrow/modal/LendModal.vue":"7834","./views/mySpace/borrow/modal/PostponeModal.vue":"a26b","./views/mySpace/borrow/records/ArchiveInfo.vue":"35d1","./views/mySpace/borrow/records/BorrowInfo.vue":"1bc4","./views/mySpace/borrow/records/ElectronicLibrary.vue":"1dd1","./views/mySpace/borrow/records/EvaluateForm.vue":"0641","./views/mySpace/borrow/records/ExamineRecords.vue":"04e5","./views/mySpace/borrow/records/FlowChart.vue":"8f55","./views/mySpace/borrow/records/List.vue":"3e13","./views/mySpace/borrow/records/MuseumQuery.vue":"cb7b","./views/mySpace/borrow/records/PhysicalLibrary.vue":"8dc2","./views/mySpace/borrow/records/TabPane.vue":"b2ea","./views/mySpace/borrow/records/index.vue":"694d","./views/mySpace/components/DetailModal.vue":"6937","./views/mySpace/components/PushModal.vue":"4402","./views/mySpace/components/SelectUser.vue":"0866","./views/mySpace/favorite/FileList.vue":"8dcb","./views/mySpace/work/GraphList.vue":"a3d8f","./views/mySpace/work/components/BasicBar.vue":"0423","./views/mySpace/work/components/BasicLine.vue":"fc5f","./views/nested/menu1/index.vue":"e9bc","./views/nested/menu1/menu1-1/index.vue":"91b3","./views/nested/menu1/menu1-2/index.vue":"55cd","./views/nested/menu1/menu1-2/menu1-2-1/index.vue":"65825","./views/nested/menu1/menu1-2/menu1-2-2/index.vue":"b6fb","./views/nested/menu1/menu1-3/index.vue":"8d8b","./views/nested/menu2/index.vue":"dbb3","./views/operation/DataBackup.vue":"c4cf","./views/operation/DocumentStorageManage.vue":"7bd1","./views/operation/LogAudit.vue":"0d6d","./views/operation/Msg.vue":"5289","./views/operation/OcrLog.vue":"d71e","./views/operation/OnlineUsers.vue":"52b1","./views/operation/PDFLog.vue":"255b","./views/operation/audit/Modify.vue":"5661","./views/operation/components/BasicLine.vue":"3d2a","./views/operation/modules/DetailModal.vue":"7dd7","./views/originalPage/index.vue":"a497","./views/originalPage/modal/FileDataModal.vue":"0ec9","./views/originalPage/modal/MetaData.vue":"3c7b","./views/originalPage/modal/ProcessInfo.vue":"f87d","./views/originalPage/modal/SignatureModal.vue":"8be7","./views/pdf/PdfRead.vue":"73c9","./views/platform/BasicInformation.vue":"1cb2","./views/platform/BasicSetting.vue":"7354","./views/platform/MessageCenter.vue":"f9b3","./views/platform/NoticeManage.vue":"daf5","./views/platform/TaskManage.vue":"83f5","./views/platform/message/List.vue":"feb2","./views/platform/message/Modify.vue":"caf0","./views/platform/notice/List.vue":"90b8","./views/platform/notice/Modify.vue":"bb0b","./views/platform/task/JobLog.vue":"9092","./views/platform/task/Modify.vue":"49ab7","./views/recordsCenter/ElectronicFileShare.vue":"f68d","./views/recordsCenter/ExtractFile.vue":"74dca","./views/recordsCenter/ExtractFileShare.vue":"be13","./views/recordsCenter/MyFile.vue":"89ef","./views/recordsCenter/MyShare.vue":"59bc","./views/recordsCenter/MySynergy.vue":"babf","./views/recordsCenter/ShareMy.vue":"9f8f","./views/recordsCenter/ShareWithMe.vue":"30eb3","./views/recordsCenter/components/ExtractBox.vue":"1edc","./views/recordsCenter/components/RecycleBin.vue":"84bf","./views/recordsCenter/modal/ArchiveModal.vue":"75243","./views/recordsCenter/modal/BeyondCompare.vue":"3144","./views/recordsCenter/modal/FileTypeModal.vue":"befb","./views/recordsCenter/modal/FolderModal.vue":"d215","./views/recordsCenter/modal/HistoryRecords.vue":"520e","./views/recordsCenter/modal/OrganModal.vue":"e895","./views/recordsCenter/modal/OuterChain.vue":"25fb","./views/recordsCenter/modal/SelectUser.vue":"b294","./views/recordsCenter/modal/SendTeam.vue":"245f","./views/recordsCenter/modal/ShareUser.vue":"80b3","./views/reports/ReportsList.vue":"c85a","./views/reports/modules/Modify.vue":"7a0a","./views/signedCertificate/CertificateList.vue":"480c","./views/signedCertificate/Index.vue":"a4f8","./views/signedCertificate/KeyList.vue":"eefc","./views/signedCertificate/SignatureList.vue":"eb7b","./views/signedCertificate/modal/CertificateModal.vue":"626c","./views/signedCertificate/modal/KeyModal.vue":"5288","./views/signedCertificate/modal/SignatureModal.vue":"c6ff7","./views/storeroom/SearchLocation.vue":"f102","./views/storeroom/StoreCapacityView.vue":"f5ae","./views/storeroom/StoreOverview.vue":"c5a9","./views/storeroom/StoreroomList.vue":"8cd8","./views/storeroom/StoreroomManage.vue":"75ef","./views/storeroom/StoreroomView.vue":"ddb5","./views/storeroom/modules/AreaModal.vue":"b24d5","./views/storeroom/modules/ArrayModal.vue":"ed22","./views/storeroom/modules/DetailModal.vue":"bd06","./views/storeroom/modules/RoomModal.vue":"328f","./views/storeroom/table/PageList.vue":"065f","./views/supervision/CollapseBox.vue":"3c76","./views/supervision/DetectionPanel.vue":"67ba","./views/supervision/FourTest.vue":"7d4c","./views/supervision/RotateCircle.vue":"9b0e","./views/supervision/SettingPanel.vue":"01f7","./views/supervision/TestResult.vue":"fe6e","./views/supervision/UploadBox.vue":"6036","./views/supervision/modal/LibraryModal.vue":"a1f8","./views/system/ClassifyList/ReferenceClassify.vue":"930c","./views/system/ClassifyList/model/groupFild.vue":"9524","./views/system/ClassifyList/model/referenceSetting.vue":"99ef","./views/system/CodeList.vue":"190c","./views/system/OrganList.vue":"701a","./views/system/PermissionList.vue":"25f0e","./views/system/ReferenceList/ReferenceRulse.vue":"41cd","./views/system/ReferenceList/models/ArchivesType.vue":"2e3e","./views/system/ReferenceList/models/ReferenceDataList.vue":"a629","./views/system/ReferenceList/models/bindRefFile.vue":"c995","./views/system/ReferenceList/models/referenceFiledModel.vue":"9418","./views/system/ReferenceList/models/referenceRulseModel.vue":"d8d4","./views/system/RoleUserList.vue":"01c0","./views/system/StampList.vue":"d3c1","./views/system/SysInfo.vue":"747f","./views/system/UserList.vue":"0d4b","./views/system/WatermarkList/WatermarkManage.vue":"6fab","./views/system/archivesList/archivesTypeTemplate.vue":"5370","./views/system/archivesList/modles/ConfigFiled.vue":"56ca","./views/system/archivesList/modles/FiledAdd.vue":"e888","./views/system/archivesList/modles/FiledList.vue":"2087","./views/system/archivesList/modles/FiledTable.vue":"79f5","./views/system/archivesList/modles/FormDesign.vue":"3149","./views/system/archivesList/modles/ListFileds.vue":"500a","./views/system/archivesList/modles/archivesModify.vue":"d89b","./views/system/archivesList/modles/formItemize.vue":"1d96","./views/system/electronicFolder/FolderManage.vue":"735a","./views/system/electronicFolder/models/EditModal.vue":"f336","./views/system/menuList/DataRule.vue":"7eda","./views/system/menuList/Modify.vue":"428ff","./views/system/menuList/Read.vue":"95b6","./views/system/menuList/dataRule/Modify.vue":"0b81","./views/system/organList/HistoryList.vue":"2ad3","./views/system/roleList/AddCate.vue":"0668","./views/system/roleList/AddUser.vue":"1edd","./views/system/roleList/Auth.vue":"04f5","./views/system/roleList/DataRule.vue":"1f8e","./views/system/roleList/MenuSearch.vue":"1d21","./views/system/roleList/Modify.vue":"542a","./views/system/roleList/RoleMaintenance.vue":"73d4","./views/system/stampList/Modify.vue":"672f","./views/system/userList/AddCate.vue":"bb5a","./views/system/userList/CopyUser.vue":"0be1","./views/system/userList/DeptSearch.vue":"611b","./views/system/userList/Modify.vue":"9a81","./views/system/userList/PopDropdown.vue":"1758","./views/system/userList/ProxyManConfig.vue":"f408","./views/system/userList/Read.vue":"3caa","./views/system/userList/ResetPwd.vue":"b77c","./views/system/userList/UpdateKeepTime.vue":"0f09","./views/system/userList/proxyManConfig/SelectUserByDept.vue":"d386","./views/systemIntegration/DataImportEdit.vue":"a7cf","./views/systemIntegration/DataImportList.vue":"0633","./views/systemIntegration/DataSourceList.vue":"5afe","./views/systemIntegration/Index.vue":"2ea2","./views/systemIntegration/modal/DataSourceModal.vue":"ecae","./views/systemIntegration/modal/TreeModal.vue":"dec8","./views/table/complex-table.vue":"c0a4","./views/table/index.vue":"90fe","./views/table/modal/Modify.vue":"a5dc","./views/tree/index.vue":"69dd","./views/visualCenter/Index.vue":"c5c4","./views/visualCenter/components/ArchivesBox.vue":"79c1","./views/visualCenter/components/ArchivesList.vue":"fa83","./views/visualCenter/components/BarLabelChart.vue":"1fdf","./views/visualCenter/components/BasicLine.vue":"8b53","./views/visualCenter/components/CategoryList.vue":"83f8","./views/visualCenter/components/CollectionForm.vue":"b74a","./views/visualCenter/components/ComCard.vue":"5798","./views/visualCenter/components/DoughnutChart.vue":"99df","./views/visualCenter/components/HeaderBox.vue":"149a","./views/visualCenter/components/PercentagePieChart.vue":"4307","./views/visualCenter/components/PieChart.vue":"9ded","./views/visualCenter/components/RoseChart.vue":"8eab","./views/visualCenter/components/SystemBox.vue":"099b","./views/visualCenter/components/SystemInfo.vue":"a8c2","./views/visualCenter/components/SystemList.vue":"c6ff","./views/visualCenter/components/UserForm.vue":"35fe","./views/visualCenter/components/WordCloudChart.vue":"8952","./views/vue-drag-formdesign/src/drag-panel/index.vue":"771c","./views/vue-drag-formdesign/src/drag-panel/module/formNode.vue":"2eb2","./views/vue-drag-formdesign/src/drag-panel/module/formPanel.vue":"179f","./views/vue-drag-formdesign/src/drag-panel/module/layerItem.vue":"edd7","./views/vue-drag-formdesign/src/form-build/build-block.vue":"06a5","./views/vue-drag-formdesign/src/form-build/index.vue":"6440","./views/vue-drag-formdesign/src/form-item/BaseItem.vue":"1e63","./views/vue-drag-formdesign/src/form-item/drag-item/index.vue":"6d40","./views/vue-drag-formdesign/src/form-item/drag-item/module/dragItem.vue":"ec04","./views/vue-drag-formdesign/src/form-item/file-upload/index.vue":"ca2d","./views/vue-drag-formdesign/src/form-item/index.vue":"7259","./views/vue-drag-formdesign/src/form-item/table/add-or-update.vue":"0752","./views/vue-drag-formdesign/src/form-item/table/index.vue":"4c33","./views/vue-drag-formdesign/src/form-item/table/table-item.vue":"c5ed","./views/vue-drag-formdesign/src/index.vue":"813e","./views/vue-drag-formdesign/src/preview/index.vue":"2443","./views/vue-drag-formdesign/src/preview/json-model.vue":"f604","./views/vue-drag-formdesign/src/preview/preview-code.vue":"7254","./views/vue-drag-formdesign/src/properties/change-option/index.vue":"6ad6","./views/vue-drag-formdesign/src/properties/form-properties.vue":"31ff","./views/vue-drag-formdesign/src/properties/index.vue":"b563","./views/vue-drag-formdesign/src/properties/item-properties.vue":"c49c","./views/vue-drag-formdesign/src/render/preview.vue":"d136"};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=o,e.exports=n,n.id="692e"},"69ca":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.baseData?a("div",{staticClass:"box-base"},[e._v(" 当前类目: 全部 『总记录数： "),a("div",{staticClass:"number-color"},[e._v(" "+e._s(Number(e.baseData.DOCCOUNT||0)+Number(e.baseData.VOLCOUNT||0))+" ")]),e._v(" 卷/件数： "),a("div",{staticClass:"number-color"},[e._v(" "+e._s(e.baseData.VOLCOUNT||0)+" ")]),e._v(" 卷内记录数： "),a("div",{staticClass:"number-color"},[e._v(" "+e._s(e.baseData.DOCCOUNT||0)+" ")]),e._v(" 总页数： "),a("div",{staticClass:"number-color"},[e._v(" "+e._s(e.baseData.PAGECOUNT||0)+" ")]),e._v(" 原文记录数： "),a("div",{staticClass:"number-color"},[e._v(" "+e._s(e.baseData.ORIGINALCOUNT||0)+" ")]),e._v(" 原文占磁盘空间： "),a("div",{staticClass:"number-color"},[e._v(" "+e._s(e.diskSpace)+" ")]),e._v(" 』 ")]):e._e()},n=[],o=a("1da1"),s=(a("96cf"),a("a9e3"),a("cf45")),r={name:"StatisticsBox",components:{},props:{paramsData:{type:Object,default:null}},data:function(){return{baseData:{DOCCOUNT:"0",ORIGINALCOUNT:"0",VOLCOUNT:"0",PAGECOUNT:0,ORIGINALSIZE:0}}},watch:{},computed:{diskSpace:function(){return Object(s["o"])(Number(this.baseData.ORIGINALSIZE||0))}},methods:{getData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="/arch/archStatistics",i=e.paramsData,n="post",t.next=5,e.$api.httpAction(a,i,n);case 5:o=t.sent,s=o.data,s&&(e.baseData=s);case 8:case"end":return t.stop()}}),t)})))()}},created:function(){this.getData()},mounted:function(){}},l=r,c=(a("a9b8"),a("2877")),d=Object(c["a"])(l,i,n,!1,null,"1abde91d",null);t["default"]=d.exports},"69d8":function(e,t,a){"use strict";a("f12b")},"6a8ff":function(e,t,a){},"6b49":function(e,t,a){"use strict";a("04cd")},"6b58":function(e,t,a){"use strict";a("eaa5")},"6e9f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon-dialog"},[a("el-dialog",e._g(e._b({attrs:{width:"980px","modal-append-to-body":!1},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("div",{attrs:{slot:"title"},slot:"title"},[e._v(" 选择图标 "),a("el-input",{style:{width:"260px"},attrs:{size:"mini",placeholder:"请输入图标名称","prefix-icon":"el-icon-search",clearable:""},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1),a("ul",{staticClass:"icon-ul"},e._l(e.iconList,(function(t){return a("li",{key:t,class:e.active===t?"active-item":"",on:{click:function(a){return e.onSelect(t)}}},[a("i",{class:t}),a("div",[e._v(e._s(t))])])})),0)])],1)},n=[],o=(a("d81d"),a("4de4"),a("4b3f")),s=o.map((function(e){return"el-icon-".concat(e)})),r={inheritAttrs:!1,props:["current"],data:function(){return{iconList:s,active:null,key:""}},watch:{key:function(e){this.iconList=e?s.filter((function(t){return t.indexOf(e)>-1})):s}},methods:{onOpen:function(){this.active=this.current,this.key=""},onClose:function(){},onSelect:function(e){this.active=e,this.$emit("select",e),this.$emit("update:visible",!1)}}},l=r,c=(a("0cbf"),a("2877")),d=Object(c["a"])(l,i,n,!1,null,"1a046386",null);t["default"]=d.exports},"6ee6":function(e,t,a){"use strict";a("3ff8")},"6eea":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("div",{staticClass:"query-panel"},[a("div",{staticClass:"query-box"},[a("el-form",{ref:"form",attrs:{model:e.model,"label-width":"7rem","auto-complete":"off","label-position":"right"}},[a("div",{staticClass:"div-main"},e._l(e.searchOptions,(function(t,i){return a("div",{key:i,staticClass:"div-main-item"},[a("el-form-item",{attrs:{label:t.fldDesc}},[1==t.colType&&void 0!=t.colFormat?a("dict-select-tag",{attrs:{size:"mini","dict-code":t.colFormat,placeholder:"请选择"},model:{value:e.model[t.fldName],callback:function(a){e.$set(e.model,t.fldName,a)},expression:"model[item.fldName]"}}):2==t.colType?a("el-date-picker",{staticClass:"input-with-select",staticStyle:{width:"88%"},attrs:{size:"mini",type:"date",placeholder:"请选择时间","value-format":void 0!=t.colFormat&&""!=t.colFormat?t.colFormat:"yyyy-MM-dd"},model:{value:e.model[t.fldName],callback:function(a){e.$set(e.model,t.fldName,a)},expression:"model[item.fldName]"}}):a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入查询内容",size:"mini",clearable:""},model:{value:e.model[t.fldName],callback:function(a){e.$set(e.model,t.fldName,a)},expression:"model[item.fldName]"}})],1)],1)})),0)]),a("div",{staticClass:"query-footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.visible=!1}}},[e._v("关 闭")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.reset}},[e._v("重 置")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("查 询")])],1)],1)]):e._e()},n=[],o=a("0779"),s={name:"AdvancedQuer",components:{DictSelectTag:o["default"]},props:{searchOptions:Array},data:function(){return{model:{},visible:!1}},computed:{},methods:{initAdvancedQuer:function(){this.visible=!this.visible},submit:function(){this.visible=!1;var e=Object.assign({},this.model);this.$emit("receQuerData",e)},reset:function(){this.model={}}},created:function(){}},r=s,l=(a("105b"),a("2877")),c=Object(l["a"])(r,i,n,!1,null,"41da96a7",null);t["default"]=c.exports},"6f68":function(e,t,a){},"6f82":function(e,t,a){},"70ef":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"base-box",class:{empty:e.templateNoneFlag}},[e.templateNoneFlag?a("div",[e._v("当前节点，暂未配置模板")]):e._e(),e.templateNoneFlag?e._e():a("div",{staticClass:"list"},[e._l(e.cateList,(function(t,i){return a("div",{key:i,staticClass:"item pointer",on:{click:function(a){return e.itemClick(t)}}},[a("div",{staticClass:"logo"},["blue"==e.themeImg?a("img",{staticClass:"logo-fill",attrs:{src:"static/img/archive/logo-blue.svg",alt:""}}):e._e(),"red"==e.themeImg?a("img",{staticClass:"logo-fill",attrs:{src:"static/img/archive/logo-red.svg",alt:""}}):e._e()]),a("div",{staticClass:"text"},[e._v(e._s(t.name))])])})),a("div",{staticClass:"clearfix"})],2),a("div",{staticClass:"prestrain-img"},[a("img",{attrs:{src:"static/img/archive/logo.svg",alt:""}})])])},n=[],o=(a("caad"),a("2532"),a("4de4"),{name:"CatePanel",components:{},props:{cateId:{type:String,default:""},templateNoneFlag:{type:Boolean,default:!1}},data:function(){return{cateTreeList:["/ArchivesCompilation/ArchivesCompilationList"],organTreeList:["/system/electronicFolder/FolderManage","/recordsCenter/ElectronicFileShare"]}},watch:{},computed:{themeImg:function(){return this.$store.state.settings.themeImg},cateList:function(){var e=this,t=[],a=localStorage.getItem("archCateTreeArray"),i=localStorage.getItem("cateTreeArray"),n=localStorage.getItem("organTreeArray");if(a){t=JSON.parse(a);var o=this.$route.path;o&&this.cateTreeList.includes(o)&&(t=JSON.parse(i)),o&&this.organTreeList.includes(o)&&(t=JSON.parse(n)),t=this.cateId?t.filter((function(t){return t.parentId==e.cateId})):t.filter((function(e){return"-1"==e.parentId}))}return t}},methods:{itemClick:function(e){sessionStorage.setItem("expandedKeysId",e.id),this.$store.dispatch("settings/changeSetting",{key:"expandedKeysId",value:e.id}),this.$emit("click",e)}},created:function(){},mounted:function(){}}),s=o,r=(a("d8c9"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"bd3e0164",null);t["default"]=l.exports},"71ad5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"max-height"},[a("el-col",{staticClass:"max-height",attrs:{span:4}},[a("div",{staticClass:"max-height left-side border-solid-right"},[a("div",{staticClass:"tree-title"},[e._v("档案分类树")]),a("div",{staticClass:"overflow-auto"},[a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],attrs:{data:e.treeData,"default-checked-keys":e.defaultCheckedKeys,"default-expanded-keys":e.defaultExpandedKeys},on:{click:e.treeNodeClick}})],1)])]),a("el-col",{staticClass:"max-height",attrs:{span:20}},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"待鉴定",name:"waitIdentify"}},[e.waitIdentifyShow?a("appraisal-box-reel",{ref:"waitIdentify"}):e._e()],1),a("el-tab-pane",{attrs:{label:"待销毁",name:"waitDestroy"}},[e.waitDestroyShow?a("appraisal-box-reel",{ref:"waitDestroy"}):e._e()],1),a("el-tab-pane",{attrs:{label:"已销毁",name:"alrDestroy"}},[e.alrDestroyShow?a("appraisal-box-reel",{ref:"alrDestroy"}):e._e()],1)],1)],1)],1)],1)},n=[],o=a("1da1"),s=(a("96cf"),a("b0c0"),a("4de4"),a("d81d"),a("159b"),a("f625")),r=a("60f9"),l={name:"AppraisalList",components:{BasicTree:r["default"],AppraisalBoxReel:s["default"]},props:{},data:function(){return{waitIdentifyShow:!1,waitDestroyShow:!1,alrDestroyShow:!1,activeName:"waitIdentify",treeData:[],defaultCheckedKeys:[],defaultExpandedKeys:[],url:{codeTree:"/category/archCateTree"}}},watch:{defaultCheckedKeys:function(e){e&&this.$nextTick((function(){document.querySelector(".el-icon-document-copy").click()}))}},computed:{},methods:{handleClick:function(e){var t=this;this.setAllShow();var a={templateId:this.templateId,cateCode:this.cateCode};switch(e.name){case"waitIdentify":a.delStatus=0,this.waitIdentifyShow=!0,this.$nextTick((function(){t.$refs["waitIdentify"].init(a)}));break;case"waitDestroy":a.delStatus=1,this.waitDestroyShow=!0,this.$nextTick((function(){t.$refs["waitDestroy"].init(a)}));break;case"alrDestroy":a.delStatus=2,this.alrDestroyShow=!0,this.$nextTick((function(){t.$refs["alrDestroy"].init(a)}));break;default:break}},treeNodeClick:function(e){var t=this;this.templateId=e.templateId,this.cateCode=e.cateCode,this.setAllShow();var a={templateId:e.templateId,cateCode:e.cateCode,delStatus:0};this.waitIdentifyShow=!0,this.activeName="waitIdentify",this.$nextTick((function(){t.$refs["waitIdentify"].init(a)}))},setAllShow:function(){this.waitIdentifyShow=!1,this.waitDestroyShow=!1,this.alrDestroyShow=!1},setTreeData:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));e.map((function(e){return e.label=e.name,e})),this.setDefaultCheck(t,e);var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length?(a.elIcon="folder",t(a.children)):a.elIcon="document-copy"}))};return a(t),t},setDefaultCheck:function(e,t){var a=e[0].id,i=t.filter((function(e){return e.parentId==a}));this.defaultExpandedKeys.push(a);var n=this,o=function e(a){if(a.length){var i=a[0].id;n.defaultExpandedKeys.push(i),a=t.filter((function(e){return e.parentId==i})),e(a)}else n.defaultCheckedKeys.push(n.defaultExpandedKeys[n.defaultExpandedKeys.length-1])};o(i)},getTreeData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.getAction(e.url.codeTree,{});case 3:a=t.sent,i=a.treeData,e.treeData=e.setTreeData(i),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()}},created:function(){this.getTreeData()}},c=l,d=a("2877"),u=Object(d["a"])(c,i,n,!1,null,"065516db",null);t["default"]=u.exports},7298:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",e._g(e._b({attrs:{title:"外部资源引用",width:"600px","close-on-click-modal":!1},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[e._l(e.resources,(function(t,i){return a("el-input",{key:i,staticClass:"url-item",attrs:{placeholder:"请输入 css 或 js 资源路径","prefix-icon":"el-icon-link",clearable:""},model:{value:e.resources[i],callback:function(t){e.$set(e.resources,i,t)},expression:"resources[index]"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-delete"},on:{click:function(t){return e.deleteOne(i)}},slot:"append"})],1)})),a("el-button-group",{staticClass:"add-item"},[a("el-button",{attrs:{plain:""},on:{click:function(t){return e.addOne("https://lib.baomitu.com/jquery/1.8.3/jquery.min.js")}}},[e._v(" jQuery1.8.3 ")]),a("el-button",{attrs:{plain:""},on:{click:function(t){return e.addOne("https://unpkg.com/http-vue-loader")}}},[e._v(" http-vue-loader ")]),a("el-button",{attrs:{icon:"el-icon-circle-plus-outline",plain:""},on:{click:function(t){return e.addOne("")}}},[e._v(" 添加其他 ")])],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v(" 取消 ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handelConfirm}},[e._v(" 确定 ")])],1)],2)],1)},n=[],o=(a("4de4"),a("a434"),a("9255")),s={components:{},inheritAttrs:!1,props:["originResource"],data:function(){return{resources:null}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{onOpen:function(){this.resources=this.originResource.length?Object(o["b"])(this.originResource):[""]},onClose:function(){},close:function(){this.$emit("update:visible",!1)},handelConfirm:function(){var e=this.resources.filter((function(e){return!!e}))||[];this.$emit("save",e),this.close(),e.length&&(this.resources=e)},deleteOne:function(e){this.resources.splice(e,1)},addOne:function(e){this.resources.indexOf(e)>-1?this.$message("资源已存在"):this.resources.push(e)}}},r=s,l=(a("8202"),a("2877")),c=Object(l["a"])(r,i,n,!1,null,"2f57e158",null);t["default"]=c.exports},"72b7":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var i,n=a("7fde"),o=a("5c96"),s=a.n(o),r=a("1b9c");function l(e){var t=r["a"].beautifierUrl;if(i)e(i);else{var a=s.a.Loading.service({fullscreen:!0,lock:!0,text:"格式化资源加载中...",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.5)"});Object(n["a"])(t,(function(){a.close(),i=beautifier,e(i)}))}}},"73ee":function(e,t,a){"use strict";a.r(t),t["default"]={"list-type":function(e,t,a){var i=[],n=t.__config__;return"picture-card"===t["list-type"]?i.push(e("i",{class:"el-icon-plus"})):i.push(e("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-upload"}},[n.buttonText])),n.showTip&&i.push(e("div",{slot:"tip",class:"el-upload__tip"},["只能上传不超过 ",n.fileSize,n.sizeUnit," 的",t.accept,"文件"])),i}}},7459:function(e,t,a){},"750c":function(e,t,a){},"751d":function(e,t,a){"use strict";a("0a6d")},7676:function(e,t,a){e.exports=a.p+"static/img/image-load-failed.a1e20a86.svg"},"76e2":function(e,t,a){"use strict";a("926d")},"76ee":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"编研制作数据选择",visible:e.visible,width:"85%",top:"2vh","before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticStyle:{"background-color":"#FFF",padding:"6px",height:"100%",overflow:"auto"}},[a("el-row",{staticClass:"max-height",staticStyle:{"margin-top":"4px"}},[a("el-col",{attrs:{span:5}},[a("div",{staticStyle:{"line-height":"50px","background-color":"#F2F2F2",width:"95%"}},[a("span",{staticStyle:{"font-size":"14px","margin-left":"8px"}},[e._v("按分类整理")])]),a("div",{staticClass:"max-height left-side border-solid-right",staticStyle:{"margin-top":"24px"}},[a("div",{staticStyle:{overflow:"auto",height:"400px"}},[a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],attrs:{data:e.treeData,defaultExpandedKeys:e.defaultExpandedKeys,defaultExpandAll:e.defaultExpandAll},on:{click:e.treeNodeClick}})],1)])]),a("el-col",{staticClass:"max-height",staticStyle:{height:"500px"},attrs:{span:19}},[a("el-tabs",{staticClass:"max-height",staticStyle:{"margin-top":"7px"}},[a("el-tab-pane",{attrs:{label:"案卷"}},[a("div",{staticStyle:{width:"100%",display:"inline-block"}},[a("div",{staticStyle:{float:"right"}},[a("el-row",{attrs:{gutter:3}},[a("el-col",{attrs:{span:6,offset:3}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.selectType,callback:function(t){e.selectType=t},expression:"selectType"}},e._l(e.selectData,(function(e){return a("el-option",{key:e.id,attrs:{label:e.fldDesc,value:e.fldName}})})),1)],1),a("el-col",{attrs:{span:10}},[a("el-input",{model:{value:e.selectInputData,callback:function(t){e.selectInputData=t},expression:"selectInputData"}})],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"small"},on:{click:e.selectClick}},[e._v("搜索")])],1)],1)],1)]),e.tableCode?a("div",{staticClass:"max-height flex-column",staticStyle:{"margin-top":"8px",height:"80%"}},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.ColumnData,data:e.tableData,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.handelSelection,"cell-click":e.cellClick}})],1):e._e()])],1)],1)],1),a("div",{staticStyle:{float:"right"}},[a("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.compilationClick}},[e._v("制 作")])],1)],1),e.ArchivesInfoCode?a("archives-info",{attrs:{jsonData:e.jsonData,models:e.models,rowData:e.rowData,NodeData:e.NodeData},on:{close:function(t){e.ArchivesInfoCode=!1}}}):e._e()],1)},n=[],o=a("1da1"),s=a("ade3"),r=(a("96cf"),a("a9e3"),a("b0c0"),a("159b"),a("4de4"),a("d81d"),a("3f19")),l=a("f7c4"),c=a("2e5f"),d=(a("cf45"),a("60f9")),u=a("eae9"),p={name:"",props:{NodeDataPara:{type:Object},othType:{type:Number,default:1}},components:{BasicTree:d["default"],foxTable:l["a"],BtnList:c["default"],ArchivesInfo:u["default"]},mixins:[r["a"]],data:function(){var e;return e={ArchivesInfoCode:!1,treeData:[],NodeData:void 0,visible:!0},Object(s["a"])(e,"NodeData",{}),Object(s["a"])(e,"defaultExpandAll",!1),Object(s["a"])(e,"defaultExpandedKeys",[]),Object(s["a"])(e,"selectData",[]),Object(s["a"])(e,"selectType",void 0),Object(s["a"])(e,"selectInputData",void 0),Object(s["a"])(e,"tableCode",!0),Object(s["a"])(e,"ColumnData",[]),Object(s["a"])(e,"othType",1),Object(s["a"])(e,"models",{}),Object(s["a"])(e,"modelsPara",{}),Object(s["a"])(e,"modlesData",{}),Object(s["a"])(e,"modlesDataPara",{}),Object(s["a"])(e,"filedList",[]),Object(s["a"])(e,"jsonData",{}),Object(s["a"])(e,"jsonDataPara",{}),Object(s["a"])(e,"rowData",{}),Object(s["a"])(e,"title","编研制作"),Object(s["a"])(e,"defaultModleData",{}),Object(s["a"])(e,"formBuildCode",!1),Object(s["a"])(e,"rowsData",[]),e},created:function(){this.getTreeData(),this.queryVueJsonPara()},methods:{handelSelection:function(e){this.rowsData=e},formClose:function(){this.formBuildCode=!1,this.modlesPara=JSON.parse(JSON.stringify(this.modlesDataPara))},compilationClick:function(){0==this.rowsData.length?this.$sweetAlert.warnWithTimer("请选择编研材料【案卷】"):this.$emit("compilationClick",{title:"编研制作",NodeDataChild:this.NodeData,rowsData:this.rowsData})},compilationInfo:function(e){var t=this,a={};a.id=e.ID,a.templateId=this.NodeData.templateId,a.othType=this.othType,this.$api.httpAction("/dynamic/info",a,"post").then((function(e){if("200"==e.code)for(var a in e.data)t.models[a]=e.data[a],(a="CATE_CODE")&&(t.models[a]=t.NodeData.name)}))},queryVueJson:function(){var e=this;this.$api.getAction("/templates/getTempView",{othType:this.NodeData.cateType,templateId:this.NodeData.templateId}).then((function(t){"200"==t.code&&(t.data.vue?(e.jsonData=JSON.parse(t.data.vue),e.filedList=[],e.handelChangeModel(e.jsonData.list)):e.filedList=[])}))},handelChangeModel:function(e){var t=this;e&&(e.forEach((function(e){e.columns?e.columns.forEach((function(e){e.list.forEach((function(e){t.models[e.model]="",e.options.disabled=!0,e.options.disabled||t.filedList.push(e)}))})):(t.models[e.model]="",e.options.disabled=!0,e.options.disabled||t.filedList.push(e))})),this.modlesData=JSON.parse(JSON.stringify(this.models)))},selectClick:function(){var e=this,t={};t.page=this.page.pageNum,t.limit=this.page.pageSize,t.type="all",t[this.selectType]=this.selectInputData,t.othType=1;var a="/keepArch/list?";a+="templateId=",a+=this.NodeData.templateId,a+="&cate_code=",a+=this.NodeData.cateCode,a+="&DEL_STATUS=0",a+="&VOL_ID=",this.$api.httpAction(a,t,"post").then((function(t){"200"==t.code&&(e.tableData=t.data,e.page.total=parseInt(t.count),e.tableData.forEach((function(e){1==e.TRANSFER_STATUS?e.TRANSFER_STATUS="待送审":2==e.TRANSFER_STATUS?e.TRANSFER_STATUS="送审中":3==e.TRANSFER_STATUS?e.TRANSFER_STATUS="已送审":4==e.TRANSFER_STATUS?e.TRANSFER_STATUS="已接收":e.TRANSFER_STATUS="撤回",0==e.ARCH_STATUS?e.ARCH_STATUS="未归档":1==e.ARCH_STATUS?e.ARCH_STATUS="已归档":e.ARCH_STATUS="撤回归档"})))}))},queryList:function(){var e=this,t={};t.page=this.page.pageNum,t.limit=this.page.pageSize,t.type="all",t.othType=1;var a="/keepArch/list?";a+="templateId=",a+=this.NodeData.templateId,a+="&cate_code=",a+=this.NodeData.cateCode,a+="&DEL_STATUS=0",a+="&VOL_ID=",this.$api.httpAction(a,t,"post").then((function(t){"200"==t.code&&(e.tableData=t.data,e.page.total=parseInt(t.count),e.tableData.forEach((function(e){1==e.TRANSFER_STATUS?e.TRANSFER_STATUS="待送审":2==e.TRANSFER_STATUS?e.TRANSFER_STATUS="送审中":3==e.TRANSFER_STATUS?e.TRANSFER_STATUS="已送审":4==e.TRANSFER_STATUS?e.TRANSFER_STATUS="已接收":e.TRANSFER_STATUS="撤回",0==e.ARCH_STATUS?e.ARCH_STATUS="未归档":1==e.ARCH_STATUS?e.ARCH_STATUS="已归档":e.ARCH_STATUS="撤回归档"})))}))},sfList:function(){var e=this,t={};t.templateId=this.NodeData.templateId,t.othType=this.othType,this.$api.getAction("/searchFld/sfList",t,"post").then((function(t){"200"==t.code&&(e.selectData=t.data,e.selectType=e.selectData[0].fldName)}))},qfListVo:function(){var e=this,t={};t.templateId=this.NodeData.templateId,t.othType=this.othType,this.tableCode=!1,this.$api.getAction("/queryFld/qfListVo",t,"post").then((function(t){"200"==t.code&&(e.ColumnData=e.setColumnData(t.data),e.tableCode=!0)}))},setColumnData:function(e){var t=this,a=(this.$createElement,[]);if(a.push({type:"selection",fixed:!0}),a.push({label:"卷类数",prop:"DOC_TOTAL"}),e.length>0)return e.forEach((function(e){var t={};t.label=e.fldDesc,t.prop=e.fldName,a.push(t)})),a.push({label:"操作",prop:"oper",width:280,render:function(e,a){var i=a.row,n=[{content:"查看",type:"text",icon:"info",event:function(){t.seeRowData(i)}}];return e(c["default"],{attrs:{btnInfo:n}})}}),a},seeRowData:function(e){this.ArchivesInfoCode=!0,this.compilationInfo(e),this.rowData=e},handleClose:function(){this.visible=!1,this.$emit("close")},treeNodeClick:function(e){this.rowsData=[],this.NodeData=e,e.templateId&&(this.queryList(),this.qfListVo(),this.sfList(),this.queryVueJson())},getTreeData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.getAction("/category/archCateTree",{});case 3:a=t.sent,i=a.treeData,e.treeData=e.setTreeData(i),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))()},setTreeData:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));this.initLoadOver||(this.initLoadOver=!0),e.map((function(e){return e.label=e.name,"-1"==e.parentId&&(e.elIcon="s-home"),"1"==e.parentId&&(e.elIcon="office-building"),"-1"==e.parentId&&(e.elIcon="folder"),e}));var a=0,i=function t(a,i,n){i+=1,a.forEach((function(a){var o=e.filter((function(e){return e.parentId==a.id}));a.children=o,a.position=i,o.length?(a.elIcon="folder",t(a.children,i,a.name)):a.elIcon="document","-1"!=a.pId||n?a.parentName=n:a.parentName=a.name}))};return i(t,a),t.length>0&&(this.NodeData=t[0]),t}}},m=p,h=a("2877"),f=Object(h["a"])(m,i,n,!1,null,"51ce4fd9",null);t["default"]=f.exports},"77a8":function(e,t,a){},"77a9":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"propertyPanel",staticClass:"property-panel"},[e.nodeName?a("div",[e._v(e._s(e.nodeName))]):e._e(),e.element?a(e.getComponent,{ref:"_component",tag:"component",attrs:{element:e.element,modeler:e.modeler,processCategory:e.processCategory,taskCategory:e.taskCategory,formKey:e.formKey,candidateUsers:e.candidateUsers,assignee:e.candidateUsers,candidateGroups:e.candidateGroups}}):e._e()],1)},n=[],o=a("c0b2"),s=a("2750"),r=a("ecdc"),l={name:"Element",components:{bpmnProcess:o["default"],bpmnNode:s["default"]},props:{processCategory:{type:Array,required:!0},taskCategory:{type:Array,required:!0},modeler:{type:Object,required:!0},formKey:{type:Array,required:!1},candidateUsers:{type:Array,required:!1},candidateGroups:{type:Array,required:!1}},data:function(){return{element:null,form:{id:"",name:"",color:null}}},computed:{getComponent:function(){var e,t=null===(e=this.element)||void 0===e?void 0:e.type;return"bpmn:Process"===t?"bpmnProcess":"bpmnNode"},nodeName:function(){if(this.element){var e=this.element.businessObject,t=null!==e&&void 0!==e&&e.eventDefinitions?e.eventDefinitions[0].$type:e.$type;return r["a"][t]||t}return""}},mounted:function(){this.handleModeler()},methods:{handleModeler:function(){var e=this;this.modeler.on("root.added",(function(t){"bpmn:Process"===t.element.type&&(e.element=null,e.$nextTick().then((function(){e.element=t.element})))})),this.modeler.on("element.click",(function(t){var a=t.element;"bpmn:Process"===a.type&&(e.element=a)})),this.modeler.on("selection.changed",(function(t){e.element=null;var a=t.newSelection[0];a&&e.$nextTick().then((function(){e.element=a}))}))},validate:function(){var e;return null===(e=this.$refs._component)||void 0===e?void 0:e.validate()}}},c=l,d=(a("7f75"),a("2877")),u=Object(d["a"])(c,i,n,!1,null,"6ac83530",null);t["default"]=u.exports},"78a8":function(e,t,a){"use strict";a("222e")},"795c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{title:e.title,visible:e._multiInstanceDrawer,direction:"rtl"},on:{"update:visible":function(t){e._multiInstanceDrawer=t},open:e.init}},[a("div",{staticStyle:{padding:"10px"}},[a("el-form",{ref:"multiInstanceForm",attrs:{model:e.multiInstance,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"多实例类型"}},[a("el-select",{attrs:{clearable:""},model:{value:e.multiInstance.isSequential,callback:function(t){e.$set(e.multiInstance,"isSequential",t)},expression:"multiInstance.isSequential"}},e._l(e.multiInstanceOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"循环基数",prop:"loopCardinality"}},[a("el-input",{attrs:{clearable:""},model:{value:e.multiInstance.loopCardinality,callback:function(t){e.$set(e.multiInstance,"loopCardinality",t)},expression:"multiInstance.loopCardinality"}})],1),a("el-form-item",{attrs:{label:"集合"}},[a("el-input",{attrs:{clearable:""},model:{value:e.multiInstance.collection,callback:function(t){e.$set(e.multiInstance,"collection",t)},expression:"multiInstance.collection"}})],1),a("el-form-item",{attrs:{label:"元素变量"}},[a("el-input",{attrs:{clearable:""},model:{value:e.multiInstance.elementVariable,callback:function(t){e.$set(e.multiInstance,"elementVariable",t)},expression:"multiInstance.elementVariable"}})],1),a("el-form-item",{attrs:{label:"完成条件"}},[a("el-input",{attrs:{clearable:""},model:{value:e.multiInstance.completionCondition,callback:function(t){e.$set(e.multiInstance,"completionCondition",t)},expression:"multiInstance.completionCondition"}})],1)],1),a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e._multiInstanceDrawer=!1}}},[e._v("取消")]),a("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:e.save}},[e._v("确定")])],1)],1)])},n=[],o=a("917d"),s={props:{multiInstanceDrawer:{type:Boolean,default:!1},title:{type:String,default:""}},mixins:[o["a"]],computed:{_multiInstanceDrawer:{get:function(){return this.multiInstanceDrawer},set:function(e){this.$emit("changeMultiInstanceDrawer",e)}}},data:function(){return{multiInstanceOptions:[{value:void 0,label:""},{value:!0,label:"串行"},{value:!1,label:"并行"}],multiInstance:{isSequential:"",loopCardinality:"",collection:"",elementVariable:"",completionCondition:""}}},mounted:function(){this.init()},methods:{init:function(){var e,t,a,i,n=null===(e=this.element.businessObject)||void 0===e?void 0:e.loopCharacteristics,o=void 0===n?void 0:null!==(t=n.isSequential)&&void 0!==t&&t,s={};s.isSequential=o,s.collection=null===n||void 0===n?void 0:n.collection,s.elementVariable=null===n||void 0===n?void 0:n.elementVariable,s.loopCardinality=null===n||void 0===n||null===(a=n.loopCardinality)||void 0===a?void 0:a.body,s.completionCondition=null===n||void 0===n||null===(i=n.completionCondition)||void 0===i?void 0:i.body,this.multiInstance=s},save:function(){var e=!1;if(void 0===this.multiInstance.isSequential||""===this.multiInstance.isSequential)delete this.element.businessObject.loopCharacteristics,this.multiInstance={},this.updateProperties({loopCharacteristics:void 0});else{var t=this.element.businessObject.loopCharacteristics;if(t||(t=this.modeler.get("moddle").create("bpmn:MultiInstanceLoopCharacteristics")),t.isSequential=this.multiInstance.isSequential,this.multiInstance.collection?t.set(this.descriptorPrefix+"collection",this.multiInstance.collection):t.set(this.descriptorPrefix+"collection",void 0),this.multiInstance.elementVariable?t.set(this.descriptorPrefix+"elementVariable",this.multiInstance.elementVariable):t.set(this.descriptorPrefix+"elementVariable",void 0),this.multiInstance.loopCardinality){var a=this.modeler.get("moddle").create("bpmn:Expression",{body:this.multiInstance.loopCardinality});t["loopCardinality"]=a}else t["loopCardinality"]=void 0;if(this.multiInstance.completionCondition){var i=this.modeler.get("moddle").create("bpmn:Expression",{body:this.multiInstance.completionCondition});t["completionCondition"]=i}else t["completionCondition"]=void 0;this.updateProperties({loopCharacteristics:t}),e=!0}this._multiInstanceDrawer=!1,this.$emit("saveMultiInstance",e)}}},r=s,l=(a("21e3"),a("2877")),c=Object(l["a"])(r,i,n,!1,null,null,null);t["default"]=c.exports},"795d":function(e,t,a){"use strict";a("946f")},"79fc":function(e,t,a){"use strict";a("f16a")},"7b0c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{staticClass:"max-height",on:{"tab-click":e.handleClick},model:{value:e.changeValue,callback:function(t){e.changeValue=t},expression:"changeValue"}},e._l(e.tabsArr,(function(t,i){return e.checkPermi(t.permission,t.code,t.status)?a("el-tab-pane",{key:i,attrs:{label:t.label,name:t.code}},[e.changeValue==t.code?a("review-list",{ref:"reviewList",refInFor:!0,attrs:{status:e.status}}):e._e()],1):e._e()})),1)},n=[],o=a("b85c"),s=(a("caad"),a("b0c0"),a("7db0"),a("8dac")),r=(a("fdcf"),a("9fb0")),l={name:"RevFormMain",components:{ReviewList:s["default"]},props:{activeName:{type:String,default:""}},data:function(){return{status:"",changeValue:"",changeValueTemp:"",statusTemp:"",tabsArr:[{label:"待送审",code:"await",permission:"sys:archverify:waitgo",status:"1"},{label:"送审中",code:"during",permission:"sys:archverify:ongoing",status:"2"},{label:"已送审",code:"already",permission:"sys:archverify:has",status:"3"},{label:"待接收",code:"awReceive",permission:"sys:archverify:accept",status:"2"},{label:"已接收",code:"receive",permission:"sys:archverify:accepted",status:"3"},{label:"已撤回",code:"revoke",permission:"sys:archverify:alcancel",status:"4"}]}},computed:{},methods:{checkPermi:function(e,t,a){var i=this;if(e&&e.length>0){var n,s=[],l=JSON.parse(localStorage.getItem(r["e"])||"[]"),c=Object(o["a"])(l);try{for(c.s();!(n=c.n()).done;){var d=n.value;s.push(d)}}catch(f){c.e(f)}finally{c.f()}if(!s.length)return!1;for(var u=[],p=0,m=s;p<m.length;p++){var h=m[p];u.push(h.permission)}return!!u.includes(e)&&(this.changeValueTemp||(this.changeValueTemp=t,this.statusTemp=a,setTimeout((function(){i.changeValue=i.changeValueTemp,i.status=i.statusTemp}),10)),!0)}return!1},handleClick:function(e){switch(this.changeValue=e.name,e.name){case"await":this.status="1";break;case"during":case"awReceive":this.status="2";break;case"already":case"receive":this.status="3";break;case"revoke":this.status="4";break;default:break}}},created:function(){var e=this;if(this.activeName){this.changeValue=this.activeName,this.changeValueTemp=this.activeName;var t=this.tabsArr.find((function(t){return t.code==e.activeName}));t&&(this.status=t.status)}}},c=l,d=a("2877"),u=Object(d["a"])(c,i,n,!1,null,"61b0c026",null);t["default"]=u.exports},"7b9d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.visible?i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,width:"35%","before-close":e.cancelModal,title:"检测",center:""},on:{"update:visible":function(t){e.visible=t}}},[i("div",{staticClass:"div-main"},[i("el-row",[i("el-col",{staticClass:"max-height div-left",attrs:{span:6}},[i("div",{staticClass:"div-left"},[e.checkStatus?i("div",{staticClass:"div-img-finish"},[i("img",{staticStyle:{width:"98%"},attrs:{src:a("4629")}}),i("div",[e._v("检测完毕")])]):e._e()])]),i("el-col",{staticClass:"max-height",attrs:{span:18}},[i("div",{staticClass:"div-right"},[i("div",{staticClass:"div-result"},[i("i",{staticClass:"el-icon-warning",staticStyle:{color:"#ff4e1d"}}),i("span",[e._v("检测出【")]),i("span",{staticStyle:{color:"red"}},[e._v(e._s(e.escData.length))]),i("span",[e._v("】个异常项")])]),0==e.escData.length?i("div",[e._v(" 暂无异常 ")]):e._e(),i("div",{staticClass:"esc-div",attrs:{else:""}},[i("el-row",{attrs:{gutter:6}},e._l(e.escData,(function(t,a){return i("el-col",{key:a,attrs:{span:24}},[e._v(" "+e._s(t)+" ")])})),1)],1)])])],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.cancelModal()}}},[e._v(" 确定 ")]),i("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},n=[],o={name:"CheckDisModule",components:{},props:{},data:function(){return{visible:!1,checkStatus:!1,escData:[],url:{checkDis:"dynamic/brokenSearch"}}},computed:{},methods:{cancelModal:function(){this.visible=!1,this.$emit("close"),this.$emit("ok")},init:function(e){var t=this;this.$api.httpAction(this.url.checkDis,e,"post").then((function(e){"200"==e.code?(t.escData=e.data,t.checkStatus=!0):t.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){t.$sweetAlert.errorWithTimer("error")})),this.visible=!0}},created:function(){}},s=o,r=(a("5d897"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"0f301122",null);t["default"]=l.exports},"7c1a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,width:"65%","before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"app-container none-shadow tab-pane-box"},[a("div",{staticClass:"tabs-box none-shadow"},[a("el-tabs",{staticClass:"max-height flex-column",attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"文件上传",name:"file",lazy:""}},[a("uploader-component",{ref:"file",attrs:{uploadObject:e.uploadObject,uploadUrl:e.uploadUrl},on:{success:e.uploadSuccess}})],1),a("el-tab-pane",{attrs:{label:"文件夹上传",name:"folder",lazy:""}},[a("uploader-component",{ref:"folder",attrs:{uploadObject:e.uploadObject,uploadUrl:e.uploadUrl,directory:!0},on:{success:e.uploadSuccess}})],1)],1)],1)])]):e._e()},n=[],o=a("d1e9"),s={components:{UploaderComponent:o["default"]},props:{title:{type:String,default:"电子文件上传"}},data:function(){return{activeName:"file",visible:!1,loading:!1,uploadObject:null,uploadUrl:""}},computed:{},created:function(){},methods:{handleClick:function(e,t){},init:function(e){this.uploadObject=e.data,this.uploadUrl=e.url,this.visible=!0},uploadSuccess:function(){this.$emit("ok")},cancelModal:function(){this.visible=!1,this.$emit("close")}}},r=s,l=(a("35af"),a("2877")),c=Object(l["a"])(r,i,n,!1,null,"d22c755e",null);t["default"]=c.exports},"7c25":function(e,t,a){},"7ceb":function(e,t,a){},"7dbc":function(e,t,a){},"7f75":function(e,t,a){"use strict";a("29ad")},"7fde":function(e,t,a){"use strict";a("159b");var i={};function n(e,t){var a=document.getElementById(e),n=t||function(){};if(!a){i[e]=[];var o=document.createElement("script");o.src=e,o.id=e,o.async=1,document.body.appendChild(o);var s="onload"in o?r.bind(o):l.bind(o);s(o)}function r(t){var a=this;t.onload=function(){a.onerror=a.onload=null,i[e].forEach((function(e){e(null,t)})),delete i[e]},t.onerror=function(){a.onerror=a.onload=null,n(new Error("Failed to load ".concat(e)),t)}}function l(t){var a=this;t.onreadystatechange=function(){"complete"!==a.readyState&&"loaded"!==a.readyState||(a.onreadystatechange=null,i[e].forEach((function(e){e(null,t)})),delete i[e])}}i[e].push(n)}t["a"]=n},"7ff5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,width:"30%","before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"content-box"},[a("el-input",{attrs:{autosize:{minRows:6,maxRows:6},type:"textarea",placeholder:e.title},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确定 ")])],1)]):e._e()},n=[],o={name:"AlertModal",props:{content:{type:String,default:""},title:{type:String,default:"温馨提示"}},data:function(){return{visible:!1,loading:!1,status:""}},computed:{},methods:{init:function(){this.visible=!0},submit:function(){this.cancelModal()},cancel:function(){this.cancelModal()},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}},s=o,r=(a("610c"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"d94fe6ec",null);t["default"]=l.exports},"80a1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"选择机构",visible:e.visibleInChild,"append-to-body":e.appendToBody,"before-close":e.close},on:{"update:visible":function(t){e.visibleInChild=t}}},[a("div",{staticClass:"el-dialog-body-custom-height"},[a("el-input",{staticStyle:{margin:"10px 0px 10px 0px"},attrs:{placeholder:"请输入过滤条件"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),a("el-tree",{ref:"_selectOrgTree",staticClass:"filter-tree",attrs:{data:e.treeData,"node-key":"id",props:e.defaultProps,"filter-node-method":e.filterNode,"check-strictly":"","show-checkbox":e.multipleSelect}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.visibleInChild=!1}}},[e._v("取消")]),a("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:e.confirm}},[e._v("确定")])],1)])},n=[],o=(a("4de4"),a("0fea")),s=(a("5c96"),{name:"SelectOrg",props:{visible:{type:Boolean,default:!1},multipleSelect:{type:Boolean,default:!1},type:{type:String,default:""},appendToBody:{type:Boolean,default:!1}},data:function(){return{filterText:"",treeData:[],defaultProps:{children:"children",label:"label",isLeaf:"isLeaf",data:"data"}}},watch:{filterText:function(e){this.$refs._selectOrgTree.filter(e)}},computed:{visibleInChild:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},methods:{close:function(){this.visibleInChild=!1},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},getTreeData:function(){var e=this;Object(o["e"])("/sys/org/getSelectTreeData",{type:this.type}).then((function(t){var a=t.data;e.treeData=a}))},confirm:function(){if(this.multipleSelect){var e=this.$refs._selectOrgTree.getCheckedNodes();if(!e||0==e.length)return void this.$sweetAlert.warnWithTimer("请先选择机构");this.$emit("selectOrgFinished",e)}else{var t=this.$refs._selectOrgTree.getCurrentNode();if(!t)return void this.$sweetAlert.warnWithTimer("请先选择机构");this.$emit("selectOrgFinished",t)}this.visibleInChild=!1}}}),r=s,l=a("2877"),c=Object(l["a"])(r,i,n,!1,null,null,null);t["default"]=c.exports},"81f7":function(e,t,a){},8200:function(e,t,a){},8202:function(e,t,a){"use strict";a("9bbfd")},"82d2":function(e,t,a){},"83fd":function(e,t,a){},8446:function(e,t,a){"use strict";t["a"]={"el-input":"blur","el-input-number":"blur","el-select":"change","el-radio-group":"change","el-checkbox-group":"change","el-cascader":"change","el-time-picker":"change","el-date-picker":"change","el-rate":"change",tinymce:"blur"}},8479:function(e,t,a){e.exports=a.p+"static/img/empty.9374ef2c.svg"},"84ba":function(e,t,a){"use strict";a("9d2e")},8538:function(e,t,a){"use strict";a("51ab")},8576:function(e,t,a){"use strict";a("b86d")},"85b2":function(e,t,a){},8619:function(e,t,a){},"873b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("div",{staticStyle:{padding:"8px",height:"55px"}},[a("el-row",{attrs:{gutter:4}},[a("el-col",{attrs:{span:7}},[a("span",{staticStyle:{"font-size":"14px","margin-right":"9px"}},[e._v("档案分类")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.rootCateCode,callback:function(t){e.rootCateCode=t},expression:"rootCateCode"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._l(e.rootData,(function(e){return a("el-option",{key:e.cateCode,attrs:{label:e.cateName,value:e.cateCode}})}))],2)],1),a("el-col",{attrs:{span:9}},[a("span",{staticStyle:{"font-size":"14px","margin-right":"9px"}},[e._v("年度")]),a("el-date-picker",{attrs:{type:"year","value-format":"yyyy",placeholder:"年度","picker-options":e.pickerOptions},model:{value:e.archYear,callback:function(t){e.archYear=t},expression:"archYear"}})],1),a("el-col",{attrs:{span:5,offset:3}},[a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.testClick}},[e._v("统计")])],1)])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",staticStyle:{"border-collapse":"collapse"},attrs:{height:e.pageheight-200,"span-method":e.objectSpanMethod,border:"","header-cell-style":e.headerstyle,"summary-method":e.getSummaries,"show-summary":"",data:e.tableData}},[a("el-table-column",{staticStyle:{border:"none !important"},attrs:{label:"档案类别",align:"center",width:"100px",prop:"cateName"}}),a("el-table-column",{attrs:{label:"年度",align:"center",width:"100px",prop:"archYear"}}),a("el-table-column",{attrs:{label:"卷级档案",align:"center"}},[a("el-table-column",{attrs:{label:"永久",align:"center"}},[a("el-table-column",{attrs:{label:"案卷",align:"center",prop:"volTotalForever"}}),a("el-table-column",{attrs:{label:"卷内",align:"center",prop:"volInTotalForever"}}),a("el-table-column",{attrs:{label:"电子档案",align:"center",prop:"volInHasfileTotalForever"}})],1),a("el-table-column",{attrs:{label:"长期",align:"center"}},[a("el-table-column",{attrs:{label:"案卷",align:"center",prop:"volTotalLong"}}),a("el-table-column",{attrs:{label:"卷内",align:"center",prop:"volInTotalLong"}}),a("el-table-column",{attrs:{label:"电子档案",align:"center",prop:"volInHasfileTotalLong"}})],1),a("el-table-column",{attrs:{label:"短期",align:"center"}},[a("el-table-column",{attrs:{label:"案卷",align:"center",prop:"volTotalShort"}}),a("el-table-column",{attrs:{label:"卷内",align:"center",prop:"volInTotalShort"}}),a("el-table-column",{attrs:{label:"电子档案",align:"center",prop:"volInHasfileTotalShort"}})],1),a("el-table-column",{attrs:{label:"30",align:"center"}},[a("el-table-column",{attrs:{label:"案卷",align:"center",prop:"volTotalThirty"}}),a("el-table-column",{attrs:{label:"卷内",align:"center",prop:"volInTotalThirty"}}),a("el-table-column",{attrs:{label:"电子档案",align:"center",prop:"volInHasfileTotalThirty"}})],1),a("el-table-column",{attrs:{label:"10",align:"center"}},[a("el-table-column",{attrs:{label:"案卷",align:"center",prop:"volTotalTen"}}),a("el-table-column",{attrs:{label:"卷内",align:"center",prop:"volInTotalTen"}}),a("el-table-column",{attrs:{label:"电子档案",align:"center",prop:"volInHasfileTotalTen"}})],1)],1),a("el-table-column",{attrs:{label:"当年案卷累计",align:"center",width:"100px",prop:"volTotalThatYear"}}),a("el-table-column",{attrs:{label:"历年案卷累计",align:"center",width:"100px",prop:"volTotalOverYear"}}),a("el-table-column",{attrs:{label:"当年卷内累计",align:"center",width:"100px",prop:"volInTotalThatYear"}}),a("el-table-column",{attrs:{label:"历年卷内累计",align:"center",width:"100px",prop:"volInTotalOverYear"}}),a("el-table-column",{attrs:{label:"当年电子档案累计",align:"center",width:"150px",prop:"volInHasfileTotalThatYear"}}),a("el-table-column",{attrs:{label:"历年电子档案累计",align:"center",width:"150px",prop:"volInHasfileTotalOverYear"}}),a("el-table-column",{attrs:{label:"总页数",align:"center",width:"100px",prop:"pageNumTotal"}}),a("el-table-column",{attrs:{label:"总存储",align:"center",width:"100px",prop:"fileSizeTotal"}})],1),e.loading?e._e():a("div",{staticStyle:{float:"right",height:"55px",padding:"10px"}},[a("el-pagination",{attrs:{background:"","current-page":e.page,"pager-count":5,"page-sizes":[10,20,30],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},n=[],o=(a("159b"),{name:"",data:function(){return{tableData:[],cateNameData:[],rowItemIndex:0,arrIndex:0,summarData:{},rootData:[],rootCateCode:void 0,count:0,pageheight:420,page:1,loading:!1,limit:10,archYear:void 0,pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}}}},updated:function(){var e=this;this.$nextTick((function(){e.$refs["table"].doLayout()}))},created:function(){this.queryList(),this.doStatisticForRootCategoryFigure(),this.pageDataList(),this.pageheight=document.body.offsetHeight},methods:{headerstyle:function(e){e.row,e.column;var t=e.rowIndex;e.columnIndex;if(1==t)return{border:"none !important"}},handleSizeChange:function(e){this.limit=e,this.queryList()},handleCurrentChange:function(e){this.page=e,this.queryList()},testClick:function(){this.queryList(),this.doStatisticForRootCategoryFigure()},getSummaries:function(e){var t=this,a=e.columns,i=(e.data,[]);return a.forEach((function(e,a){i[a]=0!==a?1!==a?t.summarData[e.property]:"合计":""})),i},objectSpanMethod:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex;if(0===a){for(var i=0;i<this.cateNameData.length;i++)if(this.cateNameData[i].index===t)return{rowspan:this.cateNameData[i].count,colspan:1};return{rowspan:0,colspan:0}}},queryList:function(){var e=this;this.rowItemIndex=0,this.arrIndex=0;var t={};t.page=this.page,t.limit=this.limit,t.archYear=this.archYear,t.rootCateCode=this.rootCateCode,this.loading=!0,this.$api.getAction("/statistic/statisticForRootCategory",t).then((function(t){if("200"==t.code){if(e.tableData=t.data,e.count=parseInt(t.count),e.cateNameData=[],t.data.length>0){var a=0;1==t.data.length?(e.cateNameData.push({index:a,count:1,itemIndex:1}),e.loading=!1):t.data.forEach((function(i,n){n>0&&i.cateName!=t.data[n-1].cateName&&(e.cateNameData.push({index:a,count:n-a,itemIndex:n}),a=n),e.loading=!1})),0==e.cateNameData.length&&e.cateNameData.push({index:a,count:t.data.length-a,itemIndex:t.data.length}),e.cateNameData[e.cateNameData.length-1].itemIndex!=t.data.length&&e.cateNameData.push({index:a,count:t.data.length-a,itemIndex:t.data.length})}e.loading=!1}else e.$sweetAlert.errorWithTimer("网络出错"),e.loading=!1}))},doStatisticForRootCategoryFigure:function(){var e=this,t={};t.archYear=this.archYear,t.rootCateCode=this.rootCateCode,this.$api.httpAction("/statistic/doStatisticForRootCategoryFigure",t,"post").then((function(t){e.summarData=t}))},pageDataList:function(){var e=this;this.$api.getAction("/category/pageList",{}).then((function(t){"200"==t.code&&t.data.forEach((function(t){"-1"==t.parentId&&e.rootData.push(t)}))}))}}}),s=o,r=a("2877"),l=Object(r["a"])(s,i,n,!1,null,"77235c23",null);t["default"]=l.exports},"87c5":function(e,t,a){},8849:function(e,t,a){"use strict";a.r(t);var i,n,o,s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"left-board"},[a("div",{staticClass:"logo-wrapper"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:e.logo,alt:"logo"}}),e._v(" Form Generator "),e._m(0)])]),a("el-scrollbar",{staticClass:"left-scrollbar"},[a("div",{staticClass:"components-list"},e._l(e.leftComponents,(function(t,i){return a("div",{key:i},[a("div",{staticClass:"components-title"},[a("svg-icon",{attrs:{"icon-class":"component"}}),e._v(" "+e._s(t.title)+" ")],1),a("draggable",{staticClass:"components-draggable",attrs:{list:t.list,group:{name:"componentsGroup",pull:"clone",put:!1},clone:e.cloneComponent,draggable:".components-item",sort:!1},on:{end:e.onEnd}},e._l(t.list,(function(t,i){return a("div",{key:i,staticClass:"components-item",on:{click:function(a){return e.addComponent(t)}}},[a("div",{staticClass:"components-body"},[a("svg-icon",{attrs:{"icon-class":t.__config__.tagIcon}}),e._v(" "+e._s(t.__config__.label)+" ")],1)])})),0)],1)})),0)])],1),a("div",{staticClass:"center-board"},[a("div",{staticClass:"action-bar"},[e._t("action"),a("el-button",{attrs:{icon:"el-icon-view",type:"text"},on:{click:e.preview}},[e._v(" 预览 ")]),a("el-button",{attrs:{icon:"el-icon-view",type:"text"},on:{click:e.showJson}},[e._v(" 查看json ")]),a("el-button",{staticClass:"delete-btn",attrs:{icon:"el-icon-delete",type:"text"},on:{click:e.empty}},[e._v(" 清空 ")])],2),a("el-scrollbar",{staticClass:"center-scrollbar"},[a("el-row",{staticClass:"center-board-row",attrs:{gutter:e.formConf.gutter}},[a("el-form",{attrs:{size:e.formConf.size,"label-position":e.formConf.labelPosition,disabled:e.formConf.disabled,"label-width":e.formConf.labelWidth+"px"}},[a("draggable",{staticClass:"drawing-board",attrs:{list:e.drawingList,animation:340,group:"componentsGroup"}},e._l(e.drawingList,(function(t,i){return a("draggable-item",{key:t.renderKey,attrs:{"drawing-list":e.drawingList,"current-item":t,index:i,"active-id":e.activeId,"form-conf":e.formConf},on:{activeItem:e.activeFormItem,copyItem:e.drawingItemCopy,deleteItem:e.drawingItemDelete}})})),1),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.drawingList.length,expression:"!drawingList.length"}],staticClass:"empty-info"},[e._v(" 从左侧拖入或点选组件进行表单设计 ")])],1)],1)],1)],1),a("right-panel",{attrs:{"active-data":e.activeData,"form-conf":e.formConf,"show-field":!!e.drawingList.length},on:{"tag-change":e.tagChange,"fetch-data":e.fetchData}}),a("form-drawer",{attrs:{visible:e.drawerVisible,"form-data":e.formData,size:"100%","generate-conf":e.generateConf},on:{"update:visible":function(t){e.drawerVisible=t}}}),a("el-dialog",{attrs:{visible:e.jsonDrawerVisible,title:"查看json",fullscreen:"",center:""},on:{"update:visible":function(t){e.jsonDrawerVisible=t}}},[a("vue-ace-editor",{attrs:{lang:"json",theme:"chrome",width:"100%",height:"calc(100vh - 214px)",options:{wrap:!0,readOnly:!0}},on:{init:e.editorInit},model:{value:JSON.stringify(e.formData,null,2),callback:function(t){e.$set(JSON,"stringify(formData,null,2)",t)},expression:"JSON.stringify(formData,null,2)"}}),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:JSON.stringify(e.formData),expression:"JSON.stringify(formData)",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],attrs:{icon:"el-icon-document",type:"primary"}},[e._v("复 制")]),a("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.jsonDrawerVisible=!1}}},[e._v("关闭")])],1)],1),a("code-type-dialog",{attrs:{visible:e.dialogVisible,title:"选择生成类型","show-file-name":e.showFileName},on:{"update:visible":function(t){e.dialogVisible=t},confirm:e.generate}}),a("parser-dialog",{attrs:{visible:e.previewVisible,title:"预览",formConf:e.formData},on:{"update:visible":function(t){e.previewVisible=t}}}),a("input",{attrs:{id:"copyNode",type:"hidden"}})],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"github",attrs:{href:"https://github.com/JakHuang/form-generator",target:"_blank"}},[a("img",{attrs:{src:"https://github.githubassets.com/pinned-octocat.svg",alt:""}})])}],l=a("53ca"),c=a("5530"),d=(a("ac1f"),a("5319"),a("1276"),a("c740"),a("7db0"),a("b0c0"),a("99af"),a("d81d"),a("a434"),a("159b"),a("b64b"),a("1980")),u=a.n(d),p=a("9619"),m=a("21a6"),h=a("b311"),f=a.n(h),v=a("15e7"),b=a("8e02"),g=a("4d02"),y=a("0892"),_=a("2304"),w=a("9c31"),k=a("9255"),x=a("8d77"),C=a("cd5b"),D=a("43fa"),T=[{__config__:{label:"单行文本",labelWidth:null,showLabel:!0,changeTag:!0,tag:"el-input",tagIcon:"input",defaultValue:void 0,required:!0,layout:"colFormItem",span:24,document:"https://element.eleme.cn/#/zh-CN/component/input",regList:[{pattern:"/^1(3|4|5|7|8|9)\\d{9}$/",message:"手机号格式错误"}]},__slot__:{prepend:"",append:""},__vModel__:"mobile",placeholder:"请输入手机号",style:{width:"100%"},clearable:!0,"prefix-icon":"el-icon-mobile","suffix-icon":"",maxlength:11,"show-word-limit":!0,readonly:!1,disabled:!1}],I=a("3342"),S=a.n(I),A=a("47b5"),O=a("5066"),$=a("ac5f"),L=a("72b7"),F=a("7c9e"),M=a.n(F),E=Object($["a"])(),j=Object($["b"])(),R=Object($["c"])(),B={name:"FormGenerator",components:{draggable:u.a,render:v["a"],FormDrawer:b["default"],JsonDrawer:g["default"],RightPanel:y["default"],CodeTypeDialog:A["default"],DraggableItem:O["default"],ParserDialog:_["default"],VueAceEditor:M.a},props:["formDataProp"],data:function(){return{logo:S.a,idGlobal:R,formConf:w["a"],inputComponents:w["b"],selectComponents:w["d"],layoutComponents:w["c"],labelWidth:100,drawingList:T,drawingData:{},activeId:T[0].formId,drawerVisible:!1,formData:{},dialogVisible:!1,previewVisible:!1,jsonDrawerVisible:!1,generateConf:null,showFileName:!1,activeData:T[0],saveDrawingListDebounce:Object(p["debounce"])(340,$["e"]),saveIdGlobalDebounce:Object(p["debounce"])(340,$["g"]),leftComponents:[{title:"输入型组件",list:w["b"]},{title:"选择型组件",list:w["d"]},{title:"布局型组件",list:w["c"]}]}},computed:{},watch:{"activeData.__config__.label":function(e,t){void 0!==this.activeData.placeholder&&this.activeData.__config__.tag&&n===this.activeId&&(this.activeData.placeholder=this.activeData.placeholder.replace(t,"")+e)},activeId:{handler:function(e){n=e},immediate:!0},drawingList:{handler:function(e){this.saveDrawingListDebounce(e),0===e.length&&(this.idGlobal=100)},deep:!0},idGlobal:{handler:function(e){this.saveIdGlobalDebounce(e)},immediate:!0}},mounted:function(){var e=this;Array.isArray(E)&&E.length>0?this.drawingList=E:this.drawingList=T,this.activeFormItem(this.drawingList[0]),j&&(this.formConf=j),Object(L["a"])((function(e){i=e}));var t=new f.a("#copyNode",{text:function(t){var a=e.generateCode();return e.$notify({title:"成功",message:"代码已复制到剪切板，可粘贴。",type:"success"}),a}});t.on("error",(function(t){e.$message.error("代码复制失败")}))},methods:{setObjectValueReduce:function(e,t,a){var i=t.split(".");i.reduce((function(e,t,n){return i.length===n+1?e[t]=a:Object(k["e"])(e[t])||(e[t]={}),e[t]}),e)},setRespData:function(e,t){var a=e.__config__,i=a.dataPath,n=a.renderKey,o=a.dataConsumer;if(i&&o){var s=i.split(".").reduce((function(e,t){return e[t]}),t);this.setObjectValueReduce(e,o,s);var r=this.drawingList.findIndex((function(e){return e.__config__.renderKey===n}));r>-1&&this.$set(this.drawingList,r,e)}},fetchData:function(e){var t=this,a=e.__config__,i=a.dataType,n=a.method,o=a.url;"dynamic"===i&&n&&o&&(this.setLoading(e,!0),this.$axios({method:n,url:o}).then((function(a){t.setLoading(e,!1),t.setRespData(e,a.data)})))},setLoading:function(e,t){var a=e.directives;if(Array.isArray(a)){var i=a.find((function(e){return"loading"===e.name}));i&&(i.value=t)}},activeFormItem:function(e){e&&(this.activeData=e,this.activeId=e.__config__.formId)},onEnd:function(e){e.from!==e.to&&(this.fetchData(o),this.activeData=o,this.activeId=this.idGlobal)},addComponent:function(e){var t=this.cloneComponent(e);this.fetchData(t),this.drawingList.push(t),this.activeFormItem(t)},cloneComponent:function(e){var t=Object(k["b"])(e),a=t.__config__;return a.span=this.formConf.span,this.createIdAndKey(t),void 0!==t.placeholder&&(t.placeholder+=a.label),o=t,o},createIdAndKey:function(e){var t=this,a=e.__config__;return a.formId=++this.idGlobal,a.renderKey="".concat(a.formId).concat(+new Date),"colFormItem"===a.layout?e.__vModel__="field".concat(this.idGlobal):"rowFormItem"===a.layout&&(a.componentName="row".concat(this.idGlobal),!Array.isArray(a.children)&&(a.children=[]),delete a.label),Array.isArray(a.children)&&(a.children=a.children.map((function(e){return t.createIdAndKey(e)}))),e},AssembleFormData:function(){this.formData=Object(c["a"])({fields:Object(k["b"])(this.drawingList)},this.formConf)},generate:function(e){var t=this["exec".concat(Object(k["g"])(this.operationType))];this.generateConf=e,t&&t(e)},execRun:function(e){this.AssembleFormData(),this.drawerVisible=!0},execDownload:function(e){var t=this.generateCode(),a=new Blob([t],{type:"text/plain;charset=utf-8"});Object(m["saveAs"])(a,e.fileName)},execCopy:function(e){document.getElementById("copyNode").click()},empty:function(){var e=this;this.$confirm("确定要清空所有组件吗？","提示",{type:"warning"}).then((function(){e.drawingList=[],e.idGlobal=100}))},drawingItemCopy:function(e,t){var a=Object(k["b"])(e);a=this.createIdAndKey(a),t.push(a),this.activeFormItem(a)},drawingItemDelete:function(e,t){var a=this;t.splice(e,1),this.$nextTick((function(){var e=a.drawingList.length;e&&a.activeFormItem(a.drawingList[e-1])}))},generateCode:function(){var e=this.generateConf.type;this.AssembleFormData();var t=Object(x["c"])(Object(C["a"])(this.formData,e)),a=Object(x["d"])(Object(x["b"])(this.formData,e)),n=Object(x["a"])(Object(D["a"])(this.formData));return i.html(a+t+n,k["a"].html)},editorInit:function(){a("2099"),a("818b"),a("95b8")},showJson:function(){this.AssembleFormData(),this.jsonDrawerVisible=!0},onCopy:function(){this.$message.success("内容复制成功")},preview:function(){this.AssembleFormData(),this.previewVisible=!0},download:function(){this.dialogVisible=!0,this.showFileName=!0,this.operationType="download"},run:function(){this.dialogVisible=!0,this.showFileName=!1,this.operationType="run"},copy:function(){this.dialogVisible=!0,this.showFileName=!1,this.operationType="copy"},tagChange:function(e){var t=this;e=this.cloneComponent(e);var a=e.__config__;e.__vModel__=this.activeData.__vModel__,a.formId=this.activeId,a.span=this.activeData.__config__.span,this.activeData.__config__.tag=a.tag,this.activeData.__config__.tagIcon=a.tagIcon,this.activeData.__config__.document=a.document,Object(l["a"])(this.activeData.__config__.defaultValue)===Object(l["a"])(a.defaultValue)&&(a.defaultValue=this.activeData.__config__.defaultValue),Object.keys(e).forEach((function(a){void 0!==t.activeData[a]&&(e[a]=t.activeData[a])})),this.activeData=e,this.updateDrawingList(e,this.drawingList)},updateDrawingList:function(e,t){var a=this,i=t.findIndex((function(e){return e.__config__.formId===a.activeId}));i>-1?t.splice(i,1,e):t.forEach((function(t){Array.isArray(t.__config__.children)&&a.updateDrawingList(e,t.__config__.children)}))},refreshJson:function(e){this.drawingList=Object(k["b"])(e.fields),delete e.fields,this.formConf=e},setJSON:function(e){var t=Object(k["b"])(e);this.drawingList=t.fields,this.drawingList&&this.drawingList.length&&this.activeFormItem(this.drawingList[0]),delete t.fields,this.formConf=t},getJSON:function(){return this.AssembleFormData(),this.formData}}},P=B,N=(a("f5bb"),a("2877")),U=Object(N["a"])(P,s,r,!1,null,"67f94896",null);t["default"]=U.exports},"896f":function(e,t,a){},8974:function(e,t,a){"use strict";a("8200")},"899b":function(e,t,a){},"89a6":function(e,t,a){"use strict";a("21f5")},"8a96":function(e,t,a){},"8ae9":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-query"},[e._t("show"),a("div",{directives:[{name:"show",rawName:"v-show",value:e.show.collapse,expression:"show.collapse"}]},[e._t("hide")],2),a("div",[a("el-form-item",{staticClass:"inline-block"},[a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.$emit("search")}}},[e._v(" "+e._s(e.$t("common_query"))+" ")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],attrs:{plain:"",icon:"el-icon-refresh-left"},on:{click:function(t){return e.$emit("reset")}}},[e._v(e._s(e.$t("common_reset"))+" ")])],1),a("span",{directives:[{name:"show",rawName:"v-show",value:e.showArrow,expression:"showArrow"}],staticClass:"cursor-pointer inline-block text-blue-500 pl-2",on:{click:e.arrowClick}},[e.show.collapse?a("span",[a("span",[e._v(e._s(e.$t("common_fold")))]),a("i",{staticClass:"el-icon-arrow-up pl-1"})]):a("span",[a("span",[e._v(e._s(e.$t("common_expand")))]),a("i",{staticClass:"el-icon-arrow-down pl-1"})])])],1)],2)},n=[],o=a("5530"),s={name:"Query",data:function(){return{show:{collapse:!1}}},props:{showArrow:{type:Boolean,default:!0}},methods:{arrowClick:function(){var e=this.show.collapse;this.show=Object(o["a"])(Object(o["a"])({},this.show),{},{collapse:!e})}}},r=s,l=(a("6b49"),a("2877")),c=Object(l["a"])(r,i,n,!1,null,"c7e0e412",null);t["default"]=c.exports},"8b2e":function(e,t,a){"use strict";var i=a("2fcf");t["a"]=i["default"]},"8b76":function(e,t,a){"use strict";a("9ef4")},"8c05":function(e,t,a){"use strict";a("3014")},"8cc4":function(e,t,a){"use strict";var i=a("d61b");t["a"]=i["default"]},"8cdb":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[e._m(0),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[e._v("OOPS!")]),e._m(1),a("div",{staticClass:"bullshit__headline"},[e._v(e._s(e.message))]),a("div",{staticClass:"bullshit__info"},[e._v("Please check that the URL you entered is correct, or click the button below to return to the homepage.")]),a("a",{staticClass:"bullshit__return-home",attrs:{href:""}},[e._v("Back to home")])])])])},n=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pic-404"},[i("img",{staticClass:"pic-404__parent",attrs:{src:a("a36b"),alt:"404"}}),i("img",{staticClass:"pic-404__child left",attrs:{src:a("26fc"),alt:"404"}}),i("img",{staticClass:"pic-404__child mid",attrs:{src:a("26fc"),alt:"404"}}),i("img",{staticClass:"pic-404__child right",attrs:{src:a("26fc"),alt:"404"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bullshit__info"},[e._v("All rights reserved "),a("a",{staticStyle:{color:"#20a0ff"},attrs:{href:"https://wallstreetcn.com",target:"_blank"}},[e._v("wallstreetcn")])])}],o={name:"Page404",computed:{message:function(){return"The webmaster said that you can not enter this page..."}}},s=o,r=(a("e4ac"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"6362ae59",null);t["default"]=l.exports},"8d77":function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return k}));a("99af"),a("d81d"),a("a15b"),a("b0c0"),a("159b");var i,n,o=a("8446");function s(e){return'<el-dialog v-bind="$attrs" v-on="$listeners" @open="onOpen" @close="onClose" title="Dialog Titile">\n    '.concat(e,'\n    <div slot="footer">\n      <el-button @click="close">取消</el-button>\n      <el-button type="primary" @click="handelConfirm">确定</el-button>\n    </div>\n  </el-dialog>')}function r(e){return"<template>\n    <div>\n      ".concat(e,"\n    </div>\n  </template>")}function l(e){return"<script>\n    ".concat(e,"\n  <\/script>")}function c(e){return"<style>\n    ".concat(e,"\n  </style>")}function d(e,t,a){var i="";"right"!==e.labelPosition&&(i='label-position="'.concat(e.labelPosition,'"'));var o=e.disabled?':disabled="'.concat(e.disabled,'"'):"",s='<el-form ref="'.concat(e.formRef,'" :model="').concat(e.formModel,'" :rules="').concat(e.formRules,'" size="').concat(e.size,'" ').concat(o,' label-width="').concat(e.labelWidth,'px" ').concat(i,">\n      ").concat(t,"\n      ").concat(u(e,a),"\n    </el-form>");return n&&(s='<el-row :gutter="'.concat(e.gutter,'">\n        ').concat(s,"\n      </el-row>")),s}function u(e,t){var a="";return e.formBtns&&"file"===t&&(a='<el-form-item size="large">\n          <el-button type="primary" @click="submitForm">提交</el-button>\n          <el-button @click="resetForm">重置</el-button>\n        </el-form-item>',n&&(a='<el-col :span="24">\n          '.concat(a,"\n        </el-col>"))),a}function p(e,t){return n||24!==e.__config__.span?'<el-col :span="'.concat(e.__config__.span,'">\n      ').concat(t,"\n    </el-col>"):t}var m={colFormItem:function(e){var t=e.__config__,a="",n='label="'.concat(t.label,'"');t.labelWidth&&t.labelWidth!==i.labelWidth&&(a='label-width="'.concat(t.labelWidth,'px"')),!1===t.showLabel&&(a='label-width="0"',n="");var s=!o["a"][t.tag]&&t.required?"required":"",r=h[t.tag]?h[t.tag](e):null,l="<el-form-item ".concat(a," ").concat(n,' prop="').concat(e.__vModel__,'" ').concat(s,">\n        ").concat(r,"\n      </el-form-item>");return l=p(e,l),l},rowFormItem:function(e){var t=e.__config__,a="default"===e.type?"":'type="'.concat(e.type,'"'),i="default"===e.type?"":'justify="'.concat(e.justify,'"'),n="default"===e.type?"":'align="'.concat(e.align,'"'),o=e.gutter?':gutter="'.concat(e.gutter,'"'):"",s=t.children.map((function(e){return m[e.__config__.layout](e)})),r="<el-row ".concat(a," ").concat(i," ").concat(n," ").concat(o,">\n      ").concat(s.join("\n"),"\n    </el-row>");return r=p(e,r),r}},h={"el-button":function(e){var t=f(e),a=t.tag,i=t.disabled,n=e.type?'type="'.concat(e.type,'"'):"",o=e.icon?'icon="'.concat(e.icon,'"'):"",s=e.round?"round":"",r=e.size?'size="'.concat(e.size,'"'):"",l=e.plain?"plain":"",c=e.circle?"circle":"",d=v(e);return d&&(d="\n".concat(d,"\n")),"<".concat(a," ").concat(n," ").concat(o," ").concat(s," ").concat(r," ").concat(l," ").concat(i," ").concat(c,">").concat(d,"</").concat(a,">")},"el-input":function(e){var t=f(e),a=t.tag,i=t.disabled,n=t.vModel,o=t.clearable,s=t.placeholder,r=t.width,l=e.maxlength?':maxlength="'.concat(e.maxlength,'"'):"",c=e["show-word-limit"]?"show-word-limit":"",d=e.readonly?"readonly":"",u=e["prefix-icon"]?"prefix-icon='".concat(e["prefix-icon"],"'"):"",p=e["suffix-icon"]?"suffix-icon='".concat(e["suffix-icon"],"'"):"",m=e["show-password"]?"show-password":"",h=e.type?'type="'.concat(e.type,'"'):"",v=e.autosize&&e.autosize.minRows?':autosize="{minRows: '.concat(e.autosize.minRows,", maxRows: ").concat(e.autosize.maxRows,'}"'):"",g=b(e);return g&&(g="\n".concat(g,"\n")),"<".concat(a," ").concat(n," ").concat(h," ").concat(s," ").concat(l," ").concat(c," ").concat(d," ").concat(i," ").concat(o," ").concat(u," ").concat(p," ").concat(m," ").concat(v," ").concat(r,">").concat(g,"</").concat(a,">")},"el-input-number":function(e){var t=f(e),a=t.tag,i=t.disabled,n=t.vModel,o=t.placeholder,s=e["controls-position"]?"controls-position=".concat(e["controls-position"]):"",r=e.min?":min='".concat(e.min,"'"):"",l=e.max?":max='".concat(e.max,"'"):"",c=e.step?":step='".concat(e.step,"'"):"",d=e["step-strictly"]?"step-strictly":"",u=e.precision?":precision='".concat(e.precision,"'"):"";return"<".concat(a," ").concat(n," ").concat(o," ").concat(c," ").concat(d," ").concat(u," ").concat(s," ").concat(r," ").concat(l," ").concat(i,"></").concat(a,">")},"el-select":function(e){var t=f(e),a=t.tag,i=t.disabled,n=t.vModel,o=t.clearable,s=t.placeholder,r=t.width,l=e.filterable?"filterable":"",c=e.multiple?"multiple":"",d=g(e);return d&&(d="\n".concat(d,"\n")),"<".concat(a," ").concat(n," ").concat(s," ").concat(i," ").concat(c," ").concat(l," ").concat(o," ").concat(r,">").concat(d,"</").concat(a,">")},"el-radio-group":function(e){var t=f(e),a=t.tag,i=t.disabled,n=t.vModel,o='size="'.concat(e.size,'"'),s=y(e);return s&&(s="\n".concat(s,"\n")),"<".concat(a," ").concat(n," ").concat(o," ").concat(i,">").concat(s,"</").concat(a,">")},"el-checkbox-group":function(e){var t=f(e),a=t.tag,i=t.disabled,n=t.vModel,o='size="'.concat(e.size,'"'),s=e.min?':min="'.concat(e.min,'"'):"",r=e.max?':max="'.concat(e.max,'"'):"",l=_(e);return l&&(l="\n".concat(l,"\n")),"<".concat(a," ").concat(n," ").concat(s," ").concat(r," ").concat(o," ").concat(i,">").concat(l,"</").concat(a,">")},"el-switch":function(e){var t=f(e),a=t.tag,i=t.disabled,n=t.vModel,o=e["active-text"]?'active-text="'.concat(e["active-text"],'"'):"",s=e["inactive-text"]?'inactive-text="'.concat(e["inactive-text"],'"'):"",r=e["active-color"]?'active-color="'.concat(e["active-color"],'"'):"",l=e["inactive-color"]?'inactive-color="'.concat(e["inactive-color"],'"'):"",c=!0!==e["active-value"]?":active-value='".concat(JSON.stringify(e["active-value"]),"'"):"",d=!1!==e["inactive-value"]?":inactive-value='".concat(JSON.stringify(e["inactive-value"]),"'"):"";return"<".concat(a," ").concat(n," ").concat(o," ").concat(s," ").concat(r," ").concat(l," ").concat(c," ").concat(d," ").concat(i,"></").concat(a,">")},"el-cascader":function(e){var t=f(e),a=t.tag,i=t.disabled,n=t.vModel,o=t.clearable,s=t.placeholder,r=t.width,l=e.options?':options="'.concat(e.__vModel__,'Options"'):"",c=e.props?':props="'.concat(e.__vModel__,'Props"'):"",d=e["show-all-levels"]?"":':show-all-levels="false"',u=e.filterable?"filterable":"",p="/"===e.separator?"":'separator="'.concat(e.separator,'"');return"<".concat(a," ").concat(n," ").concat(l," ").concat(c," ").concat(r," ").concat(d," ").concat(s," ").concat(p," ").concat(u," ").concat(o," ").concat(i,"></").concat(a,">")},"el-slider":function(e){var t=f(e),a=t.tag,i=t.disabled,n=t.vModel,o=e.min?":min='".concat(e.min,"'"):"",s=e.max?":max='".concat(e.max,"'"):"",r=e.step?":step='".concat(e.step,"'"):"",l=e.range?"range":"",c=e["show-stops"]?':show-stops="'.concat(e["show-stops"],'"'):"";return"<".concat(a," ").concat(o," ").concat(s," ").concat(r," ").concat(n," ").concat(l," ").concat(c," ").concat(i,"></").concat(a,">")},"el-time-picker":function(e){var t=f(e),a=t.tag,i=t.disabled,n=t.vModel,o=t.clearable,s=t.placeholder,r=t.width,l=e["start-placeholder"]?'start-placeholder="'.concat(e["start-placeholder"],'"'):"",c=e["end-placeholder"]?'end-placeholder="'.concat(e["end-placeholder"],'"'):"",d=e["range-separator"]?'range-separator="'.concat(e["range-separator"],'"'):"",u=e["is-range"]?"is-range":"",p=e.format?'format="'.concat(e.format,'"'):"",m=e["value-format"]?'value-format="'.concat(e["value-format"],'"'):"",h=e["picker-options"]?":picker-options='".concat(JSON.stringify(e["picker-options"]),"'"):"";return"<".concat(a," ").concat(n," ").concat(u," ").concat(p," ").concat(m," ").concat(h," ").concat(r," ").concat(s," ").concat(l," ").concat(c," ").concat(d," ").concat(o," ").concat(i,"></").concat(a,">")},"el-date-picker":function(e){var t=f(e),a=t.tag,i=t.disabled,n=t.vModel,o=t.clearable,s=t.placeholder,r=t.width,l=e["start-placeholder"]?'start-placeholder="'.concat(e["start-placeholder"],'"'):"",c=e["end-placeholder"]?'end-placeholder="'.concat(e["end-placeholder"],'"'):"",d=e["range-separator"]?'range-separator="'.concat(e["range-separator"],'"'):"",u=e.format?'format="'.concat(e.format,'"'):"",p=e["value-format"]?'value-format="'.concat(e["value-format"],'"'):"",m="date"===e.type?"":'type="'.concat(e.type,'"'),h=e.readonly?"readonly":"";return"<".concat(a," ").concat(m," ").concat(n," ").concat(u," ").concat(p," ").concat(r," ").concat(s," ").concat(l," ").concat(c," ").concat(d," ").concat(o," ").concat(h," ").concat(i,"></").concat(a,">")},"el-rate":function(e){var t=f(e),a=t.tag,i=t.disabled,n=t.vModel,o=e.max?":max='".concat(e.max,"'"):"",s=e["allow-half"]?"allow-half":"",r=e["show-text"]?"show-text":"",l=e["show-score"]?"show-score":"";return"<".concat(a," ").concat(n," ").concat(o," ").concat(s," ").concat(r," ").concat(l," ").concat(i,"></").concat(a,">")},"el-color-picker":function(e){var t=f(e),a=t.tag,i=t.disabled,n=t.vModel,o='size="'.concat(e.size,'"'),s=e["show-alpha"]?"show-alpha":"",r=e["color-format"]?'color-format="'.concat(e["color-format"],'"'):"";return"<".concat(a," ").concat(n," ").concat(o," ").concat(s," ").concat(r," ").concat(i,"></").concat(a,">")},"el-upload":function(e){var t=e.__config__.tag,a=e.disabled?":disabled='true'":"",i=e.action?':action="'.concat(e.__vModel__,'Action"'):"",n=e.multiple?"multiple":"",o="text"!==e["list-type"]?'list-type="'.concat(e["list-type"],'"'):"",s=e.accept?'accept="'.concat(e.accept,'"'):"",r="file"!==e.name?'name="'.concat(e.name,'"'):"",l=!1===e["auto-upload"]?':auto-upload="false"':"",c=':before-upload="'.concat(e.__vModel__,'BeforeUpload"'),d=':file-list="'.concat(e.__vModel__,'fileList"'),u='ref="'.concat(e.__vModel__,'"'),p=w(e);return p&&(p="\n".concat(p,"\n")),"<".concat(t," ").concat(u," ").concat(d," ").concat(i," ").concat(l," ").concat(n," ").concat(c," ").concat(o," ").concat(s," ").concat(r," ").concat(a,">").concat(p,"</").concat(t,">")},tinymce:function(e){var t=f(e),a=t.tag,i=t.vModel,n=t.placeholder,o=e.height?':height="'.concat(e.height,'"'):"",s=e.branding?':branding="'.concat(e.branding,'"'):"";return"<".concat(a," ").concat(i," ").concat(n," ").concat(o," ").concat(s,"></").concat(a,">")}};function f(e){return{tag:e.__config__.tag,vModel:'v-model="'.concat(i.formModel,".").concat(e.__vModel__,'"'),clearable:e.clearable?"clearable":"",placeholder:e.placeholder?'placeholder="'.concat(e.placeholder,'"'):"",width:e.style&&e.style.width?":style=\"{width: '100%'}\"":"",disabled:e.disabled?":disabled='true'":""}}function v(e){var t=[],a=e.__slot__||{};return a.default&&t.push(a.default),t.join("\n")}function b(e){var t=[],a=e.__slot__;return a&&a.prepend&&t.push('<template slot="prepend">'.concat(a.prepend,"</template>")),a&&a.append&&t.push('<template slot="append">'.concat(a.append,"</template>")),t.join("\n")}function g(e){var t=[],a=e.__slot__;return a&&a.options&&a.options.length&&t.push('<el-option v-for="(item, index) in '.concat(e.__vModel__,'Options" :key="index" :label="item.label" :value="item.value" :disabled="item.disabled"></el-option>')),t.join("\n")}function y(e){var t=[],a=e.__slot__,i=e.__config__;if(a&&a.options&&a.options.length){var n="button"===i.optionType?"el-radio-button":"el-radio",o=i.border?"border":"";t.push("<".concat(n,' v-for="(item, index) in ').concat(e.__vModel__,'Options" :key="index" :label="item.value" :disabled="item.disabled" ').concat(o,">{{item.label}}</").concat(n,">"))}return t.join("\n")}function _(e){var t=[],a=e.__slot__,i=e.__config__;if(a&&a.options&&a.options.length){var n="button"===i.optionType?"el-checkbox-button":"el-checkbox",o=i.border?"border":"";t.push("<".concat(n,' v-for="(item, index) in ').concat(e.__vModel__,'Options" :key="index" :label="item.value" :disabled="item.disabled" ').concat(o,">{{item.label}}</").concat(n,">"))}return t.join("\n")}function w(e){var t=[],a=e.__config__;return"picture-card"===e["list-type"]?t.push('<i class="el-icon-plus"></i>'):t.push('<el-button size="small" type="primary" icon="el-icon-upload">'.concat(a.buttonText,"</el-button>")),a.showTip&&t.push('<div slot="tip" class="el-upload__tip">只能上传不超过 '.concat(a.fileSize).concat(a.sizeUnit," 的").concat(e.accept,"文件</div>")),t.join("\n")}function k(e,t){var a=[];i=e,n=e.fields.some((function(e){return 24!==e.__config__.span})),e.fields.forEach((function(e){a.push(m[e.__config__.layout](e))}));var o=a.join("\n"),r=d(e,o,t);return"dialog"===t&&(r=s(r)),i=null,r}},"8dac":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"max-height flex-column"},[a("div",{staticClass:"operate-box nowrap flex justify-between"},[1==e.status?a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-top"},on:{click:e.opiOper}},[e._v(" 送审 ")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-printer"},on:{click:e.printReport}},[e._v(" 打印报表 ")])],1):e._e(),2==e.status?a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:e.handleReceive}},[e._v(" 接收 ")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh-left"},on:{click:e.opiOper}},[e._v(" 撤回 ")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-printer"},on:{click:e.printReport}},[e._v(" 打印报表 ")])],1):e._e(),3==e.status?a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-printer"},on:{click:e.printReport}},[e._v(" 打印报表 ")])],1):e._e(),4==e.status?a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh-right"},on:{click:e.opiOper}},[e._v(" 重新送审 ")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-printer"},on:{click:e.printReport}},[e._v(" 打印报表 ")])],1):e._e(),a("div",{staticClass:"flex"},[a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"input-with-select",attrs:{placeholder:"输入送审人名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryList(1)}},model:{value:e.transferUsername,callback:function(t){e.transferUsername=t},expression:"transferUsername"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.queryList(1)}}},[e._v(" 搜索 ")])],1)]),a("div",{staticClass:"table-box max-height"},[a("fox-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),e.showOpinion?a("opinion-module",{ref:"opiModule",on:{ok:e.queryList,close:function(t){e.showOpinion=!1}}}):e._e(),e.showModal.show?a("show-modal",{ref:"showModal",attrs:{title:e.showModal.title},on:{close:function(t){e.showModal.show=!1}}}):e._e(),e.reviewFormShow?a("review-form-module",{ref:"reviewFormModule",on:{ok:e.queryList,close:function(t){e.reviewFormShow=!1}}}):e._e()],1)},n=[],o=a("5530"),s=a("1da1"),r=(a("96cf"),a("f7c4")),l=a("c1c1"),c=a("3f19"),d=a("2e5f"),u=a("ca00"),p=a("125a"),m=a("ee96"),h=a("faca"),f=a("bc3a"),v=a.n(f),b=a("4328"),g=a.n(b),y=a("2b0e"),_=a("9fb0"),w={name:"ReviewList",components:{Vue:y["default"],foxTable:r["a"],BtnList:d["default"],ShowModal:l["default"],OpinionModule:p["default"],ReviewFormModule:m["default"]},mixins:[c["a"],h["a"],_["a"]],props:{status:""},data:function(){var e=this;this.$createElement;return{column:[{type:"selection",fixed:!0},{label:"操作",prop:"oper",width:280,fixed:"right",render:function(t,a){var i,n=a.row;return i=2!=e.status?[{content:"查看",type:"text",icon:"view",event:function(){e.view(n)}}]:[{content:"查看",type:"text",icon:"view",event:function(){e.view(n)}},{content:"查重",type:"text",icon:"",event:function(){e.duplicate(n)}}],t(d["default"],{attrs:{btnInfo:i}},[" "])}},{label:"单号",prop:"seq"},{label:"送审人代码",prop:"transferUsercode"},{label:"送审人名称",prop:"transferUsername"},{label:"送审时间",prop:"transferDate"},{label:"送审部门名称",prop:"transferDeptName"},{label:"状态",prop:"status_dictText"}],url:{pageList:"/transferForm/pageList",receive:"/transferForm/receive",check:"/api/detection/review"},templateId:"",cateCode:"",transferUsername:"",showOpinion:!1,reviewFormShow:!1}},computed:{statisticsParams:function(){return{templateId:this.templateId,cate_code:this.cateCode,archStatus:"0",transfered:"1,2,3,5"}}},methods:{queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={type:"all",status:t.status,page:t.page.pageNum,limit:t.page.pageSize,transferUsername:t.transferUsername},t.table=Object(o["a"])(Object(o["a"])({},t.table),{},{loading:!0}),a.next=5,t.$api.getAction(t.url.pageList,i);case 5:n=a.sent,s=n.count,r=n.data,t.page=Object(o["a"])(Object(o["a"])({},t.page),{},{total:1*s}),t.table=Object(o["a"])(Object(o["a"])({},t.table),{},{show:!1,column:t.column}),t.$nextTick((function(){t.table=Object(o["a"])(Object(o["a"])({},t.table),{},{show:!0})})),t.$nextTick((function(){t.table=Object(o["a"])(Object(o["a"])({},t.table),{},{data:r})})),t.table=Object(o["a"])(Object(o["a"])({},t.table),{},{loading:!1});case 13:case"end":return a.stop()}}),a)})))()},view:function(e){var t=this;this.reviewFormShow=!0,this.$nextTick((function(){t.$refs["reviewFormModule"].initForm(t.status,e)}))},printReport:function(){if(!this.table.selection.length>0)this.$sweetAlert.warnWithTimer("请您先勾选数据，再进行操作！");else Object(u["e"])(this.table.selection)},detectionCheck:function(e){var t={deptCode:e.transferDeptCode,transferId:e.id};this.$notify({title:"提示",message:"检测结果会通过消息通知您。。。。",duration:5e3}),v()({url:this.url.check,method:"post",data:g.a.stringify(t),headers:{"Content-Type":"application/x-www-form-urlencoded","X-Access-Token":y["default"].ls.get(_["a"])}}).then((function(e){})).catch({})},duplicate:function(e){var t=this;this.templateId=e.templateId,this.$api.httpAction("/transferDetail/getDetail",{id:e.id},"post").then((function(a){if("undefined"!=typeof a.data){var i={id:a.data.itemId,templateId:e.templateId,type:a.data.othType};t.$api.httpAction("/dynamic/getSingle",i,"post").then((function(e){t.cateCode=e.data.CATE_CODE,t.selectDhScreen("repeat","vol")}))}else t.$sweetAlert.warnWithTimer("没有重复数据")}))},opiOper:function(){var e=this;if(!this.table.selection.length>0)this.$sweetAlert.warnWithTimer("请您先勾选数据，再进行操作！");else{var t=Object(u["e"])(this.table.selection);this.showOpinion=!0,this.$nextTick((function(){e.$refs["opiModule"].initForm(e.status,t)}))}},handleReceive:function(){var e=this;!this.table.selection.length>0?this.$sweetAlert.warnWithTimer("请您先勾选数据，再进行操作！"):this.$confirm("确定接收?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={ids:Object(u["e"])(e.table.selection),status:3};e.$api.httpAction(e.url.receive,t,"post").then((function(t){"200"==t.code?(e.queryList(),e.$sweetAlert.successWithTimer(t.msg)):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))}},created:function(){this.queryList(1)}},k=w,x=a("2877"),C=Object(x["a"])(k,i,n,!1,null,"679f4a40",null);t["default"]=C.exports},"8df0":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var i=a("5530"),n=a("1da1"),o=(a("a15b"),a("d81d"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("96cf"),a("cf45")),s={data:function(){return{deleteColor:o["d"],selfLoadTableFlag:!1,showPaginationFlag:!1}},created:function(){this.selfLoadTableFlag&&(this.setTableColumn(),this.queryList(1))},methods:{queryList:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var n,o,s,r,l,c,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),t.table=Object(i["a"])(Object(i["a"])({},t.table),{},{loading:!0}),n=t.url.list,o={},t.searchParams&&(o=Object.assign({},t.searchParams)),t.showPaginationFlag&&(o=Object(i["a"])(Object(i["a"])({},o),{},{page:t.page.pageNum,limit:t.page.pageSize})),s="post",a.next=9,t.$api.httpAction(n,o,s);case 9:r=a.sent,l=r.count,c=r.data,l||(l=c.count),d=c,c&&c.list?d=c.list:c&&c.data?d=c.data:c&&c.results&&(d=c.results),l&&(t.page=Object(i["a"])(Object(i["a"])({},t.page),{},{total:1*l})),t.$nextTick((function(){t.table=Object(i["a"])(Object(i["a"])({},t.table),{},{data:d})})),t.table=Object(i["a"])(Object(i["a"])({},t.table),{},{loading:!1});case 18:case"end":return a.stop()}}),a)})))()},btnClick:function(e){var t=this.table.selection.length,a="";if(0==t&&e.alert&&(a=e.alert),a)this.$sweetAlert.warnWithTimer(a);else{var i=this.table.selection.map((function(e){return e.ID})).join(",");this.operate(i,e.value)}},operateBeforeConfirm:function(e,t,a,i){this.$confirm(a,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i(e,t)})).catch((function(){}))},interfaceRequest:function(e,t,a,i){var n=this;this.$api.httpAction(e,t,a).then((function(e){200==e.code?(n.$sweetAlert.successWithTimer(e.msg),i()):n.$sweetAlert.errorWithTimer(e.msg)}))},downloadByFileStream:function(e,t,a,i){var n=this,s=a||Object(o["h"])(new Date,"{y}-{m}-{d}"),r=i||"zip";r="."+r,this.$api.downFile(e,t).then((function(e){if(e)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([e]),s+r);else{var t=window.URL.createObjectURL(new Blob([e])),a=document.createElement("a");a.style.display="none",a.href=t,a.setAttribute("download",s+r),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(t)}else n.$sweetAlert.errorWithTimer("文件下载失败！")}))},interfaceOperate:function(e,t,a){var i=this,n=this.url[e],o="post";if(e&&"download"!=e)this.interfaceRequest(n,t,o,(function(){a||i.queryList(1)}));else if("download"==e){var s="",r="zip";this.downloadByFileStream(n,t,s,r)}}}}},"8e02":function(e,t,a){"use strict";a.r(t);var i,n,o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-drawer",e._g(e._b({on:{opened:e.onOpen,close:e.onClose}},"el-drawer",e.$attrs,!1),e.$listeners),[a("div",{staticStyle:{height:"100%"}},[a("el-row",{staticStyle:{height:"100%",overflow:"auto"}},[a("el-col",{staticClass:"left-editor",attrs:{md:24,lg:12}},[a("div",{staticClass:"setting",attrs:{title:"资源引用"},on:{click:e.showResource}},[a("el-badge",{staticClass:"item",attrs:{"is-dot":!!e.resources.length}},[a("i",{staticClass:"el-icon-setting"})])],1),a("el-tabs",{staticClass:"editor-tabs",attrs:{type:"card"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{name:"html"}},[a("span",{attrs:{slot:"label"},slot:"label"},["html"===e.activeTab?a("i",{staticClass:"el-icon-edit"}):a("i",{staticClass:"el-icon-document"}),e._v(" template ")])]),a("el-tab-pane",{attrs:{name:"js"}},[a("span",{attrs:{slot:"label"},slot:"label"},["js"===e.activeTab?a("i",{staticClass:"el-icon-edit"}):a("i",{staticClass:"el-icon-document"}),e._v(" script ")])]),a("el-tab-pane",{attrs:{name:"css"}},[a("span",{attrs:{slot:"label"},slot:"label"},["css"===e.activeTab?a("i",{staticClass:"el-icon-edit"}):a("i",{staticClass:"el-icon-document"}),e._v(" css ")])])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"html"===e.activeTab,expression:"activeTab==='html'"}],staticClass:"tab-editor",attrs:{id:"editorHtml"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:"js"===e.activeTab,expression:"activeTab==='js'"}],staticClass:"tab-editor",attrs:{id:"editorJs"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:"css"===e.activeTab,expression:"activeTab==='css'"}],staticClass:"tab-editor",attrs:{id:"editorCss"}})],1),a("el-col",{staticClass:"right-preview",attrs:{md:24,lg:12}},[a("div",{staticClass:"action-bar",style:{"text-align":"left"}},[a("span",{staticClass:"bar-btn",on:{click:e.runCode}},[a("i",{staticClass:"el-icon-refresh"}),e._v(" 刷新 ")]),a("span",{staticClass:"bar-btn",on:{click:e.exportFile}},[a("i",{staticClass:"el-icon-download"}),e._v(" 导出vue文件 ")]),a("span",{ref:"copyBtn",staticClass:"bar-btn copy-btn"},[a("i",{staticClass:"el-icon-document-copy"}),e._v(" 复制代码 ")]),a("span",{staticClass:"bar-btn delete-btn",on:{click:function(t){return e.$emit("update:visible",!1)}}},[a("i",{staticClass:"el-icon-circle-close"}),e._v(" 关闭 ")])]),a("iframe",{directives:[{name:"show",rawName:"v-show",value:e.isIframeLoaded,expression:"isIframeLoaded"}],ref:"previewPage",staticClass:"result-wrapper",attrs:{frameborder:"0",src:"preview.html"},on:{load:e.iframeLoad}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isIframeLoaded,expression:"!isIframeLoaded"},{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"result-wrapper"})])],1)],1)]),a("resource-dialog",{attrs:{visible:e.resourceVisible,"origin-resource":e.resources},on:{"update:visible":function(t){e.resourceVisible=t},save:e.setResource}})],1)},s=[],r=(a("99af"),a("ac1f"),a("5319"),a("159b"),a("8a79"),a("1861")),l=a("b311"),c=a.n(l),d=a("21a6"),u=a("8d77"),p=a("cd5b"),m=a("43fa"),h=a("9255"),f=a("7298"),v=a("1c88"),b=a("72b7"),g={html:null,js:null,css:null},y={html:"html",js:"javascript",css:"css"},_={components:{ResourceDialog:f["default"]},props:["formData","generateConf"],data:function(){return{activeTab:"html",htmlCode:"",jsCode:"",cssCode:"",codeFrame:"",isIframeLoaded:!1,isInitcode:!1,isRefreshCode:!1,resourceVisible:!1,scripts:[],links:[],monaco:null}},computed:{resources:function(){return this.scripts.concat(this.links)}},watch:{},created:function(){},mounted:function(){var e=this;window.addEventListener("keydown",this.preventDefaultSave);var t=new c.a(".copy-btn",{text:function(t){var a=e.generateCode();return e.$notify({title:"成功",message:"代码已复制到剪切板，可粘贴。",type:"success"}),a}});t.on("error",(function(t){e.$message.error("代码复制失败")}))},beforeDestroy:function(){window.removeEventListener("keydown",this.preventDefaultSave)},methods:{preventDefaultSave:function(e){"s"===e.key&&(e.metaKey||e.ctrlKey)&&e.preventDefault()},onOpen:function(){var e=this,t=this.generateConf.type;this.htmlCode=Object(u["b"])(this.formData,t),this.jsCode=Object(p["a"])(this.formData,t),this.cssCode=Object(m["a"])(this.formData),Object(b["a"])((function(t){i=t,e.htmlCode=i.html(e.htmlCode,h["a"].html),e.jsCode=i.js(e.jsCode,h["a"].js),e.cssCode=i.css(e.cssCode,h["a"].html),Object(v["a"])((function(t){n=t,e.setEditorValue("editorHtml","html",e.htmlCode),e.setEditorValue("editorJs","js",e.jsCode),e.setEditorValue("editorCss","css",e.cssCode),e.isInitcode||(e.isRefreshCode=!0,e.isIframeLoaded&&(e.isInitcode=!0)&&e.runCode())}))}))},onClose:function(){this.isInitcode=!1,this.isRefreshCode=!1},iframeLoad:function(){this.isInitcode||(this.isIframeLoaded=!0,this.isRefreshCode&&(this.isInitcode=!0)&&this.runCode())},setEditorValue:function(e,t,a){var i=this;g[t]?g[t].setValue(a):g[t]=n.editor.create(document.getElementById(e),{value:a,theme:"vs-dark",language:y[t],automaticLayout:!0}),g[t].onKeyDown((function(e){49===e.keyCode&&(e.metaKey||e.ctrlKey)&&i.runCode()}))},runCode:function(){var e=g.js.getValue();try{var t=Object(r["parse"])(e,{sourceType:"module"}),a=t.program.body;if(a.length>1)return void this.$confirm("js格式不能识别，仅支持修改export default的对象内容","提示",{type:"warning"});if("ExportDefaultDeclaration"===a[0].type){var i={type:"refreshFrame",data:{generateConf:this.generateConf,html:g.html.getValue(),js:e.replace(h["c"],""),css:g.css.getValue(),scripts:this.scripts,links:this.links}};this.$refs.previewPage.contentWindow.postMessage(i,location.origin)}else this.$message.error("请使用export default")}catch(n){this.$message.error("js错误：".concat(n))}},generateCode:function(){var e=Object(u["d"])(g.html.getValue()),t=Object(u["c"])(g.js.getValue()),a=Object(u["a"])(g.css.getValue());return i.html(e+t+a,h["a"].html)},exportFile:function(){var e=this;this.$prompt("文件名:","导出文件",{inputValue:"".concat(+new Date,".vue"),closeOnClickModal:!1,inputPlaceholder:"请输入文件名"}).then((function(t){var a=t.value;a||(a="".concat(+new Date,".vue"));var i=e.generateCode(),n=new Blob([i],{type:"text/plain;charset=utf-8"});Object(d["saveAs"])(n,a)}))},showResource:function(){this.resourceVisible=!0},setResource:function(e){var t=[],a=[];Array.isArray(e)?(e.forEach((function(e){e.endsWith(".css")?a.push(e):t.push(e)})),this.scripts=t,this.links=a):(this.scripts=[],this.links=[])}}},w=_,k=(a("76e2"),a("2877")),x=Object(k["a"])(w,o,s,!1,null,"ca5e2674",null);t["default"]=x.exports},9027:function(e,t,a){},"902b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.pageCode,expression:"pageCode"}],staticStyle:{"background-color":"#FFF",padding:"6px",height:"100%"}},[e.showListFlag?a("el-row",{staticStyle:{"margin-top":"4px",height:"96%"}},[a("el-col",{staticStyle:{height:"100%"},attrs:{span:24}},[a("div",{staticStyle:{height:"50%"}},[a("div",[a("div",{staticStyle:{display:"inline-block"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:function(t){return e.addClick(1)}}},[e._v("添加")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.ArchivesCompilationModelClick}},[e._v("编研制作")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(t){return e.editClick(1)}}},[e._v("批量修改")])],1),a("div",{staticStyle:{float:"right"}},[a("el-row",{attrs:{gutter:3}},[a("el-col",{attrs:{span:6,offset:3}},[a("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:e.selectType,callback:function(t){e.selectType=t},expression:"selectType"}},e._l(e.selectData,(function(e){return a("el-option",{key:e.id,attrs:{label:e.fldDesc,value:e.fldName}})})),1)],1),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{size:"mini"},model:{value:e.selectInputData,callback:function(t){e.selectInputData=t},expression:"selectInputData"}})],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(t){return e.selectClick(1)}}},[e._v("搜索")])],1)],1)],1)]),e.tableCode?a("div",{staticClass:"max-height flex-column",staticStyle:{"margin-top":"8px",height:"84%"}},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.ColumnData,data:e.tableData,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":function(t){return e.sizeChange(t,1)},"p-current-change":function(t){return e.currentChange(t,1)},"selection-change":function(t){return e.handelSelection(t,1)},"cell-click":e.cellClick}})],1):e._e()]),e.archivesCode?a("div",{staticStyle:{height:"50%"}},[a("div",[a("div",{staticStyle:{display:"inline-block"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:function(t){return e.addClick(2)}}},[e._v("添加")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(t){return e.editClick(2)}}},[e._v("批量修改")])],1),a("div",{staticStyle:{float:"right"}},[a("el-row",{attrs:{gutter:3}},[a("el-col",{attrs:{span:6,offset:3}},[a("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:e.selectTypeCopy,callback:function(t){e.selectTypeCopy=t},expression:"selectTypeCopy"}},e._l(e.selectDataCopy,(function(e){return a("el-option",{key:e.id,attrs:{label:e.fldDesc,value:e.fldName}})})),1)],1),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{size:"mini"},model:{value:e.selectInputDataCopy,callback:function(t){e.selectInputDataCopy=t},expression:"selectInputDataCopy"}})],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(t){return e.selectClick(2)}}},[e._v("搜索")])],1)],1)],1)]),e.tableCodeCopy?a("div",{staticClass:"max-height flex-column",staticStyle:{"margin-top":"8px",height:"85%"}},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.ColumnDataCopy,data:e.tableDataCopy,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.pageCopy.pageNum,total:e.pageCopy.total,"page-size":e.pageCopy.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.pageCopy,"pageNum",t)},"update:current-page":function(t){return e.$set(e.pageCopy,"pageNum",t)},"size-change":function(t){return e.sizeChange(t,2)},"p-current-change":function(t){return e.currentChange(t,2)},"selection-change":function(t){return e.handelSelection(t,2)}}})],1):e._e()]):e._e()])],1):e._e(),e.showListFlag?e._e():a("div",{staticClass:"max-height"},[a("cate-panel",{attrs:{cateId:e.cateId,templateNoneFlag:e.templateNoneFlag},on:{click:e.catePanelClick}})],1),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"选择批量修改模式",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-radio-group",{model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[a("el-radio",{attrs:{label:1}},[e._v("按选择数据")]),1==e.othType?a("el-radio",{attrs:{label:2}},[e._v("按选择目录")]):e._e()],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.determineClick}},[e._v("确 定")])],1)],1),e.dialogVisibleEdit?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"批量修改",visible:e.dialogVisibleEdit,width:"55%"},on:{"update:visible":function(t){e.dialogVisibleEdit=t}}},[a("div",{staticStyle:{height:"380px",overflow:"auto"}},[a("div",[a("span",{staticStyle:{color:"red"}},[e._v('温馨提示：当前批量修改模式 "按当前')]),a("span",{staticStyle:{color:"red"}},[e._v(e._s(e.radioText))]),a("span",{staticStyle:{color:"red"}},[e._v("进行修改“")]),a("el-button",{staticStyle:{"background-color":"#1E90FF",color:"#FFF",float:"right"},attrs:{icon:"el-icon-plus"},on:{click:function(t){return e.add("batchModList")}}},[e._v("添加修改属性")])],1),a("div",{staticStyle:{"margin-top":"23px"}},[a("el-form",{ref:"batchModList",attrs:{model:e.batchModForm}},[a("el-form-item",e._l(e.batchModForm.batchModList,(function(t,i){return a("el-row",{key:i,staticStyle:{"margin-bottom":"20px"},attrs:{gutter:3}},[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{prop:"batchModList."+i+".oprField",rules:[{required:!0,message:"请选择修改字段！",trigger:"change"}]}},[a("el-select",{attrs:{placeholder:"请选择修改字段"},on:{change:function(t){return e.changeValType(t,i)}},model:{value:t.oprField,callback:function(a){e.$set(t,"oprField",a)},expression:"item.oprField"}},e._l(e.filedList,(function(e){return a("el-option",{key:e.model,attrs:{label:e.label,value:e.model}})})),1)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{prop:"batchModList."+i+".oprTypeCode",rules:[{required:!0,message:"请选择操作类型！",trigger:"change"}]}},[a("el-select",{attrs:{placeholder:"操作类型"},model:{value:t.oprTypeCode,callback:function(a){e.$set(t,"oprTypeCode",a)},expression:"item.oprTypeCode"}},e._l(e.operOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{prop:"batchModList."+i+".value",rules:[{required:!0,message:"请输入修改的值！",trigger:"blur"}]}},[t.showInput?a("el-input",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),t.showDict?a("dict-select-tag",{attrs:{"dict-code":e.dictCode,placeholder:"请选择"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),t.showDate?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择时间","value-format":e.format},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e()],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{prop:"batchModList."+i+".copyValue",rules:[{required:!0,message:"请输入修改的值！",trigger:"blur"}]}},["input"==t.oprType&&2==t.oprTypeCode?a("el-input",{model:{value:t.copyValue,callback:function(a){e.$set(t,"copyValue",a)},expression:"item.copyValue"}}):e._e()],1)],1),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("el-button",{attrs:{type:"danger",size:"small",disabled:1===e.batchModForm["batchModList"].length},on:{click:function(t){return e.del(i,"batchModList")}}},[e._v("删除 ")])],1)],1)})),1)],1)],1)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.SubmitClick}},[e._v("提交")]),a("el-button",{on:{click:function(t){e.dialogVisibleEdit=!1}}},[e._v("取消")])],1)]):e._e(),e.formBuildCode?a("form-bulid-modle",{ref:"formBuild",attrs:{jsonData:e.jsonData,models:e.models,othType:e.othType,title:e.title,oprCode:e.oprCode,NodeData:e.NodeData,rowsData:e.rowsDataChild,rowNode:e.NodeDataChild,rowDataupdate:e.rowDataupdate},on:{close:e.formClose}}):e._e(),e.ArchivesCompilationModelCode?a("archives-compilation-model",{attrs:{NodeDataPara:e.NodeData,othType:e.othType},on:{close:e.ArchivesClose,compilationClick:e.compilationClick}}):e._e(),a("el-dialog",{attrs:{title:"操作提示",visible:e.dialogVisibleSta,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisibleSta=t}}},[a("span",[e._v("确认删除？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisibleSta=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.deleteClick}},[e._v("确 定")])],1)])],1)},n=[],o=a("1da1"),s=a("5530"),r=(a("159b"),a("a434"),a("7db0"),a("b0c0"),a("4de4"),a("d81d"),a("96cf"),a("70ef")),l=a("faca"),c=a("3f19"),d=a("f7c4"),u=a("2e5f"),p=a("0779"),m=a("cf45"),h=a("e45a"),f=a("60f9"),v=a("76ee"),b={name:"",components:{BasicTree:f["default"],CatePanel:r["default"],foxTable:d["a"],BtnList:u["default"],DictSelectTag:p["default"],FormBulidModle:h["default"],ArchivesCompilationModel:v["default"]},mixins:[l["a"],c["a"]],data:function(){return{clickRowData:void 0,archivesCode:!1,treeData:[],formBuildCode:!1,ArchivesCompilationModelCode:!1,dialogVisible:!1,dialogVisibleSta:!1,dialogVisibleEdit:!1,defaultExpandAll:!1,defaultExpandedKeys:[],NodeData:void 0,NodeDataChild:void 0,othType:1,radio:1,title:"新增",rowDataupdate:{},pageCode:!1,defaultModleData:{},models:{},modlesData:{},filedList:[],jsonData:{},radioText:"",rowData:{},rowsData:[],rowsDataCopy:[],rowDataChild:{},rowsDataChild:[],ColumnData:[],tableData:[],tableCode:!1,ColumnDataCopy:[],tableDataCopy:[],tableCodeCopy:!1,selectData:[],oprCode:1,selectType:void 0,selectInputData:void 0,selectDataCopy:[],selectTypeCopy:void 0,selectInputDataCopy:void 0,batchModForm:{batchModList:[{oprField:"",oprType:"",value:"",showInput:!0,showDict:!1,showDate:!1}]},page:{pageNum:1,pageSize:10,total:0},pageCopy:{pageNum:1,pageSize:10,total:0},pushForm:{batchModList:{oprField:"",oprType:"",oprTypeCode:"1",value:"",copyValue:"",showInput:!0,showDict:!1,showDate:!1}},operOptions:void 0,operOptions1:[{value:"1",label:"修改"}],operOptions2:[{value:"1",label:"修改"},{value:"2",label:"替换"}]}},created:function(){this.getTreeData()},methods:{currentChange:function(e,t){this.othType=t,1==t?this.page=Object(s["a"])(Object(s["a"])({},this.page),{},{pageNum:e}):this.pageCopy=Object(s["a"])(Object(s["a"])({},this.pageCopy),{},{pageNum:e}),this.queryList()},sizeChange:function(e,t){this.othType=t,1==t?this.page=Object(s["a"])(Object(s["a"])({},this.page),{},{pageSize:e}):this.pageCopy=Object(s["a"])(Object(s["a"])({},this.pageCopy),{},{pageSize:e}),this.queryList()},compilationClick:function(e){this.queryVueJson(),this.oprCode=1,this.models.CATE_CODE=this.NodeData.label;var t=new Date;this.models.ARCH_YEAR=t.getFullYear(),this.title=e.title,this.rowsDataChild=e.rowsData,this.NodeDataChild=e.NodeDataChild},ArchivesClose:function(){this.ArchivesCompilationModelCode=!1},ArchivesCompilationModelClick:function(){this.othType=1,this.ArchivesCompilationModelCode=!0},defaultData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={},a.cateId=e.NodeData.id,a.othType=e.othType,a.templateId=e.NodeData.templateId,a.cateCode=e.NodeData.cateCode,2==e.othType&&(a.volSeq=e.clickRowData.ID),t.next=9,e.$api.httpAction("/compilation/defaultData",a,"post").then((function(t){if("200"==t.code)for(var a in e.defaultModleData=t.data,e.defaultModleData)e.models[a]=e.defaultModleData[a]}));case 9:case"end":return t.stop()}}),t)})))()},addClick:function(e){this.othType=e,this.queryVueJson(),this.rowsDataChild=[],this.NodeDataChild=void 0,this.title="新增",this.oprCode=1,this.models.CATE_CODE=this.NodeData.label;var t=new Date;this.models.ARCH_YEAR=t.getFullYear()},formClose:function(e){1==e.itemCode&&this.ArchivesClose(),this.rowsDataChild=[],this.NodeDataChild=void 0,this.formBuildCode=!1,this.queryList()},SubmitClick:function(){var e=this,t={},a="";this.batchModForm.batchModList.forEach((function(e){1==e.oprTypeCode?t["[R]"+e.oprField]=e.value:t["[R]"+e.oprField]=e.value+"[@]"+e.copyValue})),1==this.radio?(1==this.othType?this.rowsData.forEach((function(t){a+=t.ID,t.ID!=e.rowsData[e.rowsData.length-1].ID&&(a+=",")})):this.rowsDataCopy.forEach((function(t){a+=t.ID,t.ID!=e.rowsDataCopy[e.rowsDataCopy.length-1].ID&&(a+=",")})),t.othType=this.othType,t.cataCode=void 0,t.updateMode=this.radio,t.templateId=this.NodeData.templateId,t.ids=a,t.isWait=void 0,t.cate_code=void 0,t.transfered=void 0):(t.othType=this.othType,t.cateCode=this.NodeData.cateCode,t.updateMode=this.radio,t.templateId=this.NodeData.templateId,t.ids=void 0,t.isWait=0,t.cate_code=this.NodeData.cateCode,t.transfered=4),this.$api.httpAction("/compilation/batchUpdate",t,"post").then((function(t){"200"==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.cancelModal()):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))},cancelModal:function(){this.dialogVisibleEdit=!1,this.batchModForm.batchModList=[],this.batchModForm.batchModList.push(this.pushForm.batchModList),this.queryList()},openType:function(e){},add:function(e){var t=Object(m["c"])(this.pushForm[e]);this.batchModForm[e].push(t)},del:function(e,t){this.batchModForm[t].splice(e,1)},changeValType:function(e,t){var a=this;this.filedList.forEach((function(i){i.model==e&&(a.batchModForm.batchModList[t].oprType=i.type)})),this.batchModForm.batchModList[t].oprField=e,this.batchModForm.batchModList[t].value="",this.batchModForm.batchModList[t].showDict=!1,this.batchModForm.batchModList[t].showInput=!1,this.batchModForm.batchModList[t].showDate=!1;var i=this.filedList.find((function(t){return t.model===e}));"select"===i.type&&(this.dictCode=i.options.dictType,this.batchModForm.batchModList[t].showDict=!0),"input"===i.type&&(this.batchModForm.batchModList[t].showInput=!0),"date"===i.type&&(this.format=i.options.format,this.batchModForm.batchModList[t].showDate=!0)},cellClick:function(e){this.othType=2,this.archivesCode=!0,this.clickRowData=e,this.queryList(),this.qfListVo(),this.sfList()},queryFiledList:function(){var e=this;this.$api.getAction("/templates/getTempView",{othType:this.othType,templateId:this.NodeData.templateId}).then((function(t){"200"==t.code&&(t.data.vue?(e.filedList=[],e.handelChangeFiledList(JSON.parse(t.data.vue).list)):e.filedList=[])}))},handelChangeFiledList:function(e){var t=this;e&&e.forEach((function(e){e.columns?e.columns.forEach((function(e){e.list.forEach((function(e){e.options.disabled||t.filedList.push(e)}))})):e.options.disabled||t.filedList.push(e)}))},queryVueJson:function(){var e=this;this.pageCode=!0,this.$api.getAction("/templates/getTempView",{othType:this.othType,templateId:this.NodeData.templateId}).then((function(t){"200"==t.code&&(t.data.vue?(e.jsonData=JSON.parse(t.data.vue),e.filedList=[],e.pageCode=!1,e.handelChangeModel(JSON.parse(t.data.vue).list)):(e.filedList=[],e.pageCode=!1))}))},handelChangeModel:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.models={},e.next=3,t.defaultData();case 3:t.models.CATE_CODE=t.NodeData.label,t.models.ARCH_TYPE=t.othType,a=new Date,t.models.ARCH_YEAR=a.getFullYear(),2==t.oprCode||3==t.oprCode?t.compilationInfo(t.rowDataupdate):t.formBuildCode=!0;case 8:case"end":return e.stop()}}),e)})))()},handelSelection:function(e,t){e&&e.forEach((function(e){})),1==t?this.rowsData=e:this.rowsDataCopy=e},editClick:function(e){this.othType=e,this.queryFiledList(),this.dialogVisible=!0,this.radio=1,1==this.othType?this.operOptions=this.operOptions1:this.operOptions=this.operOptions2},determineClick:function(){1==this.radio?(this.radioText="选择数据",1==this.othType?0==this.rowsData.length?this.$sweetAlert.warnWithTimer("请至少选择一条数据"):(this.dialogVisible=!1,this.dialogVisibleEdit=!0):0==this.rowsDataCopy.length?this.$sweetAlert.warnWithTimer("请至少选择一条数据"):(this.dialogVisible=!1,this.dialogVisibleEdit=!0)):(this.radioText="选择类目",this.dialogVisible=!1,this.dialogVisibleEdit=!0)},selectClick:function(e){var t=this;this.othType=e;var a={};1==this.othType?(a.page=this.page.pageNum,a.limit=this.page.pageSize,a[this.selectType]=this.selectInputData):(a.page=this.pageCopy.pageNum,a.limit=this.pageCopy.pageSize,a[this.selectTypeCopy]=this.selectInputDataCopy),a.type="all";var i="/compilation/pageList?";i+="othType=",i+=this.othType,i+="&templateId=",i+=this.NodeData.templateId,i+="&CATE_CODE=",i+=this.NodeData.cateCode,1==this.othType?i+="&VOL_ID=":(i+="&VOL_ID=",i+=this.clickRowData.ID),this.$api.httpAction(i,a,"post").then((function(e){"200"==e.code&&(1==t.othType?(t.tableData=e.data,t.page.total=parseInt(e.count)):(t.tableDataCopy=e.data,t.pageCopy.total=parseInt(e.count)))}))},handleClick:function(e){this.othType=parseInt(e.index)+1,this.selectInputData=void 0,this.queryList(),this.qfListVo(),this.sfList(),this.queryVueJson()},sfList:function(){var e=this,t={};t.templateId=this.NodeData.templateId,t.othType=this.othType,this.$api.getAction("/searchFld/sfList",t,"post").then((function(t){"200"==t.code&&(1==e.othType?(e.selectData=t.data,e.selectType=e.selectData[0].fldName):(e.selectDataCopy=t.data,e.selectTypeCopy=e.selectDataCopy[0].fldName))}))},qfListVo:function(){var e=this,t={};t.templateId=this.NodeData.templateId,t.othType=this.othType,1==this.othType?this.tableCode=!1:this.tableCodeCopy=!1,this.$api.getAction("/queryFld/qfList",t,"post").then((function(t){"200"==t.code&&(1==e.othType?(e.ColumnData=e.setColumnData(t.data),e.tableCode=!0):(e.ColumnDataCopy=e.setColumnData(t.data),e.tableCodeCopy=!0))}))},setColumnData:function(e){var t=this,a=(this.$createElement,[]);if(a.push({type:"selection",fixed:!0}),e.length>0)return e.forEach((function(e){var t={};t.label=e.fldDesc,t.prop=e.fldName,a.push(t)})),1==this.othType?a.push({label:"操作",prop:"oper",width:280,render:function(e,a){var i=a.row,n=[{content:"编辑/阅读",type:"text",icon:"edit",permission:"sys:compilation:update",event:function(){t.updateRowData(i,1)}},{content:"删除",type:"text",color:"#F56C6C",icon:"delete-solid",permission:"sys:compilation:del",event:function(){t.operateDelete(i,1)}}];return e(u["default"],{attrs:{btnInfo:n}})}}):a.push({label:"操作",prop:"oper",width:280,render:function(e,a){var i=a.row,n=[{content:"编辑/阅读",type:"text",icon:"edit",event:function(){t.updateRowData(i,2)}},{content:"删除",type:"text",color:"#F56C6C",icon:"delete-solid",event:function(){t.operateDelete(i,2)}}];return e(u["default"],{attrs:{btnInfo:n}})}}),a},updateRowData:function(e,t){this.rowDataupdate=e,this.rowsDataChild=[],this.NodeDataChild=void 0,this.othType=t,this.queryVueJson(),this.oprCode=t+1,this.title="编辑"},operateDelete:function(e){this.rowData=e,this.dialogVisibleSta=!0},handleClose:function(){this.dialogVisibleSta=!1},deleteClick:function(){var e=this,t={};t.templateId=this.NodeData.templateId,t.id=this.rowData.ID,t.othType=this.othType,this.$api.httpAction("/compilation/delete",t,"post").then((function(t){"200"==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.handleClose(),e.queryList()):(e.$sweetAlert.errorWithTimer("操作失败"),e.handleClose())}))},compilationInfo:function(e){var t=this,a={};a.id=e.ID,a.templateId=this.NodeData.templateId,a.othType=this.oprCode-1,this.$api.httpAction("/compilation/info",a,"post").then((function(e){if("200"==e.code){for(var a in e.data)t.models[a]=e.data[a],(a="CATE_CODE")&&(t.models[a]=t.NodeData.name);t.formBuildCode=!0}}))},queryList:function(){var e=this,t={};1==this.othType?(t.page=this.page.pageNum,t.limit=this.page.pageSize):(t.page=this.pageCopy.pageNum,t.limit=this.pageCopy.pageSize),t.type="all";var a="/compilation/pageList?";a+="othType=",a+=this.othType,a+="&templateId=",a+=this.NodeData.templateId,a+="&CATE_CODE=",a+=this.NodeData.cateCode,1==this.othType?a+="&VOL_ID=":(a+="&VOL_ID=",a+=this.clickRowData.ID),this.$api.httpAction(a,t,"post").then((function(t){"200"==t.code&&(1==e.othType?(e.tableData=t.data,e.page.total=parseInt(t.count)):(e.tableDataCopy=t.data,e.pageCopy.total=parseInt(t.count)))}))},treeNodeClick:function(e){if(e.children.length>0)this.$sweetAlert.warnWithTimer("请选择叶子分类节点进行业务操作");else{if(this.archivesCode=!1,this.NodeData=e,!e.templateId||"undefined"==e.templateId)return;this.queryList(),this.qfListVo(),this.sfList()}},getTreeData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={moduleType:2},t.prev=1,t.next=4,e.$api.getAction("/category/categoryTree",a);case 4:if(i=t.sent,n=i.treeData,e.treeData=e.setTreeData(n),data.templateId&&"undefined"!=data.templateId){t.next=10;break}return t.abrupt("return");case 10:e.queryList(),e.qfListVo(),e.sfList(),t.next=17;break;case 15:t.prev=15,t.t0=t["catch"](1);case 17:case"end":return t.stop()}}),t,null,[[1,15]])})))()},setTreeData:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));this.initLoadOver||(this.initLoadOver=!0),e.map((function(e){return e.label=e.name,"-1"==e.parentId&&(e.elIcon="s-home"),"1"==e.parentId&&(e.elIcon="office-building"),"-1"==e.parentId&&(e.elIcon="folder"),e}));var a=0,i=function t(a,i,n){i+=1,a.forEach((function(a){var o=e.filter((function(e){return e.parentId==a.id}));a.children=o,a.position=i,o.length?(a.elIcon="folder",t(a.children,i,a.name)):a.elIcon="document","-1"!=a.pId||n?a.parentName=n:a.parentName=a.name}))};return i(t,a),t.length>0&&(this.NodeData=t[0]),t}}},g=b,y=(a("e7b0"),a("2877")),_=Object(y["a"])(g,i,n,!1,null,"7a9deb82",null);t["default"]=_.exports},"903f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{top:"100px"},attrs:{visible:e.visible,modal:!0,width:"20%","before-close":e.cancelModal,title:"请选择保存期限",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start","align-items":"center"}},[a("div",{staticStyle:{width:"100px"}},[e._v("保管期限:")]),a("dict-select-tag",{attrs:{"dict-code":"KEEP_TIME",placeholder:"请选择"},model:{value:e.keepTime,callback:function(t){e.keepTime=t},expression:"keepTime"}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确定 ")]),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],on:{click:e.cancelModal}},[e._v(" 取消 ")])],1)]):e._e()},n=[],o=a("0779"),s={name:"PreserveModule",components:{DictSelectTag:o["default"]},props:{},data:function(){return{visible:!0,keepTime:"",loading:!1,params:{},url:{preserve:"/appraisal/preserve"}}},computed:{},methods:{init:function(e){this.params=e,this.visible=!0},cancelModal:function(){this.visible=!1,this.$emit("close"),this.$emit("ok")},submit:function(){var e=this;this.params.othType="1",this.params.keepTime=this.keepTime,this.$api.httpAction(this.url.preserve,this.params,"post").then((function(t){"200"==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.cancelModal("1")):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))}},created:function(){}},r=s,l=a("2877"),c=Object(l["a"])(r,i,n,!1,null,"4d8ae734",null);t["default"]=c.exports},"917d":function(e,t,a){"use strict";a("ac1f"),a("5319");var i={"bpmn:StartEvent":{form:!0,formKey:!0,candidate:!0,initiator:!0},"bpmn:EndEvent":{},"bpmn:UserTask":{taskCategory:!0,candidate:!0,assignee:!0,candidateUsers:!0,candidateGroups:!0,form:!0,formKey:!0,buttons:!0,multiInstance:!0,taskListener:!0},"bpmn:ServiceTask":{},"bpmn:ScriptTask":{},"bpmn:ManualTask":{},"bpmn:ReceiveTask":{},"bpmn:SendTask":{},"bpmn:BusinessRuleTask":{},"bpmn:SubProcess":{multiInstance:!0},"bpmn2:intermediateThrowEvent":{},"bpmn:SequenceFlow":{conditionExpression:!0}};t["a"]={props:{modeler:{type:Object,required:!0},element:{type:Object,required:!0,default:{}},descriptor:{type:String,default:"flowable"}},watch:{"formData.id":function(e){this.updateProperty("id",e)},"formData.name":function(e){this.updateProperty("name",e)},"formData.documentation":function(e){if(e){var t=this.modeler.get("moddle").create("bpmn:Documentation",{text:e}),a=[];a.push(t),this.updateProperties({documentation:a})}else this.updateProperties({documentation:void 0})}},methods:{updateProperties:function(e){var t=this.modeler.get("modeling");t.updateProperties(this.element,e)},updateProperty:function(e,t,a){""===t&&(t=void 0);var i={};a&&(e=this.descriptorPrefix+e),i[e]=t;var n=this.modeler.get("modeling");n.updateProperties(this.element,i)},getDocumentation:function(){var e,t=null===(e=this.element.businessObject)||void 0===e?void 0:e.documentation,a=t&&t.length>0?t[0].text:"";return a},convertDescriptorProperties:function(e){for(var t in e)if(0===t.indexOf(this.descriptorPrefix)){var a=t.replace(this.descriptorPrefix,"");e[a]=e[t],delete e[t]}return e},validate:function(){var e;return null===(e=this.$refs)||void 0===e?void 0:e.refForm.validate()},parseCDATA:function(e){if(e){var t=e.replace(/<!\[CDATA\[(.+)\]\]>/,"$1"),a=t.replace(/&lt;!\[CDATA\[(.+)\]\]&gt;/,"$1");return a}}},computed:{descriptorPrefix:function(){return this.descriptor+":"},elementType:function(){var e=this.element.businessObject;return e.eventDefinitions?e.eventDefinitions[0].$type:e.$type},showConfig:function(){return i[this.elementType]||{}}}}},"917e":function(e,t,a){},"91a3":function(e,t,a){"use strict";a("6302")},9255:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"g",(function(){return titleCase})),__webpack_require__.d(__webpack_exports__,"d",(function(){return isNumberStr})),__webpack_require__.d(__webpack_exports__,"c",(function(){return exportDefault})),__webpack_require__.d(__webpack_exports__,"a",(function(){return beautifierConf})),__webpack_require__.d(__webpack_exports__,"b",(function(){return deepClone})),__webpack_require__.d(__webpack_exports__,"e",(function(){return isObjectObject})),__webpack_require__.d(__webpack_exports__,"f",(function(){return setObjectValueReduce}));var E_hm_ArchSystemUIXTU_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("53ca"),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("4d63"),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("1276"),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("5319"),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_8__);function indent(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(0===t)return e;var i,n=t<0,o=[],s="";if(n)t*=-1,i=new RegExp("(^\\s{0,".concat(t*a,"})"),"g");else for(var r=0;r<t*a;r++)s+=" ";return e.split("\n").forEach((function(e){e=n?e.replace(i,""):s+e,o.push(e)})),o.join("\n")}function titleCase(e){return e.replace(/( |^)[a-z]/g,(function(e){return e.toUpperCase()}))}function camelCase(e){return e.replace(/-[a-z]/g,(function(e){return e.substr(-1).toUpperCase()}))}function isNumberStr(e){return/^[+-]?(0|([1-9]\d*))(\.\d+)?$/g.test(e)}var exportDefault="export default ",beautifierConf={html:{indent_size:"2",indent_char:" ",max_preserve_newlines:"-1",preserve_newlines:!1,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"separate",brace_style:"end-expand",space_before_conditional:!0,unescape_strings:!1,jslint_happy:!1,end_with_newline:!0,wrap_line_length:"110",indent_inner_html:!0,comma_first:!1,e4x:!0,indent_empty_lines:!0},js:{indent_size:"2",indent_char:" ",max_preserve_newlines:"-1",preserve_newlines:!1,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"normal",brace_style:"end-expand",space_before_conditional:!0,unescape_strings:!1,jslint_happy:!0,end_with_newline:!0,wrap_line_length:"110",indent_inner_html:!0,comma_first:!1,e4x:!0,indent_empty_lines:!0}};function stringify(e){return JSON.stringify(e,(function(e,t){return"function"===typeof t?"".concat(t):t}))}function parse(str){JSON.parse(str,(function(k,v){return v.indexOf&&v.indexOf("function")>-1?eval("(".concat(v,")")):v}))}function jsonClone(e){return parse(stringify(e))}function deepClone(e){var t=Object.prototype.toString;if(!e||"object"!==Object(E_hm_ArchSystemUIXTU_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_0__["a"])(e))return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if("[object Date]"===t.call(e))return new Date(e.getTime());if("[object RegExp]"===t.call(e)){var a=[];return e.global&&a.push("g"),e.multiline&&a.push("m"),e.ignoreCase&&a.push("i"),new RegExp(e.source,a.join(""))}var i=Array.isArray(e)?[]:e.constructor?new e.constructor:{};for(var n in e)i[n]=deepClone(e[n]);return i}var toStr=Function.prototype.call.bind(Object.prototype.toString);function isObjectObject(e){return"[object Object]"===toStr(e)}function isObjectArray(e){return"[object Array]"===toStr(e)}function isObjectNull(e){return"[object Null]"===toStr(e)}function isObjectUnde(e){return"[object Undefined]"===toStr(e)}function setObjectValueReduce(e,t,a){var i=t.split(".");i.reduce((function(e,t,n){return i.length===n+1?e[t]=a:"[object Object]"!==toStr(e[t])&&(e[t]={}),e[t]}),e)}},"926d":function(e,t,a){},"93c9":function(e,t,a){},"93e7":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[e._v("fabric-pdf")])},n=[],o={name:"fabric-pdf",components:{},props:{},data:function(){return{}},watch:{},computed:{},methods:{},created:function(){},mounted:function(){}},s=o,r=(a("2684"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"46cde0e2",null);t["default"]=l.exports},"93ff":function(e,t,a){"use strict";var i=a("3fbe");t["a"]=i["default"]},9461:function(e,t,a){},"946f":function(e,t,a){},"94c9":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("div",{staticStyle:{padding:"8px",height:"55px","line-height":"2"}},[a("el-row",{attrs:{gutter:4}},[a("el-col",{attrs:{span:16}},[a("span",{staticStyle:{"font-size":"14px","margin-right":"9px"}},[e._v("档案统计/原文统计")])]),a("el-col",{attrs:{span:8}},[a("div",{staticStyle:{float:"right"}},[a("span",{staticStyle:{"font-size":"14px","margin-right":"9px"}},[e._v("切换统计维度： "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.change},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)])])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"table",staticStyle:{"border-collapse":"collapse"},attrs:{height:e.pageheight-200,border:"","header-cell-style":e.headerstyle,"show-summary":"",data:e.tableData}},[1===e.type?a("el-table-column",{attrs:{label:"文件格式",align:"center",prop:"tableName"}}):e._e(),2===e.type?a("el-table-column",{attrs:{label:"档案门类",align:"center",prop:"tableName"}}):e._e(),3===e.type?a("el-table-column",{attrs:{label:"年度",align:"center",prop:"tableName"}}):e._e(),4===e.type?a("el-table-column",{attrs:{label:"保管期限",align:"center",prop:"tableName"}}):e._e(),a("el-table-column",{attrs:{label:"文件件数",align:"center",prop:"num"}})],1)],1)},n=[],o=(a("159b"),{name:"",data:function(){return{tableData:[],cateNameData:[],summarData:{},options:[{value:1,label:"文件格式"},{value:2,label:"档案门类"},{value:3,label:"年度"},{value:4,label:"保管期限"}],type:1,loading:!1,pageheight:420}},updated:function(){var e=this;this.$nextTick((function(){e.$refs["table"].doLayout()}))},created:function(){this.queryList(),this.pageheight=document.body.offsetHeight},methods:{headerstyle:function(e){e.row,e.column;var t=e.rowIndex;e.columnIndex;if(1===t)return{border:"none !important"}},change:function(){this.queryList()},getSummaries:function(e){var t=this,a=e.columns,i=(e.data,[]);return a.forEach((function(e,a){i[a]=0!==a?1!==a?t.summarData[e.property]:"合计":""})),i},objectSpanMethod:function(e){e.row,e.column;var t=e.rowIndex,a=e.columnIndex;if(0===a){for(var i=0;i<this.cateNameData.length;i++){if(t===this.cateNameData[i])return{rowspan:2,colspan:1};if(t===this.cateNameData[i]+1)return{rowspan:0,colspan:0}}return{rowspan:1,colspan:1}}},queryList:function(){var e=this,t={};this.tableData=[],t.type=this.type,this.loading=!0,this.$api.getAction("/statisticFile/list",t).then((function(t){"200"==t.code?(e.tableData=t.data,e.loading=!1):(e.$sweetAlert.errorWithTimer("网络出错"),e.loading=!1)}))}}}),s=o,r=a("2877"),l=Object(r["a"])(s,i,n,!1,null,"0796cf96",null);t["default"]=l.exports},9747:function(e,t,a){e.exports=a.p+"static/img/right.6e03b0a9.svg"},98618:function(e,t,a){"use strict";a("a702")},9962:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basic-form"},[e.formModel&&e.formModel.formList&&e.formModel.formList.length>0?a("el-form",{ref:e.refName,class:{"half-form":e.halfFormFlag},attrs:{model:e.formModel,"label-width":e.formModel.labelWidth||"9rem"}},e._l(e.formModel.formList,(function(t,i){return a("div",{key:i},[(!t.hideFormItem||!e.formModel.hideFormFlag)&&!t.showFormItem&&!e.formModel.showFormItemValue||e.formModel.hideFormFlag&&t.showFormItem||e.showFormItemValue&&(!t.showFormItemValue||e.showFormItemValue==t.showFormItemValue)?a("el-form-item",{class:{"max-form":t.maxForm,"clear-form":t.clearForm},style:{width:t.formItemWidth},attrs:{label:t.label,prop:"formList."+i+".value",rules:t.rules.value}},[a("div",{staticClass:"form-item-flex"},["radio"==t.type?a("div",{staticClass:"radio-group"},[a("el-radio-group",{on:{change:function(a){return e.radioGroupChange(a,t)}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}},e._l(t.selectOptions,(function(t,i){return a("el-radio",{key:i,attrs:{label:t.value}},[e._v(e._s(t.text))])})),1)],1):e._e(),"select"==t.type?a("div",[a("el-select",{style:{width:t.selectWidth?t.selectWidth:e.defaultSelectWidth},attrs:{placeholder:t.placeHolder,clearable:""},on:{change:function(a){return e.selectChange(a,t)}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}},e._l(t.selectOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.text,value:e.value}})})),1)],1):e._e(),"password"==t.type?a("div",[a("el-input",{attrs:{type:"password",maxlength:t.maxLength,placeholder:t.placeHolder,"show-password":""},model:{value:t.value,callback:function(a){e.$set(t,"value","string"===typeof a?a.trim():a)},expression:"item.value"}})],1):e._e(),"textarea"==t.type?a("div",[a("el-input",{style:{width:e.defaultTextareaWidth},attrs:{type:"textarea",rows:t.rows||5,maxlength:t.maxLength,placeholder:t.placeHolder,"show-password":""},model:{value:t.value,callback:function(a){e.$set(t,"value","string"===typeof a?a.trim():a)},expression:"item.value"}})],1):e._e(),t.prop?e._e():a("div",["tips"==t.type?a("div",{staticClass:"tips-title"},[a("div",[e._v(e._s(t.text))])]):e._e(),"empty"==t.type?a("div",[a("div")]):e._e()]),"uploadPicture"==t.type||"upload"==t.type?a("div",{class:{"id-card":"idCardIcon"==t.prop||"idCardEmblem"==t.prop}},[a("el-upload",{staticClass:"upload-demo",class:{hide:t.fileList.length>=t.limit},attrs:{action:e.uploadUrl,"list-type":"picture-card","on-remove":function(a,i){return e.handleRemove(a,i,t)},"file-list":t.fileList,"on-change":function(a,i){return e.changeFile(a,i,t)},"on-success":function(a,i){return e.upLoadSuccess(a,i,t)},"before-remove":e.beforeRemove,"before-upload":e.beforeAvatarUpload,headers:e.uploadHeader,multiple:"",limit:t.limit||2}},[0!=t.fileList.length||"idCardIcon"!=t.prop&&"idCardEmblem"!=t.prop?a("i",{staticClass:"el-icon-plus"}):a("div",["idCardIcon"==t.prop?a("img",{attrs:{src:"static/img/default/idCardIcon.png"}}):e._e(),"idCardEmblem"==t.prop?a("img",{attrs:{src:"static/img/default/idCardEmblem.png"}}):e._e()])])],1):e._e(),"uploadFile"==t.type?a("div",[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.uploadUrl,"on-remove":function(a,i){return e.handleRemove(a,i,t)},"file-list":t.fileList,"on-change":function(a,i){return e.changeFile(a,i,t)},"on-success":function(a,i){return e.upLoadSuccess(a,i,t)},"before-remove":e.beforeRemove,"before-upload":e.beforeFileUpload,headers:e.uploadHeader,multiple:"",limit:t.limit||2}},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-upload2",disabled:t.fileList.length>=t.limit}},[e._v("点击上传")])],1)],1):e._e(),"number"==t.type?a("div",[a("el-input-number",{staticStyle:{"text-align":"center"},attrs:{placeholder:t.placeHolder,min:t.min,max:t.max},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1):e._e(),"number-right"==t.type?a("div",[a("el-input-number",{attrs:{"controls-position":"right",placeholder:t.placeHolder,min:t.min,max:t.max},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1):e._e(),"integer"==t.type?a("div",[a("el-input",{style:{width:t.inputWidth?t.inputWidth:e.defaultInputWidth},attrs:{maxlength:t.maxLength,placeholder:t.placeHolder,disabled:t.disabled},on:{input:function(a){return t.value=e.integerCheck(a)}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1):e._e(),"color-picker"==t.type?a("div",{staticClass:"auto-width",staticStyle:{height:"100%"}},[a("el-color-picker",{attrs:{"popper-class":"color-picker-popper"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1):e._e(),t.type?e._e():a("div",[a("el-input",{style:{width:t.inputWidth?t.inputWidth:e.defaultInputWidth},attrs:{maxlength:t.maxLength,placeholder:t.placeHolder,disabled:t.disabled},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1),void 0!=t.unit?a("div",{staticClass:"item-unit"},[e._v(" "+e._s(t.unit)+" ")]):e._e(),void 0!=t.tips?a("div",{staticClass:"item-tips",style:{color:t.tipsColor}},[e._v(" "+e._s(t.tips)+" ")]):e._e()])]):e._e()],1)})),0):e._e(),a("div",{staticClass:"clearfix"})],1)},n=[],o=(a("7db0"),a("ac1f"),a("5319"),a("d81d"),a("a434"),a("b0c0"),a("159b"),a("caad"),a("2532"),a("a15b"),a("cf45")),s=a("5f87"),r={name:"",components:{},props:{formModel:{type:Object,default:function(){return null}},formList:{type:Array,default:function(){return null}},refName:{type:String,default:"refForm"},halfFormFlag:{type:Boolean,default:!1},defaultInputWidth:{type:String,default:"100%"},defaultTextareaWidth:{type:String,default:"100%"},defaultSelectWidth:{type:String,default:"100%"}},data:function(){return{}},watch:{},computed:{uploadUrl:function(){return window._CONFIG["VUE_APP_UPLOAD_FILE"]+"?__sid="+Object(o["e"])("ARCAMEL-JESSIONID")},uploadHeader:function(){return{"X-Access-Token":Object(s["a"])()}},showFormItemValue:function(){var e=this.formModel.formList.find((function(e){return e.showFormItemValueFlag}));return e&&(this.formModel.showFormItemValue=e.value),this.formModel.showFormItemValue},showFormItemFlag:function(e,t){var a=!0;return t.hideFormItem?e.hideFormFlag&&(a=!1):t.showFormItem&&(e.hideFormFlag||(a=!1)),a}},methods:{integerCheck:function(e){return 0==e&&(e=""),e=e.replace(/[^0-9]/gi,""),e},radioGroupChange:function(e,t){var a=t.hideFormSwitch;a&&(this.formModel.hideFormFlag=!this.formModel.hideFormFlag)},selectChange:function(e,t){if(this.formModel.showFormItemValue)this.formModel.showFormItemValue=e;else{var a=t.hideFormSwitch;this.formModel.hideFormFlag=a!=e}},upLoadSuccess:function(e,t,a){var i=this.formModel.formList.find((function(e){return e.prop==a.prop})).fileList;i[i.length-1].url=window._CONFIG["BASE_API"]+"/"+e.message,i[i.length-1].fieldUrl=e.message},changeFile:function(e,t,a){this.formModel.formList.find((function(e){return e.prop==a.prop})).fileList=t,t.length>0?this.formModel.formList.find((function(e){return e.prop==a.prop})).value="upload":this.formModel.formList.find((function(e){return e.prop==a.prop})).value=""},handleRemove:function(e,t,a){var i=-1;this.formModel.formList.find((function(e){return e.prop==a.prop})).fileList.map((function(t,a){t===e&&(i=a)})),i>-1&&this.formModel.formList.find((function(e){return e.prop==a.prop})).fileList.splice(i,1),t.length>0?this.formModel.formList.find((function(e){return e.prop==a.prop})).value="upload":this.formModel.formList.find((function(e){return e.prop==a.prop})).value=""},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传图片只能是 JPG/png 格式!"),a||this.$message.error("上传图片大小不能超过 2MB!"),t&&a},beforeFileUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传图片只能是 JPG/png 格式!"),a||this.$message.error("上传图片大小不能超过 2MB!"),t&&a},submit:function(){var e=this,t=this;this.$refs[this.refName].validate((function(a){if(!a)return!1;var i={},n=e.refName,o=!1;t.formModel.formList.forEach((function(e){e.type&&e.type.includes("upload")&&e.fileList&&e.fileList.length>0&&(e.value=e.fileList.map((function(e){return e.fieldUrl||e.url||e.response.message})).join(","),0==e.value.indexOf("blob:")&&(o=!0)),i[e.prop]=e.value})),o?e.$message.warning("还未上传完成！"):e.$emit("submit",{refName:n,formData:i})}))},resetFields:function(){this.$refs[this.refName].resetFields()}},created:function(){},mounted:function(){}},l=r,c=(a("6b58"),a("c68b"),a("2877")),d=Object(c["a"])(l,i,n,!1,null,"a95c7b88",null);t["default"]=d.exports},"99d6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{visible:e.visible,modal:!1,width:"55%","before-close":e.cancelModal,title:"多文件上传",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"3px"}},[a("div",{staticStyle:{color:"rgb(255, 79, 49)","font-weight":"600"}},[a("i",{staticClass:"el-icon-warning"}),e._v(" 目前系统支持的格式如下："),a("br"),e._l(e.acceptStr.split(","),(function(t,i){return a("span",{key:i},[i+1===e.acceptStr.split(",").length?a("span",[e._v(" "+e._s(t.substring(1))+" ")]):a("span",[e._v(" "+e._s(t.substring(1))+", ")])])}))],2),a("div",[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:e.uploadUrl,"on-progress":e.onProgress,"on-success":e.uploadSuccess,multiple:!0,data:e.data,accept:e.acceptStr,"show-file-list":!1,"auto-upload":!1,"on-change":function(t,a){e.handleChangeFile(t,a)}}},[a("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-upload"}},[e._v("选取文件")])],1)],1)]),a("div",{attrs:{calss:"auto-scroll"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.fileTableData,border:"","row-class-name":e.rowClassName,"cell-class-name":e.cellClassName,height:"350","max-height":"350"}},[a("el-table-column",{attrs:{prop:"fileName",label:"文件名","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"size",label:"大小",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.fileSize)+" ")]}}],null,!1,805394238)}),a("el-table-column",{attrs:{prop:"progress",label:"进度",width:"200"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-progress",{attrs:{percentage:e.row.progress}})]}}],null,!1,3379806389)}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return["ready"==t.row.status?a("el-tag",[e._v("等待上传")]):e._e(),"uploading"==t.row.status?a("el-tag",{attrs:{type:"warning"}},[e._v("上传中...")]):e._e(),"success"==t.row.status?a("el-tag",{attrs:{type:"success"}},[e._v("上传成功")]):e._e(),"fail"==t.row.status?a("el-tag",{attrs:{type:"danger"}},[e._v("上传失败")]):e._e()]}}],null,!1,450576719)}),a("el-table-column",{attrs:{prop:"details",label:"详情",width:"200","show-overflow-tooltip":!0}}),a("el-table-column",{attrs:{prop:"oper",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return["fail"==t.row.status||"ready"==t.row.status?a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(a){return e.handleDelete(t.row.fileUid)}}},[e._v("删除 ")]):e._e()]}}],null,!1,3404857078)})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitUpload}},[e._v(" 确定上传 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关 闭")])],1)]):e._e()},n=[],o=(a("159b"),a("4de4"),a("a9e3"),a("b0c0"),a("cf45")),s=a("f7c4"),r={name:"BactUploModule",components:{foxTable:s["a"]},props:{},data:function(){return{visible:!1,loading:!1,fileList:[],fileTableData:[],data:{busiId:"",othType:2,templateId:""},rowClassName:"rowClass",cellClassName:"cellClass",acceptStr:".ppt,.pptx,.doc,.docx,.xls,.xlsx,.jpg,.png,.jpeg,.gif,.bmp,.pdf,.mp3,.mp4,.flv,.avi,.3gp"}},computed:{uploadUrl:function(){return window._CONFIG["VUE_APP_UPLOAD_FILE"]+"?__sid="+Object(o["e"])("ARCAMEL-JESSIONID")}},methods:{statusProcess:function(e,t){var a=this;this.fileTableData.forEach((function(i,n){if(i.fileUid==e.uid){if(void 0!=e.response&&500==e.response.code)e.response.msg.indexOf("ConnectException")>=0?a.fileTableData[n].details="连接失败！请检查配置是否正确！":a.fileTableData[n].details=e.response.msg,a.fileTableData[n].status="fail",t=0;else{switch(e.status){case"uploading":a.fileTableData[n].status="uploading";break;case"success":a.fileTableData[n].status="success";break;case"fail":a.fileTableData[n].status="fail";break;default:break}null!=t?100==t&&"success"!=e.status&&(t=99):t="success"==e.status?100:0}a.fileTableData[n].progress=t}})),!this.fileTableData.filter((function(e){return"ready"===e.status||"uploading"===e.status})).length>0&&(this.loading=!1)},onProgress:function(e,t,a){var i=Math.floor(e.percent);this.statusProcess(t,i)},handleDelete:function(e){this.fileTableData=this.fileTableData.filter((function(t){return t.fileUid!=e})),this.$refs["upload"].uploadFiles=this.$refs["upload"].uploadFiles.filter((function(t){return t.uid!=e}))},submitUpload:function(){if(this.$refs["upload"].uploadFiles.length){var e=this.$refs["upload"].uploadFiles.filter((function(e){return"fail"==e.status||"ready"==e.status}));e.length?(this.loading=!0,this.$refs.upload.submit()):this.$sweetAlert.warnWithTimer("文件均已上传完毕，请勿重复点击！")}else this.$sweetAlert.warnWithTimer("未获取文件，请先选择需上传文件！")},handleRemove:function(e,t){},handleChangeFile:function(e,t){if(0==e.percentage&&"ready"==e.status){var a=Object(o["o"])(Number(e.size||0));this.fileTableData.push({fileName:e.name,fileSize:a,status:e.status,fileUid:e.uid,progress:0,details:""})}else this.statusProcess(e,null)},uploadSuccess:function(){},cancelModal:function(){this.visible=!1,this.$emit("close"),this.$emit("ok")},init:function(e,t,a){this.data.busiId=e,this.data.templateId=t,a&&(this.data.othType=a),this.visible=!0}},created:function(){}},l=r,c=(a("1b5c"),a("2877")),d=Object(c["a"])(l,i,n,!1,null,"21a87a62",null);t["default"]=d.exports},"9a66":function(e,t,a){},"9b8d6":function(e,t,a){"use strict";a("d4de")},"9bbfd":function(e,t,a){},"9c31":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return s}));var i={formRef:"elForm",formModel:"formData",size:"medium",labelPosition:"right",labelWidth:100,formRules:"rules",gutter:15,disabled:!1,span:24,formBtns:!1,datasourceUrl:"",datasource:{}},n=[{__config__:{label:"单行文本",labelWidth:null,showLabel:!0,changeTag:!0,tag:"el-input",tagIcon:"input",defaultValue:void 0,required:!0,layout:"colFormItem",span:24,document:"https://element.eleme.cn/#/zh-CN/component/input",regList:[]},__slot__:{prepend:"",append:""},placeholder:"请输入",style:{width:"100%"},clearable:!0,"prefix-icon":"","suffix-icon":"",maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1},{__config__:{label:"多行文本",labelWidth:null,showLabel:!0,tag:"el-input",tagIcon:"textarea",defaultValue:void 0,required:!0,layout:"colFormItem",span:24,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input"},type:"textarea",placeholder:"请输入",autosize:{minRows:4,maxRows:4},style:{width:"100%"},maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1},{__config__:{label:"密码",showLabel:!0,labelWidth:null,changeTag:!0,tag:"el-input",tagIcon:"password",defaultValue:void 0,layout:"colFormItem",span:24,required:!0,regList:[],document:"https://element.eleme.cn/#/zh-CN/component/input"},__slot__:{prepend:"",append:""},placeholder:"请输入","show-password":!0,style:{width:"100%"},clearable:!0,"prefix-icon":"","suffix-icon":"",maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1},{__config__:{label:"计数器",showLabel:!0,changeTag:!0,labelWidth:null,tag:"el-input-number",tagIcon:"number",defaultValue:void 0,span:24,layout:"colFormItem",required:!0,regList:[],document:"https://element.eleme.cn/#/zh-CN/component/input-number"},placeholder:"",min:void 0,max:void 0,step:1,"step-strictly":!1,precision:void 0,"controls-position":"",disabled:!1},{__config__:{label:"编辑器",showLabel:!0,changeTag:!0,labelWidth:null,tag:"tinymce",tagIcon:"rich-text",defaultValue:null,span:24,layout:"colFormItem",required:!0,regList:[],document:"http://tinymce.ax-z.cn"},placeholder:"请输入",height:300,branding:!1}],o=[{__config__:{label:"下拉选择",showLabel:!0,labelWidth:null,tag:"el-select",tagIcon:"select",layout:"colFormItem",dataType:"dynamic",dynamicOptions:{label:"label",value:"value",children:"children"},dataPath:"list",dataConsumer:"__slot__.options",span:24,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/select"},__slot__:{options:[{label:"选项一",value:1},{label:"选项二",value:2}]},placeholder:"请选择",style:{width:"100%"},clearable:!0,disabled:!1,filterable:!1,multiple:!1},{__config__:{label:"级联选择",dataType:"dynamic",dynamicOptions:{label:"label",value:"value",children:"children"},dataPath:"list",dataConsumer:"options",showLabel:!0,labelWidth:null,tag:"el-cascader",tagIcon:"cascader",layout:"colFormItem",defaultValue:[],span:24,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/cascader"},options:[{value:1,label:"选项1",children:[{value:2,label:"选项1-1"}]}],placeholder:"请选择",style:{width:"100%"},props:{props:{multiple:!1}},"show-all-levels":!0,disabled:!1,clearable:!0,filterable:!1,separator:"/"},{__config__:{label:"单选框组",labelWidth:null,showLabel:!0,tag:"el-radio-group",tagIcon:"radio",changeTag:!0,defaultValue:void 0,layout:"colFormItem",dataType:"dynamic",dynamicOptions:{label:"label",value:"value",children:"children"},dataPath:"list",dataConsumer:"__slot__.options",span:24,optionType:"default",regList:[],required:!0,border:!1,document:"https://element.eleme.cn/#/zh-CN/component/radio"},__slot__:{options:[{label:"选项一",value:1},{label:"选项二",value:2}]},style:{},size:"medium",disabled:!1},{__config__:{label:"多选框组",tag:"el-checkbox-group",tagIcon:"checkbox",defaultValue:[],span:24,showLabel:!0,labelWidth:null,layout:"colFormItem",dataType:"dynamic",dynamicOptions:{label:"label",value:"value",children:"children"},dataPath:"list",dataConsumer:"__slot__.options",optionType:"default",required:!0,regList:[],changeTag:!0,border:!1,document:"https://element.eleme.cn/#/zh-CN/component/checkbox"},__slot__:{options:[{label:"选项一",value:1},{label:"选项二",value:2}]},style:{},size:"medium",min:null,max:null,disabled:!1},{__config__:{label:"开关",tag:"el-switch",tagIcon:"switch",defaultValue:!1,span:24,showLabel:!0,labelWidth:null,layout:"colFormItem",required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/switch"},style:{},disabled:!1,"active-text":"","inactive-text":"","active-color":null,"inactive-color":null,"active-value":!0,"inactive-value":!1},{__config__:{label:"滑块",tag:"el-slider",tagIcon:"slider",defaultValue:null,span:24,showLabel:!0,layout:"colFormItem",labelWidth:null,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/slider"},disabled:!1,min:0,max:100,step:1,"show-stops":!1,range:!1},{__config__:{label:"时间选择",tag:"el-time-picker",tagIcon:"time",defaultValue:null,span:24,showLabel:!0,layout:"colFormItem",labelWidth:null,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/time-picker"},placeholder:"请选择",style:{width:"100%"},disabled:!1,clearable:!0,"picker-options":{selectableRange:"00:00:00-23:59:59"},format:"HH:mm:ss","value-format":"HH:mm:ss"},{__config__:{label:"时间范围",tag:"el-time-picker",tagIcon:"time-range",span:24,showLabel:!0,labelWidth:null,layout:"colFormItem",defaultValue:null,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/time-picker"},style:{width:"100%"},disabled:!1,clearable:!0,"is-range":!0,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",format:"HH:mm:ss","value-format":"HH:mm:ss"},{__config__:{label:"日期选择",tag:"el-date-picker",tagIcon:"date",defaultValue:null,showLabel:!0,labelWidth:null,span:24,layout:"colFormItem",required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/date-picker"},placeholder:"请选择",type:"date",style:{width:"100%"},disabled:!1,clearable:!0,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",readonly:!1},{__config__:{label:"日期范围",tag:"el-date-picker",tagIcon:"date-range",defaultValue:null,span:24,showLabel:!0,labelWidth:null,required:!0,layout:"colFormItem",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/date-picker"},style:{width:"100%"},type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",disabled:!1,clearable:!0,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",readonly:!1},{__config__:{label:"评分",tag:"el-rate",tagIcon:"rate",defaultValue:0,span:24,showLabel:!0,labelWidth:null,layout:"colFormItem",required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/rate"},style:{},max:5,"allow-half":!1,"show-text":!1,"show-score":!1,disabled:!1},{__config__:{label:"颜色选择",tag:"el-color-picker",tagIcon:"color",span:24,defaultValue:null,showLabel:!0,labelWidth:null,layout:"colFormItem",required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/color-picker"},"show-alpha":!1,"color-format":"",disabled:!1,size:"medium"},{__config__:{label:"上传",tag:"el-upload",tagIcon:"upload",layout:"colFormItem",defaultValue:null,showLabel:!0,labelWidth:null,required:!0,span:24,showTip:!1,buttonText:"点击上传",regList:[],changeTag:!0,fileSize:2,sizeUnit:"MB",document:"https://element.eleme.cn/#/zh-CN/component/upload"},__slot__:{"list-type":!0},action:"https://jsonplaceholder.typicode.com/posts/",disabled:!1,accept:"",name:"file","auto-upload":!0,"list-type":"text",multiple:!1}],s=[{__config__:{layout:"rowFormItem",tagIcon:"row",label:"行容器",layoutTree:!0,document:"https://element.eleme.cn/#/zh-CN/component/layout#row-attributes"},type:"default",justify:"start",align:"top"},{__config__:{label:"按钮",showLabel:!0,changeTag:!0,labelWidth:null,tag:"el-button",tagIcon:"button",span:24,layout:"colFormItem",document:"https://element.eleme.cn/#/zh-CN/component/button"},__slot__:{default:"主要按钮"},type:"primary",icon:"el-icon-search",round:!1,size:"medium",plain:!1,circle:!1,disabled:!1},{__config__:{layout:"colFormItem",tagIcon:"table",tag:"el-table",document:"https://element.eleme.cn/#/zh-CN/component/table",span:24,formId:101,renderKey:1595761764203,componentName:"row101",showLabel:!0,changeTag:!0,labelWidth:null,label:"表格[开发中]",dataType:"dynamic",method:"get",dataPath:"list",dataConsumer:"data",url:"https://www.fastmock.site/mock/f8d7a54fb1e60561e2f720d5a810009d/fg/tableData",children:[{__config__:{layout:"raw",tag:"el-table-column",renderKey:0xe836c21d0f9},prop:"date",label:"日期"},{__config__:{layout:"raw",tag:"el-table-column",renderKey:0xe836c21d0f8},prop:"address",label:"地址"},{__config__:{layout:"raw",tag:"el-table-column",renderKey:0xe836c21d0f7},prop:"name",label:"名称"},{__config__:{layout:"raw",tag:"el-table-column",renderKey:1595774496335,children:[{__config__:{label:"按钮",tag:"el-button",tagIcon:"button",layout:"raw",renderKey:1595779809901},__slot__:{default:"主要按钮"},type:"primary",icon:"el-icon-search",round:!1,size:"medium"}]},label:"操作"}]},data:[],directives:[{name:"loading",value:!0}],border:!0,type:"default",justify:"start",align:"top"}]},"9ced":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[e.showRevFormMain?a("rev-form-main",{ref:"revFormMain",attrs:{activeName:e.activeName}}):e._e()],1)},n=[],o=(a("b0c0"),a("7b0c")),s=a("e4f1"),r={name:"SubReviewMain",components:{RevFormMain:o["default"],RevListMain:s["default"]},props:{},data:function(){return{showRevFormMain:!0,showReviewListMain:!1,activeName:""}},computed:{},methods:{handleChange:function(e){var t=this;switch(this.showRevFormMain=!1,this.showReviewListMain=!1,e.name){case"revFormMain":this.showRevFormMain=!0,this.$nextTick((function(){t.$refs["revFormMain"].initForm()}));break;case"reviewListMain":this.showReviewListMain=!0,this.$nextTick((function(){t.$refs["reviewListMain"].initForm()}));break;default:break}}},created:function(){var e=this.$route.query;e&&e.activeName&&(this.activeName=e.activeName)}},l=r,c=(a("8974"),a("2877")),d=Object(c["a"])(l,i,n,!1,null,"05998841",null);t["default"]=d.exports},"9d2e":function(e,t,a){},"9d7a":function(e,t,a){"use strict";a("bbfa")},"9db6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{attrs:{title:e.title,visible:e._propertiesDrawer,direction:"rtl"},on:{"update:visible":function(t){e._propertiesDrawer=t},open:e.init}},[a("div",{staticStyle:{padding:"10px"}},[a("el-table",{ref:"propertiesRef",attrs:{data:e.properties,border:"",fit:"","highlight-current-row":""},on:{"row-click":e.editProperty}},[a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center"}}),a("el-table-column",{attrs:{prop:"value",label:"值",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{attrs:{icon:"el-icon-delete"},nativeOn:{click:function(t){return t.stopPropagation(),e.deleteProperty(i)}}})]}}])})],1),e.showForm?a("div",[a("el-divider"),a("el-form",{attrs:{model:e.property,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.property.name,callback:function(t){e.$set(e.property,"name",t)},expression:"property.name"}})],1),a("el-form-item",{attrs:{label:"值",prop:"value"}},[a("el-input",{model:{value:e.property.value,callback:function(t){e.$set(e.property,"value",t)},expression:"property.value"}})],1)],1)],1):e._e()],1),a("div",{staticStyle:{"text-align":"right",padding:"10px"}},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.addProperty}},[e._v("添加")]),a("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e._propertiesDrawer=!1}}},[e._v("取消")]),a("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:e.save}},[e._v("确定")])],1)])},n=[],o=(a("4de4"),a("d3b7"),a("ddb0"),a("d81d"),a("b0c0"),a("a434"),a("159b"),a("917d")),s=a("ca00"),r={props:{propertiesDrawer:{type:Boolean,default:!1},title:{type:String,default:""}},mixins:[o["a"]],computed:{_propertiesDrawer:{get:function(){return this.propertiesDrawer},set:function(e){this.$emit("changePropertiesDrawer",e)}}},data:function(){return{properties:[],property:{id:"",name:"",value:""},showForm:!1}},mounted:function(){this.init()},methods:{init:function(){var e,t,a,i,n=this;this.showForm=!1,this.property={id:"",name:"",value:""},this.properties=null!==(e=null===(t=this.element.businessObject.extensionElements)||void 0===t||null===(a=t.values.filter((function(e){return e.$type===n.descriptorPrefix+"Properties"})).shift())||void 0===a||null===(i=a.values)||void 0===i?void 0:i.map((function(e){return{name:e.name,value:e.value}})))&&void 0!==e?e:[]},addProperty:function(){this.showForm=!0;var e={id:Object(s["f"])(),name:"",value:""};this.properties.push(e),this.property=e,this.$refs["propertiesRef"].setCurrentRow(e,!0)},deleteProperty:function(e){var t=this.properties.indexOf(e);this.properties.splice(t,1),this.showForm=!1},editProperty:function(e){this.showForm=!0,this.property=e},save:function(){var e,t,a,i,n,o=this,s=this.element.businessObject.get("extensionElements");if(s||(s=this.modeler.get("moddle").create("bpmn:ExtensionElements")),s.values=null!==(e=null===(t=s.values)||void 0===t?void 0:t.filter((function(e){return e.$type!==o.descriptorPrefix+"Properties"})))&&void 0!==e?e:[],(null===(a=this.properties)||void 0===a?void 0:a.length)>0){var r=this.modeler.get("moddle").create(this.descriptorPrefix+"Properties");this.properties.forEach((function(e){var t=o.modeler.get("moddle").create(o.descriptorPrefix+"Property");t["name"]=e.name,t["value"]=e.value,r.get("values").push(t)})),s.get("values").push(r)}this.updateProperties({extensionElements:0==(null===(i=s.get("values"))||void 0===i?void 0:i.length)?void 0:s}),this._propertiesDrawer=!1,this.$emit("saveProperties",null===(n=this.properties)||void 0===n?void 0:n.length)}}},l=r,c=(a("4000"),a("2877")),d=Object(c["a"])(l,i,n,!1,null,null,null);t["default"]=d.exports},"9e95":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.visible?i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,width:"1000px",center:""},on:{"update:visible":function(t){e.visible=t}}},[i("div",{staticClass:"auto-scroll"},[i("el-row",[i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"过滤条件匹配"}},[i("el-select",{staticClass:"w-full",attrs:{clearable:"",filterable:""},model:{value:e.form.superQueryMatchType,callback:function(t){e.$set(e.form,"superQueryMatchType",t)},expression:"form.superQueryMatchType"}},[e._l(e.select.superQueryMatchType,(function(e){var t=e.value,a=e.label;return[i("el-option",{attrs:{value:t,label:a}})]}))],2)],1)],1),i("el-col",{attrs:{span:18}},[e.conditions.length?e._l(e.conditions,(function(t,a){return i("el-row",{key:t.field},[i("el-form-item",{attrs:{"label-width":"0px"}},[i("el-col",{attrs:{span:6}},[i("el-select",{staticClass:"w-full",attrs:{clearable:"",filterable:"",placeholder:"选择查询字段"},on:{change:function(t){return e.fieldsChange(a)}},model:{value:t.field,callback:function(a){e.$set(t,"field",a)},expression:"item.field"}},[e._l(e.highSearch.type,(function(e){var t=e.prop,a=e.label;e.type,e.selectData;return[i("el-option",{attrs:{value:t,label:a}})]}))],2)],1),i("el-col",{staticClass:"px-4",attrs:{span:6}},[i("el-select",{staticClass:"w-full",attrs:{clearable:"",filterable:"",placeholder:"匹配规则"},model:{value:t.rule,callback:function(a){e.$set(t,"rule",a)},expression:"item.rule"}},[e._l(e.select.rule,(function(e){var t=e.value,a=e.label;return[i("el-option",{attrs:{value:t,label:a}})]}))],2)],1),i("el-col",{attrs:{span:6}},[e.isSelect(t.field,e.highSearch.type)?[i("el-select",{staticClass:"w-full",attrs:{clearable:"",filterable:""},model:{value:t.val,callback:function(a){e.$set(t,"val",a)},expression:"item.val"}},[e._l(e.highSearch[t.field],(function(e){var t=e.itemValue,a=e.itemText;return[i("el-option",{attrs:{value:t,label:a}})]}))],2)]:[i("el-input",{staticClass:"w-full",attrs:{placeholder:"请输入值"},model:{value:t.val,callback:function(a){e.$set(t,"val",a)},expression:"item.val"}})]],2),i("el-col",{staticClass:"pl-4 handle-btn",attrs:{span:4}},[i("el-button",{staticClass:"el-icon-plus",attrs:{plain:""},on:{click:e.plus}}),i("el-button",{staticClass:"el-icon-minus",attrs:{plain:""},on:{click:function(t){return e.minus(a)}}})],1)],1)],1)})):[i("div",{staticClass:"text-center"},[i("img",{attrs:{src:a("8479")}})]),i("div",{staticClass:"text-center"},[i("span",[e._v("没有任何条件")]),i("el-divider",{attrs:{direction:"vertical"}}),i("el-button",{attrs:{type:"text"},on:{click:e.plus}},[e._v("点击新增")])],1)]],2),i("el-col",{attrs:{span:6}},[i("el-card",[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[e._v("保存的查询")])]),e.saveQuerys&&e.saveQuerys.length?[e._l(e.saveQuerys,(function(t,a){return[i("div",{staticClass:"flex justify-between query-item",on:{click:function(a){return e.assignRecords(t.records)}}},[i("div",[i("i",{staticClass:"el-icon-document pr-1"}),i("span",[e._v(e._s(t.title))])]),i("div",{staticClass:"remove",on:{click:function(t){return t.preventDefault(),e.removeRecords(a)}}},[i("i",{staticClass:"el-icon-close cursor-pointer"})])])]}))]:[i("div",{staticClass:"empty-box"},[i("img",{attrs:{src:a("8479")}})])]],2)],1)],1)],1),i("el-row",{staticClass:"form-row"},[i("el-col",{attrs:{span:18}},[i("div",{staticClass:"flex justify-start padding-right-10"},[i("div",{staticClass:"left-label left-label-width"},[e._v("选择有无原文：")]),i("div",{staticClass:"padding-right-10"},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:"选择有无原文"},model:{value:e.original.exist,callback:function(t){e.$set(e.original,"exist",t)},expression:"original.exist"}},[e._l(e.original.existList,(function(e){var t=e.value,a=e.label;return[i("el-option",{attrs:{value:t,label:a}})]}))],2)],1),i("div",{staticClass:"nowrap"},[e._v("原文数量：")]),i("div",[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:"选择有无原文"},model:{value:e.original.rule,callback:function(t){e.$set(e.original,"rule",t)},expression:"original.rule"}},[e._l(e.original.ruleList,(function(e){var t=e.value,a=e.label;return[i("el-option",{attrs:{value:t,label:a}})]}))],2)],1),i("div",[i("el-input",{attrs:{maxlength:"50",min:0,placeholder:"",onkeyup:"value=value.replace(/[^\\d]/g,'')",clearable:""},model:{value:e.original.count,callback:function(t){e.$set(e.original,"count",t)},expression:"original.count"}})],1)]),i("div",{staticClass:"flex justify-start padding-right-10 label-top"},[i("div",{staticClass:"left-label left-label-width"},[e._v("全文包含：")]),i("el-input",{attrs:{type:"textarea",maxlength:"500",rows:5,placeholder:"",clearable:""},model:{value:e.original.content,callback:function(t){e.$set(e.original,"content",t)},expression:"original.content"}})],1)]),i("el-col",{attrs:{span:6}})],1)],1),i("div",{staticClass:"flex justify-between",attrs:{slot:"footer"},slot:"footer"},[i("div",[i("el-button",{attrs:{plain:""},on:{click:e.resetFields}},[e._v("重置")]),i("el-popover",{attrs:{placement:"top",trigger:"click"},model:{value:e.show.save,callback:function(t){e.$set(e.show,"save",t)},expression:"show.save"}},[i("el-input",{attrs:{placeholder:"请输入保存的名称",clearable:""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}}),i("div",{staticClass:"pt-3 text-right"},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.show.save=!1}}},[e._v(" 取消 ")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.saveQueryConditions}},[e._v(" 确定 ")])],1),i("el-button",{attrs:{slot:"reference",plain:""},slot:"reference"},[e._v("保存查询条件")])],1)],1),i("div",[i("el-button",{attrs:{plain:""},on:{click:e.close}},[e._v(e._s(e.$t("common_cancel")))]),i("el-button",{attrs:{type:"primary",loading:e.dialog.loading},on:{click:e.confirm}},[e._v(" 查询 ")])],1)])]):e._e()},n=[],o=a("2909"),s=(a("7db0"),a("a434"),a("159b"),a("d81d"),a("99af"),a("b0c0"),a("ed08")),r=a("6749"),l=a("eddf"),c={name:"HighSearch",props:{title:{type:String,default:""},highSearch:{type:Object}},components:{DragDialog:l["a"]},data:function(){return{visible:!0,loading:!1,form:{superQueryMatchType:"and",title:""},select:{superQueryMatchType:[{value:"and",label:"AND（所有条件都要求匹配）"},{value:"or",label:"OR（条件中的任意一个匹配）"}],rule:[{value:"eq",label:"等于"},{value:"like",label:"包含"},{value:"right_like",label:"以..开始"},{value:"left_like",label:"以..结尾"},{value:"in",label:"在..中"},{value:"ne",label:"不等于"},{value:"gt",label:"大于"},{value:"ge",label:"大于等于"},{value:"lt",label:"小于"},{value:"le",label:"小于等于"}]},original:{exist:null,existList:[{value:"1",label:"有原文"},{value:"0",label:"无原文"}],rule:"ge",ruleList:[{value:"ge",label:"大于等于"},{value:"eq",label:"等于"},{value:"le",label:"小于等于"}],count:null,content:""},show:{save:!1},conditions:[{val:"",rule:"eq",field:""}],saveQuerys:[],dialog:{width:1e3,height:500,name:"highSearch",loading:!1,title:"高级查询构造器"}}},methods:{isSelect:function(e,t){return!!e&&"select"===t.find((function(t){return t.prop===e})).type},fieldsChange:function(e){this.conditions[e].val=""},plus:function(){this.conditions.push({val:"",rule:"eq",field:""})},minus:function(e){this.conditions.splice(e,1)},resetFields:function(){this.conditions.forEach((function(e){e.val="",e.rule="",e.field=""}))},assignRecords:function(e){var t=this,a=e.map((function(e){return e.val}));this.conditions=Object(o["a"])(e),this.$nextTick((function(){t.conditions.forEach((function(e,t){e.val=a[t]}))}))},removeRecords:function(e){this.saveQuerys.splice(e),Object(r["d"])("HIGH_SEARCH_ON_LINE_FORM",this.saveQuerys),this.getQueryConditions()},getQueryConditions:function(){this.saveQuerys=Object(o["a"])(Object(r["c"])("HIGH_SEARCH_ON_LINE_FORM")||[])},saveQueryConditions:function(){var e=this.form.title;if(e){var t=Object(r["c"])("HIGH_SEARCH_ON_LINE_FORM");t=t?[].concat(Object(o["a"])(t),[{title:e,records:this.conditions}]):[{title:e,records:this.conditions}],Object(r["d"])("HIGH_SEARCH_ON_LINE_FORM",t),s["e"].successWithTimer("保存成功"),this.getQueryConditions()}else s["e"].errorWithTimer("请输入保存的名称")},close:function(){var e=this.dialog.name;this.$modal.hide(e)},confirm:function(){var e=this.form.superQueryMatchType,t={superQueryMatchType:e,superQueryParams:this.conditions};this.$emit("superQuery",t)},cancelModal:function(){this.visible=!1,this.$emit("close")}}},d=c,u=(a("9d7a"),a("2877")),p=Object(u["a"])(d,i,n,!1,null,"33bb48f8",null);t["default"]=p.exports},"9ef4":function(e,t,a){},"9f00":function(e,t,a){var i={"./el-button.js":"64b1","./el-checkbox-group.js":"cc1a","./el-input.js":"373c","./el-radio-group.js":"afca","./el-select.js":"a938","./el-upload.js":"73ee"};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=o,e.exports=n,n.id="9f00"},"9f6e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{top:"-20px"},attrs:{visible:e.visible,modal:!0,width:"39%","before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",[a("div",{staticClass:"oper-div"},[a("div",{staticStyle:{color:"red","font-weight":"600"}},[e._v(' 温馨提示：当前批量修改模式 "按当前选择数据进行修改" ')]),a("div",[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.add("batchModList")}}},[e._v("添加修改字段")])],1)])]),a("div",{staticClass:"auto-scroll"},[a("el-form",{ref:"batchModForm",attrs:{model:e.batchModForm}},[a("el-form-item",e._l(e.batchModForm.batchModList,(function(t,i){return a("el-row",{key:i,staticStyle:{"margin-bottom":"20px"}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"batchModList."+i+".oprField",rules:[{required:!0,message:"请选择修改字段！",trigger:"change"}]}},[a("el-select",{attrs:{placeholder:"请选择修改字段"},on:{change:function(t){return e.changeValType(t,i)}},model:{value:t.oprField,callback:function(a){e.$set(t,"oprField",a)},expression:"item.oprField"}},e._l(e.FieldOptions,(function(e){return a("el-option",{key:e.fldName,attrs:{label:e.fldDesc,value:e.fldName,disabled:e.disabled}})})),1)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{prop:"batchModList."+i+".oprType",rules:[{required:!0,message:"请选择操作类型！",trigger:"change"}]}},[a("el-select",{attrs:{placeholder:"操作类型"},model:{value:t.oprType,callback:function(a){e.$set(t,"oprType",a)},expression:"item.oprType"}},e._l(e.operOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{prop:"batchModList."+i+".value",rules:[{required:!0,message:"请输入修改的值！",trigger:"blur"}]}},[t.showInput?a("el-input",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),t.showDict?a("dict-select-tag",{attrs:{"dict-code":t.dictCode,placeholder:"请选择"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e(),t.showDate?a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择时间","value-format":t.format},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e()],1)],1),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:3}},[a("el-button",{attrs:{type:"danger",size:"small",disabled:1===e.batchModForm["batchModList"].length},on:{click:function(t){return e.del(i,"batchModList")}}},[e._v("删除 ")])],1)],1)})),1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.subForm}},[e._v(" 提交 ")]),a("el-button",{on:{click:e.reset}},[e._v("重置")])],1)])},n=[],o=(a("159b"),a("d81d"),a("a434"),a("7db0"),a("0779")),s=a("cf45"),r={name:"BatchUpdateModule",components:{DictSelectTag:o["default"]},props:{organData:{type:Object,default:function(){return null}}},data:function(){return{selectItem:"",dictCode:"",format:"",type:"",arField:[],title:"批量修改",visible:!1,batchModForm:{batchModList:[{oprField:"",oprType:"1",value:"",showInput:!0,showDict:!1,showDate:!1}]},pushForm:{batchModList:{oprField:"",oprType:"1",value:"",showInput:!0,showDict:!1,showDate:!1}},form:{name:"",phone:"",dynamicItem:[]},model:{userName:"2131231"},loading:!1,radio:1,FieldOptions:[],operOptions:[{value:"1",label:"修改"}],value:"",url:{batchUpdate:"/dynamic/batchUpdate",queryVueFld:"/templates/queryVueFld",getTempView:"/templates/getTempView",queryRuleFiled:"dynamic/queryRuleFiled"},params:{}}},created:function(){},methods:{getArchRuleFiled:function(e){var t=this;this.$api.getAction(this.url.queryRuleFiled,{cate_code:e}).then((function(e){"200"===e.code?e.data.fieldListMap.forEach((function(e){t.arField.push(e.FIELD_NAME)})):t.$sweetAlert.errorWithTimer("数据加载失败")}))},getFieldsByVue:function(){var e=this,t={othType:this.params.othType,templateId:this.params.templateId};this.$api.getAction(this.url.getTempView,t).then((function(t){"200"===t.code?e.parsingJson(t.data.vue):e.$sweetAlert.errorWithTimer("数据加载失败")}))},parsingJson:function(e){var t=this,a=JSON.parse(e).list;a.forEach((function(e){if(void 0!=e.columns)e.columns.map((function(e){if(e.list.length>0&&!e.list[0].options.disabled&&t.arField.indexOf(e.list[0].key)<0&&"ARCH_RULE"!=e.list[0].key){var a={};a.fldName=e.list[0].key,a.fldDesc=e.list[0].label,a.type=e.list[0].type,"date"==e.list[0].type&&(a.format=e.list[0].options.format),"select"==e.list[0].type&&(a.dictCode=e.list[0].options.dictType),t.FieldOptions.push(a)}}));else{var a={};e.options.disabled||t.arField.indexOf(e.key)<0&&"ARCH_RULE"!=e.key&&(a.fldName=e.key,a.fldDesc=e.label,a.type=e.type,"date"==e.type&&(a.format=e.options.format),"select"==e.type&&(a.dictCode=e.options.dictType),t.FieldOptions.push(a))}}))},initForm:function(e){this.getArchRuleFiled(e.cateCode),delete e.cateCode,this.params=e,this.getFieldsByVue(),this.visible=!0},del:function(e,t){this.batchModForm[t].splice(e,1)},reset:function(){for(var e=0;e<this.batchModForm.batchModList.length;e++)this.batchModForm.batchModList[e].value=""},cancelModal:function(){this.visible=!1,this.$emit("close"),this.$emit("ok",this.params.othType)},subForm:function(){var e=this;this.$refs.batchModForm.validate((function(t){if(t){for(var a in e.batchModForm.batchModList.forEach((function(t){e.params["[R]"+t.oprField]=t.value})),e.organData)e.params[a]=e.organData[a];e.$api.httpAction(e.url.batchUpdate,e.params,"post").then((function(t){"200"==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.cancelModal()):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))}}))},add:function(e){var t=Object(s["c"])(this.pushForm[e]);this.batchModForm[e].push(t)},changeValType:function(e,t){this.batchModForm.batchModList[t].value="",this.batchModForm.batchModList[t].showDict=!1,this.batchModForm.batchModList[t].showInput=!1,this.batchModForm.batchModList[t].showDate=!1;var a=this.FieldOptions.find((function(t){return t.fldName===e}));"select"===a.type&&(this.batchModForm.batchModList[t].dictCode=a.dictCode,this.batchModForm.batchModList[t].showDict=!0),"input"===a.type&&(this.batchModForm.batchModList[t].showInput=!0),"date"===a.type&&(this.batchModForm.batchModList[t].format=a.format,this.batchModForm.batchModList[t].showDate=!0)}}},l=r,c=(a("d237"),a("2877")),d=Object(c["a"])(l,i,n,!1,null,"0956b9b0",null);t["default"]=d.exports},a059:function(e,t,a){"use strict";a("f338")},a2a1:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{top:"120px"},attrs:{visible:e.visible,modal:!1,width:"20%","before-close":e.cancelModal,title:"是否继续？",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticStyle:{height:"5vh","font-size":"17px","text-align":"center"}},[e._v(" 添加成功！是否继续操作？ ")]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.continueOper("0")}}},[e._v("继续添加")]),"1"==e.othType?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.continueOper("1")}}},[e._v("添加卷内")]):e._e(),"2"==e.othType?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.continueOper("2")}}},[e._v("添加附件")]):e._e(),a("el-button",{attrs:{size:"small"},on:{click:e.cancelModal}},[e._v("取 消")])],1)]):e._e()},n=[],o={name:"MsgModule",components:{},props:{},data:function(){return{title:"",visible:!1,othType:"",initData:{}}},computed:{},methods:{initModule:function(e,t){this.initData=e,this.othType=t,this.visible=!0},continueOper:function(e){var t=this.initData.data.ID;this.$emit("continue",e,t)},cancelModal:function(){this.visible=!1,this.$emit("cancel",this.othType)}},created:function(){}},s=o,r=a("2877"),l=Object(r["a"])(s,i,n,!1,null,"6badbc06",null);t["default"]=l.exports},a36b:function(e,t,a){e.exports=a.p+"static/img/404.a57b6f31.png"},a394:function(e,t,a){"use strict";a("2da7")},a3d4:function(e,t,a){},a472:function(e,t,a){},a664:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.showLoading,expression:"showLoading"}],staticStyle:{"background-color":"#FFF",padding:"6px",height:"100%"},attrs:{"element-loading-text":e.showContent}},[a("div",{staticClass:"file-main"},[a("div",{staticClass:"file-left"},[e.showImage?a("div",{staticClass:"demo-image__preview div-img"},[a("el-image",{attrs:{src:e.srcUrl,"preview-src-list":e.urlArr}})],1):e._e(),e.showCkplaye?a("div",[a("ckplayer",{ref:"ckplayer",attrs:{videoUrls:e.srcUrl}})],1):e._e(),e.showPdf?a("div",[a("pdf-detail",{attrs:{pdf:e.srcUrl}})],1):e._e()]),a("div",{staticClass:"file-right"},[a("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:e.uploadUrl,"show-file-list":!1,"on-success":e.handleSuccess,"before-upload":e.beforeUpload,"on-progress":e.onProgress,data:e.data,accept:e.acceptStr}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-upload"}},[e._v("上传单个文件")])],1),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-upload"},on:{click:e.handleSingle}},[e._v("上传多个文件")])],1),e._m(0),a("div",{staticClass:"right-auto-scroll"},e._l(e.fileInFo,(function(t,i){return a("div",{staticClass:"file-info"},[a("a",{staticStyle:{color:"#00b8ff","margin-bottom":"10px"},on:{click:function(a){return e.setSrcUrl(t)}}},[e._v(" "+e._s(t.fileFprimalnam))]),a("br"),a("span",[e._v("文件大小："+e._s(t.fileSizeDesc))]),a("span",[e._v("上传日期："+e._s(t.updateTime))]),a("div",[e._v("创建程序："+e._s(t.createProgram)+" "),a("a",{staticStyle:{color:"#00b8ff","margin-bottom":"10px"},on:{click:function(a){return e.update(t.createProgram,i)}}},[e._v("修改")])]),e.crePro===i?a("div",{staticClass:"CrePro"},[a("el-input",{attrs:{type:"text",size:"mini"},model:{value:e.createProgram,callback:function(t){e.createProgram=t},expression:"createProgram"}}),a("div",[a("a",{staticStyle:{color:"#4db6ff"},on:{click:function(a){return e.saveCreInfo(t.id)}}},[e._v("保存")]),a("a",{on:{click:e.cancel}},[e._v("取消")])])],1):e._e(),a("div",[a("div",[e._v("MD5摘要："+e._s(t.fileMd5))])]),a("span"),a("div",[e._v(" 稿本："),a("span",[e._v(e._s(t.textItemDesc))]),a("el-select",{staticStyle:{"margin-left":"10px"},attrs:{value:e.selectItem===i?e.fileItem:t.textItem+"",size:"mini"},on:{change:function(a){return e.changeFileItem(i,a,t.id)}}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",{staticClass:"oper-div"},[a("a",{on:{click:function(a){return e.dowOrgFile(t.id,t.fileFprimalnam)}}},[e._v("原件下载")]),a("a",{on:{click:function(a){return e.dowViewFile(t.id,t.fileFprimalnam)}}},[e._v("阅览件下载")]),a("a",{on:{click:function(a){return e.operFile(t.id,"reChange")}}},[e._v("重新转换")]),a("a",{staticStyle:{color:"red"},on:{click:function(a){return e.operFile(t.id,"delFile")}}},[e._v("删除")])])])})),0)])]),e.batchUploadShow?a("batch-upload-module",{ref:"batchUploadModule",on:{ok:e.getFileInfo,close:function(t){e.batchUploadShow=!1}}}):e._e()],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"border-bottom":"solid 1px #cecdc7",color:"red"}},[a("span",[e._v("仅提供部分文档预览,查看全部内容请下载PDF，双击图片格式的文件支持放大缩小")])])}],o=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("cf45")),s=a("eccd"),r=a("37e1"),l=a("99d6"),c={name:"FileTabPane",components:{PdfDetail:s["default"],ckplayer:r["default"],BatchUploadModule:l["default"]},props:{},data:function(){return{srcUrl:"",urlArr:[],fileList:[],fileInFo:[],templateId:"",docId:"",data:{busiId:"",othType:"2",templateId:""},oprCode:!1,url:{deleteFile:"/file/delete",dowOrgFile:"/attachment/showFile",checkView:"/attachment/checkView",reChange:"/file/reChange",updateProgram:"/file/updateProgram",updateFileTextItem:"/file/updateFileTextItem",getFileInfo:"/dynamic/getFileList",viewDownLoad:"/attachment/viewDownLoad"},showImage:!1,showLoading:!1,showContent:"",showPdf:!1,showCkplaye:!1,createProgram:"",showCreateProgram:!1,batchUploadShow:!1,crePro:null,fileItem:null,selectItem:null,options:[{value:"1",label:"草稿"},{value:"2",label:"正本"},{value:"9",label:"其他"}],acceptStr:".ppt,.pptx,.doc,.docx,.xls,.xlsx,.jpg,.png,.jpeg,.gif,.bmp,.pdf,.mp3,.mp4,.flv,.avi,.3gp"}},computed:{uploadUrl:function(){return window._CONFIG["VUE_APP_UPLOAD_FILE"]+"?__sid="+Object(o["e"])("ARCAMEL-JESSIONID")}},created:function(){},methods:{init:function(e,t,a){this.templateId=t,this.oprCode=a,this.docId=e,this.data["busiId"]=e,this.data["templateId"]=t,this.getFileInfo()},getFileInfo:function(){var e=this,t={id:this.docId,othType:"2",templateId:this.templateId};this.fileInFo=[];var a=this.url.getFileInfo;this.oprCode?(a="/compilation/getFileList",this.$api.httpAction(a,t,"post").then((function(t){"200"==t.code&&t.data.length>0?(e.fileInFo=t.data,e.setSrcUrl(t.data[0])):e.setSrcUrl(null)}))):this.$api.getAction(this.url.getFileInfo,t).then((function(t){"200"==t.code&&t.data.length>0?(e.fileInFo=t.data,e.setSrcUrl(t.data[0])):e.setSrcUrl(null)})).catch((function(){}))},handleSuccess:function(e){this.showLoading=!1,"200"==e.code?(this.getFileInfo(),this.$sweetAlert.successWithTimer("文件上传成功！")):e.msg.indexOf("ConnectException")>=0?this.$sweetAlert.errorWithTimer("连接异常！"):this.$sweetAlert.errorWithTimer("上传失败！")},beforeUpload:function(e){this.showLoading=!0},handleSingle:function(){var e=this;this.batchUploadShow=!0,this.$nextTick((function(){e.$refs["batchUploadModule"].init(e.docId,e.templateId)}))},setSrcUrl:function(e){var t=this;switch(this.showImage=!1,this.showPdf=!1,this.showCkplaye=!1,e.fileFormat){case"png":case"jpg":case"jpeg":case"bmp":case"tif":case"gif":this.showImage=!0,this.$nextTick((function(){t.srcUrl="",t.srcUrl=e.url,t.urlArr=[],t.urlArr.push(e.url)}));break;case"mp4":case"mp3":case"flv":case"avi":case"3gp":this.showCkplaye=!0,this.$nextTick((function(){t.srcUrl=e.url}));break;case"pdf":case"txt":case"doc":case"docx":case"xls":case"xlsx":case"ppt":case"pptx":this.showPdf=!0,this.$nextTick((function(){t.srcUrl="",t.srcUrl=e.url}));break;default:this.$sweetAlert.warnWithTimer(void 0!=e.createProgram&&"undefined"!=e.createProgram?"请您使用"+e.createProgram+"等软件打开！":"该文件格式不支持直接预览！");break}},dowViewFile:function(e,t){var a=this,i=t.substring(0,t.lastIndexOf(".")),n=i+"_阅览件.pdf",o={id:e,templateId:this.templateId};this.$api.httpAction(this.url.checkView,o,"post").then((function(e){"200"==e.code?a.$api.downFile(a.url.viewDownLoad,o).then((function(e){if(e)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([e]),n);else{var t=window.URL.createObjectURL(new Blob([e])),i=document.createElement("a");i.style.display="none",i.href=t,i.setAttribute("download",n),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(t)}else a.$sweetAlert.errorWithTimer("文件下载失败！")})):a.$sweetAlert.warnWithTimer(e.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")}))},dowOrgFile:function(e,t){var a=this,i={id:e,templateId:this.templateId};this.$api.downFile(this.url.dowOrgFile,i).then((function(e){if(e)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([e]),t);else{var i=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.style.display="none",n.href=i,n.setAttribute("download",t),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}else a.$sweetAlert.errorWithTimer("文件下载失败！")}))},update:function(e,t){this.crePro=t,this.createProgram=e},operFile:function(e,t){var a=this;this.$confirm("reChange"!=t?"确定删除?":"确定重新转换?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i={id:e,templateId:a.templateId},n="reChange"!=t?a.url.deleteFile:a.url.reChange;a.$api.httpAction(n,i,"post").then((function(e){"200"==e.code?("reChange"!=t&&a.getFileInfo(),a.$sweetAlert.successWithTimer(e.msg)):a.$sweetAlert.warnWithTimer(e.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")}))}))},saveCreInfo:function(e){var t=this,a={id:e,templateId:this.templateId,createProgram:this.createProgram};this.$api.httpAction(this.url.updateProgram,a,"post").then((function(e){"200"===e.code?(t.$sweetAlert.successWithTimer(e.msg),t.getFileInfo(),t.cancel()):t.$sweetAlert.warnWithTimer(e.msg)}))},onProgress:function(e,t,a){var i=Math.floor(e.percent);100==i&&"success"!=t.status&&(i=99),this.showContent="文件加速上传中： "+i+" %"},cancel:function(){this.crePro=null},changeFileItem:function(e,t,a){var i=this;this.selectItem=e,this.fileItem=t;var n={id:a,templateId:this.templateId,textItem:t};this.$api.httpAction(this.url.updateFileTextItem,n,"post").then((function(e){"200"===e.code?(i.getFileInfo(),i.$sweetAlert.successWithTimer(e.msg)):i.$sweetAlert.warnWithTimer(e.msg)}))}}},d=c,u=(a("a059"),a("2877")),p=Object(u["a"])(d,i,n,!1,null,"1c8a74a8",null);t["default"]=p.exports},a684:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container auto-box",attrs:{id:"fileBox"}},[e.showListFlag?a("el-row",{staticClass:"max-height"},[a("el-col",{staticClass:"max-height",attrs:{span:24}},[e.fileBoxShow?a("div",{staticClass:"flex-column max-height"},[e.showSeaBarBox?a("search-bar",{ref:"searchBarBox",on:{"set-search-val":e.setSearchVal}}):e._e(),a("tab-btn",{attrs:{list:e.fileBtnList,saveType:"arch-file",statisticsFlag:e.statisticsFlag,othType:"1",setBtn:!0},on:{click:e.tabBtnClick,set:function(t){return e.setArchTable(1)}}}),e.statisticsFlag?a("statistics-box",{attrs:{paramsData:e.statisticsParams}}):e._e(),a("div",{staticClass:"auto-scroll"},[a("arch-dyn-table",{ref:"fileBox",attrs:{"module-type":"arch","template-id":e.templateId,"oth-type":1,"biz-type":"archArrange","is-select":e.fileBoxObj.isSelect,"cate-code":e.cateCode,"show-total":!0,"remove-show":!0,transfered:e.transfered,"oper-col":e.fileBoxObj.operCol},on:{"cell-click":e.cellClickFile,"cell-style":e.cellStyle,"down-click":e.downBoxClick,"up-click":e.upBoxClick,"row-style":e.rowStyle}})],1)],1):e._e(),e.fileBoxShow?a("hr"):e._e(),e.fileReelShow?a("div",{staticClass:"flex-column max-height vol-common-box",class:{"vol-singe-box":!e.fileBoxShow}},[e.showSeaBarReel?a("search-bar",{ref:"searchBarReel",on:{"set-search-val":e.setSearchVal}}):e._e(),a("tab-btn",{attrs:{list:e.fileBoxShow?e.docBtnList:e.singlBtnList,saveType:e.fileBoxShow?"arch-doc":"arch-single",othType:e.fileBoxShow?"2":"3",setBtn:!0},on:{click:e.tabBtnClick,set:function(t){return e.setArchTable(2)}}}),e.statisticsFlag&&2==e.cateType?a("statistics-box",{attrs:{"params-data":e.statisticsParams}}):e._e(),a("div",{staticClass:"auto-scroll",attrs:{id:"volBox"}},[a("arch-dyn-table",{ref:"fileReel",attrs:{"module-type":"arch","biz-type":"archArrange","template-id":e.templateId,"oth-type":e.fileBoxShow?2:3,"is-select":e.fileReelObj.isSelect,"vol-id":e.volId,"remove-show":!0,"cate-code":e.cateCode,transfered:e.transfered,"oper-col":e.fileReelObj.operCol},on:{"down-click":e.downReelClick,"up-click":e.upReelClick,"row-style":e.rowStyle}})],1)],1):e._e()])],1):e._e(),a("back-top"),e.showListFlag?e._e():a("div",{staticClass:"max-height"},[a("cate-panel",{attrs:{cateId:e.cateId,templateNoneFlag:e.templateNoneFlag},on:{click:e.catePanelClick}})],1),e.showModal.show?a("show-modal",{ref:"showModal",attrs:{title:e.showModal.title},on:{close:function(t){e.showModal.show=!1}}}):e._e(),e.fileBoxReelModule.show?a("file-box-reel-module",{ref:"fileBoxReelModule",attrs:{title:e.fileBoxReelModule.textMap[e.fileBoxReelModule.status],status:e.fileBoxReelModule.status},on:{ok:e.queryList,"vol-id":e.setVolId,close:function(t){e.fileBoxReelModule.show=!1}}}):e._e(),e.batchUpModuleShow?a("batch-update-module",{ref:"batchUpdateModule",attrs:{organData:e.paramsObject},on:{ok:function(t){return e.queryList("1")},close:function(t){e.batchUpModuleShow=!1}}}):e._e(),e.bachConfShow?a("bach-conf-module",{ref:"bachConfModule",on:{ok:function(t){return e.queryList("1")},ConfVal:e.ConfVal,close:function(t){e.bachConfShow=!1}}}):e._e(),e.archiveModuleShow?a("archive-module",{ref:"archiveModule",on:{ok:function(t){return e.queryList("1")},close:function(t){e.archiveModuleShow=!1}}}):e._e(),e.checkDisModuleShow?a("check-dis-module",{ref:"checkDisModule",on:{ok:function(t){return e.queryList("1")},close:function(t){e.checkDisModuleShow=!1}}}):e._e(),e.sortModuleShow?a("sort-module",{ref:"sortModule",on:{ok:function(t){return e.queryList("1")},close:function(t){e.sortModuleShow=!1}}}):e._e(),e.dataRelatedModuleShow?a("data-related-module",{ref:"dataRelatedModule",on:{ok:function(t){return e.queryList("2")},close:function(t){e.dataRelatedModule=!1}}}):e._e(),e.impModuleShow?a("imp-module",{ref:"impModule",on:{ok:function(t){return e.queryList("1")},close:function(t){e.impModuleShow=!1}}}):e._e(),e.recycleShow?a("recycle-module",{ref:"recycleModule",on:{ok:e.queryList,close:function(t){e.recycleShow=!1}}}):e._e(),e.print.show?a("print-modal",{ref:"print",on:{close:function(t){e.print.show=!1}}}):e._e(),e.exportPackage.show?a("export-package",{ref:"exportPackage",on:{close:function(t){e.exportPackage.show=!1}}}):e._e(),e.hookUpShow?a("batch-hook-up-module",{ref:"hookUpModule",on:{ok:e.queryList,close:function(t){e.hookUpShow=!1}}}):e._e()],1)},n=[],o=a("1da1"),s=a("5530"),r=(a("96cf"),a("4de4"),a("a434"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("d81d"),a("b0c0"),a("159b"),a("5251")),l=a("e8ec"),c=a("b713"),d=a("c1c1"),u=a("69ca"),p=a("70ef"),m=a("faca"),h=a("60f9"),f=a("2e5f"),v=(a("ed08"),a("facc")),b=a("dcd5"),g=a("14a6"),y=a("e780"),_=a("1a36"),w=a("b217"),k=a("9f6e"),x=a("2f62"),C=a("ca00"),D=a("cf45"),T=a("7b9d"),I=a("cf3b"),S=a("c79f"),A=a("0efe"),O=a("a747"),$=a("4ad7"),L={name:"ArchArrangeList",mixins:[m["a"]],components:{ExportPackage:r["default"],PrintModal:l["default"],TabBtn:c["default"],ShowModal:d["default"],StatisticsBox:u["default"],DataRelatedModule:S["default"],CatePanel:p["default"],CheckDisModule:T["default"],BasicTree:h["default"],BtnList:f["default"],ArchDynTable:v["default"],FileBoxReelModule:_["default"],BatchUpdateModule:k["default"],BachConfModule:w["default"],ArchiveModule:b["default"],SortModule:I["default"],SearchBar:g["default"],ImpModule:y["default"],RecycleModule:A["default"],BackTop:O["default"],BatchHookUpModule:$["default"]},data:function(){var e=this;this.$createElement;return{cateType:1,searchOptions:[],searchVal:{},initLoadOver:!1,fileBoxShow:!0,fileReelShow:!1,bachConfShow:!1,archiveModuleShow:!1,checkDisModuleShow:!1,sortModuleShow:!1,dataRelatedModuleShow:!1,impModuleShow:!1,showSeaBarBox:!0,showSeaBarReel:!1,recycleShow:!1,hookUpShow:!1,exportPackage:{show:!1,loading:!1},print:{show:!1,loading:!1},volId:"",value:"1",transfered:"4",templateId:"",cateCode:"",folderCode:"",treeData:[],defaultCheckedKeys:[],defaultExpandedKeys:[],defaultExpandAll:!1,searchText:"",fileBoxObj:{isSelect:!0,operCol:[{label:"操作",prop:"oper",width:160,fixed:"right",render:function(t,a){var i=a.row,n=[{content:"编辑/阅览",type:"text",icon:"edit",permission:"sys:arch:update",event:function(){e.edit(i,"1")}},{content:"删除",type:"text",icon:"delete",color:"#CD2E18",permission:"sys:arch:del",event:function(){e.delete(i,"1")}}];return t(f["default"],{attrs:{btnInfo:n}})}}]},fileReelObj:{isSelect:!0,operCol:[{label:"操作",prop:"oper",width:160,fixed:"right",render:function(t,a){var i=a.row,n=[{content:"编辑/阅览",type:"text",icon:"edit",permission:"sys:arch:update",event:function(){e.edit(i,1==e.cateType?"2":"3")}},{content:"删除",type:"text",icon:"delete",color:"#F56C6C",permission:"sys:arch:del",event:function(){e.delete(i,1==e.cateType?"2":"3")}}];return t(f["default"],{attrs:{btnInfo:n}})}}]},url:{codeTree:"/category/archCateTree",filesList:"/dynamic/list",getFields:"/queryFld/qfListVo",subReviewApi:"",deleteArrange:"/dynamic/delete",expCheckData:"/arch/exportExcel",addTransferForm:"/transferForm/add",searchFld:"/searchFld/sfList",upDownMove:"/arch/upDownMove",unwindBox:"/dynamic/unwindBox",removeArrange:"/archArrange/removeArrange",copyBoxReel:"/dynamic/copyBoxReel"},fileBoxReelModule:{show:!1,status:"create",textMap:{update:"编辑",create:"添加",similarAdd:"类似新建",mergeVol:"案卷合并",groupVol:"卷内组卷",insert:"插入"},loading:!1},batchUpModuleShow:!1,reviewModuleShow:!1,initFromData:{templateId:"",cateCode:""},selectedTreeId:"",paramsObject:null,fileBtnList:[{label:"常用功能",key:"common",list:[{permission:"sys:arch:add",name:"新增",icon:"plus",key:"add"},{permission:"sys:collection:del",name:"删除",icon:"delete",key:"delete"},{permission:"",name:"复制",icon:"document-copy",key:"copy"},{permission:"sys:arch:batchEdit",name:"批量修改",icon:"finished",key:"batchEdit"}]},{label:"全部功能",key:"all",type:"hide",list:[{permission:"sys:arch:add",name:"新增",icon:"plus",key:"add"},{permission:"sys:collection:del",name:"删除",icon:"delete",key:"delete"},{permission:"sys:collection:recycle",name:"回收站",icon:"delete",key:"recycle"},{permission:"sys:collection:remove",name:"移除",icon:"delete",key:"remove"},{permission:"",name:"批量挂接",icon:"folder-add",key:"batchHookUp"},{permission:"",name:"复制",icon:"document-copy",key:"copy"},{permission:"",name:"插入",icon:"bottom",key:"insert"},{permission:"sys:arch:unwind",name:"拆卷",icon:"sort",key:"unwind"},{permission:"sys:arch:group",name:"合卷",icon:"copy-document",key:"group"},{permission:"sys:arch:turncate",name:"转分类",icon:"share",key:"turncate"},{permission:"sys:arch:batchEdit",name:"批量修改",icon:"finished",key:"batchEdit"},{permission:"",name:"归档",icon:"upload2",key:"archive"},{type:"dropdown",permission:"",name:"导出导入",icon:"",key:"",dropdownList:[{name:"导出数据",command:"expCheckData"},{name:"下载导入模板",command:"dowImpTemp"},{name:"导入数据",command:"impData"}]},{permission:"sys:arch:print",name:"打印",icon:"",key:"print"},{type:"switchBtn",permission:"",name:"显示统计",switchName:"隐藏统计",switchFlag:!1,icon:"",key:"statistics"},{permission:"",name:"题名查重",icon:"",key:"title-vol"},{permission:"",name:"查漏",icon:"",key:"burst-vol"},{permission:"",name:"查重",icon:"",key:"repeat-vol"}]},{label:"新增",key:"add",list:[{permission:"sys:arch:add",name:"新增",icon:"plus",key:"add"},{permission:"",name:"复制",icon:"document-copy",key:"copy"},{permission:"",name:"插入",icon:"bottom",key:"insert"},{permission:"",name:"批量挂接",icon:"folder-add",key:"batchHookUp"}]},{label:"编辑与调整",key:"edit",list:[{permission:"sys:arch:batchEdit",name:"批量修改",icon:"finished",key:"batchEdit"}]},{label:"组卷",key:"group",list:[{permission:"sys:arch:unwind",name:"拆卷",icon:"sort",key:"unwind"},{permission:"sys:arch:group",name:"合卷",icon:"copy-document",key:"group"}]},{label:"删除",key:"delete",list:[{permission:"sys:collection:remove",name:"移除",icon:"delete",key:"remove"},{permission:"sys:collection:del",name:"删除",icon:"delete",key:"delete"},{permission:"sys:collection:recycle",name:"回收站",icon:"delete",key:"recycle"}]},{label:"移交",key:"transfer",list:[{permission:"",name:"归档",icon:"upload2",key:"archive"}]},{label:"查询与统计",key:"statistics",list:[{type:"switchBtn",permission:"",name:"显示统计",switchName:"隐藏统计",switchFlag:!1,icon:"",key:"statistics"}]},{label:"输出与打印",key:"output",list:[{type:"dropdown",permission:"",name:"导出导入",icon:"",key:"",dropdownList:[{name:"导出数据",command:"expCheckData"},{name:"下载导入模板",command:"dowImpTemp"},{name:"导入数据",command:"impData"}]},{permission:"sys:arch:print",name:"打印",icon:"",key:"print"},{name:"导出封包",key:"export-package"}]},{label:"检测与鉴定",key:"testing",list:[{permission:"",name:"题名查重",icon:"",key:"title-vol"},{permission:"",name:"查漏",icon:"",key:"burst-vol"},{permission:"",name:"查重",icon:"",key:"repeat-vol"}]},{label:"其他",key:"other",list:[{permission:"sys:arch:turncate",name:"转分类",icon:"share",key:"turncate"}]}],docBtnList:[{label:"常用功能",key:"common",list:[{permission:"sys:arch:add",name:"新增",icon:"plus",key:"add"},{permission:"sys:collection:del",name:"删除",icon:"delete",key:"delete"},{permission:"",name:"复制",icon:"document-copy",key:"copy"},{permission:"sys:arch:batchEdit",name:"批量修改",icon:"finished",key:"batchEdit"}]},{label:"全部功能",key:"all",type:"hide",list:[{permission:"sys:arch:add",name:"新增",icon:"plus",key:"add"},{permission:"sys:collection:del",name:"删除",icon:"delete",key:"delete"},{permission:"sys:collection:recycle",name:"回收站",icon:"delete",key:"recycle"},{permission:"sys:collection:remove",name:"移除",icon:"delete",key:"remove"},{permission:"",name:"复制",icon:"document-copy",key:"copy"},{permission:"",name:"批量挂接",icon:"folder-add",key:"batchHookUp"},{permission:"",name:"插入",icon:"bottom",key:"insert"},{permission:"",name:"数据关联",icon:"connection",key:"dataRelated"},{permission:"sys:arch:merge",name:"卷内组卷",icon:"files",key:"groupVol"},{permission:"",name:"未组卷数据",icon:"delete",key:"unGroupVol"},{permission:"sys:arch:batchEdit",name:"批量修改",icon:"finished",key:"batchEdit"},{permission:"sys:arch:print",name:"打印",icon:"",key:"print"},{permission:"",name:"查漏",icon:"",key:"burst-doc"}]},{label:"新增",key:"add",list:[{permission:"sys:arch:add",name:"新增",icon:"plus",key:"add"},{permission:"",name:"复制",icon:"document-copy",key:"copy"},{permission:"",name:"插入",icon:"bottom",key:"insert"},{permission:"",name:"批量挂接",icon:"folder-add",key:"batchHookUp"}]},{label:"编辑与调整",key:"edit",list:[{permission:"sys:arch:batchEdit",name:"批量修改",icon:"finished",key:"batchEdit"}]},{label:"组卷",key:"group",list:[{permission:"sys:arch:merge",name:"卷内组卷",icon:"files",key:"groupVol"},{permission:"",name:"未组卷数据",icon:"delete",key:"unGroupVol"}]},{label:"删除",key:"delete",list:[{permission:"sys:collection:remove",name:"移除",icon:"delete",key:"remove"},{permission:"sys:collection:del",name:"删除",icon:"delete",key:"delete"},{permission:"sys:collection:recycle",name:"回收站",icon:"delete",key:"recycle"}]},{label:"输出与打印",key:"output",list:[{permission:"sys:arch:print",name:"打印",icon:"",key:"print"}]},{label:"检测与鉴定",key:"testing",list:[{permission:"",name:"查漏",icon:"",key:"burst-doc"}]},{label:"其他",key:"other",list:[{permission:"",name:"数据关联",icon:"connection",key:"dataRelated"}]}],singlBtnList:[{label:"常用功能",key:"common",list:[{permission:"sys:collection:add",name:"新增",icon:"plus",key:"add"},{permission:"sys:collection:del",name:"删除",icon:"delete",key:"delete"},{permission:"",name:"复制",icon:"document-copy",key:"copy"},{permission:"sys:collection:batchEdit",name:"批量修改",icon:"finished",key:"batchEdit"}]},{label:"全部功能",key:"all",type:"hide",list:[{permission:"sys:collection:add",name:"新增",icon:"plus",key:"add"},{permission:"sys:collection:del",name:"删除",icon:"delete",key:"delete"},{permission:"sys:collection:recycle",name:"回收站",icon:"delete",key:"recycle"},{permission:"sys:collection:remove",name:"移除",icon:"delete",key:"remove"},{permission:"",name:"复制",icon:"document-copy",key:"copy"},{permission:"",name:"插入",icon:"bottom",key:"insert"},{permission:"",name:"批量挂接",icon:"folder-add",key:"batchHookUp"},{permission:"sys:collection:batchEdit",name:"批量修改",icon:"finished",key:"batchEdit"},{permission:"",name:"归档",icon:"upload2",key:"archive"},{type:"switchBtn",permission:"",name:"显示统计",switchName:"隐藏统计",switchFlag:!1,icon:"",key:"statistics"},{permission:"",name:"题名查重",icon:"",key:"title-vol"},{permission:"",name:"查漏",icon:"",key:"burst-doc"},{permission:"sys:collection:print",name:"打印",icon:"",key:"print"},{permission:"",name:"查漏",icon:"",key:"burst-doc"}]},{label:"新增",key:"add",list:[{permission:"sys:collection:add",name:"新增",icon:"plus",key:"add"},{permission:"",name:"复制",icon:"document-copy",key:"copy"},{permission:"",name:"插入",icon:"bottom",key:"insert"},{permission:"",name:"批量挂接",icon:"folder-add",key:"batchHookUp"}]},{label:"编辑与调整",key:"edit",list:[{permission:"sys:arch:batchEdit",name:"批量修改",icon:"finished",key:"batchEdit"}]},{label:"删除",key:"delete",list:[{permission:"sys:collection:remove",name:"移除",icon:"delete",key:"remove"},{permission:"sys:collection:del",name:"删除",icon:"delete",key:"delete"},{permission:"sys:collection:recycle",name:"回收站",icon:"delete",key:"recycle"}]},{label:"移交",key:"transfer",list:[{permission:"",name:"归档",icon:"upload2",key:"archive"}]},{label:"查询与统计",key:"statistics",list:[{type:"switchBtn",permission:"",name:"显示统计",switchName:"隐藏统计",switchFlag:!1,icon:"",key:"statistics"}]},{label:"输出与打印",key:"output",list:[{permission:"sys:collection:print",name:"打印",icon:"",key:"print"}]},{label:"检测与鉴定",key:"testing",list:[{permission:"",name:"题名查重",icon:"",key:"title-vol"},{permission:"",name:"查漏",icon:"",key:"burst-doc"},{permission:"",name:"查重",icon:"",key:"repeat-vol"}]}]}},watch:{defaultCheckedKeys:function(e){e&&this.$nextTick((function(){document.querySelector(".el-icon-document-copy").click()}))}},computed:Object(s["a"])(Object(s["a"])({},Object(x["c"])(["userInfo"])),{},{domainURL:function(){return window._CONFIG["domainURL"]},theme:function(){return this.$store.state.settings.theme},statisticsParams:function(){var e={};return this.paramsObject&&(e=this.paramsObject),1==this.cateType?e.cateType="1":e.cateType="2",e.templateId=this.templateId,e.cate_code=this.cateCode,e.archStatus="0,2",e.transfered="4",e}}),created:function(){},mounted:function(){},methods:{setArchTable:function(e){this.$refs["1"==e?"fileBox":"fileReel"].setArchTable()},tabBtnClick:function(e){var t=this,a=e.key,i=e.othType,n=this.$refs["1"==i?"fileBox":"fileReel"].table.selection,o={othType:i,templateId:this.templateId};switch(n.length>0&&(o=Object(s["a"])(Object(s["a"])({},o),{},{ids:Object(C["e"])(n)})),a){case"add":this.add(i);break;case"delete":this.batchDelRem(i,"1");break;case"recycle":this.recycle(i);break;case"remove":this.batchDelRem(i,"0");break;case"copy":this.batchCopy(i);break;case"insert":this.insertBoxReel(i);break;case"unwind":this.unwindBox(i);break;case"group":this.boxMerge(i);break;case"turncate":this.shiftSort(i);break;case"batchEdit":this.batchUpdate(i);break;case"archive":this.archive();break;case"expCheckData":this.expCheckData();break;case"dowImpTemp":this.dowImpTemp();break;case"impData":this.impData(i);break;case"statistics":this.statisticsFlag=!this.statisticsFlag;break;case"print":if(!n.length>0)return void this.$sweetAlert.warnWithTimer("请先勾选数据进行操作！");this.print.show=!0,this.$nextTick((function(){t.$refs.print.init("1",i,o)}));break;case"export-package":if(!n.length>0)return void this.$sweetAlert.warnWithTimer("请选择要导出的数据！");this.exportPackage.show=!0,this.$nextTick((function(){t.$refs.exportPackage.init(o)}));break;case"title-vol":this.selectDhScreen("title","vol");break;case"burst-vol":this.selectDhScreen("burst","vol");break;case"repeat-vol":this.selectDhScreen("repeat","vol");break;case"burst-doc":this.selectDhScreen("burst","doc");break;case"dataRelated":this.dataRelated(i);break;case"groupVol":this.groupVol(i);break;case"unGroupVol":this.unGroupVol(i);break;case"batchHookUp":this.batchHookUp(i);break;default:break}},batchCopy:function(e){var t=this,a=this.$refs["1"==e?"fileBox":"fileReel"].table.selection;if(!a.length>0)this.$sweetAlert.warnWithTimer("请先勾选数据进行操作！");else{var i={ids:Object(C["e"])(a),othType:e,templateId:this.templateId};this.$api.httpAction(this.url.copyBoxReel,i,"post").then((function(a){"200"==a.code?(t.$sweetAlert.successWithTimer(a.msg),t.queryList(e)):t.$sweetAlert.errorWithTimer(a.msg)})).catch((function(){t.$sweetAlert.errorWithTimer("error")}))}},insertBoxReel:function(e){var t=this,a=this.$refs["1"==e?"fileBox":"fileReel"].table.selection;if(1==a.length){var i=a[0];"1"!=e&&(this.initFromData.volId=this.volId),this.initFromData.othType=e,this.initFromData.row=i,this.initFromData.status="insert",this.fileBoxReelModule.status="insert",this.initFromData.archStatus="0",this.fileBoxReelModule.show=!0,this.$nextTick((function(){t.$refs["fileBoxReelModule"].initForm(t.initFromData)}))}else this.$sweetAlert.warnWithTimer("请选择一条需要插卷的记录，新增记录将插入该记录上方，并会修改后续件号！")},recycle:function(e){var t=this;this.recycleShow=!0,this.initFromData.othType=e,this.initFromData.transfered=4,this.$nextTick((function(){t.$refs["recycleModule"].initForm(t.initFromData)}))},batchDelRem:function(e,t){var a=this,i="",n=[],o="1"==t?"删除！":"移除！";if(1==e){if(!this.$refs["fileBox"].table.selection.length>0)return void this.$sweetAlert.warnWithTimer("请勾选数据进行"+o);n=this.$refs["fileBox"].table.selection}else{if(!this.$refs["fileReel"].table.selection.length>0)return void this.$sweetAlert.warnWithTimer("请勾选数据进行"+o);n=this.$refs["fileReel"].table.selection}var s=n.filter((function(e){return 1===e.PUT_STATUS}));if(s.length!==n.length)if(0!==s.length&&s.length<n.length)this.$sweetAlert.warnWithTimer("勾选数据中存在上架数据，无法删除！");else{for(var r=0;r<n.length;r++)r==n.length-1?i+=n[r].ID:i+=n[r].ID+",";var l="1"==t?"是否确定删除？删除数据将进入回收站，如需彻底删除请点击移除操作！":"是否确认移除？移除后数据将彻底消失，请您谨慎操作！";this.$confirm(l,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var n={id:i,othType:e,templateId:a.templateId},o="1"==t?a.url.deleteArrange:a.url.removeArrange;a.$api.httpAction(o,n,"post").then((function(t){"200"==t.code?(a.$sweetAlert.successWithTimer(t.msg),a.queryList(e)):a.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))}else this.$sweetAlert.warnWithTimer("勾选数据为已上架，无法删除！")},boxMerge:function(e){var t=this,a=this.$refs["fileBox"].table.selection;if(a.length<2)this.$sweetAlert.warnWithTimer("合卷至少选择两条案卷！");else{for(var i=0;i<a.length;i++)if(!a[i].DOC_TOTAL>0)return this.$sweetAlert.warnWithTimer("合卷操作请选择卷内数不为空的数据！！"),!1;this.$confirm("确定合卷吗?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.fileBoxReelModule.status="mergeVol",t.fileBoxReelModule.show=!0,t.initFromData.status="mergeVol",t.initFromData.othType=e,t.initFromData.volId=Object(C["e"])(t.$refs["fileBox"].table.selection),t.$nextTick((function(){t.$refs["fileBoxReelModule"].initForm(t.initFromData)}))})).catch((function(){t.queryList()}))}},shiftSort:function(){var e=this;this.$refs["fileBox"].table.selection.length<1?this.$sweetAlert.warnWithTimer("请至少需勾选一条！"):(this.sortModuleShow=!0,this.$nextTick((function(){e.$refs["sortModule"].init(e.cateCode,e.templateId,e.selectedTreeId,Object(C["e"])(e.$refs["fileBox"].table.selection))})))},checkDis:function(){var e=this,t=this.$refs["fileBox"].table.selection;if(t.length<1||t.length>1)this.$sweetAlert.warnWithTimer("请勾选一条数据进行检测！");else{var a={id:Object(C["e"])(t),templateId:this.templateId,othType:"1"};this.checkDisModuleShow=!0,this.$nextTick((function(){e.$refs["checkDisModule"].init(a)}))}},archive:function(){var e=this;if(1==this.cateType){if(this.$refs["fileBox"].table.selection.length<1)return void this.$sweetAlert.warnWithTimer("请勾选数据进行归档，至少需勾选一条！")}else if(this.$refs["fileReel"].table.selection.length<1)return void this.$sweetAlert.warnWithTimer("请勾选数据进行归档，至少需勾选一条！");this.$confirm("确定归档所选数据吗?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.archiveModuleShow=!0;var t={};t=1==e.cateType?Object(D["c"])(e.$refs["fileBox"].table.column):Object(D["c"])(e.$refs["fileReel"].table.column),t.splice(0,2),t.splice(t.length-2,2);var a={templateId:e.templateId,cateCode:e.cateCode,column:t,volIds:1==e.cateType?Object(C["e"])(e.$refs["fileBox"].table.selection):Object(C["e"])(e.$refs["fileReel"].table.selection),data:1==e.cateType?e.$refs["fileBox"].table.selection:e.$refs["fileReel"].table.selection};1==e.cateType?a.othType="1":a.othType="3",e.$nextTick((function(){e.$refs["archiveModule"].init(a)}))})).catch((function(){e.queryList("1")}))},batchHookUp:function(e){var t=this;if(this.$refs["1"==e?"fileBox":"fileReel"].table.data.length){this.hookUpShow=!0,this.initFromData.othType=e;var a=this.$refs["1"==e?"fileBox":"fileReel"].table.selection;a.length>0?this.initFromData.ids=Object(C["e"])(a):this.initFromData.ids="";var i={};null!=this.paramsObject&&(i=Object(D["c"])(this.paramsObject)),i.transfer_status="4",i.cate_code=this.cateCode,this.$nextTick((function(){t.$refs["hookUpModule"].initModule(t.initFromData,i)}))}else this.$sweetAlert.warnWithTimer("列表无数据，无法挂接！")},unwindBox:function(){var e=this,t=this.$refs["fileBox"].table.selection;!t.length>0?this.$sweetAlert.warnWithTimer("至少勾选一条数据！"):this.$confirm("拆卷会解除案卷与卷内数据绑定关系且只操作卷内不为空的数据，请您谨慎操作！","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=Object(C["e"])(e.$refs["fileBox"].table.selection),a={volIds:t,templateId:e.templateId};e.$api.httpAction(e.url.unwindBox,a,"post").then((function(t){"200"==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.queryList("1")):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))},dataRelated:function(){var e=this;if(!this.$refs["fileReel"].table.selection.length>0)this.$sweetAlert.warnWithTimer("至少勾选一条数据！");else{var t=Object(C["e"])(this.$refs["fileReel"].table.selection);this.dataRelatedModuleShow=!0,this.$nextTick((function(){e.$refs["dataRelatedModule"].init(t,e.templateId,e.cateCode)}))}},groupVol:function(e){var t=this;!this.$refs["fileReel"].table.selection.length>0?this.$sweetAlert.warnWithTimer("至少勾选一条数据！"):this.$confirm("确定组卷吗?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.fileBoxReelModule.status="groupVol",t.fileBoxReelModule.show=!0,t.initFromData.status="groupVol",t.initFromData.othType=e,t.initFromData.docIds=Object(C["e"])(t.$refs["fileReel"].table.selection),t.initFromData.volId=t.volId,t.$nextTick((function(){t.$refs["fileBoxReelModule"].initForm(t.initFromData)}))})).catch((function(){}))},unGroupVol:function(){this.setSearchVal({VOL_ID:-1},"unGroupVol")},treeNodeClick:function(e,t){var a=this;this.cateType=e.cateType,t||!e.children||"0"==e.children.length?(this.paramsObject=t,this.fileBoxShow=!1,this.fileReelShow=!1,this.initFromData.cateCode=e.cateCode,this.initFromData.templateId=e.templateId,this.initFromData.folderCode=e.folderCode,this.initFromData.transferStatus="4",this.selectedTreeId=e.id,this.templateId=e.templateId,this.cateCode=e.cateCode,this.folderCode=e.folderCode,1==e.cateType?(this.fileBoxShow||(this.fileBoxShow=!0,this.showSeaBarBox=!0),this.$nextTick((function(){a.$refs["fileBox"].getFields(e.templateId,"1",null,t),a.$refs["searchBarBox"].initSearchBar(a.templateId,"1")}))):(this.fileReelShow||(this.fileReelShow=!0,this.showSeaBarReel=!0),this.$nextTick((function(){a.$refs["fileReel"].getFields(a.templateId,"3",null,t),a.$refs["searchBarReel"].initSearchBar(a.templateId,"3"),Object(D["l"])("fileBox","volBox")})))):this.$sweetAlert.warnWithTimer("请选择子节点进行业务操作！")},delete:function(e,t){var a=this;this.$confirm("确定删除?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){if(1!==e.PUT_STATUS){var i={id:e.ID,othType:t,templateId:a.templateId};a.$api.httpAction(a.url.deleteArrange,i,"post").then((function(e){"200"==e.code?(a.$sweetAlert.successWithTimer(e.msg),a.queryList(t)):a.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")}))}else a.$sweetAlert.warnWithTimer("该数据已上架，无法删除！")})).catch((function(){}))},selection:function(e,t){e.length?this.show=Object(s["a"])(Object(s["a"])({},this.show),{},{batch:!0}):this.show=Object(s["a"])(Object(s["a"])({},this.show),{},{batch:!1}),this.table=Object(s["a"])(Object(s["a"])({},this.table),{},{selection:e})},cellClickFile:function(e,t){var a=this;"ARCH_RULE"==t.property&&(this.volId=e.ID,this.fileReelShow||(this.fileReelShow=!0,this.showSeaBarReel=!0),this.$nextTick((function(){a.$refs["fileReel"].getFields(a.templateId,"2"),a.$refs["searchBarReel"].initSearchBar(a.templateId,"2"),Object(D["l"])("fileBox","volBox")})))},setSearchVal:function(e,t){this.searchVal=e,this.queryList(t)},queryList:function(e){switch(this.paramsObject&&(this.searchVal=Object.assign(this.searchVal,this.paramsObject)),e){case"3":this.$refs.fileReel.queryList(this.searchVal);break;case"2":this.fileReelShow?(this.$refs.fileReel.queryList(this.searchVal),this.$refs.fileBox.queryList(this.searchVal)):this.$refs.fileBox.queryList(this.searchVal);break;case"all":this.$refs.fileBox.queryList(),this.$refs.fileReel.queryList();break;case"unGroupVol":this.$refs.fileReel.queryList(this.searchVal);break;default:this.$refs.fileBox.queryList(this.searchVal);break}this.initFromData={templateId:this.templateId,cateCode:this.cateCode,folderCode:this.folderCode,transferStatus:"4"}},add:function(e){var t=this;this.fileBoxReelModule.status="create",this.fileBoxReelModule.show=!0,this.initFromData.othType=e,this.initFromData.status="create","2"==e&&(this.initFromData.volId=this.volId),this.$nextTick((function(){t.$refs["fileBoxReelModule"].initForm(t.initFromData)}))},batchUpdate:function(e){this.ConfVal("1",e)},ConfVal:function(e,t){var a=this,i={othType:t,updateMode:e,templateId:this.templateId,dept_code:this.userInfo.baid};if("1"!=e)this.batchUpModuleShow=!0,i["ids"]="",i["isWait"]="0",i["cate_code"]=this.cateCode,i["cateCode"]=this.cateCode,i["VOL_ID"]="",i["transfered"]="4",this.$nextTick((function(){a.$refs["batchUpdateModule"].initForm(i)}));else{var n=this.$refs["1"==t?"fileBox":"fileReel"].table.selection;if(n.length<=0)return void this.$sweetAlert.warnWithTimer("请至少勾选一条数据进行批量修改！");i["ids"]=Object(C["e"])(n),i["isWait"]="",i["cate_code"]="",i["cateCode"]=this.cateCode,i["VOL_ID"]="",i["transfered"]="",this.batchUpModuleShow=!0,this.$nextTick((function(){a.$refs["batchUpdateModule"].initForm(i)}))}},edit:function(e,t){var a=this;this.fileBoxReelModule.status="update",this.fileBoxReelModule.show=!0,this.initFromData.status="update",this.initFromData.row=e,this.initFromData.volId=this.volId,this.initFromData.othType=t,this.$nextTick((function(){a.$refs["fileBoxReelModule"].initForm(a.initFromData)}))},handleCommand:function(e){switch(e){case"expCheckData":this.expCheckData();break;case"dowImpTemp":this.dowImpTemp();break;case"impData":this.impData("1");break;default:break}},expCheckData:function(){var e=this;if(this.$refs["fileBox"].table.data.length<1)this.$sweetAlert.warnWithTimer("列表中没有数据！");else{!this.$refs["fileBox"].table.selection.length>0&&this.$sweetAlert.warnWithTimer("未勾选导出全部数据！正在处理数据。。。");for(var t=this.$refs["fileBox"].table.selection,a="",i=0;i<t.length;i++)i==t.length-1?a+=t[i].ID:a+=t[i].ID+",";var n={templateId:this.templateId,ids:a,othType:"1"};this.$api.downFile(this.url.expCheckData,n).then((function(t){if(t){var a="导出数据";if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([t]),a+".xlsx");else{var i=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.style.display="none",n.href=i,n.setAttribute("download",a+".xlsx"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}}else e.$sweetAlert.errorWithTimer("文件下载失败！")}))}},impData:function(e){var t=this;this.impModuleShow=!0;var a="arrange";this.$nextTick((function(){t.$refs["impModule"].init(t.cateCode,t.userInfo.baid,t.templateId,a,e)}))},dowImpTemp:function(){var e="archive-vol.xlsx",t=this.domainURL+"/static/templates/"+e;window.open(t,"_parent")},setTreeData:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));e.map((function(e){return e.label=e.name,e})),this.setDefaultCheck(t,e);var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length?(a.elIcon="folder",t(a.children)):a.elIcon="document-copy"}))};return a(t),t},setDefaultCheck:function(e,t){var a=e[0].id,i=t.filter((function(e){return e.parentId==a}));this.defaultExpandedKeys.push(a);var n=this,o=function e(a){if(a.length){var i=a[0].id;n.defaultExpandedKeys.push(i),a=t.filter((function(e){return e.parentId==i})),e(a)}else n.defaultCheckedKeys.push(n.defaultExpandedKeys[n.defaultExpandedKeys.length-1])};o(i)},getTreeData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.getAction(e.url.codeTree,{});case 3:a=t.sent,i=a.treeData,e.treeData=e.setTreeData(i),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},handleSeq:function(e,t,a,i){var n=this;this.$confirm("调整顺序会自动过滤已上架及归档中数据！","温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var o=n.$refs["1"==e?"fileBox":"fileReel"].table.data.filter((function(e){return 1!=e.PUT_STATUS})),s={othType:e,templateId:n.templateId,replacedId:"up"===t?o[a-1].ID:o[a+1].ID,nowId:i.ID};n.$api.httpAction(n.url.upDownMove,s,"post").then((function(t){"200"==t.code?(n.$sweetAlert.successWithTimer(t.msg),n.queryList(e)):n.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){n.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))},downBoxClick:function(e,t){this.checkData(t)&&this.handleSeq("1","down",e,t)},upBoxClick:function(e,t){this.checkData(t)&&this.handleSeq("1","up",e,t)},downReelClick:function(e,t){this.checkData(t)&&this.handleSeq(this.fileBoxShow?"2":"3","down",e,t)},upReelClick:function(e,t){this.checkData(t)&&this.handleSeq(this.fileBoxShow?"2":"3","up",e,t)},checkData:function(e){return"1"!=e.PUT_STATUS||(this.$sweetAlert.warnWithTimer("该数据已上架，不支持调整！"),!1)},rowStyle:function(e,t,a){},cellStyle:function(e,t,a,i){"ARCH_RULE"==t.property&&(a.cursor="pointer"),i(a)},setVolId:function(e){this.volId=e}}},F=L,M=(a("5b17"),a("2877")),E=Object(M["a"])(F,i,n,!1,null,"5a5740d4",null);t["default"]=E.exports},a702:function(e,t,a){},a747:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.toTopShow,expression:"toTopShow"}],class:["floating-ball ",e.asideFlag?"active off":"leave"],on:{mouseleave:e.mouseleave,mouseenter:e.mouseenter}},[a("div",{staticClass:"button",on:{click:e.scrollToTop}},[a("i",{staticClass:"el-icon-caret-top"})])])},n=[],o={name:"app-to-top",props:{elementClass:{type:String,default:"app-container"}},data:function(){return{toTopShow:!1,asideFlag:!0,stepAsideTimer:-1}},methods:{mouseenter:function(){this.asideFlag=!0},mouseleave:function(){this.asideFlag=!1},stepAside:function(){var e=this;clearTimeout(this.stepAsideTimer),this.asideFlag&&(this.stepAsideTimer=setTimeout((function(){e.asideFlag=!1}),3e3))},handleScroll:function(){var e=this.elementClass,t=document.getElementsByClassName(e)[0];this.scrollTop=t.scrollTop,this.scrollTop>100?(this.toTopShow=!0,this.stepAside()):this.toTopShow=!1},scrollToTop:function(){var e=null,t=this,a=this.elementClass;cancelAnimationFrame(e),e=requestAnimationFrame((function i(){t.scrollTop>5e3?(t.scrollTop-=1e3,document.getElementsByClassName(a)[0].scrollTop=t.scrollTop,e=requestAnimationFrame(i)):t.scrollTop>1e3&&t.scrollTop<=5e3?(t.scrollTop-=500,document.getElementsByClassName(a)[0].scrollTop=t.scrollTop,e=requestAnimationFrame(i)):t.scrollTop>200&&t.scrollTop<=1e3?(t.scrollTop-=100,document.getElementsByClassName(a)[0].scrollTop=t.scrollTop,e=requestAnimationFrame(i)):t.scrollTop>50&&t.scrollTop<=200?(t.scrollTop-=10,document.getElementsByClassName(a)[0].scrollTop=t.scrollTop,e=requestAnimationFrame(i)):t.scrollTop>0&&t.scrollTop<=50?(t.scrollTop-=5,document.getElementsByClassName(a)[0].scrollTop=t.scrollTop,e=requestAnimationFrame(i)):(cancelAnimationFrame(e),t.toTopShow=!1)}))}},mounted:function(){this.$nextTick((function(){window.addEventListener("scroll",this.handleScroll,!0)}))},destroyed:function(){window.removeEventListener("scroll",this.handleScroll,!0)}},s=o,r=(a("1397"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"555fcda8",null);t["default"]=l.exports},a790:function(e,t,a){"use strict";a("49cf")},a8ac:function(e,t,a){},a938:function(e,t,a){"use strict";a.r(t);a("159b");t["default"]={options:function(e,t,a){var i=[];return t.__slot__.options.forEach((function(t){i.push(e("el-option",{attrs:{label:t.label,value:t.value,disabled:t.disabled}}))})),i}}},a9b8:function(e,t,a){"use strict";a("da0e")},aab9:function(e){e.exports=JSON.parse('{"name":"Flowable","uri":"http://flowable.org/bpmn","prefix":"flowable","xml":{"tagAlias":"lowerCase"},"associations":[],"types":[{"name":"InOutBinding","superClass":["Element"],"isAbstract":true,"properties":[{"name":"source","isAttr":true,"type":"String"},{"name":"sourceExpression","isAttr":true,"type":"String"},{"name":"target","isAttr":true,"type":"String"},{"name":"businessKey","isAttr":true,"type":"String"},{"name":"local","isAttr":true,"type":"Boolean","default":false},{"name":"variables","isAttr":true,"type":"String"}]},{"name":"In","superClass":["InOutBinding"],"meta":{"allowedIn":["bpmn:CallActivity"]}},{"name":"Out","superClass":["InOutBinding"],"meta":{"allowedIn":["bpmn:CallActivity"]}},{"name":"AsyncCapable","isAbstract":true,"extends":["bpmn:Activity","bpmn:Gateway","bpmn:Event"],"properties":[{"name":"async","isAttr":true,"type":"Boolean","default":false},{"name":"asyncBefore","isAttr":true,"type":"Boolean","default":false},{"name":"asyncAfter","isAttr":true,"type":"Boolean","default":false},{"name":"exclusive","isAttr":true,"type":"Boolean","default":true}]},{"name":"flowable:in","superClass":["Element"],"properties":[{"name":"source","type":"string","isAttr":true},{"name":"target","type":"string","isAttr":true}]},{"name":"flowable:out","superClass":["Element"],"properties":[{"name":"source","type":"string","isAttr":true},{"name":"target","type":"string","isAttr":true}]},{"name":"BoundaryEvent","superClass":["CatchEvent"],"properties":[{"name":"cancelActivity","default":true,"isAttr":true,"type":"Boolean"},{"name":"attachedToRef","type":"Activity","isAttr":true,"isReference":true}]},{"name":"JobPriorized","isAbstract":true,"extends":["bpmn:Process","flowable:AsyncCapable"],"properties":[{"name":"jobPriority","isAttr":true,"type":"String"}]},{"name":"SignalEventDefinition","isAbstract":true,"extends":["bpmn:SignalEventDefinition"],"properties":[{"name":"async","isAttr":true,"type":"Boolean","default":false}]},{"name":"ErrorEventDefinition","isAbstract":true,"extends":["bpmn:ErrorEventDefinition"],"properties":[{"name":"errorCodeVariable","isAttr":true,"type":"String"},{"name":"errorMessageVariable","isAttr":true,"type":"String"}]},{"name":"Error","isAbstract":true,"extends":["bpmn:Error"],"properties":[{"name":"flowable:errorMessage","isAttr":true,"type":"String"}]},{"name":"PotentialStarter","superClass":["Element"],"properties":[{"name":"resourceAssignmentExpression","type":"bpmn:ResourceAssignmentExpression"}]},{"name":"UserTask","isAbstract":true,"extends":["bpmn:UserTask"],"properties":[{"name":"timerEventDefinition","type":"Expression"},{"name":"multiInstanceLoopCharacteristics","type":"MultiInstanceLoopCharacteristics"}]},{"name":"StartEvent","isAbstract":true,"extends":["bpmn:StartEvent"],"properties":[{"name":"timerEventDefinition","type":"Expression"}]},{"name":"FormSupported","isAbstract":true,"extends":["bpmn:StartEvent","bpmn:UserTask"],"properties":[{"name":"formHandlerClass","isAttr":true,"type":"String"},{"name":"formKey","isAttr":true,"type":"String"}]},{"name":"TemplateSupported","isAbstract":true,"extends":["bpmn:Process","bpmn:FlowElement"],"properties":[{"name":"modelerTemplate","isAttr":true,"type":"String"}]},{"name":"Initiator","isAbstract":true,"extends":["bpmn:StartEvent"],"properties":[{"name":"initiator","isAttr":true,"type":"String"}]},{"name":"ScriptTask","isAbstract":true,"extends":["bpmn:ScriptTask"],"properties":[{"name":"resultVariable","isAttr":true,"type":"String"},{"name":"resource","isAttr":true,"type":"String"}]},{"name":"Process","isAbstract":true,"extends":["bpmn:Process"],"properties":[{"name":"candidateStarterGroups","isAttr":true,"type":"String"},{"name":"candidateStarterUsers","isAttr":true,"type":"String"},{"name":"versionTag","isAttr":true,"type":"String"},{"name":"historyTimeToLive","isAttr":true,"type":"String"},{"name":"isStartableInTasklist","isAttr":true,"type":"Boolean","default":true}]},{"name":"EscalationEventDefinition","isAbstract":true,"extends":["bpmn:EscalationEventDefinition"],"properties":[{"name":"escalationCodeVariable","isAttr":true,"type":"String"}]},{"name":"FormalExpression","isAbstract":true,"extends":["bpmn:FormalExpression"],"properties":[{"name":"resource","isAttr":true,"type":"String"}]},{"name":"Assignable","extends":["bpmn:UserTask"],"properties":[{"name":"category","isAttr":true,"type":"String"},{"name":"assignee","isAttr":true,"type":"String"},{"name":"candidateUsers","isAttr":true,"type":"String"},{"name":"candidateGroups","isAttr":true,"type":"String"},{"name":"buttons","isAttr":true,"type":"String"},{"name":"dueDate","isAttr":true,"type":"String"},{"name":"followUpDate","isAttr":true,"type":"String"},{"name":"priority","isAttr":true,"type":"String"}]},{"name":"CallActivity","extends":["bpmn:CallActivity"],"properties":[{"name":"calledElementBinding","isAttr":true,"type":"String","default":"latest"},{"name":"calledElementVersion","isAttr":true,"type":"String"},{"name":"calledElementVersionTag","isAttr":true,"type":"String"},{"name":"calledElementTenantId","isAttr":true,"type":"String"},{"name":"caseRef","isAttr":true,"type":"String"},{"name":"caseBinding","isAttr":true,"type":"String","default":"latest"},{"name":"caseVersion","isAttr":true,"type":"String"},{"name":"caseTenantId","isAttr":true,"type":"String"},{"name":"variableMappingClass","isAttr":true,"type":"String"},{"name":"variableMappingDelegateExpression","isAttr":true,"type":"String"}]},{"name":"ServiceTaskLike","extends":["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:SendTask","bpmn:MessageEventDefinition"],"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"resultVariable","isAttr":true,"type":"String"}]},{"name":"ExclusiveGateway","isAbstract":true,"extends":["bpmn:ExclusiveGateway"],"properties":[{"name":"serviceClass","isAttr":true,"type":"String"}]},{"name":"DmnCapable","extends":["bpmn:BusinessRuleTask"],"properties":[{"name":"decisionRef","isAttr":true,"type":"String"},{"name":"decisionRefBinding","isAttr":true,"type":"String","default":"latest"},{"name":"decisionRefVersion","isAttr":true,"type":"String"},{"name":"mapDecisionResult","isAttr":true,"type":"String","default":"resultList"},{"name":"decisionRefTenantId","isAttr":true,"type":"String"}]},{"name":"ExternalCapable","extends":["flowable:ServiceTaskLike"],"properties":[{"name":"type","isAttr":true,"type":"String"},{"name":"topic","isAttr":true,"type":"String"}]},{"name":"TaskPriorized","extends":["bpmn:Process","flowable:ExternalCapable"],"properties":[{"name":"taskPriority","isAttr":true,"type":"String"}]},{"name":"Properties","superClass":["Element"],"meta":{"allowedIn":["*"]},"properties":[{"name":"values","type":"Property","isMany":true}]},{"name":"Property","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"value","type":"String","isAttr":true}]},{"name":"Connector","superClass":["Element"],"meta":{"allowedIn":["flowable:ServiceTaskLike"]},"properties":[{"name":"inputOutput","type":"InputOutput"},{"name":"connectorId","type":"String"}]},{"name":"InputOutput","superClass":["Element"],"meta":{"allowedIn":["bpmn:FlowNode","flowable:Connector"]},"properties":[{"name":"inputOutput","type":"InputOutput"},{"name":"connectorId","type":"String"},{"name":"inputParameters","isMany":true,"type":"InputParameter"},{"name":"outputParameters","isMany":true,"type":"OutputParameter"}]},{"name":"InputOutputParameter","properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"},{"name":"definition","type":"InputOutputParameterDefinition"}]},{"name":"InputOutputParameterDefinition","isAbstract":true},{"name":"List","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"items","isMany":true,"type":"InputOutputParameterDefinition"}]},{"name":"Map","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"entries","isMany":true,"type":"Entry"}]},{"name":"Entry","properties":[{"name":"key","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"},{"name":"definition","type":"InputOutputParameterDefinition"}]},{"name":"Value","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"id","isAttr":true,"type":"String"},{"name":"name","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"}]},{"name":"Script","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"scriptFormat","isAttr":true,"type":"String"},{"name":"resource","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"}]},{"name":"Field","superClass":["Element"],"meta":{"allowedIn":["flowable:ServiceTaskLike","flowable:ExecutionListener","flowable:TaskListener"]},"properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"expression","type":"expression"},{"name":"string","type":"string"},{"name":"stringValue","isAttr":true,"type":"String"}]},{"name":"string","superClass":["Element"],"meta":{"allowedIn":["flowable:Field"]},"properties":[{"name":"body","isBody":true,"type":"String"}]},{"name":"expression","superClass":["Element"],"meta":{"allowedIn":["flowable:Field"]},"properties":[{"name":"body","isBody":true,"type":"String"}]},{"name":"InputParameter","superClass":["InputOutputParameter"]},{"name":"OutputParameter","superClass":["InputOutputParameter"]},{"name":"Collectable","isAbstract":true,"extends":["bpmn:MultiInstanceLoopCharacteristics"],"superClass":["flowable:AsyncCapable"],"properties":[{"name":"collection","isAttr":true,"type":"String"},{"name":"elementVariable","isAttr":true,"type":"String"}]},{"name":"SequenceFlow","superClass":["FlowElement"],"properties":[{"name":"isImmediate","isAttr":true,"type":"Boolean"},{"name":"conditionExpression","type":"Expression"},{"name":"sourceRef","type":"FlowNode","isAttr":true,"isReference":true},{"name":"targetRef","type":"FlowNode","isAttr":true,"isReference":true}]},{"name":"MultiInstanceLoopCharacteristics","superClass":["LoopCharacteristics"],"properties":[{"name":"isSequential","default":false,"isAttr":true,"type":"Boolean"},{"name":"behavior","type":"MultiInstanceBehavior","default":"All","isAttr":true},{"name":"loopCardinality","type":"Expression","xml":{"serialize":"xsi:type"}},{"name":"loopDataInputRef","type":"ItemAwareElement","isReference":true},{"name":"loopDataOutputRef","type":"ItemAwareElement","isReference":true},{"name":"inputDataItem","type":"DataInput","xml":{"serialize":"property"}},{"name":"outputDataItem","type":"DataOutput","xml":{"serialize":"property"}},{"name":"complexBehaviorDefinition","type":"ComplexBehaviorDefinition","isMany":true},{"name":"completionCondition","type":"Expression","xml":{"serialize":"xsi:type"}},{"name":"oneBehaviorEventRef","type":"EventDefinition","isAttr":true,"isReference":true},{"name":"noneBehaviorEventRef","type":"EventDefinition","isAttr":true,"isReference":true}]},{"name":"FailedJobRetryTimeCycle","superClass":["Element"],"meta":{"allowedIn":["flowable:AsyncCapable","bpmn:MultiInstanceLoopCharacteristics"]},"properties":[{"name":"body","isBody":true,"type":"String"}]},{"name":"ExecutionListener","superClass":["Element"],"meta":{"allowedIn":["bpmn:Task","bpmn:ServiceTask","bpmn:UserTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:ReceiveTask","bpmn:ManualTask","bpmn:ExclusiveGateway","bpmn:SequenceFlow","bpmn:ParallelGateway","bpmn:InclusiveGateway","bpmn:EventBasedGateway","bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:EndEvent","bpmn:BoundaryEvent","bpmn:CallActivity","bpmn:SubProcess","bpmn:Process"]},"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"event","isAttr":true,"type":"String"},{"name":"script","type":"Script"},{"name":"fields","type":"Field","isMany":true}]},{"name":"TaskListener","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"event","isAttr":true,"type":"String"},{"name":"script","type":"Script"},{"name":"fields","type":"Field","isMany":true}]},{"name":"Property","superClass":["Element"],"meta":{"allowedIn":["flowable:Properties"]},"properties":[{"name":"name","type":"String","isAttr":true},{"name":"value","type":"String","isAttr":true}]},{"name":"FormProperty","superClass":["Element"],"meta":{"allowedIn":["bpmn:StartEvent","bpmn:UserTask"]},"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true},{"name":"required","type":"String","isAttr":true},{"name":"readable","type":"String","isAttr":true},{"name":"writable","type":"String","isAttr":true},{"name":"variable","type":"String","isAttr":true},{"name":"expression","type":"String","isAttr":true},{"name":"datePattern","type":"String","isAttr":true},{"name":"default","type":"String","isAttr":true},{"name":"values","type":"Value","isMany":true}]},{"name":"FormData","superClass":["Element"],"meta":{"allowedIn":["bpmn:StartEvent","bpmn:UserTask"]},"properties":[{"name":"fields","type":"FormField","isMany":true},{"name":"businessKey","type":"String","isAttr":true}]},{"name":"FormField","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"label","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true},{"name":"datePattern","type":"String","isAttr":true},{"name":"defaultValue","type":"String","isAttr":true},{"name":"properties","type":"Properties"},{"name":"validation","type":"Validation"},{"name":"values","type":"Value","isMany":true}]},{"name":"Validation","superClass":["Element"],"properties":[{"name":"constraints","type":"Constraint","isMany":true}]},{"name":"Constraint","superClass":["Element"],"properties":[{"name":"name","type":"String","isAttr":true},{"name":"config","type":"String","isAttr":true}]},{"name":"ConditionalEventDefinition","isAbstract":true,"extends":["bpmn:ConditionalEventDefinition"],"properties":[{"name":"variableName","isAttr":true,"type":"String"},{"name":"variableEvent","isAttr":true,"type":"String"}]}],"emumerations":[]}')},ac41:function(e,t,a){},ac4a:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("61f7"),n={data:function(){return{formModelObject:{formName:"backUp",formModel:{formList:[{value:"",prop:"roleName",label:"我的角色",placeHolder:"",disabled:!0,tips:"",rules:{value:[{required:!1,message:"",trigger:"blur"}]}},{value:"",prop:"loginName",label:"登录帐号",placeHolder:"",disabled:!0,tips:"不可修改。一般用于后台登入名",tipsColor:"#606266",rules:{value:[{required:!1,message:"",trigger:"blur"}]}},{value:"",prop:"userName",label:"用户名",placeHolder:"请输入用户名",tips:"",rules:{value:[{required:!0,message:"请输入用户名",trigger:"blur"}]}},{value:"",prop:"sex",label:"性别",placeHolder:"",tips:"",type:"radio",selectOptions:[{value:"0",text:"男"},{value:"1",text:"女"}],rules:{value:[{required:!0,message:"请选择性别",trigger:"blur"}]}},{value:"",prop:"phone",label:"手机",placeHolder:"请输入您的手机号码",tips:"",rules:{value:[{required:!1,trigger:"change",validator:i["d"]}]}},{value:"",prop:"email",label:"邮箱",placeHolder:"请输入您的邮箱",tips:"",rules:{value:[{required:!1,trigger:"change",validator:i["c"]}]}},{value:"",prop:"remark",label:"备注",placeHolder:"请输入备注",type:"textarea",rules:{value:[{required:!1,message:"请输入备注",trigger:"blur"}]}}]},halfFormFlag:!1}}},methods:{}}},ac5f:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"e",(function(){return d})),a.d(t,"c",(function(){return u})),a.d(t,"g",(function(){return p})),a.d(t,"d",(function(){return m})),a.d(t,"h",(function(){return h})),a.d(t,"b",(function(){return f})),a.d(t,"f",(function(){return v}));var i="drawingItems",n="1.2",o="DRAWING_ITEMS_VERSION",s="idGlobal",r="treeNodeId",l="formConf";function c(){var e=localStorage.getItem(o);if(e!==n)return localStorage.setItem(o,n),d([]),null;var t=localStorage.getItem(i);return t&&"undefined"!==t?JSON.parse(t):null}function d(e){localStorage.setItem(i,JSON.stringify(e))}function u(){var e=localStorage.getItem(s);return e?parseInt(e,10):100}function p(e){localStorage.setItem(s,"".concat(e))}function m(){var e=localStorage.getItem(r);return e?parseInt(e,10):100}function h(e){localStorage.setItem(r,"".concat(e))}function f(){var e=localStorage.getItem(l);return e?JSON.parse(e):null}function v(e){localStorage.setItem(l,JSON.stringify(e))}},ad8f:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("b775");function n(e){return Object(i["a"])({url:"/vue-admin-template/table/list",method:"get",params:e})}},afca:function(e,t,a){"use strict";a.r(t);a("159b");t["default"]={options:function(e,t,a){var i=[];return t.__slot__.options.forEach((function(a){"button"===t.__config__.optionType?i.push(e("el-radio-button",{attrs:{label:a.value}},[a.label])):i.push(e("el-radio",{attrs:{label:a.value,border:t.border}},[a.label]))})),i}}},b021:function(e,t,a){},b16b:function(e,t,a){"use strict";a("c98e")},b217:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{"margin-bottom":"10px"},attrs:{visible:e.visible,modal:!0,width:"20%","before-close":e.cancelModal,title:"选择批量修改模式",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticStyle:{height:"4vh"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("当前数据")]),a("el-radio",{attrs:{label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("当前类目")])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.subForm}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("取消")])],1)])},n=[],o={name:"BachConfModule",components:{},props:{},data:function(){return{radio:"1",visible:!1,loading:!1,othType:""}},computed:{},methods:{initForm:function(e){this.othType=e,this.visible=!0},subForm:function(){this.loading=!0,this.$emit("ConfVal",this.radio,this.othType),this.cancelModal()},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}},s=o,r=a("2877"),l=Object(r["a"])(s,i,n,!1,null,"188acf1b",null);t["default"]=l.exports},b24d:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAWCAYAAADJqhx8AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAABE0lEQVQ4y+3SoUoEURSH8d8MBg0KJhE3qU3EF1Drylz2AdRiUfBBLAbfwiAYZOGOljUs+AAbbLtJDEYtmtRywyzMLJPFky7n/L+Pw+FmGirGcg83mMdZCMVtXS7XXBdYxTKumkKzBEsN79aCVvUv+BOCuRjLDGt4DaH4aQNVmRx9vGAUY7nZAt7EKDH9HCHNtjGIsezMgDsYpCyELMbyHgeV3DP28Yid1HvHOobYqmQfcpxgUmluIWKheqvUq8ITnGRptQ08YaXl8d+wG0IxziGEYoIuPlrAH+iGUIyp/IMQihF6+JwBf6GXsqYESTLEEb5r4G8cpoxaQZLc4bRGcJpmU5U17RpjeYxLLOI8hOK6LvcLXfhLrB2osZkAAAAASUVORK5CYII="},b256:function(e,t,a){},b293:function(e,t,a){"use strict";t["a"]={data:function(){return{prefix:"drag-drawer"}}}},b65a:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var i=a("5530"),n=(a("159b"),a("d3b7"),a("b64b"),a("99af"),a("a15b"),a("3ca3"),a("ddb0"),a("2b3d"),a("b0c0"),a("ca00")),o=a("0fea"),s=a("2b0e"),r=a("9fb0"),l={data:function(){return{tokenHeader:{"X-Access-Token":s["default"].ls.get(r["a"])},queryParam:{},dataSource:[],ipagination:{current:1,pageSize:20,pageSizeOptions:["10","20","30"],showTotal:function(e,t){return t[0]+"-"+t[1]+" 共"+e+"条"},showQuickJumper:!0,showSizeChanger:!0,total:0},isorter:{column:"createTime",order:"desc"},filters:{},loading:!1,selectedRowKeys:[],selectionRows:[],toggleSearchStatus:!1,superQueryFlag:!1,superQueryParams:""}},created:function(){},methods:{loadData:function(e){var t=this;if(this.url.list){1===e&&(this.ipagination.current=1);var a=this.getQueryParams();this.loading=!0,Object(o["e"])(this.url.list,a).then((function(e){e.success&&(t.dataSource=e.result.records,t.ipagination.total=e.result.total),510===e.code&&t.$message.warning(e.message),t.loading=!1}))}else this.$message.error("请设置url.list属性!")},initDictConfig:function(){},handleSuperQuery:function(e){e?(this.superQueryFlag=!0,this.superQueryParams=JSON.stringify(e)):(this.superQueryParams="",this.superQueryFlag=!1),this.loadData()},getQueryParams:function(){var e={};this.superQueryParams&&(e["superQueryParams"]=encodeURI(this.superQueryParams));var t=Object.assign(e,this.queryParam,this.isorter,this.filters);return t.field=this.getQueryField(),t.pageNo=this.ipagination.current,t.pageSize=this.ipagination.pageSize,Object(n["a"])(t)},getQueryField:function(){var e="id,";return this.columns.forEach((function(t){e+=","+t.dataIndex})),e},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectionRows=t},onClearSelected:function(){this.selectedRowKeys=[],this.selectionRows=[]},searchQuery:function(){this.loadData(1)},superQuery:function(){this.$refs.superQueryModal.show()},searchReset:function(){this.queryParam={},this.loadData(1)},batchDel:function(){if(this.url.deleteBatch)if(this.selectedRowKeys.length<=0)this.$message.warning("请选择一条记录！");else{for(var e="",t=0;t<this.selectedRowKeys.length;t++)e+=this.selectedRowKeys[t]+",";var a=this;this.$confirm({title:"确认删除",content:"是否删除选中数据?",onOk:function(){a.loading=!0,Object(o["b"])(a.url.deleteBatch,{ids:e}).then((function(e){e.success?(a.$message.success(e.message),a.loadData(),a.onClearSelected()):a.$message.warning(e.message)})).finally((function(){a.loading=!1}))}})}else this.$message.error("请设置url.deleteBatch属性!")},handleDelete:function(e){if(this.url.delete){var t=this;Object(o["b"])(t.url.delete,{id:e}).then((function(e){e.success?(t.$message.success(e.message),t.loadData()):t.$message.warning(e.message)}))}else this.$message.error("请设置url.delete属性!")},handleEdit:function(e){this.$refs.modalForm.edit(e),this.$refs.modalForm.title="编辑",this.$refs.modalForm.disableSubmit=!1},handleAdd:function(){this.$refs.modalForm.add(),this.$refs.modalForm.title="新增",this.$refs.modalForm.disableSubmit=!1},handleTableChange:function(e,t,a){Object.keys(a).length>0&&(this.isorter.column=a.field,this.isorter.order="ascend"==a.order?"asc":"desc"),this.ipagination=e,this.loadData()},handleToggleSearch:function(){this.toggleSearchStatus=!this.toggleSearchStatus},modalFormOk:function(){this.loadData()},handleDetail:function(e){this.$refs.modalForm.edit(e),this.$refs.modalForm.title="详情",this.$refs.modalForm.disableSubmit=!0},handleExportXls2:function(){var e=encodeURI(JSON.stringify(this.getQueryParams())),t="".concat(window._CONFIG["domianURL"],"/").concat(this.url.exportXlsUrl,"?paramsStr=").concat(e);window.location.href=t},handleExportXls:function(e){var t=this;e&&"string"==typeof e||(e="导出文件");var a=Object(i["a"])({},this.queryParam);this.selectedRowKeys&&this.selectedRowKeys.length>0&&(a["selections"]=this.selectedRowKeys.join(",")),Object(o["c"])(this.url.exportXlsUrl,a).then((function(a){if(a)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([a]),e+".xls");else{var i=window.URL.createObjectURL(new Blob([a])),n=document.createElement("a");n.style.display="none",n.href=i,n.setAttribute("download",e+".xls"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}else t.$message.warning("文件下载失败")}))},handleImportExcel:function(e){var t=this.$createElement;if(e.file.status,"done"===e.file.status)if(e.file.response.success){if(201===e.file.response.code){var a=e.file.response,i=a.message,n=a.result,o=n.msg,s=n.fileUrl,r=n.fileName,l=window._CONFIG["domianURL"]+s;this.$warning({title:i,content:t("div",[t("span",[o]),t("br"),t("span",["具体详情请 ",t("a",{attrs:{href:l,target:"_blank",download:r}},["点击下载"])," "])])})}else this.$message.success(e.file.response.message||"".concat(e.file.name," 文件上传成功"));this.loadData()}else this.$message.error("".concat(e.file.name," ").concat(e.file.response.message,"."));else"error"===e.file.status&&this.$message.error("文件上传失败: ".concat(e.file.msg," "))},getImgView:function(e){return e&&e.indexOf(",")>0&&(e=e.substring(0,e.indexOf(","))),window._CONFIG["imgDomainURL"]+"/"+e},uploadFile:function(e){e?(e.indexOf(",")>0&&(e=e.substring(0,e.indexOf(","))),window.open(window._CONFIG["domianURL"]+"/sys/common/download/"+e)):this.$message.warning("未知的文件")}}}},b65e:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var i={code:2e4,data:{total:16,items:[{id:99,timestamp:1187985123547,author:"Paul",reviewer:"Daniel",title:"Wyxkovyx Vlnbm Skr Jundrte Dsnoq Hurlboy",content_short:"mock data",content:"",forecast:43.16,importance:1,type:"CN",status:"published",display_time:"1977-10-09 16:50:14",comment_disabled:!0,pageviews:4932,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:95,timestamp:1153184204531,author:"Mary",reviewer:"Patricia",title:"Osph Pkmmf Vevnh Pkxgk Tumyv Cofjqyorl Yakb",content_short:"mock data",content:"",forecast:66.37,importance:3,type:"CN",status:"published",display_time:"2012-10-05 21:06:13",comment_disabled:!0,pageviews:607,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:957,timestamp:1153184204531,author:"Mary",reviewer:"Patricia",title:"Osph Pkmmf Vevnh Pkxgk Tumyv Cofjqyorl Yakb",content_short:"mock data",content:"",forecast:66.37,importance:3,type:"CN",status:"published",display_time:"2012-10-05 21:06:13",comment_disabled:!0,pageviews:607,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:956,timestamp:1153184204531,author:"Mary",reviewer:"Patricia",title:"Osph Pkmmf Vevnh Pkxgk Tumyv Cofjqyorl Yakb",content_short:"mock data",content:"",forecast:66.37,importance:3,type:"CN",status:"published",display_time:"2012-10-05 21:06:13",comment_disabled:!0,pageviews:607,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:955,timestamp:1153184204531,author:"Mary",reviewer:"Patricia",title:"Osph Pkmmf Vevnh Pkxgk Tumyv Cofjqyorl Yakb",content_short:"mock data",content:"",forecast:66.37,importance:3,type:"CN",status:"published",display_time:"2012-10-05 21:06:13",comment_disabled:!0,pageviews:607,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:954,timestamp:1153184204531,author:"Mary",reviewer:"Patricia",title:"Osph Pkmmf Vevnh Pkxgk Tumyv Cofjqyorl Yakb",content_short:"mock data",content:"",forecast:66.37,importance:3,type:"CN",status:"published",display_time:"2012-10-05 21:06:13",comment_disabled:!0,pageviews:607,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:953,timestamp:1153184204531,author:"Mary",reviewer:"Patricia",title:"Osph Pkmmf Vevnh Pkxgk Tumyv Cofjqyorl Yakb",content_short:"mock data",content:"",forecast:66.37,importance:3,type:"CN",status:"published",display_time:"2012-10-05 21:06:13",comment_disabled:!0,pageviews:607,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:952,timestamp:1153184204531,author:"Mary",reviewer:"Patricia",title:"Osph Pkmmf Vevnh Pkxgk Tumyv Cofjqyorl Yakb",content_short:"mock data",content:"",forecast:66.37,importance:3,type:"CN",status:"published",display_time:"2012-10-05 21:06:13",comment_disabled:!0,pageviews:607,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:951,timestamp:1153184204531,author:"Mary",reviewer:"Patricia",title:"Osph Pkmmf Vevnh Pkxgk Tumyv Cofjqyorl Yakb",content_short:"mock data",content:"",forecast:66.37,importance:3,type:"CN",status:"published",display_time:"2012-10-05 21:06:13",comment_disabled:!0,pageviews:607,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:84,timestamp:918635211900,author:"Kevin",reviewer:"Karen",title:"Wuwmklm Pqymz Zlmo Obkkvcdec Qhmpnlu Dgnkxsp Stoskma Pveygw",content_short:"mock data",content:"",forecast:84.52,importance:2,type:"CN",status:"published",display_time:"1997-06-11 01:51:44",comment_disabled:!0,pageviews:3219,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:81,timestamp:1294823572761,author:"Christopher",reviewer:"Anthony",title:"Pxyeewuu Vsv Osjtyswlmf Tpvnc Nszkoq Majjlhdm",content_short:"mock data",content:"",forecast:25.05,importance:2,type:"CN",status:"published",display_time:"1970-11-23 01:10:24",comment_disabled:!0,pageviews:4414,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:73,timestamp:1429372455449,author:"Daniel",reviewer:"Carol",title:"Vgbm Xtdhcpzvb Bfjvwtifz Kxfagrj Cwmeifpgg Rvdqtcl Gkuxu Rjhj Ihemgnpd",content_short:"mock data",content:"",forecast:61.71,importance:2,type:"CN",status:"draft",display_time:"1996-01-17 13:15:46",comment_disabled:!0,pageviews:2001,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:69,timestamp:586960773401,author:"Barbara",reviewer:"Eric",title:"Pinjsl Tlvhrixi Tjbyb Eolm Bvmhpheue Dolqgwu Mpr Wjjfduyd",content_short:"mock data",content:"",forecast:20.88,importance:1,type:"CN",status:"published",display_time:"1999-08-31 23:36:54",comment_disabled:!0,pageviews:2712,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:62,timestamp:571630509857,author:"Larry",reviewer:"Ronald",title:"Jrxsijsg Owyvussg Tciep Lzus Swdlfyhnxr Brohdinq Huaj Nqfuypml Owfhqjck Jjrsf",content_short:"mock data",content:"",forecast:92.76,importance:1,type:"CN",status:"published",display_time:"2002-04-23 08:26:58",comment_disabled:!0,pageviews:1911,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:57,timestamp:571417686195,author:"Michael",reviewer:"Cynthia",title:"Duwybr Ohlt Klbtxv Dylba Hboggxkq Nhokcxx Nndk Irv",content_short:"mock data",content:"",forecast:87.19,importance:1,type:"CN",status:"draft",display_time:"1976-01-27 19:22:47",comment_disabled:!0,pageviews:4771,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:53,timestamp:84816727656,author:"Amy",reviewer:"Robert",title:"Rfr Frtigq Rwsmvrntem Gduvjb Leddqprq Huljs Agintusit Vchmv",content_short:"mock data",content:"",forecast:23.54,importance:1,type:"CN",status:"draft",display_time:"1982-01-20 13:36:22",comment_disabled:!0,pageviews:2726,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:34,timestamp:90675776383,author:"William",reviewer:"Timothy",title:"Jgto Bindskjuxx Mkkq Jmxf Splkwoxwye Tvcfs Ooqv Ynjwhcbq",content_short:"mock data",content:"",forecast:70.62,importance:1,type:"CN",status:"draft",display_time:"1993-06-16 04:15:52",comment_disabled:!0,pageviews:1315,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:33,timestamp:509118994930,author:"Larry",reviewer:"Brian",title:"Yzoyhli Pkkilqh Gyl Nxvvp Qnuvrxn",content_short:"mock data",content:"",forecast:8.54,importance:1,type:"CN",status:"draft",display_time:"2010-05-21 02:13:30",comment_disabled:!0,pageviews:868,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:30,timestamp:1206792662982,author:"Melissa",reviewer:"Maria",title:"Cwpwtto Nkmjm Tyqsemlet Rcm Vakiyglpcd Uodlbvq Lvnam Ulitd",content_short:"mock data",content:"",forecast:18.52,importance:2,type:"CN",status:"published",display_time:"2008-01-25 04:25:27",comment_disabled:!0,pageviews:4363,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:29,timestamp:1377495402651,author:"Kevin",reviewer:"Nancy",title:"Kgkdnmgapl Xnrey Ijeyjpr Mugdmgaf Rbf Gtkdblh Ycictrkxb Egkoelyb",content_short:"mock data",content:"",forecast:76.75,importance:1,type:"CN",status:"draft",display_time:"2002-11-27 19:58:50",comment_disabled:!0,pageviews:484,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:19,timestamp:395849008671,author:"Jessica",reviewer:"Laura",title:"Oidjnl Eetbn Urad Mirmhgxw Lrmv Ukmwjdyc Ievgs Wdwoccdx",content_short:"mock data",content:"",forecast:30.68,importance:2,type:"CN",status:"published",display_time:"2008-03-23 17:24:27",comment_disabled:!0,pageviews:1872,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:15,timestamp:499756239720,author:"David",reviewer:"Carol",title:"Roanmiynx Tpyquk Recjkehkq Xnazk Fubm Xdxubyrjb Hfnbvmk Xyuuzw Tccqrsy Bohsyblc",content_short:"mock data",content:"",forecast:64.53,importance:3,type:"CN",status:"published",display_time:"1988-10-26 07:18:03",comment_disabled:!0,pageviews:890,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]},{id:9,timestamp:353379424477,author:"Michelle",reviewer:"Christopher",title:"Wlbtufv Dimjfmp Wgsfefinc Zhjijl Lnmwvytx Irthjudw",content_short:"mock data",content:"",forecast:27.83,importance:2,type:"CN",status:"published",display_time:"1975-09-03 11:51:22",comment_disabled:!0,pageviews:1644,image_uri:"https://wpimg.wallstcn.com/e4558086-631c-425c-9430-56ffb46e70b3",platforms:["a-platform"]}]}}},b68f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"pdf"===e.fileType,expression:"fileType === 'pdf'"}],staticClass:"web-file"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.pageCount&&e.pageCount>0,expression:"pageCount && pageCount > 0"}]},[a("div",{staticClass:"page-btn"},[a("el-button",{attrs:{type:"primary",disabled:1==e.currentPage},on:{click:function(t){return e.changePdfPage(0)}}},[e._v("上一页")]),a("div",[e._v(e._s(e.currentPage)+" / "+e._s(e.pageCount))]),a("el-button",{attrs:{type:"primary",disabled:e.currentPage==e.pageCount},on:{click:function(t){return e.changePdfPage(1)}}},[e._v("下一页")])],1)]),a("div",{staticClass:"pdf-box"},[a("pdf",{attrs:{src:e.pdfsrc,page:e.currentPage},on:{"num-pages":function(t){e.pageCount=t},"page-loaded":e.pageLoaded,loaded:e.loadPdfHandler}})],1)])])},n=[],o=a("858e"),s={components:{pdf:o["a"]},props:{pdfsrc:{type:String,default:""}},data:function(){return{fileType:"pdf",pageCount:0,currentPage:1,clickFlag:!1,clickTimer:-1}},created:function(){this.initPdfFile()},methods:{initPdfFile:function(){this.pdfsrc=o["a"].createLoadingTask(this.pdfsrc)},pageLoaded:function(e){this.currentPage=e},loadPdfHandler:function(e){this.currentPage=1},changePdfPage:function(e){var t=this;this.clickFlag||(this.clickFlag=!0,this.clickTimer=setTimeout((function(){t.clickFlag=!1}),500),0===e&&this.currentPage>1&&this.currentPage--,1===e&&this.currentPage<this.pageCount&&this.currentPage++)}}},r=s,l=(a("ce54"),a("2877")),c=Object(l["a"])(r,i,n,!1,null,"23896994",null);t["default"]=c.exports},b713:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tabs-box"},[i("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.tabBtnList,(function(t,a){return i("el-tab-pane",{key:a,attrs:{label:t.label,name:t.key}},[i("div",{staticClass:"tab-pane-box"},[i("div",{staticClass:"btn-list"},e._l(t.list,(function(t,a){return i("div",{key:a,staticClass:"btn-list-item"},[t.type&&"button"!=t.type?e._e():i("el-button",{directives:[{name:"has",rawName:"v-has",value:t.permission,expression:"item.permission"}],attrs:{type:e.btnType,size:e.btnSize,icon:t.icon?"el-icon-"+t.icon:""},on:{click:function(a){return e.btnClick(t)}}},[e._v(" "+e._s(t.name)+" ")]),"switchBtn"==t.type?i("el-button",{directives:[{name:"has",rawName:"v-has",value:t.permission,expression:"item.permission"}],attrs:{type:e.btnType,size:e.btnSize,icon:t.icon?"el-icon-"+t.icon:""},on:{click:function(a){return e.btnClick(t)}}},[t.switchFlag?i("span",[e._v(e._s(t.switchName))]):e._e(),t.switchFlag?e._e():i("span",[e._v(e._s(t.name))])]):e._e(),"dropdown"==t.type?i("el-dropdown",{on:{command:function(a){return e.handleCommand(t,a)}}},[i("el-button",{directives:[{name:"has",rawName:"v-has",value:t.permission,expression:"item.permission"}],attrs:{size:e.btnSize,type:e.btnType}},[e._v(" "+e._s(t.name)),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(t.dropdownList,(function(t,a){return i("el-dropdown-item",{directives:[{name:"has",rawName:"v-has",value:t.permission,expression:"dropdownItem.permission"}],key:a,attrs:{command:t.command}},[e._v(" "+e._s(t.name)+" ")])})),1)],1):e._e()],1)})),0)])])})),1),e.setBtn?i("div",{staticClass:"tabs-box-right"},[i("div",{staticClass:"set-btn rotate",on:{click:e.setBtnClick}},[i("img",{attrs:{src:a("f9d8"),alt:""}})])]):e._e()],1)},n=[],o=a("5530"),s=a("2909"),r=(a("a9e3"),a("7db0"),a("4e82"),a("d81d"),a("4de4"),a("caad"),a("2532"),a("99af"),a("a434"),a("cf45")),l=a("9fb0"),c={name:"TabBtn",components:{},props:{list:{type:Array,default:function(){var e=[];return e}},btnSize:{type:String,default:"mini"},btnType:{type:String,default:"primary"},statisticsFlag:{type:Boolean,default:null},othType:{type:String,default:null},saveType:{type:String,default:""},habitBtnShowLength:{type:Number,default:8},setBtn:{type:Boolean,default:!1}},data:function(){return{activeName:""}},watch:{},computed:{habitBtnList:function(){var e=this,t=this.$store.state.habit.btnList,a=null;if(t&&t.length&&this.saveType){var i=t.find((function(t){return t.key==e.saveType}));i&&(a=i.list,a=a.sort(Object(r["n"])("count",!1)))}return a},tabBtnList:function(){var e=this,t=Object(s["a"])(this.list);null!=this.statisticsFlag&&t.map((function(t){if(t.list&&t.list.length){var a=t.list.find((function(e){return"statistics"==e.key}));a&&(a.switchFlag=e.statisticsFlag)}})),t=this.list.filter((function(e){return"hide"!=e.type}));var a=JSON.parse(localStorage.getItem(l["e"])||"[]");if(a=a.map((function(e){return e.permission})),t=t.filter((function(e){var t=!0;if(e.list&&e.list.length){var i=e.list.every((function(e){return e.permission&&!a.includes(e.permission)}));i&&(t=!1)}return t})),this.habitBtnList){var i=t.find((function(e){return"common"==e.key}));i.list=[].concat(Object(s["a"])(this.habitBtnList),Object(s["a"])(i.list)),i.list=Object(r["p"])(i.list,"key"),i.list.splice(this.habitBtnShowLength)}return t}},methods:{btnClick:function(e){this.$emit("click",{key:e.key,type:e.type,othType:this.othType}),this.usageHabitsKeep(e.key)},handleCommand:function(e,t){this.$emit("click",{key:t,type:"dropdown",othType:this.othType}),this.usageHabitsKeep(e.key)},usageHabitsKeep:function(e){var t=this;if("common"!=this.activeName){var a=this.tabBtnList.find((function(e){return e.key==t.activeName})).list,i=a.find((function(t){return t.key==e}));if(i){var n=i.key,s=[];if(this.habitBtnList){var r=this.habitBtnList.find((function(e){return e.key==n}));s=this.$store.state.habit.btnList;var l=s.find((function(e){return e.key==t.saveType}));if(r)r.count++,l.list=this.habitBtnList;else{var c=Object(o["a"])(Object(o["a"])({},i),{},{count:1});l.list.push(c)}}else{var d={key:this.saveType,list:[Object(o["a"])(Object(o["a"])({},i),{},{count:1})]};s.push(d)}this.$store.dispatch("habit/changeSetting",{key:"btnList",value:s})}}},setBtnClick:function(){this.$emit("set")}},created:function(){this.list&&this.list.length&&(this.activeName=this.list[0].key)},mounted:function(){}},d=c,u=(a("f427"),a("2877")),p=Object(u["a"])(d,i,n,!1,null,"4f8c22f6",null);t["default"]=p.exports},b86d:function(e,t,a){},b893:function(e,t,a){"use strict";a("d3b7"),a("25f0");function i(){var e=+new Date+"",t=parseInt(65536*(1+Math.random()))+"";return(+(t+e)).toString(32)}var n={shortcuts:[{text:"今天",onClick:function(e){var t=new Date,a=new Date((new Date).toDateString());a.setTime(a.getTime()),e.$emit("pick",[a,t])}},{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(t.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},o={shortcuts:[{text:"今年至今",onClick:function(e){var t=new Date,a=new Date((new Date).getFullYear(),0);e.$emit("pick",[a,t])}},{text:"最近半年",onClick:function(e){var t=new Date,a=new Date;a.setMonth(a.getMonth()-6),e.$emit("pick",[a,t])}},{text:"最近一年",onClick:function(e){var t=new Date,a=new Date;a.setMonth(a.getMonth()-12),e.$emit("pick",[a,t])}}]};t["a"]={createUniqueString:i,pickerOptionsRange:n,pickerOptionsRangeMonth:o}},baee:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.errorLogs.length>0?a("div",[a("el-badge",{staticStyle:{"line-height":"25px","margin-top":"-5px"},attrs:{"is-dot":!0},nativeOn:{click:function(t){e.dialogTableVisible=!0}}},[a("el-button",{staticStyle:{padding:"8px 10px"},attrs:{size:"small",type:"danger"}},[a("svg-icon",{attrs:{"icon-class":"bug"}})],1)],1),a("el-dialog",{attrs:{visible:e.dialogTableVisible,width:"80%","append-to-body":""},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("div",{attrs:{slot:"title"},slot:"title"},[a("span",{staticStyle:{"padding-right":"10px"}},[e._v("Error Log")]),a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-delete"},on:{click:e.clearAll}},[e._v("Clear All")])],1),a("el-table",{attrs:{data:e.errorLogs,border:""}},[a("el-table-column",{attrs:{label:"Message"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("div",[a("span",{staticClass:"message-title"},[e._v("Msg:")]),a("el-tag",{attrs:{type:"danger"}},[e._v(" "+e._s(i.err.message)+" ")])],1),a("br"),a("div",[a("span",{staticClass:"message-title",staticStyle:{"padding-right":"10px"}},[e._v("Info: ")]),a("el-tag",{attrs:{type:"warning"}},[e._v(" "+e._s(i.vm.$vnode.tag)+" error in "+e._s(i.info)+" ")])],1),a("br"),a("div",[a("span",{staticClass:"message-title",staticStyle:{"padding-right":"16px"}},[e._v("Url: ")]),a("el-tag",{attrs:{type:"success"}},[e._v(" "+e._s(i.url)+" ")])],1)]}}],null,!1,3134886942)}),a("el-table-column",{attrs:{label:"Stack"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.err.stack)+" ")]}}],null,!1,2525805560)})],1)],1)],1):e._e()},n=[],o={name:"ErrorLog",data:function(){return{dialogTableVisible:!1}},computed:{errorLogs:function(){return this.$store.getters.errorLogs}},methods:{clearAll:function(){this.dialogTableVisible=!1,this.$store.dispatch("errorLog/clearErrorLog")}}},s=o,r=(a("69d8"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"be34583a",null);t["default"]=l.exports},bb11:function(e,t,a){},bbe1:function(e,t,a){"use strict";a("f570")},bbfa:function(e,t,a){},bd3d:function(e,t,a){"use strict";a("b021")},bdbb:function(e,t,a){},be9d:function(e,t,a){e.exports=a.p+"static/img/doc-blue.b7c1281f.svg"},c000:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-collapse",{staticClass:"collapse",model:{value:e.collapse.activeNames,callback:function(t){e.$set(e.collapse,"activeNames",t)},expression:"collapse.activeNames"}},[a("el-collapse-item",{attrs:{name:e.collapse.name}},[a("template",{slot:"title"},[e._t("collapse-title")],2),e._t("collapse-content")],2)],1)},n=[],o=a("5530"),s=a("2909"),r=(a("b0c0"),a("99af"),a("5d6f9")),l={name:"Collapse",props:{collapseProps:{type:Object}},watch:{collapseProps:{handler:function(e){if(!Object(r["isEmpty"])(e)){var t=this.collapse.activeNames,a=e.title,i=e.name;i&&(t=[].concat(Object(s["a"])(t),[i])),this.collapse=Object(o["a"])(Object(o["a"])({},this.collapse),{},{activeNames:t,title:a,name:i})}},immediate:!0}},data:function(){return{collapse:{activeNames:[],title:"",name:""}}}},c=l,d=(a("f019"),a("2877")),u=Object(d["a"])(c,i,n,!1,null,"635653c9",null);t["default"]=u.exports},c085:function(e,t,a){e.exports=a.p+"static/img/doc-red.67a45438.svg"},c0b2:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"refForm",attrs:{model:e.formData,rules:e.rules,"label-width":"75px"}},[a("el-collapse",{attrs:{accordion:""},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-collapse-item",{attrs:{name:"1"}},[a("template",{slot:"title"},[a("span",{staticClass:"el_title"},[e._v("基本设置"),a("i",{staticClass:"header-icon el-icon-info"})])]),a("el-form-item",{attrs:{label:"流程主键",prop:"id"}},[a("el-input",{attrs:{disabled:"true"},model:{value:e.formData.id,callback:function(t){e.$set(e.formData,"id",t)},expression:"formData.id"}})],1),a("el-form-item",{attrs:{label:"流程名称",prop:"name"}},[a("el-input",{attrs:{clearable:""},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"流程描述"}},[a("el-input",{attrs:{rows:3,type:"textarea",clearable:""},model:{value:e.formData.documentation,callback:function(t){e.$set(e.formData,"documentation",t)},expression:"formData.documentation"}})],1),a("el-form-item",{attrs:{label:"流程分类",prop:"processCategory"}},[a("el-select",{model:{value:e.formData.processCategory,callback:function(t){e.$set(e.formData,"processCategory",t)},expression:"formData.processCategory"}},e._l(this.processCategory,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],2),a("el-collapse-item",{attrs:{name:"2"}},[a("template",{slot:"title"},[a("span",{staticClass:"el_title"},[e._v("候选配置"),a("i",{staticClass:"header-icon el-icon-info"})])]),a("el-form-item",{attrs:{label:"可发起者"}},[a("el-select",{attrs:{clearable:""},model:{value:e.formData.candidateStarterUsers,callback:function(t){e.$set(e.formData,"candidateStarterUsers",t)},expression:"formData.candidateStarterUsers"}},e._l(this.assignee,(function(t){return a("el-option",{key:t.id,attrs:{label:t.realname,value:t.id}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.realname))])])})),1)],1),a("el-form-item",{attrs:{label:"可发起组"}},[a("el-select",{attrs:{clearable:""},model:{value:e.formData.candidateStarterGroups,callback:function(t){e.$set(e.formData,"candidateStarterGroups",t)},expression:"formData.candidateStarterGroups"}},e._l(this.candidateGroups,(function(t){return a("el-option",{key:t.postId,attrs:{label:t.postName,value:t.postId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.postName))])])})),1)],1)],2),a("el-collapse-item",{attrs:{name:"3"}},[a("template",{slot:"title"},[a("span",{staticClass:"el_title"},[e._v("监听器"),a("i",{staticClass:"header-icon el-icon-info"})])]),a("el-form-item",{attrs:{label:"执行监听"}},[a("el-badge",{attrs:{value:e.executionListenerLength}},[a("el-button",{on:{click:function(t){e.executionListenerDrawer=!0}}},[e._v("编辑")])],1)],1)],2),a("el-collapse-item",{attrs:{name:"4"}},[a("template",{slot:"title"},[a("span",{staticClass:"el_title"},[e._v("附加属性"),a("i",{staticClass:"header-icon el-icon-info"})])]),a("el-form-item",{attrs:{label:"附加属性"}},[a("el-badge",{attrs:{value:e.propertiesLength}},[a("el-button",{on:{click:function(t){e.propertiesDrawer=!0}}},[e._v("编辑")])],1)],1)],2)],1)],1),a("listener",{attrs:{title:"执行监听",type:"Execution",element:e.element,modeler:e.modeler,listenerDrawer:e.executionListenerDrawer},on:{changeListenerDrawer:e.changeExecutionListenerDrawer,saveListener:e.saveExecutionListener}}),a("properties",{attrs:{title:"属性",element:e.element,modeler:e.modeler,propertiesDrawer:e.propertiesDrawer},on:{changePropertiesDrawer:e.changePropertiesDrawer,saveProperties:e.saveProperties}})],1)},n=[],o=a("5530"),s=(a("4de4"),a("d3b7"),a("ddb0"),a("917d")),r=a("2d17"),l=a("9db6"),c={name:"BpmnProcess",components:{Properties:l["default"],listener:r["default"]},mixins:[s["a"]],props:{processCategory:{type:Array,required:!0},assignee:{type:Array,required:!0},candidateGroups:{type:Array,required:!0}},data:function(){return{activeName:"1",formData:{},rules:{id:[{required:!0,message:"该项不能为空",trigger:"change"}],name:[{required:!0,message:"该项不能为空",trigger:"change"}]},executionListenerDrawer:!1,executionListenerLength:0,propertiesDrawer:!1,propertiesLength:0}},watch:{"formData.processCategory":function(e){""===e&&(e=null),this.element.businessObject.$parent.targetNamespace=e},"formData.candidateStarterUsers":function(e){this.updateProperty("candidateStarterUsers",e,!0)},"formData.candidateStarterGroups":function(e){this.updateProperty("candidateStarterGroups",e,!0)}},created:function(){var e,t,a,i,n,s=this,r=Object(o["a"])(Object(o["a"])({},this.element.businessObject),this.element.businessObject.$attrs),l=this.element.businessObject.$parent.targetNamespace;r.processCategory=l,r.documentation=this.getDocumentation(),this.formData=r,this.executionListenerLength=null!==(e=null===(t=this.element.businessObject.extensionElements)||void 0===t?void 0:t.values.filter((function(e){return e.$type===s.descriptorPrefix+"ExecutionListener"})).length)&&void 0!==e?e:0,this.propertiesLength=null!==(a=null===(i=this.element.businessObject.extensionElements)||void 0===i||null===(n=i.values.filter((function(e){return e.$type===s.descriptorPrefix+"Properties"})).shift())||void 0===n?void 0:n.values.length)&&void 0!==a?a:0},methods:{changeExecutionListenerDrawer:function(e){this.executionListenerDrawer=e},saveExecutionListener:function(e){this.executionListenerLength=e},changePropertiesDrawer:function(e){this.propertiesDrawer=e},saveProperties:function(e){this.propertiesLength=e}}},d=c,u=a("2877"),p=Object(u["a"])(d,i,n,!1,null,null,null);t["default"]=p.exports},c1c1:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"app-container none-shadow auto-scroll modal-box"},["list"==e.listType?a("div",[a("div",{staticClass:"title"},[e._v(e._s(e.labelText))]),e._l(e.list,(function(t,i){return a("div",{key:i,staticClass:"list-item",attrs:{title:t}},[e._v(" "+e._s(t)+" ")])}))],2):e._e(),"table"==e.listType?a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-align":"center","max-height":"380px"}},[a("el-table-column",{attrs:{prop:"ARCH_TITLE",label:"题名"}}),a("el-table-column",{attrs:{prop:"ARCH_RULE",label:"档号"}})],1)],1):e._e()])]):e._e()},n=[],o={components:{},props:{title:{type:String,default:"查看详情"}},data:function(){return{model:{},visible:!1,loading:!1,url:{},labelText:"",listType:"list",list:[],tableData:[]}},computed:{},created:function(){},methods:{init:function(e){this.labelText=e.labelText,this.list=e.list,this.listType="title"==e.type?"table":"list","title"==e.type&&(this.tableData=e.list),this.visible=!0},cancelModal:function(){this.visible=!1,this.$emit("close")}}},s=o,r=(a("c47f"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"51c19230",null);t["default"]=l.exports},c428:function(e,t,a){"use strict";a("f2c0")},c47f:function(e,t,a){"use strict";a("d285")},c4cc:function(e,t,a){"use strict";a.r(t);var i,n,o={name:"render",functional:!0,props:{scope:Object,render:Function},render:function(e,t){return t.props.render?t.props.render(e,t.props.scope):""}},s=o,r=a("2877"),l=Object(r["a"])(s,i,n,!1,null,null,null);t["default"]=l.exports},c4f3:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"选择用户",visible:e.visibleInChild,"append-to-body":e.appendToBody,fullscreen:"","before-close":e.close},on:{"update:visible":function(t){e.visibleInChild=t}}},[a("div",{staticClass:"el-dialog-body-custom-height"},[a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:6}},[a("div",[a("el-input",{staticStyle:{"margin-bottom":"10px"},attrs:{placeholder:"请输入过滤条件"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),a("el-tree",{ref:"_selectOrgTree",staticClass:"filter-tree",attrs:{data:e.treeData,"node-key":"id",props:e.defaultProps,"filter-node-method":e.filterNode},on:{"node-click":e.handleNodeClick}})],1)]),a("el-col",{attrs:{span:12}},[a("div",[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"用户ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.userId,callback:function(t){e.$set(e.listQuery,"userId",t)},expression:"listQuery.userId"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"用户姓名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.userName,callback:function(t){e.$set(e.listQuery,"userName",t)},expression:"listQuery.userName"}}),a("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[a("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询 "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置 ")])],1)],1)],1),a("el-table",{ref:"_sysUserTable",staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"",height:"337","cell-style":{padding:"3px"}},on:{"row-click":e.rowClick}},[a("el-table-column",{attrs:{label:"用户ID",prop:"userId",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.userId))])]}}])}),a("el-table-column",{attrs:{label:"用户姓名",prop:"userName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.userName))])]}}])}),a("el-table-column",{attrs:{label:"所属机构ID",prop:"orgId",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.orgId))])]}}])}),a("el-table-column",{attrs:{label:"所属机构",prop:"orgName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.orgName))])]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.listSysUsers}})],1)]),a("el-col",{attrs:{span:6}},[a("div",[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-button",{attrs:{icon:"el-icon-remove",type:"primary"},on:{click:e.btnRemoveAll}},[e._v("清空")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.selectedRecords,border:"",fit:"","highlight-current-row":"",height:"337","cell-style":{padding:"3px"}}},[a("el-table-column",{attrs:{label:"用户ID",prop:"userId",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.userId))])]}}])}),a("el-table-column",{attrs:{label:"用户姓名",prop:"userName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.userName))])]}}])}),e.multipleSelect?a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("i",{staticClass:"el-icon-delete el-icon--left",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.btnRemove(i)}}})]}}],null,!1,2173128288)}):e._e()],1)],1)])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.visibleInChild=!1}}},[e._v("取消")]),a("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:e.confirm}},[e._v("确定")])],1)])},n=[],o=(a("4de4"),a("c740"),a("a434"),a("333d")),s=a("0fea"),r=(a("5c96"),{name:"SelectUser",components:{Pagination:o["default"]},props:{visible:{type:Boolean,default:!1},multipleSelect:{type:Boolean,default:!1},type:{type:String,default:""},appendToBody:{type:Boolean,default:!1}},data:function(){return{filterText:"",treeData:[],defaultProps:{children:"children",label:"label",isLeaf:"isLeaf",data:"data"},records:[],total:0,selectedRecords:[],listQuery:{current:1,size:10,userId:void 0,userName:void 0,orgId:void 0},currOrgId:""}},watch:{filterText:function(e){this.$refs._selectOrgTree.filter(e)}},computed:{visibleInChild:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},methods:{close:function(){this.visibleInChild=!1},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},getTreeData:function(){var e=this;Object(s["e"])("/sys/org/getSelectTreeData",{type:this.type}).then((function(t){var a=t.data;e.treeData=a}))},handleNodeClick:function(e){this.currOrgId=e.id,this.listSysUsers()},listSysUsers:function(){var e=this;this.listQuery.orgId=this.currOrgId,Object(s["e"])("/sys/user/listSelectUser",this.listQuery).then((function(t){var a=t.data;e.records=a.records,e.total=a.total}))},btnQuery:function(){this.listQuery.current=1,this.listSysUsers()},btnReset:function(){this.currOrgId="",this.listQuery={current:1,size:10,userId:void 0,userName:void 0,orgId:void 0},this.listSysUsers()},rowClick:function(e){if(this.multipleSelect){var t=this.selectedRecords,a=t.findIndex((function(t){return t.userId===e.userId}));a<0?t.push(e):t.splice(a,1)}else this.selectedRecords=[],this.selectedRecords[0]=e},btnRemoveAll:function(){this.selectedRecords=[]},btnRemove:function(e){var t=this.selectedRecords;t.splice(t.findIndex((function(t){return t.userId===e.userId})),1)},confirm:function(){this.selectedRecords&&0!=this.selectedRecords.length?(this.multipleSelect?this.$emit("selectUserFinished",this.selectedRecords):this.$emit("selectUserFinished",this.selectedRecords[0]),this.selectedRecords=[],this.records=[],this.visibleInChild=!1):this.$sweetAlert.warnWithTimer("请先选择用户")}}}),l=r,c=a("2877"),d=Object(c["a"])(l,i,n,!1,null,null,null);t["default"]=d.exports},c568:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Tinymce",{attrs:{height:300,placeholder:"在这里输入文字"},model:{value:e.defaultValue,callback:function(t){e.defaultValue=t},expression:"defaultValue"}})],1)},n=[],o=a("1b8e"),s={components:{Tinymce:o["default"]},props:{},data:function(){return{defaultValue:"<p>配置文档参阅：http://tinymce.ax-z.cn</p>"}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{}},r=s,l=a("2877"),c=Object(l["a"])(r,i,n,!1,null,null,null);t["default"]=c.exports},c5d4:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"base-box"},[a("el-radio-group",{staticClass:"max-width box-item",model:{value:e.printType,callback:function(t){e.printType=t},expression:"printType"}},[a("div",{staticClass:"flex justify-between"},[a("el-radio",{staticClass:"max-width",attrs:{label:"pdf"}},[e._v("打印PDF")]),a("el-radio",{staticClass:"max-width",attrs:{label:"excel"}},[e._v("下载EXCEL")])],1)]),a("div",{staticClass:"flex justify-between box-item"},[a("div",{staticClass:"flex justify-start max-width"},[a("div",[e._v("首页套打：前跳行数：")]),a("el-input",{staticStyle:{width:"100px"},attrs:{maxlength:"50",min:0,placeholder:"",onkeyup:"value=value.replace(/[^\\d]/g,'')",clearable:""},model:{value:e.lineNumber,callback:function(t){e.lineNumber=t},expression:"lineNumber"}})],1),a("div",{staticClass:"flex justify-start max-width"},[a("div",[e._v("数据方向：")]),a("el-select",{staticStyle:{width:"100px"},attrs:{placeholder:""},model:{value:e.directionType,callback:function(t){e.directionType=t},expression:"directionType"}},e._l(e.directionList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)]),a("div",{staticClass:"flex box-item bot-btn-list"},e._l(e.printContentList,(function(t,i){return a("div",{key:i,staticClass:"flex justify-start pointer",staticStyle:{width:"100%","text-align":"left"},on:{mouseover:function(t){return e.changeActive(t)},mouseout:function(t){return e.removeActive(t)},click:function(a){return e.btnClick(t)}}},[a("div",[a("i",{staticClass:"el-icon-printer",staticStyle:{"margin-right":"5px"}})]),a("div",{staticClass:"nowrap"},[e._v(e._s(t.label))])])})),0)],1)]):e._e()},n=[],o=(a("2f62"),a("0fea"),a("0779")),s=(a("61f7"),a("3cee")),r={components:{DictSelectTag:o["default"],TinymceEditor:s["default"]},props:{title:{type:String,default:"选择打印"}},data:function(){return{visible:!0,loading:!1,lineNumber:null,ids:"",printType:"pdf",directionType:"horizontal",directionList:[{value:"horizontal",label:"横向"},{value:"vertical",label:"纵向"}],printContentList:[{value:"1",label:"录音录像文件归档登记表"},{value:"2",label:"打印卷内文件目录"},{value:"3",label:"归档文件目录封面"},{value:"4",label:"归档文件目录(带盒号)"}]}},computed:{},created:function(){},methods:{init:function(e){this.ids=e,this.visible=!0},btnClick:function(e){},changeActive:function(e){},removeActive:function(e){},submit:function(e){},cancelModal:function(){this.visible=!1,this.$emit("close")}}},l=r,c=(a("2404"),a("2877")),d=Object(c["a"])(l,i,n,!1,null,"228f5caa",null);t["default"]=d.exports},c68b:function(e,t,a){"use strict";a("6f68")},c713:function(e,t,a){"use strict";a("3c98")},c724:function(e,t,a){"use strict";a("a8ac")},c778:function(e,t,a){"use strict";a("62f7")},c79f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,width:"75%","before-close":e.cancelModal,title:"数据关联",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"max-height div-main"},[a("div",{staticClass:"div-left auto-scroll"},[a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],ref:"tree",attrs:{data:e.treeData,"default-checked-keys":e.defaultCheckedKeys,"default-expanded-keys":e.defaultExpandedKeys},on:{click:e.treeNodeClick}})],1),a("div",{staticClass:"div-right"},[e.fileBoxShow?a("div",[a("div",{staticClass:"operate-box nowrap flex justify-between border-dashed"},[a("div",{staticClass:"div-title",style:{borderLeft:"solid 4px",borderColor:e.theme,paddingLeft:"10px"}},[e._v(" 案卷 ")]),a("div",{staticClass:"flex"})]),a("div",{staticClass:"auto-scroll-tab"},[a("arch-dyn-table",{ref:"fileBox",attrs:{"template-id":e.templateId,"oth-type":1,"is-select":!0,"show-total":!0,"cate-code":e.cateCode,transfered:e.transfered,"oper-col":e.fileBoxObj.operCol,radio:!0},on:{radioChange:e.radioChange}})],1)]):e._e()])]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1),e.fileBoxReelModule.show?a("file-box-reel-module",{ref:"fileBoxReelModule",attrs:{title:e.fileBoxReelModule.textMap[e.fileBoxReelModule.status],status:e.fileBoxReelModule.status},on:{close:function(t){e.fileBoxReelModule.show=!1}}}):e._e()],1):e._e()},n=[],o=a("1da1"),s=(a("96cf"),a("4de4"),a("d81d"),a("b0c0"),a("159b"),a("60f9")),r=a("2e5f"),l=a("1a36"),c=a("facc"),d={name:"DataRelatedModule",components:{BasicTree:s["default"],ArchDynTable:c["default"],BtnList:r["default"],FileBoxReelModule:l["default"]},props:{},data:function(){var e=this;this.$createElement;return{visible:!1,fileBoxShow:!1,templateId:"",cateCode:"",transfered:"4",fileBoxObj:{isSelect:!0,operCol:[{label:"操作",prop:"oper",width:100,fixed:"right",render:function(t,a){var i=a.row,n=[{content:"查看",type:"text",icon:"view",event:function(){e.view(i,"1")}}];return t(r["default"],{attrs:{btnInfo:n}})}}]},treeData:[],defaultCheckedKeys:[],defaultExpandedKeys:[],searchOptions:[],url:{codeTree:"/category/archCateTree",unwind:"dynamic/unwind"},docIds:"",selectedVolId:"",fileBoxReelModule:{show:!1,status:"create",textMap:{update:"编辑",create:"添加",similarAdd:"类似新建",mergeVol:"案卷合并",groupVol:"卷内组卷",view:"查看"},loading:!1},initFromData:{templateId:"",cateCode:""}}},computed:{theme:function(){return this.$store.state.settings.theme}},methods:{init:function(e,t,a){this.visible=!0,this.docIds=e,this.initFromData.cateCode=a,this.initFromData.templateId=t},view:function(e,t){var a=this;this.fileBoxReelModule.status="view",this.fileBoxReelModule.show=!0,this.initFromData.row=e,this.initFromData.status="view",this.initFromData.othType=t,this.initFromData.showModal=!1,this.$nextTick((function(){a.$refs["fileBoxReelModule"].initForm(a.initFromData)}))},radioChange:function(e){this.selectedVolId=e.ID},treeNodeClick:function(e){var t=this;"0"==e.children.length?(this.fileBoxShow=!1,this.templateId=e.templateId,this.cateCode=e.cateCode,this.fileBoxShow||(this.fileBoxShow=!0),this.$nextTick((function(){t.$refs["fileBox"].getFields(e.templateId,"1")}))):this.$sweetAlert.errorWithTimer("请选择子节点进行业务操作！")},getSearchField:function(e){var t=this,a={templateId:this.templateId,othType:e};this.$api.getAction(this.url.searchFld,a).then((function(e){"200"===e.code&&(t.searchOptions=e.data)})).catch((function(){t.$sweetAlert.errorWithTimer("error")}))},setTreeData:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));e.map((function(e){return e.label=e.name,e})),this.setDefaultCheck(t,e);var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length?(a.elIcon="folder",t(a.children)):a.elIcon="document-copy"}))};return a(t),t},setDefaultCheck:function(e,t){var a=e[0].id,i=t.filter((function(e){return e.parentId==a}));this.defaultExpandedKeys.push(a);var n=this,o=function e(a){if(a.length){var i=a[0].id;n.defaultExpandedKeys.push(i),a=t.filter((function(e){return e.parentId==i})),e(a)}else n.defaultCheckedKeys.push(n.defaultExpandedKeys[n.defaultExpandedKeys.length-1])};o(i)},getTreeData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.getAction(e.url.codeTree,{});case 3:a=t.sent,i=a.treeData,e.treeData=e.setTreeData(i),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},cancelModal:function(){this.visible=!1,this.$emit("close"),this.$emit("ok","2")},submit:function(){var e=this;if(this.selectedVolId){var t={volSeq:this.selectedVolId,volInIds:this.docIds,templateId:this.templateId};this.$api.httpAction(this.url.unwind,t,"post").then((function(t){"200"==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.cancelModal()):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))}else this.$sweetAlert.warnWithTimer("请选择需转入案卷！")}},created:function(){this.getTreeData()}},u=d,p=(a("5483"),a("2877")),m=Object(p["a"])(u,i,n,!1,null,"164610de",null);t["default"]=m.exports},c844:function(e,t,a){"use strict";a("55e3")},c98e:function(e,t,a){},ca0a:function(e,t,a){"use strict";a("ddd6")},ca7e:function(e,t,a){"use strict";a("d253")},cad9:function(e,t,a){"use strict";a("612c")},cbb7b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{on:{"tab-click":e.tabClick},model:{value:e.pane.name,callback:function(t){e.$set(e.pane,"name",t)},expression:"pane.name"}},[a("el-tab-pane",{attrs:{label:"方向性图标",name:"direct"}},[a("ul",e._l(e.icons.directionIcons,(function(t){return a("li",{key:t},[a("el-tooltip",{attrs:{content:t,placement:"top"}},[a("i",{class:e.iconClass(t),on:{click:function(a){return e.chooseIcon(t)}}})])],1)})),0)]),a("el-tab-pane",{attrs:{label:"指示性图标",name:"note"}},[a("ul",e._l(e.icons.suggestionIcons,(function(t){return a("li",{key:t},[a("el-tooltip",{attrs:{content:t,placement:"top"}},[a("i",{class:e.iconClass(t),on:{click:function(a){return e.chooseIcon(t)}}})])],1)})),0)]),a("el-tab-pane",{attrs:{label:"编辑类图标",name:"edit"}},[a("ul",e._l(e.icons.editIcons,(function(t){return a("li",{key:t},[a("el-tooltip",{attrs:{content:t,placement:"top"}},[a("i",{class:e.iconClass(t),on:{click:function(a){return e.chooseIcon(t)}}})])],1)})),0)]),a("el-tab-pane",{attrs:{label:"数据类图标",name:"data"}},[a("ul",e._l(e.icons.dataIcons,(function(t){return a("li",{key:t},[a("el-tooltip",{attrs:{content:t,placement:"top"}},[a("i",{class:e.iconClass(t),on:{click:function(a){return e.chooseIcon(t)}}})])],1)})),0)]),a("el-tab-pane",{attrs:{label:"网站通用图标",name:"universal"}},[a("ul",e._l(e.icons.webIcons,(function(t){return a("li",{key:t},[a("el-tooltip",{attrs:{content:t,placement:"top"}},[a("i",{class:e.iconClass(t),on:{click:function(a){return e.chooseIcon(t)}}})])],1)})),0)]),a("el-tab-pane",{attrs:{label:"品牌和标识",name:"brand"}},[a("ul",e._l(e.icons.logoIcons,(function(t){return a("li",{key:t},[a("i",{class:e.iconClass(t),attrs:{title:t},on:{click:function(a){return e.chooseIcon(t)}}})])})),0)])],1)},n=[],o=a("5530"),s=(a("b0c0"),a("ed08")),r=a("5d6f9"),l=["stepbackward","stepforward","fastbackward","fastforward","shrink","arrowsalt","down","up","left","right","caretup","caretdown","caretleft","caretright","upcircle","downcircle","leftcircle","rightcircle","upcircleo","downcircleo","rightcircleo","leftcircleo","doubleright","doubleleft","verticleleft","verticleright","forward","back","enter","retweet","swap","swapleft","swapright","arrowup","arrowdown","arrowleft","arrowright","playcircleo","upsquare","downsquare","leftsquare","rightsquare","leftsquareo","rightsquareo","login","logout","menufold"],c=["question","questioncircle","plus","pluscircle","pause","pausecircle","minus","minuscircle","plussquare","minussquare","info","exclamation","exclamationcircle","close","closecircle","closesquare","check","checkcircle","checksquare","clockcircle","warning"],d=["edit","form","copy1","delete"],u=["areachart","piechart","barchart","dotchart","linechart"],p=["lock","unlock","bars","book","calendar","cloud","clouddownload","copy1","creditcard","delete","iconfontdesktop","download","ellipsis1","file1","filetext1","unknowfile1","pdffile1","wordfile1","exclefile1","jpgfile1","pptfile1","file-markdown","addfile","folder1","folderopen","addfolder","hdd","frown","meh","smileo","inbox","laptop","appstore1","link","mail","mobile1","notification","paperclip","picture","poweroff","reload1","search1","setting","sharealt","tablet1","tag","tags","totop","upload","user","videocamera","home","loading1","loading2","cloudupload","star","heart","enviroment","eye","camera","save","team","solution1","phone","filter","exception1","export","customerservice","qrcode","scan1","like1","dislike1","message1","pay-circle1","calculator","pushpin","bulb1","select1","switcher","rocket1","bells","disconnect","database","barcode","hourglass","key","flag","layout","printer","sound","USB","skin","tool","sync","wifi","car","adduser","deleteuser","addusergroup","deleteusergroup","man","woman","shoppingcart","gift","idcard","medicinebox","redenvelopes","copyright","trademark","Safety","wallet","bank","Trophy","contacts","shake","API","fork","dashboard","table","profile","rest"],m=["android","apple1","windows","ie","chrome","github","dingding","weibo-square","weibo-circle","taobao-circle","HTML","weibo","twitter","wechat","youtube","alipay-circle","taobao-square","skype","QQ","medium-wordmark","gitlab","medium-monogram","linkedin-square","googleplus","dropbox","facebook-square","codepen","amazon","google","codepen-circle","alipay-square","antdesign","aliyun","zhihu","slack","slack-square","behance","behance-square","dribbble","dribbble-square","instagram","yuque","aliwangwang"],h={name:"Icons",props:{iconsChecked:{type:Object}},data:function(){return{icons:{directionIcons:l,suggestionIcons:c,editIcons:d,dataIcons:u,webIcons:p,logoIcons:m},checked:{icon:""},pane:{name:"direct"}}},watch:{iconsChecked:{handler:function(e){if(!Object(r["isEmpty"])(e)){var t=e.name,a=e.paneName;this.checked=Object(o["a"])(Object(o["a"])({},this.checked),{},{icon:t}),this.pane=Object(o["a"])(Object(o["a"])({},this.pane),{},{name:a||"direct"}),this.iconClass(t)}},immediate:!0}},methods:{tabClick:function(e){var t=e.name;this.pane=Object(o["a"])(Object(o["a"])({},this.pane),{},{name:t})},chooseIcon:function(e){this.checked=Object(o["a"])(Object(o["a"])({},this.checked),{},{icon:e}),s["e"].successWithTimer("选中 ".concat(e))},iconClass:function(e){var t="",a=this.checked.icon;return e===a&&(t+="active"),t+" anticon icon-".concat(e)}}},f=h,v=(a("f9a0"),a("2877")),b=Object(v["a"])(f,i,n,!1,null,"7c26e4d6",null);t["default"]=b.exports},cc1a:function(e,t,a){"use strict";a.r(t);a("159b");t["default"]={options:function(e,t,a){var i=[];return t.__slot__.options.forEach((function(a){"button"===t.__config__.optionType?i.push(e("el-checkbox-button",{attrs:{label:a.value}},[a.label])):i.push(e("el-checkbox",{attrs:{label:a.value,border:t.border}},[a.label]))})),i}}},cd5b:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return makeUpJs}));var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("b64b"),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_3__),util__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("3022"),util__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(util__WEBPACK_IMPORTED_MODULE_4__),_components_FormGenerator_utils_index__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("9255"),_ruleTrigger__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("8446"),units={KB:"1024",MB:"1024 / 1024",GB:"1024 / 1024 / 1024"},confGlobal,inheritAttrs={file:"",dialog:"inheritAttrs: false,"};function makeUpJs(e,t){confGlobal=e=Object(_components_FormGenerator_utils_index__WEBPACK_IMPORTED_MODULE_5__["b"])(e);var a=[],i=[],n=[],o=[],s=mixinMethod(t),r=[],l=[];e.fields.forEach((function(e){buildAttributes(e,a,i,n,s,o,r,l)}));var c=buildexport(e,t,a.join("\n"),i.join("\n"),n.join("\n"),r.join("\n"),o.join("\n"),s.join("\n"),l.join("\n"));return confGlobal=null,c}function buildAttributes(e,t,a,i,n,o,s,r){var l=e.__config__,c=e.__slot__;if(buildData(e,t),buildRules(e,a),(e.options||c&&c.options&&c.options.length)&&(buildOptions(e,i),"dynamic"===l.dataType)){var d="".concat(e.__vModel__,"Options"),u=Object(_components_FormGenerator_utils_index__WEBPACK_IMPORTED_MODULE_5__["g"])(d),p="get".concat(u);buildOptionMethod(p,d,n,e),callInCreated(p,r)}e.props&&e.props.props&&buildProps(e,o),e.action&&"el-upload"===l.tag&&(s.push("".concat(e.__vModel__,"Action: '").concat(e.action,"',\n      ").concat(e.__vModel__,"fileList: [],")),n.push(buildBeforeUpload(e)),e["auto-upload"]||n.push(buildSubmitUpload(e))),l.children&&l.children.forEach((function(e){buildAttributes(e,t,a,i,n,o,s,r)}))}function callInCreated(e,t){t.push("this.".concat(e,"()"))}function mixinMethod(e){var t=[],a={file:confGlobal.formBtns?{submitForm:"submitForm() {\n        this.$refs['".concat(confGlobal.formRef,"'].validate(valid => {\n          if(!valid) return\n          // TODO 提交表单\n        })\n      },"),resetForm:"resetForm() {\n        this.$refs['".concat(confGlobal.formRef,"'].resetFields()\n      },")}:null,dialog:{onOpen:"onOpen() {},",onClose:"onClose() {\n        this.$refs['".concat(confGlobal.formRef,"'].resetFields()\n      },"),close:"close() {\n        this.$emit('update:visible', false)\n      },",handelConfirm:"handelConfirm() {\n        this.$refs['".concat(confGlobal.formRef,"'].validate(valid => {\n          if(!valid) return\n          this.close()\n        })\n      },")}},i=a[e];return i&&Object.keys(i).forEach((function(e){t.push(i[e])})),t}function buildData(e,t){var a=e.__config__;if(void 0!==e.__vModel__){var i=JSON.stringify(a.defaultValue);t.push("".concat(e.__vModel__,": ").concat(i,","))}}function buildRules(scheme,ruleList){var config=scheme.__config__;if(void 0!==scheme.__vModel__){var rules=[];if(_ruleTrigger__WEBPACK_IMPORTED_MODULE_6__["a"][config.tag]){if(config.required){var type=Object(util__WEBPACK_IMPORTED_MODULE_4__["isArray"])(config.defaultValue)?"type: 'array',":"",message=Object(util__WEBPACK_IMPORTED_MODULE_4__["isArray"])(config.defaultValue)?"请至少选择一个".concat(config.label):scheme.placeholder;void 0===message&&(message="".concat(config.label,"不能为空")),rules.push("{ required: true, ".concat(type," message: '").concat(message,"', trigger: '").concat(_ruleTrigger__WEBPACK_IMPORTED_MODULE_6__["a"][config.tag],"' }"))}config.regList&&Object(util__WEBPACK_IMPORTED_MODULE_4__["isArray"])(config.regList)&&config.regList.forEach((function(item){item.pattern&&rules.push("{ pattern: ".concat(eval(item.pattern),", message: '").concat(item.message,"', trigger: '").concat(_ruleTrigger__WEBPACK_IMPORTED_MODULE_6__["a"][config.tag],"' }"))})),ruleList.push("".concat(scheme.__vModel__,": [").concat(rules.join(","),"],"))}}}function buildOptions(e,t){if(void 0!==e.__vModel__){var a=e.options;a||(a=e.__slot__.options),"dynamic"===e.__config__.dataType&&(a=[]);var i="".concat(e.__vModel__,"Options: ").concat(JSON.stringify(a),",");t.push(i)}}function buildProps(e,t){var a="".concat(e.__vModel__,"Props: ").concat(JSON.stringify(e.props.props),",");t.push(a)}function buildBeforeUpload(e){var t=e.__config__,a=units[t.sizeUnit],i="",n="",o=[];t.fileSize&&(i="let isRightSize = file.size / ".concat(a," < ").concat(t.fileSize,"\n    if(!isRightSize){\n      this.$message.error('文件大小超过 ").concat(t.fileSize).concat(t.sizeUnit,"')\n    }"),o.push("isRightSize")),e.accept&&(n="let isAccept = new RegExp('".concat(e.accept,"').test(file.type)\n    if(!isAccept){\n      this.$message.error('应该选择").concat(e.accept,"类型的文件')\n    }"),o.push("isAccept"));var s="".concat(e.__vModel__,"BeforeUpload(file) {\n    ").concat(i,"\n    ").concat(n,"\n    return ").concat(o.join("&&"),"\n  },");return o.length?s:""}function buildSubmitUpload(e){var t="submitUpload() {\n    this.$refs['".concat(e.__vModel__,"'].submit()\n  },");return t}function buildOptionMethod(e,t,a,i){var n=i.__config__,o="".concat(e,"() {\n    // 注意：this.$axios是通过Vue.prototype.$axios = axios挂载产生的\n    this.$axios({\n      method: '").concat(n.method,"',\n      url: '").concat(n.url,"'\n    }).then(resp => {\n      var { data } = resp\n      this.").concat(t," = data.").concat(n.dataPath,"\n    })\n  },");a.push(o)}function buildexport(e,t,a,i,n,o,s,r,l){var c="".concat(_components_FormGenerator_utils_index__WEBPACK_IMPORTED_MODULE_5__["c"],"{\n  ").concat(inheritAttrs[t],"\n  components: {},\n  props: [],\n  data () {\n    return {\n      ").concat(e.formModel,": {\n        ").concat(a,"\n      },\n      ").concat(e.formRules,": {\n        ").concat(i,"\n      },\n      ").concat(o,"\n      ").concat(n,"\n      ").concat(s,"\n    }\n  },\n  computed: {},\n  watch: {},\n  created () {\n    ").concat(l,"\n  },\n  mounted () {},\n  methods: {\n    ").concat(r,"\n  }\n}");return c}},ce54:function(e,t,a){"use strict";a("ef48")},cf3b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,width:"20%","before-close":e.cancelModal,title:"选择分类",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"max-height"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"全部分类",name:"all"}},[a("div",{staticClass:"tree-title"},[e._v("分类树")]),a("div",{staticClass:"auto-scroll"},[a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],ref:"tree",attrs:{data:e.treeData,"default-expanded-keys":e.defaultExpandedKeys,showCheckbox:!0,singleCheck:!0,checkStrictly:!0},on:{keys:e.getCheckedKeys}})],1)])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},n=[],o=(a("4de4"),a("d81d"),a("b0c0"),a("159b"),a("d3b7"),a("ddb0"),a("60f9")),s=(a("ed08"),{name:"SortModule",components:{BasicTree:o["default"]},props:{},data:function(){return{visible:!1,selectedTreeId:"",activeName:"all",treeData:[],defaultCheckedKeys:[],defaultExpandedKeys:[],url:{changeCateTree:"/category/changeCateTree",changeCateTreeSub:"/arch/turncate"},ids:"",templateId:"",keys:[]}},computed:{},methods:{init:function(e,t,a,i){var n=this;this.selectedTreeId=a,this.templateId=t,this.ids=i;var o={moduleType:"1",othType:"1",cateCode:e,templateId:t};this.$api.httpAction(this.url.changeCateTree,o,"post").then((function(e){"0"==e.code?(n.treeData=n.setTreeData(e.treeData),n.visible=!0):n.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){n.$sweetAlert.errorWithTimer("error")}))},setTreeData:function(e){var t=this,a=e.filter((function(e){return"-1"==e.parentId}));e.map((function(e){return e.label=e.name,e})),this.setDefaultCheck(a,e);var i=function a(i){i.forEach((function(i){var n=e.filter((function(e){return e.parentId==i.id}));i.children=n,n.length?(i.elIcon="folder",i.disabled=!0,a(i.children)):(t.selectedTreeId==i.id&&(i.disabled=!0),i.elIcon="document-copy")}))};return i(a),a},setDefaultCheck:function(e,t){var a=e[0].id,i=t.filter((function(e){return e.parentId==a}));this.defaultExpandedKeys.push(a);var n=this,o=function e(a){if(a.length){var i=a[0].id;n.defaultExpandedKeys.push(i),a=t.filter((function(e){return e.parentId==i})),e(a)}};o(i)},getCheckedKeys:function(e){this.keys=e},submit:function(){var e=this;if(this.$refs.tree.getCheckedKeys(),this.keys[0]){var t={ids:this.ids,cateId:this.keys[0],othType:"1",templateId:this.templateId};this.$api.httpAction(this.url.changeCateTreeSub,t,"post").then((function(t){"200"==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.cancelModal()):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))}else this.$sweetAlert.warnWithTimer("请选择分类目录！")},cancelModal:function(){this.visible=!1,this.$emit("close"),this.$emit("ok","1")}},created:function(){}}),r=s,l=(a("dbd1"),a("2877")),c=Object(l["a"])(r,i,n,!1,null,"6b0f7a3a",null);t["default"]=c.exports},cf9d:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",{staticStyle:{"font-family":"'宋体'","font-size":"20px","line-height":"40px","text-align":"center"}},[e._v(e._s(e.data.transferDeptName)+"档案移交单")]),a("table",{staticClass:"main-tbale main-tbale-bordered",attrs:{width:"100%",border:"0",cellspacing:"1",cellpadding:"0"}},[e._m(0),a("tr",[a("td",{},[e._v("移交部门")]),a("td",[e._v(e._s(e.data.transferDeptName))]),a("td",[e._v("全宗号")]),a("td",[e._v(e._s(e.data.fondCode))])]),e._m(1),a("tr",[a("td",[e._v(e._s(e.data.volNum))]),a("td",[e._v(e._s(e.data.involNum))]),a("td",[e._v(e._s(e.data.docNum))])])]),e.hideLog?e._e():a("div",{staticClass:"log-div"},[a("div",{staticClass:"title-div"},[e._v("接收人：")]),a("div",{staticClass:"con-div"}),a("div",{staticClass:"title-div"},[e._v("移交人：")]),a("div",{staticClass:"con-div"},[e._v(e._s(e.data.createUser))])]),e.hideLog?e._e():a("div",{staticClass:"log-div"},[a("div",{staticClass:"title-div"},[e._v("接收日期：")]),a("div",{staticClass:"con-div"}),a("div",{staticClass:"title-div"},[e._v("移交日期：")]),a("div",{staticClass:"con-div"},[e._v(e._s(e.data.createTime))])])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("colgroup",[a("col",{attrs:{width:"150"}}),a("col",{attrs:{width:"200"}}),a("col"),a("col")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("td",{attrs:{rowspan:"2"}},[a("span",{staticStyle:{display:"block",width:"1em","margin-left":"40%"}},[e._v("移交档案数")])]),a("td",[e._v("案卷")]),a("td",[e._v("卷内")]),a("td",[e._v("单件")])])}],o=a("5530"),s=a("2f62"),r=a("f2c4"),l={name:"ReviewTable",components:{Table:r["default"]},props:{data:Object,hideLog:{type:Boolean,default:!1}},data:function(){return{}},computed:Object(o["a"])({},Object(s["c"])(["userInfo"])),created:function(){},methods:{}},c=l,d=(a("466b"),a("2877")),u=Object(d["a"])(c,i,n,!1,null,"87a7ca58",null);t["default"]=u.exports},d1e9:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrapper"},[i("uploader",{ref:"uploader",attrs:{options:e.options,autoStart:!0,fileStatusText:e.fileStatusText},on:{"files-added":e.onFilesAdded,"file-success":e.onFileSuccess,"file-progress":e.onFileProgress,"file-error":e.onFileError,"file-complete":e.fileComplete}},[i("uploader-unsupport"),i("uploader-btn",{attrs:{directory:e.directory}},[i("div",{staticClass:"uploader-box webkit-transition"},[i("div",{staticClass:"uploader-img"},[e.directory?i("img",{attrs:{src:a("1f3f"),alt:""}}):i("img",{attrs:{src:a("00ed"),alt:""}})]),i("div",{staticClass:"uploader-tips"},[e.directory?i("div",[e._v("点击上传文件夹")]):i("div",[e._v("点击上传文件")])])])]),i("uploader-list",{directives:[{name:"show",rawName:"v-show",value:e.panelShow,expression:"panelShow"}],scopedSlots:e._u([{key:"default",fn:function(t){return i("div",{staticClass:"file-panel",class:{collapse:e.collapse}},[i("div",{staticClass:"file-title"},[i("h2",[e._v("文件列表")]),i("div",{staticClass:"operate"},[i("el-button",{attrs:{type:"text",title:e.collapse?"展开":"折叠"},on:{click:e.fileListShow}},[i("i",{staticClass:"iconfont",class:e.collapse?"icon-fullscreen":"icon-minus-round"})]),i("el-button",{attrs:{type:"text",title:"关闭"},on:{click:e.close}},[i("i",{staticClass:"iconfont icon-close"})])],1)]),i("ul",{staticClass:"file-list"},[e._l(t.fileList,(function(e){return i("li",{key:e.id},[i("uploader-file",{ref:"files",refInFor:!0,class:"file_"+e.id,attrs:{file:e,list:!0}})],1)})),t.fileList.length?e._e():i("div",{staticClass:"no-file"},[i("i",{staticClass:"nucfont inuc-empty-file"}),e._v(" 暂无待上传文件 ")])],2)])}}])})],1)],1)},n=[],o=a("5530"),s=a("2909"),r=(a("ac1f"),a("5319"),a("caad"),a("c740"),a("a434"),a("159b"),a("b64b"),[]),l=[],c={name:"UploaderComponent",components:{},props:{uploadObject:{type:Object,default:null},directory:{type:Boolean,default:!1},uploadUrl:{type:String,default:""}},data:function(){return{options:{target:function(e,t){return r[0].reqUrl},testChunks:!1,simultaneousUploads:1,parseTimeRemaining:function(e,t){return t.replace(/\syears?/,"年").replace(/\days?/,"天").replace(/\shours?/,"小时").replace(/\sminutes?/,"分钟").replace(/\sseconds?/,"秒")},processParams:function(e,t,a,i){var n="1",o=r[r.length-1];if(l.includes(o.nowIndex)&&0==o.uniqueArr.length&&(o.uniqueArr=Object(s["a"])(o.originalArr)),r[r.length-1].uniqueArr.length>0){var c=r[r.length-1].uniqueArr.findIndex((function(e){return e==t.uniqueIdentifier}));r[r.length-1].uniqueArr.splice(c,1)}else n="0",l.includes(o.nowIndex)||l.push(o.nowIndex);return e.type=n,Object.keys(o).forEach((function(t){"originalArr"!=t&&(e[t]=o[t])})),e}},tempArr:r,timestampList:l,resFile:[],panelShow:!1,collapse:!1,curTop:void 0,curLeft:void 0,fileStatusText:{success:"上传成功",error:"上传失败",uploading:"正在上传",paused:"暂停上传",waiting:"等待上传"}}},watch:{},computed:{domainURL:function(){return window._CONFIG["domainURL"]}},methods:{onFilesAdded:function(e,t,a){this.panelShow=!0;var i=[];e.forEach((function(e){i.push(e.uniqueIdentifier)}));var n={nowIndex:(new Date).getTime(),uniqueArr:i,reqUrl:this.domainURL+this.uploadUrl};n=Object(o["a"])(Object(o["a"])({},n),{},{originalArr:Object(s["a"])(n.uniqueArr)}),this.uploadObject&&(n=Object(o["a"])(Object(o["a"])({},n),this.uploadObject)),this.tempArr.push(n)},onFileSuccess:function(e,t,a,i){var n=JSON.parse(a),o={id:t.id,relativePath:t.relativePath,resStatus:500!=n.code,resMsg:500==n.code?"上传失败":"上传成功"};this.$emit("success"),this.resFile.push(o)},onFileProgress:function(e,t,a){},onFileError:function(e,t,a,i){},fileComplete:function(e){},fileListShow:function(){this.collapse=!this.collapse;var e=document.getElementById("filePanel");if(this.collapse){var t=document.body.clientHeight||window.innerHeight||document.documentElement.clientHeight,a=document.body.clientWidth||window.innerWidth||document.documentElement.clientWidth;this.curTop=e.style.top,this.curLeft=e.style.left,e.style.top=t-40+"px",e.style.left=a-170+"px"}else e.style.top=this.curTop,e.style.left=this.curLeft},close:function(){this.panelShow=!1}},created:function(){},mounted:function(){}},d=c,u=(a("195a"),a("2877")),p=Object(u["a"])(d,i,n,!1,null,"b17b6fda",null);t["default"]=p.exports},d237:function(e,t,a){"use strict";a("633d")},d253:function(e,t,a){},d285:function(e,t,a){},d33c:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAWCAYAAADJqhx8AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAABGklEQVQ4y+3QMUtcQRTF8d8+bFIkhY1VqoW02wYi21iszAURUqbTKq2t38DvoNhYCjbzsBaEtEHstJEFsYmwELQI0WaUx3Ofq614qplzz/kzd3o6lHP9A1v4iJ8RaW9artdRXsN2y16PSDszATnXq9hH1Rr9x/eIdNAJyLke4hAfOja7xSgiHT0B5FwPcIRPntcEw4j0+xGQc93HMRa8TFdYjEhnvZzrhVLuNwK/MI8v5f4XJ/jayJzjW4XdVvkUgZuG9694pw2vj90Ko4Z5geWI9Kf95uItl8yDRhVyuZxgKSKNuxYvs6WShVxhBZ8xiEhns36vZAalszIXke4wnlVsQR471WuK0/QOePOAScf5xYBNXOIaG12hez/fS41SChOpAAAAAElFTkSuQmCC"},d369:function(e,t,a){"use strict";var i=a("9e95");t["a"]=i["default"]},d4de:function(e,t,a){},d58b:function(e,t,a){"use strict";a("24f8")},d5ac:function(e,t){e.exports="data:image/png;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAAjAGkDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD32R/Lid9rNtBO1Rkn2HvUa+Y0pdJ0aHJBXbkgjggEH1HcHv8Ag6JJEMm+UyBnJXKgbR6cdec15Lruq6/F8arDwjZ+JruLTtUtZLmYfZ7V2ifbKQi5iPygRoMNkkZ55zQB62Ck0asrbkbDKytwe45HakVmdw6MjQsmQQec/wAiCP5d88eWQ61r3hr4vWfhCXUf7Xt9T08TQTXMUcMlu6+YzbjGoEgYxt1GRv4I+Yt6iEljIWPyhECoVApG1eh5z+XHbHuACvc/alDShSxhDOgjY4kGPuMvr6EZ5GeOhnulUxF2WZgBgiJmBxkZPBGenbnqB1wfLPD+qeIX+NWreEZfEl9JpWmWiXUatBbB5CfJJRiIh8v7xhhdpAxgjFdT4wTVW1nRI7LW9Q0+2u7n7PKtssLBlEFxIxXdGzb/AN2o6kc8DIzQB1rsvmxKd+4kldobHTuRx370wzSG2mfEccibwN7ZUYzgsR0BGD7ZqGW8htYZrp5NsK4lnad/LEMe3lvmxhRjJzj+LuMV5l4Q8Q638Sr+91S0uZNE0TzpLaNLWFJZ5WVYiTO0qsgG04UKOrHOcZYA9RiuZZYS4tnVhJtCucZXI+bn/ZOcdc5FOd90zQJcRpLsDqmAWHPJIzyp4Hbvz6cDdXfjDQ/HfhnTLu7i1XSLyW6/0xLQRXOVikdYZWBEWMbCCoUt5R4GDnqvGFxPYeDdb1C0lMN5aWE88EygEqyIXHUEEZUZB4NAGpI0rvsjBQo6liw4Ze+Dz/jx2yDTIpp2vpUeNli24TjuDyScd9wxyeh6HIrkfhp4g1bxP8MrDU7i6iudWdpVkkljCKSJWAyEAH3MdB/Wuzl3MyIkqxuSGIIyWUEZA/MDPvQAPOizLDuUStyqscbh3x6kDt9M4zUtU1jmzZNNcDcAN6vGuXfac4weDyScZ6ccZzcoAjMwEoj2SckjdtOAcZ/l36cYznivFfFNtaaj+0l4ZSSaZIbjTGLNDM9u4IW4GN6FXByoB5z1B44r2KZpLd5nJIt2RpHmL5MWFAwq4Ppn65/Hlz8P/D1zfW+qTW15LrUCIhlXV7hZIA33gpWT5FAZyFXAwSAOaAOC8QWV54G+NOiS+GLo3dx4gCw3lpeM11KkalVLl2JlEeBuzu6xHOVXaPbYRIIh5xBckk46DJ6e+Ome+K52y8C+HdN1o6rBpjy6hKcyXlzO9zJgIyYLyszAFWI+XrgZ4AragidVETJNG2C/mCcyKD0xluTxzgjH40AeVaMrwftO+I5poZ445tLQxOylQ4/0dNwzjcu4FcjIyPbI9A13c+v+FogQ8qajNOyqOViFrOhcj+6GkjUnpl1HG4Cm674W0nXtTtp9TsLdpY2CQXUUkkVyAEkJUSRlWC/MflzjqeuKnTRrLR1R7QXLSyTIXknuJLiZ1UMdokkLMFALkKDjlgBlzkAZ4rsZr/w/rNmswiW906W1R5XxEkjgqC3BI5ccjPGcjgZ4f4J30158N20UKLPVNFvJIJIZXO8EuZB5icFQSzpg/wBw9xgemtJ/pMaSBUnLMYtu5soMZzwMdRweM461j6n4N8N6tqkGt3Vh5Oop9y9t5pLWc7lCYZ42VicYUAngHA6mgDktd8VeJ4Pipp/gmObRjbalbvdR3ElhKXhUeaVUgTjcw8ofMCvJyAMV6LNcJCkl5LeQxWcKMZWfAVQudzMxOBjH4YbPtl6f4W0jTdRt7n7G91qEaP5eoXcj3E0a8DaJZGZlyGPAIHLkAZObV7pWnyaZNaXiK9nNHNBOZZiv7uXO8bhzycDOQffPUAzPBDLD4V0Wwg1Ww1NbWyjgkms38xMou3KuOCMjABAJwT2IrpSHMnogwQQeWPOQRjp07/8A18Lw7oln4esUtdGtDHpg2rBF5pbahLOWBbk/NI3DHPBx2WttZVzzKhDOVTB7jqOvJ4P5e1DAYI98kWJg5hOH3KCc7evH3WwfyY8cjE9Q4K3fyRKN4y77fvY6cjuPQ+vB4IqagAooooAKY0UbyJI0aM6Z2MRkrnrg9qKKAEmt4blNk8McqZztdQwz+NSUUUAIUUuHKjcAQGxyAeo/QflQyK4wyhhkHBGeQcg/nRRQAhjRnV2RS6Z2sRyM9cU6iigApAqqWKqAWOWIHU4xz+AFFFAC0UUUAf/Z"},d61b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-drawer",{ref:"drawerWrapper",class:e.outerClasses,attrs:{visible:e.value,size:e.width,title:e.title,direction:e.direction,wrapperClosable:e.closeOnClickModal,"show-close":e.showClose,"destroy-on-close":!0,"before-close":e.handleClose},on:{input:e.handleInput}},[e._l(e.$slots,(function(t,i){return["default"!==i?e._l(t,(function(e,t){return a("render-dom",{key:"b_drawer_"+i+"_"+t,attrs:{slot:i,render:function(){return e}},slot:i})})):[a("div",{key:"b_drawer_"+i,class:e.prefix+"-body-wrapper"},e._l(t,(function(e,t){return a("render-dom",{key:"b_drawer_"+i+"_"+t,attrs:{slot:i,render:function(){return e}},slot:i})})),1)]]})),e.draggable?a("div",{class:e.prefix+"-trigger-wrapper",style:e.triggerStyle,on:{mousedown:e.handleTriggerMousedown}},[e._t("trigger",[a("drag-drawer-trigger")])],2):e._e()],2)},n=[],o=a("ade3"),s=(a("a9e3"),a("a15b"),{name:"RenderDom",functional:!0,props:{render:Function},render:function(e,t){return t.props.render(e)}}),r=a("d6e3"),l=a("b293"),c=a("6749"),d=(a("93c9"),{name:"DragDrawer",components:{RenderDom:s,DragDrawerTrigger:r["default"]},mixins:[l["a"]],props:{value:{type:Boolean,default:!1},width:{type:[String,Number],default:"256"},draggable:{type:Boolean,default:!1},minWidth:{type:[Number,String],default:"256"},closable:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!1},title:{type:String}},data:function(){return{canMove:!1,wrapperWidth:0,wrapperLeft:0}},computed:{outerClasses:function(){var e=["".concat(this.prefix,"-wrapper"),this.canMove?"no-select pointer-events-none":""];return e.join(" ")},direction:function(){return this.$attrs.direction},innerWidth:function(){var e=Number(this.width);return e<=100?this.wrapperWidth*e/100:e},triggerStyle:function(){var e,t;switch(this.direction){case"rtl":t="right";break}return e={},Object(o["a"])(e,t,"".concat(this.innerWidth,"px")),Object(o["a"])(e,"position",this.$attrs.inner?"absolute":"fixed"),e}},watch:{value:{handler:function(e){e||this.$emit("close")},immediate:!0}},methods:{handleClose:function(){this.handleInput(!1)},handleInput:function(e){this.$emit("input",e)},handleTriggerMousedown:function(e){this.canMove=!0,this.$emit("on-resize-start"),window.getSelection().removeAllRanges()},handleMousemove:function(e){if(this.canMove){this.setWrapperWidth();var t=e.pageX-this.wrapperLeft,a="rtl"===this.direction?this.wrapperWidth-t:t;a=Math.max(a,parseFloat(this.minWidth)),e.atMin=a===parseFloat(this.minWidth),a<=100&&(a=a/this.wrapperWidth*100),this.$emit("update:width",a+"px"),this.$emit("on-resize",e)}},handleMouseup:function(e){this.canMove=!1,this.$emit("on-resize-end")},setWrapperWidth:function(){var e=this.$refs.drawerWrapper.$el.getBoundingClientRect(),t=e.width,a=e.left;this.wrapperWidth=t,this.wrapperLeft=a}},mounted:function(){Object(c["f"])(document,"mousemove",this.handleMousemove),Object(c["f"])(document,"mouseup",this.handleMouseup),this.setWrapperWidth()},beforeDestroy:function(){Object(c["e"])(document,"mousemove",this.handleMousemove),Object(c["e"])(document,"mouseup",this.handleMouseup)}}),u=d,p=(a("1bf0"),a("2877")),m=Object(p["a"])(u,i,n,!1,null,"67c7e90c",null);t["default"]=m.exports},d6e3:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.prefix+"-move-trigger"},[a("div",{class:e.prefix+"-move-trigger-point"},[a("i"),a("i"),a("i"),a("i"),a("i")])])},n=[],o=a("b293"),s={name:"DragDrawerTrigger",mixins:[o["a"]]},r=s,l=a("2877"),c=Object(l["a"])(r,i,n,!1,null,null,null);t["default"]=c.exports},d719:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("drag-dialog",{attrs:{"drag-dialog":e.dialog},on:{confirm:e.confirm}},[a("el-upload",{ref:e.upload.ref,staticClass:"upload",attrs:{drag:"",multiple:e.upload.multiple,"auto-upload":!1,name:e.upload.name,data:e.upload.data,action:e.upload.action,headers:e.upload.headers,"on-success":e.success,"on-error":e.error}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v(e._s(e.$t("common_drag_file_hear"))),a("em",[e._v(e._s(e.$t("common_click_upload")))])])])],1)},n=[],o=a("5530"),s=(a("b0c0"),a("eddf")),r=a("6749"),l=a("ed08"),c={name:"fileUpload",components:{dragDialog:s["a"]},props:{fileUpload:{type:Object}},data:function(){return{dialog:{name:"fileUpload",width:25,height:50,title:this.$t("common_upload"),showFooter:!0},upload:{ref:"fileUpload",name:"file",multiple:!0,action:"",headers:{"X-Access-Token":Object(r["b"])()}}}},watch:{fileUpload:{handler:function(e){var t=this.dialog.name;this.upload=Object(o["a"])(Object(o["a"])({},this.upload),e),this.dialog=Object(o["a"])(Object(o["a"])({},this.dialog),{},{name:e.modalName||t})},immediate:!0}},methods:{confirm:function(){this.$refs.fileUpload.submit()},success:function(e,t,a){var i=e.success,n=e.message;i?(l["e"].successWithTimer(n),this.$emit("uploadSuccess")):l["e"].error(n)},error:function(e,t,a){l["e"].error("上传失败")}}},d=c,u=(a("91a3"),a("2877")),p=Object(u["a"])(d,i,n,!1,null,"786d2914",null);t["default"]=p.exports},d8c9:function(e,t,a){"use strict";a("53f5")},d8fe:function(e,t){tinymce.addI18n("zh_CN",{Redo:"重做",Undo:"撤销",Cut:"剪切",Copy:"复制",Paste:"粘贴","Select all":"全选","New document":"新文件",Ok:"确定",Cancel:"取消","Visual aids":"网格线",Bold:"粗体",Italic:"斜体",Underline:"下划线",Strikethrough:"删除线",Superscript:"上标",Subscript:"下标","Clear formatting":"清除格式","Align left":"左边对齐","Align center":"中间对齐","Align right":"右边对齐",Justify:"两端对齐","Bullet list":"项目符号","Numbered list":"编号列表","Decrease indent":"减少缩进","Increase indent":"增加缩进",Close:"关闭",Formats:"格式","Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.":"你的浏览器不支持打开剪贴板，请使用Ctrl+X/C/V等快捷键。",Headers:"标题","Header 1":"标题1","Header 2":"标题2","Header 3":"标题3","Header 4":"标题4","Header 5":"标题5","Header 6":"标题6",Headings:"标题","Heading 1":"标题1","Heading 2":"标题2","Heading 3":"标题3","Heading 4":"标题4","Heading 5":"标题5","Heading 6":"标题6",Preformatted:"预先格式化的",Div:"Div",Pre:"Pre",Code:"代码",Paragraph:"段落",Blockquote:"引文区块",Inline:"文本",Blocks:"基块","Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.":"当前为纯文本粘贴模式，再次点击可以回到普通粘贴模式。",Fonts:"字体","Font Sizes":"字号",Class:"类型","Browse for an image":"浏览图像",OR:"或","Drop an image here":"拖放一张图像至此",Upload:"上传",Block:"块",Align:"对齐",Default:"默认",Circle:"空心圆",Disc:"实心圆",Square:"方块","Lower Alpha":"小写英文字母","Lower Greek":"小写希腊字母","Lower Roman":"小写罗马字母","Upper Alpha":"大写英文字母","Upper Roman":"大写罗马字母","Anchor...":"锚点...",Name:"名称",Id:"标识符","Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.":"标识符应该以字母开头，后跟字母、数字、破折号、点、冒号或下划线。","You have unsaved changes are you sure you want to navigate away?":"你还有文档尚未保存，确定要离开？","Restore last draft":"恢复上次的草稿","Special character...":"特殊字符...","Source code":"源代码","Insert/Edit code sample":"插入/编辑代码示例",Language:"语言","Code sample...":"示例代码...","Color Picker":"选色器",R:"R",G:"G",B:"B","Left to right":"从左到右","Right to left":"从右到左","Emoticons...":"表情符号...","Metadata and Document Properties":"元数据和文档属性",Title:"标题",Keywords:"关键词",Description:"描述",Robots:"机器人",Author:"作者",Encoding:"编码",Fullscreen:"全屏",Action:"操作",Shortcut:"快捷键",Help:"帮助",Address:"地址","Focus to menubar":"移动焦点到菜单栏","Focus to toolbar":"移动焦点到工具栏","Focus to element path":"移动焦点到元素路径","Focus to contextual toolbar":"移动焦点到上下文菜单","Insert link (if link plugin activated)":"插入链接 (如果链接插件已激活)","Save (if save plugin activated)":"保存(如果保存插件已激活)","Find (if searchreplace plugin activated)":"查找(如果查找替换插件已激活)","Plugins installed ({0}):":"已安装插件 ({0}):","Premium plugins:":"优秀插件：","Learn more...":"了解更多...","You are using {0}":"你正在使用 {0}",Plugins:"插件","Handy Shortcuts":"快捷键","Horizontal line":"水平分割线","Insert/edit image":"插入/编辑图片","Image description":"图片描述",Source:"地址",Dimensions:"大小","Constrain proportions":"保持纵横比",General:"普通",Advanced:"高级",Style:"样式","Vertical space":"垂直边距","Horizontal space":"水平边距",Border:"边框","Insert image":"插入图片","Image...":"图片...","Image list":"图片列表","Rotate counterclockwise":"逆时针旋转","Rotate clockwise":"顺时针旋转","Flip vertically":"垂直翻转","Flip horizontally":"水平翻转","Edit image":"编辑图片","Image options":"图片选项","Zoom in":"放大","Zoom out":"缩小",Crop:"裁剪",Resize:"调整大小",Orientation:"方向",Brightness:"亮度",Sharpen:"锐化",Contrast:"对比度","Color levels":"颜色层次",Gamma:"伽马值",Invert:"反转",Apply:"应用",Back:"后退","Insert date/time":"插入日期/时间","Date/time":"日期/时间","Insert/Edit Link":"插入/编辑链接","Insert/edit link":"插入/编辑链接","Text to display":"显示文字",Url:"地址","Open link in...":"链接打开位置...","Current window":"当前窗口",None:"无","New window":"在新窗口打开","Remove link":"删除链接",Anchors:"锚点","Link...":"链接...","Paste or type a link":"粘贴或输入链接","The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?":"你所填写的URL地址为邮件地址，需要加上mailto:前缀吗？","The URL you entered seems to be an external link. Do you want to add the required http:// prefix?":"你所填写的URL地址属于外部链接，需要加上http://:前缀吗？","Link list":"链接列表","Insert video":"插入视频","Insert/edit video":"插入/编辑视频","Insert/edit media":"插入/编辑媒体","Alternative source":"镜像","Alternative source URL":"替代来源网址","Media poster (Image URL)":"封面(图片地址)","Paste your embed code below:":"将内嵌代码粘贴在下面:",Embed:"内嵌","Media...":"多媒体...","Nonbreaking space":"不间断空格","Page break":"分页符","Paste as text":"粘贴为文本",Preview:"预览","Print...":"打印...",Save:"保存",Find:"查找","Replace with":"替换为",Replace:"替换","Replace all":"全部替换",Previous:"上一个",Next:"下一个","Find and replace...":"查找并替换...","Could not find the specified string.":"未找到搜索内容.","Match case":"区分大小写","Find whole words only":"全字匹配","Spell check":"拼写检查",Ignore:"忽略","Ignore all":"全部忽略",Finish:"完成","Add to Dictionary":"添加到字典","Insert table":"插入表格","Table properties":"表格属性","Delete table":"删除表格",Cell:"单元格",Row:"行",Column:"列","Cell properties":"单元格属性","Merge cells":"合并单元格","Split cell":"拆分单元格","Insert row before":"在上方插入","Insert row after":"在下方插入","Delete row":"删除行","Row properties":"行属性","Cut row":"剪切行","Copy row":"复制行","Paste row before":"粘贴到上方","Paste row after":"粘贴到下方","Insert column before":"在左侧插入","Insert column after":"在右侧插入","Delete column":"删除列",Cols:"列",Rows:"行",Width:"宽",Height:"高","Cell spacing":"单元格外间距","Cell padding":"单元格内边距","Show caption":"显示标题",Left:"左对齐",Center:"居中",Right:"右对齐","Cell type":"单元格类型",Scope:"范围",Alignment:"对齐方式","H Align":"水平对齐","V Align":"垂直对齐",Top:"顶部对齐",Middle:"垂直居中",Bottom:"底部对齐","Header cell":"表头单元格","Row group":"行组","Column group":"列组","Row type":"行类型",Header:"表头",Body:"表体",Footer:"表尾","Border color":"边框颜色","Insert template...":"插入模板...",Templates:"模板",Template:"模板","Text color":"文字颜色","Background color":"背景色","Custom...":"自定义...","Custom color":"自定义颜色","No color":"无","Remove color":"移除颜色","Table of Contents":"内容列表","Show blocks":"显示区块边框","Show invisible characters":"显示不可见字符","Word count":"字数",Count:"计数",Document:"文档",Selection:"选择",Words:"单词","Words: {0}":"字数：{0}","{0} words":"{0} 字",File:"文件",Edit:"编辑",Insert:"插入",View:"视图",Format:"格式",Table:"表格",Tools:"工具","Powered by {0}":"由{0}驱动","Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help":"在编辑区按ALT-F9打开菜单，按ALT-F10打开工具栏，按ALT-0查看帮助","Image title":"图片标题","Border width":"边框宽度","Border style":"边框样式",Error:"错误",Warn:"警告",Valid:"有效","To open the popup, press Shift+Enter":"按Shitf+Enter键打开对话框","Rich Text Area. Press ALT-0 for help.":"编辑区。按Alt+0键打开帮助。","System Font":"系统字体","Failed to upload image: {0}":"图片上传失败: {0}","Failed to load plugin: {0} from url {1}":"插件加载失败: {0} 来自链接 {1}","Failed to load plugin url: {0}":"插件加载失败 链接: {0}","Failed to initialize plugin: {0}":"插件初始化失败: {0}",example:"示例",Search:"搜索",All:"全部",Currency:"货币",Text:"文字",Quotations:"引用",Mathematical:"数学","Extended Latin":"拉丁语扩充",Symbols:"符号",Arrows:"箭头","User Defined":"自定义","dollar sign":"美元符号","currency sign":"货币符号","euro-currency sign":"欧元符号","colon sign":"冒号","cruzeiro sign":"克鲁赛罗币符号","french franc sign":"法郎符号","lira sign":"里拉符号","mill sign":"密尔符号","naira sign":"奈拉符号","peseta sign":"比塞塔符号","rupee sign":"卢比符号","won sign":"韩元符号","new sheqel sign":"新谢克尔符号","dong sign":"越南盾符号","kip sign":"老挝基普符号","tugrik sign":"图格里克符号","drachma sign":"德拉克马符号","german penny symbol":"德国便士符号","peso sign":"比索符号","guarani sign":"瓜拉尼符号","austral sign":"澳元符号","hryvnia sign":"格里夫尼亚符号","cedi sign":"塞地符号","livre tournois sign":"里弗弗尔符号","spesmilo sign":"spesmilo符号","tenge sign":"坚戈符号","indian rupee sign":"印度卢比","turkish lira sign":"土耳其里拉","nordic mark sign":"北欧马克","manat sign":"马纳特符号","ruble sign":"卢布符号","yen character":"日元字样","yuan character":"人民币元字样","yuan character, in hong kong and taiwan":"元字样（港台地区）","yen/yuan character variant one":"元字样（大写）","Loading emoticons...":"加载表情符号...","Could not load emoticons":"不能加载表情符号",People:"人类","Animals and Nature":"动物和自然","Food and Drink":"食物和饮品",Activity:"活动","Travel and Places":"旅游和地点",Objects:"物件",Flags:"旗帜",Characters:"字符","Characters (no spaces)":"字符(无空格)","{0} characters":"{0} 个字符","Error: Form submit field collision.":"错误: 表单提交字段冲突。","Error: No form element found.":"错误: 没有表单控件。",Update:"更新","Color swatch":"颜色样本",Turquoise:"青绿色",Green:"绿色",Blue:"蓝色",Purple:"紫色","Navy Blue":"海军蓝","Dark Turquoise":"深蓝绿色","Dark Green":"深绿色","Medium Blue":"中蓝色","Medium Purple":"中紫色","Midnight Blue":"深蓝色",Yellow:"黄色",Orange:"橙色",Red:"红色","Light Gray":"浅灰色",Gray:"灰色","Dark Yellow":"暗黄色","Dark Orange":"深橙色","Dark Red":"深红色","Medium Gray":"中灰色","Dark Gray":"深灰色","Light Green":"浅绿色","Light Yellow":"浅黄色","Light Red":"浅红色","Light Purple":"浅紫色","Light Blue":"浅蓝色","Dark Purple":"深紫色","Dark Blue":"深蓝色",Black:"黑色",White:"白色","Switch to or from fullscreen mode":"切换全屏模式","Open help dialog":"打开帮助对话框",history:"历史",styles:"样式",formatting:"格式化",alignment:"对齐",indentation:"缩进","permanent pen":"记号笔",comments:"备注","Format Painter":"格式刷","Insert/edit iframe":"插入/编辑框架",Capitalization:"大写",lowercase:"小写",UPPERCASE:"大写","Title Case":"首字母大写","Permanent Pen Properties":"永久笔属性","Permanent pen properties...":"永久笔属性...",Font:"字体",Size:"字号","More...":"更多...","Spellcheck Language":"拼写检查语言","Select...":"选择...",Preferences:"首选项",Yes:"是",No:"否","Keyboard Navigation":"键盘指引",Version:"版本",Anchor:"锚点","Special character":"特殊符号","Code sample":"代码示例",Color:"颜色",Emoticons:"表情","Document properties":"文档属性",Image:"图片","Insert link":"插入链接",Target:"打开方式",Link:"链接",Poster:"封面",Media:"媒体",Print:"打印",Prev:"上一个","Find and replace":"查找和替换","Whole words":"全字匹配",Spellcheck:"拼写检查",Caption:"标题","Insert template":"插入模板"})},da0e:function(e,t,a){},daaa:function(e,t,a){"use strict";a("77a8")},dbd1:function(e,t,a){"use strict";a("87c5")},dbe0:function(e,t,a){},dca2:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{top:"-20px"},attrs:{visible:e.visible,modal:!0,width:"68%","before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"rev-button"}),a("div",[a("el-tabs",{attrs:{value:"base"},on:{"tab-click":e.handleClick}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"base"}},[a("div",{staticClass:"auto-scroll"},[a("review-table",{attrs:{data:e.transferFrom,hideLog:!0}}),a("el-form",{staticClass:"form-box",attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"备注:"}},[a("el-input",{attrs:{autosize:{minRows:2,maxRows:3},type:"textarea",placeholder:"备注"},model:{value:e.remarks,callback:function(t){e.remarks=t},expression:"remarks"}})],1),e.userData&&e.userData.length?a("el-form-item",{attrs:{label:"下一步审核人:"}},[a("el-radio-group",{model:{value:e.examineUser,callback:function(t){e.examineUser=t},expression:"examineUser"}},e._l(e.userData,(function(t){return a("el-radio",{key:t.id||t.ID,attrs:{label:t.id||t.ID}},[e._v(e._s(t.lastName||t.LASTNAME))])})),1)],1):e._e()],1)],1)]),a("el-tab-pane",{attrs:{label:"数据列表",name:"dataList"}},[a("div",[a("el-tabs",{attrs:{value:"1"==this.cateType?"fileBox":"single"},on:{"tab-click":e.handleListClick}},["1"==this.cateType?a("el-tab-pane",{attrs:{label:"案卷",name:"fileBox"}},[e.showFileBox?a("div",{staticClass:"list-auto-scroll"},[a("arch-dyn-table",{ref:"fileBox",attrs:{"template-id":e.templateId,isUpload:!1,"oth-type":1,"cate-code":e.cateCode,"show-total":!0,"transfer-id":e.transferId}})],1):e._e()]):e._e(),"1"==this.cateType?a("el-tab-pane",{attrs:{label:"卷内",name:"fileReel"}},[e.showFileReel?a("div",{staticClass:"list-auto-scroll"},[a("arch-dyn-table",{ref:"fileReel",attrs:{"template-id":e.templateId,isUpload:!1,"oth-type":2,"cate-code":e.cateCode,"transfer-id":e.transferId}})],1):e._e()]):e._e(),"2"==this.cateType?a("el-tab-pane",{attrs:{label:"单件",name:"single"}},[e.showSingle?a("div",{staticClass:"list-auto-scroll"},[a("arch-dyn-table",{ref:"single",attrs:{"template-id":e.templateId,isUpload:!1,"oth-type":3,"cate-code":e.cateCode,"transfer-id":e.transferId}})],1):e._e()]):e._e()],1)],1)]),a("el-tab-pane",{attrs:{label:"送审记录",name:"history"}},[a("div",{staticClass:"auto-scroll"},[a("history-tab-pane",{attrs:{logInfo:e.logInfo,type:"review"}})],1)])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{size:"small",type:"primary"},on:{click:e.resend}},[e._v(" 确认移交 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("取消")])],1)]):e._e()},n=[],o=(a("b0c0"),a("cf9d")),s=a("facc"),r=a("2e5f"),l=a("52dc"),c={components:{ReviewTable:o["default"],ArchDynTable:s["default"],BtnList:r["default"],HistoryTabPane:l["default"]},props:{organData:{type:Object,default:function(){return null}},baseSelect:{type:Object,default:function(){return{}}},cateType:{type:String}},data:function(){var e=this;this.$createElement;return{logInfo:[],transferFrom:{},visible:!1,title:"移交",loading:!1,url:{queryListByFormId:"/transferOpinion/queryListByFormId",deleteTransfer:"/transferForm/delete",resend:"/transferForm/resend"},cateCode:"",templateId:"",fileBoxObj:{operCol:[{label:"操作",prop:"oper",width:100,fixed:"right",render:function(t,a){var i=a.row,n=[{content:"查看",type:"text",icon:"view",event:function(){e.view(i)}}];return t(r["default"],{attrs:{btnInfo:n}})}}]},fileReelObj:{operCol:[{label:"操作",prop:"oper",width:160,fixed:"right",render:function(t,a){var i=a.row,n=[{content:"查看",type:"text",icon:"edit",event:function(){e.view(i)}}];return t(r["default"],{attrs:{btnInfo:n}})}}]},showFileBox:!1,showFileReel:!1,showSingle:!1,deptCode:"",transferId:"",userData:[],remarks:"",examineUser:""}},computed:{},created:function(){this.handleUser()},methods:{handleUser:function(){var e=this;this.$api.getAction("/flowable/work/getNextUser",{processDefinitionId:"transfer:1:bc8cc91e-f0fc-11eb-91eb-aa3926c01557"}).then((function(t){200==t.code&&(e.userData=t.data,e.userData.length>0&&(e.examineUser=e.userData[0].id,e.examineUser||(e.examineUser=e.userData[0].ID)))}))},initForm:function(e,t){this.cateCode=t,this.deptCode=e.transferDeptCode,this.transferId=e.id,this.templateId=e.templateId,this.transferFrom=e,this.visible=!0},handleClick:function(e){var t=this;switch(e.name){case"dataList":1==this.cateType?(this.showFileBox=!0,this.$nextTick((function(){t.$refs["fileBox"].getFields(t.templateId,"1")}))):(this.showSingle=!0,this.$nextTick((function(){t.$refs["single"].getFields(t.templateId,"3")})));break;case"history":this.getHistoryInfo();break;default:break}},handleListClick:function(e){var t=this;switch(e.name){case"fileBox":this.showFileBox=!0,this.$nextTick((function(){t.$refs["fileBox"].getFields(t.templateId,"1")}));break;case"fileReel":this.showFileReel=!0,this.$nextTick((function(){t.$refs["fileReel"].getFields(t.templateId,"2")}));break;case"single":this.showSingle=!0,this.$nextTick((function(){t.$refs["single"].getFields(t.templateId,"3")}));break;default:break}},getHistoryInfo:function(){var e=this,t={id:this.transferFrom.id};this.$api.getAction(this.url.queryListByFormId,t).then((function(t){"200"===t.code&&(e.logInfo=t.data)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))},cancelModal:function(){this.deleteTransfer(),this.visible=!1},deleteTransfer:function(){var e=this,t={id:this.transferFrom.id};this.$api.httpAction(this.url.deleteTransfer,t,"post").then((function(t){"200"===t.code?(e.$sweetAlert.successWithTimer("已取消移交！"),e.$emit("ok")):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))},resend:function(){var e=this;this.$confirm("确定移交?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={ids:e.transferFrom.id,status:"2",opinion:""};e.$api.httpAction(e.url.resend,t,"post").then((function(t){"200"==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.$api.postAction("/flowable/processInstance/start",{processDefinitionId:"transfer:1:bc8cc91e-f0fc-11eb-91eb-aa3926c01557",businessKey:e.transferFrom.id,examineUser:e.examineUser,ccToVos:[]}),e.visible=!1,e.$emit("ok")):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))}}},d=c,u=(a("53ec"),a("2877")),p=Object(u["a"])(d,i,n,!1,null,"2f71b3ca",null);t["default"]=p.exports},dcd5:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:"档案归档",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("fox-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",layout:"total, sizes, prev, pager, next, jumper"}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确定归档 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("取消归档")])],1)]):e._e()},n=[],o=a("b85c"),s=a("5530"),r=(a("5db7"),a("73d9"),a("159b"),a("a15b"),a("ac1f"),a("1276"),a("caad"),a("2532"),a("f7c4")),l=(a("0fea"),a("4ec3")),c={name:"ArchiveModule",components:{foxTable:r["a"]},props:{},data:function(){return{visible:!1,loading:!1,othType:"1",volIds:"",templateId:"",cateCode:"",url:{checkPigeonhole:"arch/checkPigeonhole",pigeonhole:"arch/pigeonhole"},ruleVolMark:[]}},computed:{},methods:{initDictData:function(){var e=this;Object(l["e"])("rule_vol_mark")?this.ruleVolMark=Object(l["e"])("rule_vol_mark"):this.$api.getDictItems({mark:"rule_vol_mark"},null).then((function(t){t&&(e.ruleVolMark=t.data)}))},init:function(e){var t=this;this.table=Object(s["a"])(Object(s["a"])({},this.table),{},{show:!1,column:e.column}),this.$nextTick((function(){t.table=Object(s["a"])(Object(s["a"])({},t.table),{},{show:!0})})),this.$nextTick((function(){t.table=Object(s["a"])(Object(s["a"])({},t.table),{},{data:e.data})})),this.volIds=e.volIds,this.cateCode=e.cateCode,this.templateId=e.templateId,this.othType=e.othType,this.table.loading=!1,this.visible=!0},cancelModal:function(){this.visible=!1,this.$emit("close"),this.$emit("ok")},submit:function(){var e=this,t=this.ruleVolMark.flatMap((function(e){return[e.value]})),a=[];this.table.data.forEach((function(e){var i,n="",s=e.ARCH_RULE.split("").reverse().join(""),r=Object(o["a"])(s);try{for(r.s();!(i=r.n()).done;){var l=i.value;if(t.includes(l)){n=l;break}}}catch(d){r.e(d)}finally{r.f()}var c=e.ARCH_RULE;a.push({id:e.ID,archRule:c,seq:c.substring(c.lastIndexOf(n)+1,c.length)})}));var i={othType:this.othType,cateCode:this.cateCode,templateId:this.templateId,jsonData:JSON.stringify(a)};this.$api.httpAction(this.url.checkPigeonhole,i,"post").then((function(t){"200"==t.code?e.pigeonhole(i):e.$confirm(t.msg,"温馨提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.pigeonhole(i)})).catch((function(){e.cancelModal()}))})).catch((function(){}))},pigeonhole:function(e){var t=this;this.$api.httpAction(this.url.pigeonhole,e,"post").then((function(e){"200"==e.code?(t.$sweetAlert.successWithTimer(e.msg),t.cancelModal()):t.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){t.$sweetAlert.errorWithTimer("error")}))}},created:function(){this.initDictData()}},d=c,u=(a("79fc"),a("2877")),p=Object(u["a"])(d,i,n,!1,null,"fcab48b8",null);t["default"]=p.exports},dd46c:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("modal",e._g(e._b({directives:[{name:"loading",rawName:"v-loading",value:e.dialogLoading,expression:"dialogLoading"}],ref:"modal",staticClass:"modal",attrs:{name:e.dialog.name,draggable:".modal-header",transition:"nice-modal-fade",adaptive:!0,scrollable:!e.dialog.height,"min-width":e.dialog.minWidth,"min-height":e.dialog.minHeight,delay:100,clickToClose:e.dialog.clickToClose,width:e.dialog.width||"100",height:e.dialog.height||"auto",resizable:e.dialog.resizable}},"modal",e.$attrs,!1),e.$listeners),[e.dialog.showHeader?a("div",{staticClass:"modal-header"},[a("div",{staticClass:"modal-header-title",domProps:{innerHTML:e._s(e.dialog.title)}}),e.dialog.showHeaderHandle?a("div",{staticClass:"modal-header-control"},[a("div",{staticClass:"modal-header-control-close el-icon-close handle-icon hover:color-blue-500 hover:rotate-180",on:{click:e.close}})]):e._e()]):e._e(),a("div",{staticClass:"modal-body"},[e._t("default")],2),e.dialog.showFooter?[a("div",{staticClass:"modal-footer text-center"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.dialog.showCancelBtn,expression:"dialog.showCancelBtn"}],attrs:{plain:""},on:{click:e.close}},[e._v(e._s(e.$t("common_cancel")))]),a("el-button",{attrs:{type:"primary",loading:e.dialog.loading},on:{click:e.confirm}},[e._v(e._s(e.dialog.confirmText||e.$t("common_confirm"))+" ")])],1)]:[e._t("footer")]],2)},n=[],o=a("5530"),s=(a("a9e3"),a("b0c0"),a("ed08")),r=a("2f62"),l={name:"DragDialog",props:{dragDialog:{type:Object}},computed:Object(o["a"])({},Object(r["e"])({dialogLoading:function(e){var t=e.app;return t.dialogLoading}})),watch:{dragDialog:{handler:function(e){var t=this,a=s["b"].dialog;this.dialog=Object(o["a"])(Object(o["a"])({},a),e),this.$nextTick((function(){t.exit()}))},immediate:!0}},data:function(){return{dialog:{}}},methods:{full:function(){this.$refs.modal.modal=Object(o["a"])(Object(o["a"])({},this.$refs.modal.modal),{},{width:100,height:100,widthType:"%",heightType:"%"}),this.dialog=Object(o["a"])(Object(o["a"])({},this.dialog),{},{fullScreen:!0})},exit:function(){var e=this.dialog,t=e.width,a=e.height;this.$children[0].modal=Object(o["a"])(Object(o["a"])({},this.$children[0].modal),{},{width:t,height:a,heightType:Number(a)>100?"px":"%",widthType:Number(t)>100?"px":"%"}),this.dialog=Object(o["a"])(Object(o["a"])({},this.dialog),{},{fullScreen:!1})},close:function(){this.$modal.hide(this.dialog.name),this.dialog=Object(o["a"])(Object(o["a"])({},this.dialog),{},{loading:!1}),this.$emit("close")},confirm:function(){this.$emit("confirm",this.dialog.name)}}},c=l,d=(a("f569"),a("2877")),u=Object(d["a"])(c,i,n,!1,null,"72e6204b",null);t["default"]=u.exports},dd8c:function(e,t,a){},ddbd:function(e,t,a){"use strict";a("81f7")},ddd6:function(e,t,a){},ded2:function(e,t,a){},e22b:function(e,t,a){},e22d:function(e,t,a){"use strict";a("66bd")},e38c:function(e,t,a){e.exports=a.p+"static/img/xn-gddb.4ec348be.svg"},e45a:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],ref:"tk",attrs:{title:e.title,visible:e.visible,width:"85%",top:"5vh","before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[a("el-tabs",{staticStyle:{height:"100%"},on:{"tab-click":e.handleClick}},[a("el-tab-pane",{staticStyle:{height:"100%"},attrs:{label:"基本信息"}},[a("div",{staticStyle:{height:"100%"}},[a("div",{staticStyle:{height:"90%",overflow:"auto"}},[a("form-build",{ref:"formBuild",attrs:{"form-template":e.jsonData,models:e.models}})],1),a("div",{staticStyle:{float:"right"}},[a("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.SubmitData}},[e._v("提 交")])],1)])]),2==e.oprCode||3==e.oprCode?a("el-tab-pane",{attrs:{label:"背景信息"}},e._l(e.BackInfoData,(function(t){return a("div",{staticStyle:{"border-width":"1px","border-style":"solid","border-color":"#4db6ff",height:"120px","font-size":"14px",padding:"8px","margin-bottom":"8px"}},[a("span",{staticStyle:{"font-size":"20px","font-weight":"bold"}},[e._v(e._s(t.OPT_TYPE_DESC))]),a("el-divider"),a("el-row",{attrs:{gutter:3}},[a("el-col",{attrs:{span:8}},[a("span",[e._v("操作人:")]),a("span",[e._v(e._s(t.OPT_USER_NAME))])]),a("el-col",{attrs:{span:8}},[a("span",[e._v("操作时间:")]),a("span",[e._v(e._s(t.OPT_TIME))])]),a("el-col",{attrs:{span:8}},[a("span",[e._v("操作内容:")]),a("span",[e._v(e._s(t.OPT_CONTENT))])])],1)],1)})),0):e._e(),3==e.oprCode?a("el-tab-pane",{attrs:{label:"正文附件"}},[e.fileTabPaneShow?a("file-tab-pane",{ref:"fileTabPane"}):e._e()],1):e._e()],1)],1)},n=[],o=a("5530"),s=(a("a9e3"),a("b0c0"),a("159b"),a("6440")),r=a("a664"),l=a("2f62"),c={name:"",props:{jsonData:{type:Object,required:!0},models:{type:Object,required:!0},title:{type:String,default:"新增"},oprCode:{type:Number,default:1},NodeData:{type:Object},othType:{type:Number,default:1},rowsData:{type:Array},rowNode:{type:Object},rowDataupdate:{type:Object}},computed:Object(o["a"])({},Object(l["c"])(["userInfo"])),components:{FormBuild:s["default"],FileTabPane:r["default"]},data:function(){return{visible:!0,BackInfoData:[],fileTabPaneShow:!1}},created:function(){var e=this;this.$nextTick((function(){e.initDatat()}))},methods:{initDatat:function(){this.$refs.tk.$el.firstChild.style.height="93%"},handleClick:function(e){"1"==e.index&&this.queryBackInfo(),"2"==e.index&&this.showFileTabPane()},showFileTabPane:function(){var e=this;this.fileTabPaneShow=!0,this.$nextTick((function(){e.$refs["fileTabPane"].init(e.rowDataupdate.ID,e.NodeData.templateId,!0)}))},queryBackInfo:function(){var e=this,t={};t.id=this.rowDataupdate.ID,t.templateId=this.NodeData.templateId,this.$api.httpAction("/compilation/queryBackInfo",t,"post").then((function(t){"200"==t.code&&(e.BackInfoData=t.data)}))},handleClose:function(e){e||(e=0),this.visible=!1,this.$emit("close",{itemCode:e})},SubmitData:function(){var e=this,t=this;this.$refs.formBuild.getData().then((function(a){var i="",n=a;e.models.ID?(i="/compilation/update",e.models.id=e.models.ID,delete e.models.ID):(i="/compilation/add",n.cateId=e.NodeData.id,n.dept_code=t.userInfo.baid),n.templateId=e.NodeData.templateId,n.othType=e.othType,n.CATE_CODE=e.NodeData.cateCode,n.CATE_NAME=e.NodeData.name;var o="";0!=e.rowsData.length&&(e.rowsData.forEach((function(t){o+=t.ID,t.ID!=e.rowsData[e.rowsData.length-1].ID&&(o+=",")})),n.volIds=o),e.rowNode&&(n.volTemplateId=e.rowNode.templateId),e.$api.httpAction(i,n,"post").then((function(t){"200"==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.handleClose(1)):e.$sweetAlert.errorWithTimer("操作失败")}))})).catch((function(e){}))}}},d=c,u=a("2877"),p=Object(u["a"])(d,i,n,!1,null,"47ae3625",null);t["default"]=p.exports},e48a:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{top:"-20px"},attrs:{visible:e.visible,modal:!0,width:"70%","before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",[a("div",{staticClass:"auto-scroll"},[a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{staticStyle:{"font-size":"18px","font-weight":"600"}},[e._v("撤回")]),a("hr",{staticStyle:{"border-top":"1px solid #e6e6e6"}}),e.content?a("el-row",{attrs:{gutter:12}},[a("el-col",{attrs:{span:6}},[e._v("操作人："+e._s(e.content.OPER_USERNAME))]),a("el-col",{attrs:{span:7}},[e._v("操作时间："+e._s(e.content.OPER_TIME))]),a("el-col",{attrs:{span:11}},[e._v("操作内容："+e._s(e.content.OPINION))])],1):e._e()],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.cancelModal}},[e._v(" 关闭 ")])],1)]):e._e()},n=[],o={name:"RevokeInfoModal",components:{},props:{content:{type:Object,default:function(){return null}},title:{type:String,default:"撤回详情"}},data:function(){return{visible:!1,loading:!1}},computed:{},created:function(){},methods:{init:function(){this.visible=!0},cancelModal:function(){this.visible=!1,this.$emit("close"),this.$emit("ok")}}},s=o,r=(a("c724"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"36c7aaba",null);t["default"]=l.exports},e4ac:function(e,t,a){"use strict";a("e22b")},e4f1:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"max-height"},[a("el-col",{staticClass:"max-height",attrs:{span:5}},[a("div",{staticClass:"max-height left-side border-solid-right"},[a("div",{staticClass:"tree-title"},[e._v("按分类查看")]),a("div",{staticClass:"overflow-auto"},[a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],attrs:{data:e.treeData,"default-checked-keys":e.defaultCheckedKeys,"default-expanded-keys":e.defaultExpandedKeys},on:{click:e.treeNodeClick}})],1)])]),a("el-col",{staticClass:"max-height",attrs:{span:e.dataListSpan}},[e.fileBoxShow?a("div",[e.showSeaBarBox?a("search-bar",{ref:"searchBarBox",on:{"set-search-val":e.setSearchVal}}):e._e(),a("div",{staticClass:"auto-scroll"},[a("arch-dyn-table",{ref:"fileBox",attrs:{"template-id":e.templateId,"oth-type":1,isSelect:!1,"is-select":e.fileBoxObj.isSelect,"cate-code":e.cateCode,"show-total":!0,"oper-col":e.fileBoxObj.operCol,"biz-type":"archVerify"},on:{"cell-click":e.cellClickFile}})],1)],1):e._e(),e.fileReelShow?a("div",[e.showSeaBarReel?a("search-bar",{ref:"searchBarReel",on:{"set-search-val":e.setSearchVal}}):e._e(),a("div",{staticClass:"auto-scroll"},[a("arch-dyn-table",{ref:"fileReel",attrs:{"template-id":e.templateId,"oth-type":2,isSelect:!1,"is-select":e.fileReelObj.isSelect,"vol-id":e.volId,"cate-code":e.cateCode,"oper-col":e.fileReelObj.operCol,"biz-type":"archVerify"}})],1)],1):e._e()])],1),e.fileBoxReelModule.show?a("file-box-reel-module",{ref:"fileBoxReelModule",attrs:{title:e.fileBoxReelModule.textMap[e.fileBoxReelModule.status],status:e.fileBoxReelModule.status},on:{ok:e.queryList,close:function(t){e.fileBoxReelModule.show=!1}}}):e._e()],1)},n=[],o=a("1da1"),s=(a("4de4"),a("d81d"),a("b0c0"),a("159b"),a("96cf"),a("60f9")),r=a("facc"),l=a("1a36"),c=a("14a6"),d=a("2e5f"),u={name:"ReviewListMain",components:{BasicTree:s["default"],ArchDynTable:r["default"],BtnList:d["default"],SearchBar:c["default"],FileBoxReelModule:l["default"]},props:{},data:function(){var e=this;this.$createElement;return{showSeaBarBox:!1,showSeaBarReel:!1,searchVal:{},fileBoxShow:!1,fileReelShow:!1,showTree:!0,dataListSpan:19,volId:"",treeData:[],defaultCheckedKeys:[],defaultExpandedKeys:[],fileBoxReelModule:{show:!1,status:"create",textMap:{update:"编辑",create:"添加",similarAdd:"类似新建",mergeVol:"案卷合并",groupVol:"卷内组卷",view:"查看"},loading:!1},initFromData:{templateId:"",cateCode:""},url:{codeTree:"/category/archCateTree",archVerify:"archVerify/list"},fileBoxObj:{isSelect:!0,operCol:[{label:"操作",prop:"oper",width:160,fixed:"right",render:function(t,a){var i=a.row,n=[{content:"查看",type:"text",icon:"view",event:function(){e.view(i,"1")}}];return t(d["default"],{attrs:{btnInfo:n}})}}]},fileReelObj:{isSelect:!0,operCol:[{label:"操作",prop:"oper",width:160,fixed:"right",render:function(t,a){var i=a.row,n=[{content:"查看",type:"text",icon:"view",event:function(){e.view(i,"2")}}];return t(d["default"],{attrs:{btnInfo:n}})}}]}}},computed:{},watch:{defaultCheckedKeys:function(e){e&&this.$nextTick((function(){document.querySelector(".el-icon-document-copy").click()}))}},methods:{initForm:function(){},getTreeData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.getAction(e.url.codeTree,{});case 3:a=t.sent,i=a.treeData,e.treeData=e.setTreeData(i),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},setTreeData:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));e.map((function(e){return e.label=e.name,e})),this.setDefaultCheck(t,e);var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length?(a.elIcon="folder",t(a.children)):a.elIcon="document-copy"}))};return a(t),t},setDefaultCheck:function(e,t){var a=e[0].id,i=t.filter((function(e){return e.parentId==a}));this.defaultExpandedKeys.push(a);var n=this,o=function e(a){if(a.length){var i=a[0].id;n.defaultExpandedKeys.push(i),a=t.filter((function(e){return e.parentId==i})),e(a)}else n.defaultCheckedKeys.push(n.defaultExpandedKeys[n.defaultExpandedKeys.length-1])};o(i)},treeNodeClick:function(e){var t=this;"0"==e.children.length?(this.templateId=e.templateId,this.cateCode=e.cateCode,this.initFromData.cateCode=e.cateCode,this.initFromData.templateId=e.templateId,this.fileBoxShow=!1,this.fileBoxShow||(this.fileBoxShow=!0,this.showSeaBarBox=!0),this.$nextTick((function(){t.$refs["fileBox"].getFields(e.templateId,"1"),t.$refs["searchBarBox"].initSearchBar(t.templateId,"1")})),this.fileReelShow=!1):this.$sweetAlert.warnWithTimer("请选择子节点进行业务操作！")},cellClickFile:function(e){var t=this;this.volId=e.ID,this.fileReelShow||(this.fileReelShow=!0,this.showSeaBarReel=!0),this.$nextTick((function(){t.$refs["fileReel"].getFields(t.templateId,"2"),t.$refs["searchBarReel"].initSearchBar(t.templateId,"2")}))},setSearchVal:function(e,t){this.searchVal=e,this.queryList(t)},queryList:function(e){"1"!=e?this.$refs.fileReel.queryList(this.searchVal):this.$refs.fileBox.queryList(this.searchVal)},view:function(e,t){var a=this;this.fileBoxReelModule.status="view",this.fileBoxReelModule.show=!0,this.initFromData.row=e,this.initFromData.othType=t,this.$nextTick((function(){a.$refs["fileBoxReelModule"].initForm(a.initFromData)}))}},created:function(){this.getTreeData()}},p=u,m=(a("3501"),a("2877")),h=Object(m["a"])(p,i,n,!1,null,"c49f1f3c",null);t["default"]=h.exports},e780:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{top:"-20px"},attrs:{visible:e.visible,modal:!0,width:"60%","before-close":e.cancelModal,title:"导入",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",[a("div",[a("el-divider",{attrs:{"content-position":"left"}},[e._v("选择导入的模板文件")]),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:e.upLoadUrl,"on-success":e.handleSuccess,"before-upload":e.beforeAvatarUpload,"auto-upload":!1,"show-file-list":!1,accept:".xlsx,.xls","file-list":e.fileList,data:e.data,"on-change":function(t,a){e.handleChangeFile(t,a)}}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-upload"}},[e._v("选择文件")]),a("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(""==e.fileName?"请选择文件...":e.fileName))])],1)],1),a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-divider",{attrs:{"content-position":"left"}},[e._v("导入数据参数设置")]),a("div",{staticClass:"oper-div"},[a("div",{staticStyle:{color:"red"}},[e._v("*")]),a("div",{staticStyle:{width:"40px","margin-left":"5px"}},[e._v("密级:")]),a("div",[a("dict-select-tag",{attrs:{"dict-code":"SERC_CODE",placeholder:"请选择"},model:{value:e.sercCode,callback:function(t){e.sercCode=t},expression:"sercCode"}})],1),a("div",{staticStyle:{"margin-left":"10px"}},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{size:"small",type:"primary",icon:"el-icon-download"},on:{click:function(t){return e.handleImp(0)}}},[e._v(" 导入预测 ")]),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{size:"small",type:"primary",icon:"el-icon-download"},on:{click:function(t){return e.handleImp(1)}}},[e._v(" 开始导入 ")])],1)])],1),a("div",{staticClass:"imp-log"},[a("h3",[a("span",[e._v("导入控制台")]),a("span",{staticStyle:{"margin-left":"30px",cursor:"pointer"},on:{click:e.clearLog}},[a("i",{staticClass:"el-icon-refresh-right"}),e._v("清理")])]),a("ol",{staticClass:"auto-scroll"},e._l(e.impLogArr,(function(t,i){return a("span",{domProps:{innerHTML:e._s(t)}})})),0)])])]):e._e()},n=[],o=a("5530"),s=(a("d3b7"),a("a434"),a("b0c0"),a("ac1f"),a("5319"),a("25f0"),a("99af"),a("0779")),r=a("3a43"),l=a("2f62"),c={name:"ImpModule",components:{DictSelectTag:s["default"]},props:{},data:function(){return{visible:!1,loading:!1,isUpload:!1,impLogArr:[],sid:"",fileName:"",upLoadUrl:"",type:"",wsData:{},sercCode:"",fileList:[],data:{},url:{impTest:"/dynamic/preSimpleImportData",impOfficial:"/dynamic/simpleImportData"}}},computed:Object(o["a"])({domainURL:function(){return window._CONFIG["domainURL"]}},Object(l["c"])(["userInfo"])),created:function(){},beforeDestroy:function(){this.wsData.close()},methods:{init:function(e,t,a,i,n){this.getSocketData(),this.data.cateCode=e,this.data.deptCode=t,this.data.templateId=a,this.data.othType=n,this.data.targetForArch="arrange"==i?"2":"1",this.visible=!0},cancelModal:function(){this.$emit("close"),this.$emit("ok")},handleSuccess:function(e){0!=this.type?"200"==e.code?(this.$sweetAlert.successWithTimer(e.msg),this.$refs["upload"].uploadFiles=[],this.isUpload=!1,this.fileName="",this.loading=!1):(this.$refs["upload"].uploadFiles=[],this.isUpload=!1,this.fileName="",this.loading=!1,this.$sweetAlert.errorWithTimer(e.msg)):(this.$refs["upload"].uploadFiles[0].status="ready",this.loading=!1)},beforeAvatarUpload:function(){var e=this;return new Promise((function(t,a){e.upLoadUrl=e.domainURL+(1==e.type?e.url.impOfficial:e.url.impTest),e.$nextTick((function(){return t()}))}))},handleChangeFile:function(e,t){var a=e.size/1024/1024<5;if(!a)return this.$message.error("文件大小不能超过 5MB!"),void(this.$refs["upload"].uploadFiles=[]);t.length>1&&t.splice(0,1),"success"!=e.status&&(this.isUpload=!0,this.fileName=e.name)},handleImp:function(e){this.isUpload?this.sercCode?(this.type=e,this.data.secretLevel=this.sercCode,this.data.sid=this.sid,this.loading=!0,this.$refs.upload.submit()):this.$sweetAlert.warnWithTimer("请选择导入数据的密级程度！"):this.$sweetAlert.warnWithTimer("请先选择文件！")},clearLog:function(){this.impLogArr=[]},generateSid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0,a="x"==e?t:3&t|8;return a.toString(16)}))},getSocketData:function(){var e=this,t={msg:"这是来自客户端的消息"};this.sid=this.generateSid();var a=this.domainURL.replace("http://","ws://");Object(r["a"])("".concat(a,"/websocket/").concat(this.sid),JSON.stringify(t),(function(t,a){e.wsData=a;try{-1!=t.data.indexOf("<li>")&&e.impLogArr.push(t.data)}catch(i){}}))}}},d=c,u=(a("1bc8"),a("2877")),p=Object(u["a"])(d,i,n,!1,null,"48fc28c8",null);t["default"]=p.exports},e7b0:function(e,t,a){"use strict";a("7ceb")},e8ec:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"base-box"},[a("el-radio-group",{staticClass:"max-width box-item",model:{value:e.printType,callback:function(t){e.printType=t},expression:"printType"}},[a("div",{staticClass:"flex justify-between"},[a("el-radio",{staticClass:"max-width",attrs:{label:"pdf"}},[e._v("打印PDF")]),a("el-radio",{staticClass:"max-width",attrs:{label:"excel"}},[e._v("下载EXCEL")])],1)]),a("div",{staticClass:"flex box-item bot-btn-list"},e._l(e.printContentList,(function(t,i){return a("div",{key:i,staticClass:"flex justify-start pointer",staticStyle:{"text-align":"left"},on:{click:function(a){return e.btnClick(t)}}},[a("div",[a("i",{staticClass:"el-icon-printer",staticStyle:{"margin-right":"5px"}})]),a("div",{staticClass:"text-overflow"},[e._v(e._s(t.rtName))])])})),0)],1)]):e._e()},n=[],o=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("cf45")),s=a("0779"),r={components:{DictSelectTag:s["default"]},props:{title:{type:String,default:"选择打印"}},data:function(){return{visible:!0,loading:!1,lineNumber:null,ids:"",printType:"pdf",directionType:"horizontal",directionList:[{value:"horizontal",label:"横向"},{value:"vertical",label:"纵向"}],printContentList:[],url:{queryReport:"/reports/queryReport",pdf:"/file/exportRtPdf",excel:"/file/exportXlsx"},menuType:"1",reType:null,formData:null}},computed:{},created:function(){},methods:{init:function(e,t,a){this.formData=a,this.menuType=e,this.queryReport(e,t),this.visible=!0},btnClick:function(e){var t=this,a=this.printType,i=this.url[this.printType],n={};this.formData&&(n=Object.assign({},this.formData),n.reportId=e.id);var o="pdf";switch(a){case"pdf":break;case"excel":o="xlsx";break;default:break}2==this.menuType?this.$api.downFileByPostData(i,n).then((function(e){t.downloadFile(e,o)})):this.$api.downFile(i,n).then((function(e){t.downloadFile(e,o)}))},queryReport:function(e,t){var a=this,i={menuType:e,reType:t};this.$api.getAction(this.url.queryReport,i).then((function(e){"200"==e.code&&(a.printContentList=e.data)}))},downloadFile:function(e,t){var a=Object(o["h"])(new Date,"{y}-{m}-{d}");if(e)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([e]),a+"."+t);else{var i=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.style.display="none",n.href=i,n.setAttribute("download",a+"."+t),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}else this.$sweetAlert.errorWithTimer("文件下载失败！")},submit:function(e){},cancelModal:function(){this.visible=!1,this.$emit("close")}}},l=r,c=(a("e964"),a("2877")),d=Object(c["a"])(l,i,n,!1,null,"96b45ae0",null);t["default"]=d.exports},e8f7:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isExternal?a("div",e._g({staticClass:"svg-external-icon svg-icon",style:e.styleExternalIcon},e.$listeners)):a("svg",e._g({class:e.svgClass,attrs:{"aria-hidden":"true"}},e.$listeners),[a("use",{attrs:{"xlink:href":e.iconName}})])},n=[];function o(e){return/^(https?:|mailto:|tel:)/.test(e)}var s={name:"SvgIcon",props:{iconClass:{type:String,required:!0},className:{type:String,default:""}},computed:{isExternal:function(){return o(this.iconClass)},iconName:function(){return"#icon-".concat(this.iconClass)},svgClass:function(){return this.className?"svg-icon ".concat(this.className):"svg-icon"},styleExternalIcon:function(){return{mask:"url(".concat(this.iconClass,") no-repeat 50% 50%"),"-webkit-mask":"url(".concat(this.iconClass,") no-repeat 50% 50%")}}}},r=s,l=(a("795d"),a("2877")),c=Object(l["a"])(r,i,n,!1,null,"2e166e7d",null);t["default"]=c.exports},e964:function(e,t,a){"use strict";a("0fac")},eaa5:function(e,t,a){},eae9:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"查看",visible:e.visible,width:"80%","before-close":e.handleClose,"append-to-body":!0},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticStyle:{height:"450px"}},[a("div",{staticClass:"loginOut"},[a("el-button",{attrs:{type:"text",round:""},on:{click:e.handleClose}},[a("i",{staticClass:"el-icon-close",staticStyle:{"font-size":"23px"}})])],1),a("el-tabs",{staticStyle:{overflow:"auto"},on:{"tab-click":e.handleClick}},[a("el-tab-pane",{staticStyle:{overflow:"auto"},attrs:{label:"基本信息"}},[a("div",[a("div",[a("form-build",{ref:"formBuild",attrs:{"form-template":e.jsonData,models:e.models}})],1)])]),a("el-tab-pane",{attrs:{label:"背景信息"}},e._l(e.BackInfoData,(function(t){return a("div",{staticStyle:{"border-width":"1px","border-style":"solid","border-color":"#4db6ff",height:"120px","font-size":"14px",padding:"8px","margin-bottom":"8px"}},[a("span",{staticStyle:{"font-size":"20px","font-weight":"bold"}},[e._v(e._s(t.OPT_TYPE_DESC))]),a("el-divider"),a("el-row",{attrs:{gutter:3}},[a("el-col",{attrs:{span:8}},[a("span",[e._v("操作人:")]),a("span",[e._v(e._s(t.OPT_USER_NAME))])]),a("el-col",{attrs:{span:8}},[a("span",[e._v("操作时间:")]),a("span",[e._v(e._s(t.OPT_TIME))])]),a("el-col",{attrs:{span:8}},[a("span",[e._v("操作内容:")]),a("span",[e._v(e._s(t.OPT_CONTENT))])])],1)],1)})),0)],1)],1)])},n=[],o=a("5530"),s=(a("a9e3"),a("159b"),a("6440")),r=a("2f62"),l=a("3f19"),c=a("f7c4"),d=a("2e5f"),u={name:"",components:{foxTable:c["a"],BtnList:d["default"],FormBuild:s["default"]},mixins:[l["a"]],props:{jsonData:{type:Object,required:!0},models:{type:Object,required:!0},NodeData:{type:Object},othType:{type:Number,default:1},rowData:{type:Object}},computed:Object(o["a"])({},Object(r["c"])(["userInfo"])),data:function(){return{visible:!0,BackInfoData:[],tableCode:!0,ColumnData:[],tableData:[]}},created:function(){},methods:{qfListVo:function(){var e=this,t={};t.templateId=this.NodeData.templateId,t.othType=2,this.tableCode=!1,this.$api.getAction("/queryFld/qfListVo",t,"post").then((function(t){"200"==t.code&&(e.ColumnData=e.setColumnData(t.data),e.tableCode=!0)}))},setColumnData:function(e){var t=this,a=(this.$createElement,[]);if(e.length>0)return e.forEach((function(e){var t={};t.label=e.fldDesc,t.prop=e.fldName,a.push(t)})),a.push({label:"操作",prop:"oper",width:280,render:function(e,a){var i=a.row,n=[{content:"查看",type:"text",icon:"info",event:function(){t.seeRowData(i)}}];return e(d["default"],{attrs:{btnInfo:n}})}}),a},handleClick:function(e){"1"==e.index&&this.queryBackInfo(),"2"==e.index&&this.qfListVo()},queryBackInfo:function(){var e=this,t={};t.id=this.rowData.ID,t.templateId=this.NodeData.templateId,this.$api.httpAction("/compilation/queryBackInfo",t,"post").then((function(t){"200"==t.code&&(e.BackInfoData=t.data)}))},handleClose:function(){this.visible=!1,this.$emit("close")}}},p=u,m=(a("c428"),a("2877")),h=Object(m["a"])(p,i,n,!1,null,"e602dc36",null);t["default"]=h.exports},ecdc:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),t["b"]={"Activate the global connect tool":"激活全局连接工具",Append:"追加","Append {type}":"添加 {type}","Append EndEvent":"追加 结束事件 ","Append Task":"追加 任务","Append Gateway":"追加 网关","Append Intermediate/Boundary Event":"追加 中间/边界 事件","Add Lane above":"在上面添加道","Divide into two Lanes":"分割成两个道","Divide into three Lanes":"分割成三个道","Add Lane below":"在下面添加道","Append compensation activity":"追加补偿活动","Change type":"修改类型","Connect using Association":"使用关联连接","Connect using Sequence/MessageFlow or Association":"使用顺序/消息流或者关联连接","Connect using DataInputAssociation":"使用数据输入关联连接",Remove:"移除","Activate the hand tool":"激活抓手工具","Activate the lasso tool":"激活套索工具","Activate the create/remove space tool":"激活创建/删除空间工具","Create expanded SubProcess":"创建扩展子过程","Create IntermediateThrowEvent/BoundaryEvent":"创建中间抛出事件/边界事件","Create Pool/Participant":"创建池/参与者","Parallel Multi Instance":"并行多重事件","Sequential Multi Instance":"时序多重事件",DataObjectReference:"数据对象参考",DataStoreReference:"数据存储参考",Loop:"循环","Ad-hoc":"即席","Create {type}":"创建 {type}","Create Group":"创建组",Task:"任务",Process:"流程",UserTask:"用户任务","Send Task":"发送任务","Receive Task":"接收任务","User Task":"用户任务","Manual Task":"手工任务","Business Rule Task":"业务规则任务","Service Task":"服务任务","Script Task":"脚本任务","Call Activity":"调用活动",CallActivity:"调用活动","Sub Process (collapsed)":"子流程（折叠的）","Sub Process (expanded)":"子流程（展开的）","Start Event":"开始事件",StartEvent:"开始事件","Intermediate Throw Event":"中间事件","End Event":"结束事件",EndEvent:"结束事件","Create Gateway":"创建网关",GateWay:"网关","Create Intermediate/Boundary Event":"创建中间/边界事件","Message Start Event":"消息开始事件","Timer Start Event":"定时开始事件","Conditional Start Event":"条件开始事件","Signal Start Event":"信号开始事件","Error Start Event":"错误开始事件","Escalation Start Event":"升级开始事件","Compensation Start Event":"补偿开始事件","Message Start Event (non-interrupting)":"消息开始事件（非中断）","Timer Start Event (non-interrupting)":"定时开始事件（非中断）","Conditional Start Event (non-interrupting)":"条件开始事件（非中断）","Signal Start Event (non-interrupting)":"信号开始事件（非中断）","Escalation Start Event (non-interrupting)":"升级开始事件（非中断）","Message Intermediate Catch Event":"消息中间捕获事件","Message Intermediate Throw Event":"消息中间抛出事件","Timer Intermediate Catch Event":"定时中间捕获事件","Escalation Intermediate Throw Event":"升级中间抛出事件","Conditional Intermediate Catch Event":"条件中间捕获事件","Link Intermediate Catch Event":"链接中间捕获事件","Link Intermediate Throw Event":"链接中间抛出事件","Compensation Intermediate Throw Event":"补偿中间抛出事件","Signal Intermediate Catch Event":"信号中间捕获事件","Signal Intermediate Throw Event":"信号中间抛出事件","Message End Event":"消息结束事件","Escalation End Event":"定时结束事件","Error End Event":"错误结束事件","Cancel End Event":"取消结束事件","Compensation End Event":"补偿结束事件","Signal End Event":"信号结束事件","Terminate End Event":"终止结束事件","Message Boundary Event":"消息边界事件","Message Boundary Event (non-interrupting)":"消息边界事件（非中断）","Timer Boundary Event":"定时边界事件","Timer Boundary Event (non-interrupting)":"定时边界事件（非中断）","Escalation Boundary Event":"升级边界事件","Escalation Boundary Event (non-interrupting)":"升级边界事件（非中断）","Conditional Boundary Event":"条件边界事件","Conditional Boundary Event (non-interrupting)":"条件边界事件（非中断）","Error Boundary Event":"错误边界事件","Cancel Boundary Event":"取消边界事件","Signal Boundary Event":"信号边界事件","Signal Boundary Event (non-interrupting)":"信号边界事件（非中断）","Compensation Boundary Event":"补偿边界事件","Exclusive Gateway":"互斥网关",ExclusiveGateway:"互斥网关","Parallel Gateway":"并行网关",ParallelGateway:"并行网关","Inclusive Gateway":"相容网关",InclusiveGateway:"相容网关","Complex Gateway":"复杂网关","Event based Gateway":"事件网关",Transaction:"转运","Sub Process":"子流程","Event Sub Process":"事件子流程","Collapsed Pool":"折叠池","Expanded Pool":"展开池","no parent for {element} in {parent}":"在{parent}里，{element}没有父类","no shape type specified":"没有指定的形状类型","flow elements must be children of pools/participants":"流元素必须是池/参与者的子类","out of bounds release":"out of bounds release","more than {count} child lanes":"子道大于{count} ","element required":"元素不能为空","diagram not part of bpmn:Definitions":"流程图不符合bpmn规范","no diagram to display":"没有可展示的流程图","no process or collaboration to display":"没有可展示的流程/协作","element {element} referenced by {referenced}#{property} not yet drawn":"由{referenced}#{property}引用的{element}元素仍未绘制","already rendered {element}":"{element} 已被渲染","failed to import {element}":"导入{element}失败",Id:"ID",Name:"名称",General:"基础",Details:"详情","Message Name":"消息名称",Message:"消息",Initiator:"创建者","Asynchronous Continuations":"持续异步","Asynchronous Before":"异步前","Asynchronous After":"异步后","Job Configuration":"工作配置",Exclusive:"排除","Job Priority":"工作优先级","Retry Time Cycle":"重试时间周期",Documentation:"文档","Element Documentation":"元素文档","History Configuration":"历史配置","History Time To Live":"历史的生存时间","Start Time":"开始时间",continuedTime:"持续时间","create class":"任务创建监听类","Listener Id":"监听器编号",create_delegateExpression:"任务创建监听委托表达式",assignmentClass:"分配监听类",assignmentDelegateExpression:"分配监听委托表达式",completeClassEntry:"完成监听类",completeDelegateExpression:"完成监听委托表达式",deleteClass:"删除监听类",deleteDelegateExpression:"删除监听委托表达式","Execution Class":"执行类",expression:"表达式","delegate Expression":"委托表达式",approvalBtn:"审批意见类型","assignee List":"执行人","node Type":"节点类型",transConditions:"自动转手动转换条件",loopTime:"循环时间","start Configuration":"启动配置","end Configuration":"结束配置","service Task":"服务任务配置",Forms:"表单","Form Key":"表单key","Form Fields":"表单字段","Business Key":"业务key","Form Field":"表单字段",ID:"编号",Type:"类型",Label:"名称","Default Value":"默认值",Validation:"校验","Add Constraint":"添加约束",Config:"配置",Properties:"属性","Add Property":"添加属性",Value:"值",Add:"添加",Values:"值","Add Value":"添加值",Listeners:"监听器","Execution Listener":"执行监听","Event Type":"事件类型","Listener Type":"监听器类型","Java Class":"Java类",Expression:"表达式","Must provide a value":"必须提供一个值","Delegate Expression":"代理表达式",Script:"脚本","Script Format":"脚本格式","Script Type":"脚本类型","Inline Script":"内联脚本","External Script":"外部脚本","External Resource":"外部资源",Resource:"资源","Field Injection":"字段注入",Extensions:"扩展","Input/Output":"输入/输出","event Configure":"事件配置","Input Parameters":"输入参数","Output Parameters":"输出参数",Parameters:"参数","Output Parameter":"输出参数","Timer Definition Type":"定时器定义类型","Timer Definition":"定时器定义",Date:"日期",Duration:"持续",Cycle:"循环",Signal:"信号","Signal Name":"信号名称",Escalation:"升级",Error:"错误","Link Name":"链接名称",Condition:"条件名称","Variable Name":"变量名称","Variable Event":"变量事件","Specify more than one variable change event as a comma separated list.":"多个变量事件以逗号隔开","Wait for Completion":"等待完成","Activity Ref":"活动参考","Version Tag":"版本标签","end configure":"结束配置",Executable:"可执行文件","External Task Configuration":"扩展任务配置","Task Priority":"任务优先级",External:"外部",Connector:"连接器","Must configure Connector":"必须配置连接器","Connector Id":"连接器编号",Implementation:"实现方式","Field Injections":"字段注入",Fields:"字段","Result Variable":"结果变量",Topic:"主题","Configure Connector":"配置连接器","Input Parameter":"输入参数",Category:"类别",Assignee:"经办人","Candidate Users":"候选用户","Candidate Groups":"候选组","Due Date":"到期时间","Follow Up Date":"跟踪日期",Priority:"优先级","The follow up date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)":"跟踪日期必须符合EL表达式，如： ${someDate} ,或者一个ISO标准日期，如：2015-06-26T09:54:00","The due date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)":"跟踪日期必须符合EL表达式，如： ${someDate} ,或者一个ISO标准日期，如：2015-06-26T09:54:00",Variables:"变量","Candidate Starter Configuration":"候选开始配置","Task Listener":"任务监听器","Candidate Starter Groups":"候选开始组","Candidate Starter Users":"候选开始用户","Tasklist Configuration":"任务列表配置",Startable:"启动","Specify more than one group as a comma separated list.":"指定多个组,用逗号分隔","Specify more than one user as a comma separated list.":"指定多个用户,用逗号分隔","Specify more than one user as a comma separated list..":"指定多个执行人,用逗号分隔(手动类型)","This maps to the process definition key.":"这会映射为流程定义的键","CallActivity Type":"调用活动类型","Create CallActivity":"创建调用活动","Called Element":"调用元素","Create DataObjectReference":"创建数据对象引用","Create DataStoreReference":"创建数据存储引用","Multi Instance":"多实例","Loop Cardinality":"实例数量",Collection:"任务参与人列表","Element Variable":"元素变量","Completion Condition":"完成条件","Append CallActivity":"追加 调用活动",Binding:"绑定","Tenant Id":"租户ID","This maps to the task definition key.":"这会映射为任务定义的key","Form field id must not be empty":"表单字段不能为空","Form field id already used in form data.":"表单中已经存在该字段","Must provide either loop cardinality or collection":"必须提供实例数量或者任务参与人列表","Select UserTask":"选择一个已经配置的用户任务","Element must have an unique id.":"元素必须要有一个唯一的id",create:"创建",assignment:"代理",complete:"完成",delete:"删除",update:"更新",timeout:"超时",start:"开始",end:"结束",save:"保存",Tools:"工具",FlowGateway:"流程网关",ProcessControl:"流程节点","Create StartEvent":"开始节点","Create EndEvent":"结束节点","Create ExclusiveGateway":"互斥网关","Create ParallelGateway":"并行网关","Create InclusiveGateway":"包容性网关","Create Task":"任务节点","Create UserTask":"用户任务节点","Create ServiceTask":"服务任务节点","Condition Type":"条件类型","Sequence flow is missing condition":"流程线缺少流程条件"," is missing end event":"缺少结束节点","Start event is missing event definition":"开始事件缺少事件定义","Incoming flows do not join":"传入流没合并","Element is missing label/name":"元素缺少标签/名称","Element has disallowed type":"元素具有不允许的类型","Element is not connected":"元素未连接","Element is not left connected":"元素没有左连接","Element is not right connected":"元素没有右连接","SequenceFlow is a duplicate":"SequenceFlow是重复的","Duplicate outgoing sequence flows":"重复的传出序列流","Duplicate incoming sequence flows":"重复的传入序列流","Gateway forks and joins":"同时分叉和合并的网关","Flow splits implicitly":"流隐式拆分"," has multiple blank start events":"有多个空开始事件","Event has multiple event definitions":"事件具有多个事件定义"," is missing start event":"缺少开始事件","Start event must be blank":"开始事件必须为空","Gateway is superfluous. It only has one source and target.":"网关是多余的。它只有一个源和目标","Invalid string":"无效的字符串"};var i={"bpmn:Process":"流程","bpmn:SubProcess":"子流程","bpmn:StartEvent":"开始事件","bpmn:IntermediateThrowEvent":"中间事件","bpmn:Task":"任务","bpmn:SendTask":"发送任务","bpmn:ReceiveTask":"接收任务","bpmn:UserTask":"用户任务","bpmn:ManualTask":"手工任务","bpmn:BusinessRuleTask":"业务规则任务","bpmn:ServiceTask":"服务任务","bpmn:ScriptTask":"脚本任务","bpmn:EndEvent":"结束事件","bpmn:SequenceFlow":"流程线","bpmn:ExclusiveGateway":"互斥网关","bpmn:ParallelGateway":"并行网关","bpmn:InclusiveGateway":"相容网关","bpmn:ComplexGateway":"复杂网关","bpmn:EventBasedGateway":"事件网关"}},ed20:function(e,t,a){},eddf:function(e,t,a){"use strict";var i=a("dd46c");t["a"]=i["default"]},ee96:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{top:"-20px"},attrs:{visible:e.visible,modal:!0,width:"68%","before-close":e.cancelModal,title:"1"==e.status?"送审":"查看",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",["1"==e.status?a("div",{staticClass:"rev-button"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{size:"small",type:"primary"},on:{click:e.resend}},[e._v(" 确认移交 ")])],1):e._e(),a("div",[a("el-tabs",{attrs:{value:"base"},on:{"tab-click":e.handleClick}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"base"}},[a("div",{staticClass:"auto-scroll"},[a("review-table",{attrs:{data:e.transferFrom,hideLog:!0}})],1)]),a("el-tab-pane",{attrs:{label:"数据列表",name:"dataList"}},[a("div",[a("el-tabs",{attrs:{value:e.singleCode?"single":"fileBox"},on:{"tab-click":e.handleListClick}},[e.singleCode?e._e():a("el-tab-pane",{attrs:{label:"案卷",name:"fileBox"}},[e.showFileBox?a("div",{staticClass:"list-auto-scroll"},[a("arch-dyn-table",{ref:"fileBox",attrs:{"template-id":e.templateId,"oth-type":1,"show-total":!0,"is-upload":!1,"dept-code":e.deptCode,"biz-type":"reviewForm","transfer-id":e.transferId}})],1):e._e()]),e.singleCode?e._e():a("el-tab-pane",{attrs:{label:"卷内",name:"fileReel"}},[e.showFileReel?a("div",{staticClass:"list-auto-scroll"},[a("arch-dyn-table",{ref:"fileReel",attrs:{"template-id":e.templateId,"oth-type":2,"is-upload":!1,"dept-code":e.deptCode,"biz-type":"reviewForm","transfer-id":e.transferId}})],1):e._e()]),e.singleCode?a("el-tab-pane",{attrs:{label:"单件",name:"single"}},[e.showSingle?a("div",{staticClass:"list-auto-scroll"},[a("arch-dyn-table",{ref:"single",attrs:{"template-id":e.templateId,"oth-type":3,"is-upload":!1,"biz-type":"reviewForm","dept-code":e.deptCode,"transfer-id":e.transferId}})],1):e._e()]):e._e()],1)],1)]),a("el-tab-pane",{attrs:{label:"送审记录",name:"history"}},[a("div",{staticClass:"auto-scroll"},[a("history-tab-pane",{attrs:{type:"review",logInfo:e.logInfo}})],1)])],1)],1)])]):e._e()},n=[],o=(a("b0c0"),a("52dc")),s=a("cf9d"),r=a("facc"),l=a("2e5f"),c={name:"ReviewFormModule",components:{ReviewTable:s["default"],ArchDynTable:r["default"],BtnList:l["default"],HistoryTabPane:o["default"]},props:{organData:{type:Object,default:function(){return null}},baseSelect:{type:Object,default:function(){return{}}}},data:function(){return{singleCode:!1,status:"1",logInfo:[],transferFrom:{},visible:!1,title:"送审",loading:!1,url:{queryListByFormId:"/transferOpinion/queryListByFormId",deleteTransfer:"/transferForm/delete",resend:"/transferForm/resend"},cateCode:"",templateId:"",showFileBox:!1,showFileReel:!1,showSingle:!1,deptCode:"",transferId:""}},computed:{},created:function(){},methods:{initForm:function(e,t){this.status=e,this.deptCode=t.transferDeptCode,this.transferId=t.id,this.templateId=t.templateId,this.transferFrom=t,this.visible=!0,this.singleCode=!!(t.docNum||t.docNum>0)},handleClick:function(e){switch(e.name){case"dataList":this.singleCode?this.handleListClick({name:"single"}):this.handleListClick({name:"fileBox"});break;case"history":this.getHistoryInfo();break;default:break}},handleListClick:function(e){var t=this;switch(e.name){case"fileBox":this.showFileBox=!0,this.$nextTick((function(){t.$refs["fileBox"].getFields(t.templateId,"1")}));break;case"fileReel":this.showFileReel=!0,this.$nextTick((function(){t.$refs["fileReel"].getFields(t.templateId,"2")}));break;case"single":this.showSingle=!0,this.$nextTick((function(){t.$refs["single"].getFields(t.templateId,"3")}));break;default:break}},getHistoryInfo:function(){var e=this,t={id:this.transferFrom.id};this.$api.getAction(this.url.queryListByFormId,t).then((function(t){"200"===t.code&&(e.logInfo=t.data)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))},cancelModal:function(){this.visible=!1,this.$emit("close"),this.$emit("ok")},resend:function(){var e=this;this.$confirm("确定送审?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t={ids:e.transferFrom.id,status:"2",opinion:""};e.$api.httpAction(e.url.resend,t,"post").then((function(t){"200"==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.cancelModal()):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))}}},d=c,u=(a("29e5"),a("2877")),p=Object(u["a"])(d,i,n,!1,null,"834813fa",null);t["default"]=p.exports},ef48:function(e,t,a){},f019:function(e,t,a){"use strict";a("ac41")},f07a:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"max-height",attrs:{gutter:24}},e._l(20,(function(t,i){return a("el-col",{key:i,staticClass:"max-height",staticStyle:{"margin-top":"10px"},attrs:{span:4}},[a("el-card",{attrs:{"body-style":{padding:"0px"}}},[a("img",{staticClass:"image",attrs:{src:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=168577931,3222807769&fm=26&gp=0.jpg"}}),a("div",{staticStyle:{padding:"14px"}},[a("span",[e._v("好吃的汉堡")]),a("div",{staticClass:"bottom clearfix"},[a("el-button",{staticClass:"button",attrs:{type:"text"}},[e._v("操作按钮")])],1)])])],1)})),1)],1)},n=[],o={name:"CardSort",components:{},props:{},data:function(){return{}},computed:{},methods:{},created:function(){}},s=o,r=(a("78a8"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"0e36c4cc",null);t["default"]=l.exports},f12b:function(e,t,a){},f16a:function(e,t,a){},f2c0:function(e,t,a){},f2c4:function(e,t,a){"use strict";a.r(t);var i,n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lb-table"},[a("div",{ref:"table",staticClass:"page-table hide-bot-line",class:{"page-bot-table":e.pageBot,"hide-table-indent":e.hideTableIndent}},[a("el-table",e._g(e._b({ref:"elTable",attrs:{stripe:e.stripe,"row-key":e.rowKey,border:e.border,data:e.data,height:e.Height,"row-class-name":e.rowClassName,"cell-class-name":e.cellClassName,"span-method":this.merge?this.mergeMethod:this.spanMethod,"tree-props":{children:"children",hasChildren:"hasChildren"}}},"el-table",e.$attrs,!1),e.$listeners),[e._l(e.column,(function(t,i){return[t.slot?[a("el-table-column",e._g(e._b({attrs:{prop:t.prop,label:t.label,type:t.type,index:t.index,"column-key":t.columnKey,width:t.width,"min-width":t.minWidth,fixed:t.fixed,"render-header":t.renderHeader,sortable:t.sortable||!1,"sort-method":t.sortMethod,"sort-by":t.sortBy,"sort-orders":t.sortOrders,resizable:t.resizable||!0,formatter:t.formatter,"show-overflow-tooltip":t.showOverflowTooltip||!0,align:t.align||"center","header-align":t.headerAlign||t.align||"center","class-name":t.className,"label-class-name":t.labelClassName,selectable:t.selectable,"reserve-selection":t.reserveSelection||!1,filters:t.filters,"filter-placement":t.filterPlacement,"filter-multiple":t.filterMultiple,"filter-method":t.filterMethod,"filtered-value":t.filteredValue},scopedSlots:e._u([{key:"default",fn:function(a){return[e._t(t.prop,null,{scope:e.handleScope(a)})]}}],null,!0)},"el-table-column",e.$attrs,!1),e.$listeners))]:["radio"!=t.type&&"edit"!=t.type&&"remove"!=t.type?a("column",e._b({key:i,attrs:{column:t}},"column",e.$attrs,!1)):"radio"==t.type?a("el-table-column",{attrs:{width:e.radioWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{staticClass:"radio",attrs:{label:t.row.id||t.row.ID},on:{change:function(a){return e.radioChange(t)}},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}})]}}],null,!0)}):e._e(),"edit"==t.type?a("el-table-column",{attrs:{label:t.label,width:t.width},scopedSlots:e._u([{key:"default",fn:function(i){var n=i.row;return[n.edit?[a("div",{staticClass:"flex"},[a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"edit-input",attrs:{size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitEdit(n)}},model:{value:n[t.prop],callback:function(a){e.$set(n,t.prop,a)},expression:"row[item.prop]"}}),a("i",{staticClass:"el-icon-check edit-submit edit-operate webkit-transition",on:{click:function(t){return t.stopPropagation(),e.submitEdit(n)}}}),a("i",{staticClass:"el-icon-close edit-cancel edit-operate webkit-transition",on:{click:function(t){return t.stopPropagation(),e.cancelEdit(n)}}})],1)]:a("span",{staticClass:"nowrap",attrs:{title:n[t.prop]}},[e._v(e._s(n[t.prop]))])]}}],null,!0)}):e._e(),"remove"==t.type?a("el-table-column",{attrs:{fixed:t.fixed,width:"60",label:"调整"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.$index&&e.data.length-1!=0?a("span",[a("span",{staticStyle:{color:"#00b200",cursor:"pointer"},on:{click:function(a){return a.stopPropagation(),e.down(t.$index,t.row)}}},[e._v("↓")])]):0!=t.$index&&t.$index==e.data.length-1?a("span",[a("span",{staticStyle:{color:"red",cursor:"pointer"},on:{click:function(a){return a.stopPropagation(),e.up(t.$index,t.row)}}},[e._v("↑")])]):e.data.length-1>0?a("span",[a("span",{staticStyle:{color:"red",cursor:"pointer"},on:{click:function(a){return a.stopPropagation(),e.up(t.$index,t.row)}}},[e._v("↑")]),a("span",{staticStyle:{color:"#00b200","margin-left":"20px",cursor:"pointer"},on:{click:function(a){return a.stopPropagation(),e.down(t.$index,t.row)}}},[e._v("↓")])]):e._e()]}}],null,!0)}):e._e()]]}))],2)],1),e.pagination?a("el-pagination",e._g(e._b({staticClass:"table-pagination text-right my-2",class:{"page-bot":e.pageBot},on:{"current-change":e.currentChange}},"el-pagination",e.$attrs,!1),e.$listeners)):e._e()],1)},o=[],s=a("ade3"),r=a("3835"),l=(a("4e82"),a("159b"),a("a434"),a("08d1")),c=(a("c4cc"),a("53fe")),d=a.n(c),u={components:{column:l["default"]},props:{column:Array,data:Array,spanMethod:Function,border:{type:Boolean,default:!0},stripe:{type:Boolean,default:!0},pagination:{type:Boolean,default:!1},merge:Array,pageBot:{type:Boolean,default:!1},rowKey:{type:String,default:""},hideTableIndent:{type:Boolean,default:!1}},data:function(){return{radio:"",radioWidth:"30",radioSelect:"",mergeLine:{},mergeIndex:{},Height:150,rowClassName:"rowClass",cellClassName:"cellClass"}},computed:{dataLength:function(){return this.data.length}},watch:{merge:function(){this.getMergeArr(this.data,this.merge)},dataLength:function(){this.getMergeArr(this.data,this.merge)},data:function(){var e=this;this.$nextTick((function(){e.doLayout()}))}},created:function(){this.getMergeArr(this.data,this.merge)},mounted:function(){var e=this,t=this;this.$nextTick((function(){var a=t.$refs.table.offsetHeight;e.Height=a})),window.onresize=function(){return function(){try{var e=t.$refs.table.offsetHeight;t.$nextTick((function(){t.Height=e}))}catch(a){}}()}},methods:(i={clearSort:function(){this.$refs.elTable.clearSort()},toggleRowExpansion:function(e){this.$refs.elTable.toggleRowExpansion(e)},radioChange:function(e){var t=e.row;e.$index,e.column;this.radioSelect=t,this.$emit("radioChange",t)},clearRadioSelect:function(){this.radioSelect=null,this.radio=""},handleScope:function(e){var t=e.row,a=e.$index,i=e.column;return{row:t,$index:a,column:i}},clearSelection:function(){this.$refs.elTable.clearSelection()},toggleRowSelection:function(e,t){this.$refs.elTable.toggleRowSelection(e,t)},toggleAllSelection:function(){this.$refs.elTable.toggleAllSelection()}},Object(s["a"])(i,"toggleRowExpansion",(function(e,t){this.$refs.elTable.toggleRowExpansion(e,t)})),Object(s["a"])(i,"setCurrentRow",(function(e){this.$refs.elTable.setCurrentRow(e)})),Object(s["a"])(i,"clearSort",(function(){this.$refs.elTable&&this.$refs.elTable.clearSort()})),Object(s["a"])(i,"clearFilter",(function(e){this.$refs.elTable.clearFilter(e)})),Object(s["a"])(i,"doLayout",(function(){this.$refs.elTable.doLayout()})),Object(s["a"])(i,"sort",(function(e,t){this.$refs.elTable.sort(e,t)})),Object(s["a"])(i,"currentChange",(function(e){this.$emit("p-current-change",e)})),Object(s["a"])(i,"getMergeArr",(function(e,t){var a=this;t&&(this.mergeLine={},this.mergeIndex={},t.forEach((function(t,i){e.forEach((function(i,n){0===n?(a.mergeIndex[t]=a.mergeIndex[t]||[],a.mergeIndex[t].push(1),a.mergeLine[t]=0):i[t]===e[n-1][t]?(a.mergeIndex[t][a.mergeLine[t]]+=1,a.mergeIndex[t].push(0)):(a.mergeIndex[t].push(1),a.mergeLine[t]=n)}))})))})),Object(s["a"])(i,"mergeMethod",(function(e){e.row;var t=e.column,a=e.rowIndex,i=(e.columnIndex,this.merge.indexOf(t.property));if(i>-1){var n=this.mergeIndex[this.merge[i]][a],o=n>0?1:0;return{rowspan:n,colspan:o}}})),Object(s["a"])(i,"rowDrop",(function(){var e=this.$refs.elTable.$el.querySelector(".el-table__body-wrapper tbody"),t=this;d.a.create(e,{onEnd:function(e){var a=e.newIndex,i=e.oldIndex,n=t.data.splice(i,1),o=Object(r["a"])(n,1),s=o[0];t.data.splice(a,0,s)}})})),Object(s["a"])(i,"columnDrop",(function(){var e=this,t=this.$refs.elTable.$el.querySelector(".el-table__header-wrapper tr");this.sortable=d.a.create(t,{animation:180,delay:0,onEnd:function(t){var a=t.newIndex,i=t.oldIndex,n=e.column[i];e.column.splice(i,1),e.column.splice(a,0,n)}})})),Object(s["a"])(i,"down",(function(e,t){this.$emit("down-click",e,t)})),Object(s["a"])(i,"up",(function(e,t){this.$emit("up-click",e,t)})),Object(s["a"])(i,"submitEdit",(function(e){this.$emit("submit-edit",e)})),Object(s["a"])(i,"cancelEdit",(function(e){this.$emit("cancel-edit",e)})),i)},p=u,m=(a("1c6c"),a("2877")),h=Object(m["a"])(p,n,o,!1,null,"89311db2",null);t["default"]=h.exports},f338:function(e,t,a){},f345:function(e,t,a){},f3b6:function(e,t,a){},f427:function(e,t,a){"use strict";a("a472")},f49f:function(e,t,a){e.exports=a.p+"static/img/left.abd8a10b.svg"},f4b1:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var i={data:function(){return{formModelObject:{"archive-business":{tabName:"档案业务",formName:"archiveBusiness",title:"档号规则设置",formModel:{formList:[{value:"",prop:"keepTime",label:"保管期限取值",placeHolder:"请选择保管期限取值",tips:"默认取值 “编码”",type:"select",selectOptions:[{value:"1",text:"编码"},{value:"2",text:"中文"}],clearForm:!0,rules:{value:[{required:!0,message:"请选择保管期限取值",trigger:"blur"}]}},{value:"",prop:"keepTimeDict",label:"字典码",placeHolder:"请输入字典码",tips:"",rules:{value:[{required:!0,message:"请输入字典码",trigger:"blur"}]}},{value:"",prop:"secretLevel",label:"密级取值",placeHolder:"请选择密级取值",tips:"默认取值 “ID”",type:"select",selectOptions:[{value:"1",text:"ID"},{value:"2",text:"中文"}],rules:{value:[{required:!0,message:"请选择密级取值",trigger:"blur"}]}},{value:"",prop:"secretLevelDict",label:"字典码",placeHolder:"请输入字典码",tips:"",rules:{value:[{required:!0,message:"请输入字典码",trigger:"blur"}]}}]},halfFormFlag:!0},"site-settings":{tabName:"网站设置",formName:"siteSettings",formModel:{formList:[{value:"",prop:"websiteName",label:"系统名称",placeHolder:"请输入系统名称",maxForm:!0,rules:{value:[{required:!0,message:"请输入系统名称",trigger:"blur"}]}},{value:"",prop:"websiteDomain",label:"系统域名",placeHolder:"域名格式 http://www.xxx.cn",inputWidth:"400px",rules:{value:[{required:!0,message:"请输入系统域名",trigger:"blur"}]}},{value:"",prop:"companyLogo",label:"管理平台logo",limit:1,fileList:[],placeHolder:"请输入管理平台logo",type:"textarea",rules:{value:[{required:!0,message:"请输入管理平台logo",trigger:"blur"}]}},{value:"",prop:"searchIrsLogo",label:"利用平台logo",limit:1,fileList:[],placeHolder:"请输入利用平台logo",type:"textarea",rules:{value:[{required:!0,message:"请输入利用平台logo",trigger:"blur"}]}},{value:"",prop:"indexTitle",label:"系统标题",placeHolder:"请输入首页标题",type:"textarea",rules:{value:[{required:!0,message:"请输入系统标题",trigger:"blur"}]}},{value:"",prop:"metaKeywords",label:"META关键词",placeHolder:"多个关键词用英文状态 , 号分割",type:"textarea",rules:{value:[{required:!0,message:"请输入META关键词",trigger:"blur"}]}},{value:"",prop:"metaDescript",label:"META描述",placeHolder:"请输入meta描述",type:"textarea",rules:{value:[{required:!0,message:"请输入META描述",trigger:"blur"}]}},{value:"",prop:"copyright",label:"版权信息",placeHolder:"请输入版权信息",type:"textarea",rules:{value:[{required:!0,message:"请输入版权信息",trigger:"blur"}]}}]},halfFormFlag:!1},"licence-settings":{tabName:"授权许可证设置",formName:"licenceSettings",formModel:{formList:[{value:"",prop:"licence",label:"授权许可证",placeHolder:"设置授权许可证",type:"textarea",rules:{value:[{required:!0,message:"请输入授权许可证",trigger:"blur"}]}}],halfFormFlag:!1}},"security-settings":{tabName:"安全设置",formName:"securitySettings",formModel:{formList:[{value:"",prop:"defaultPassword",label:"默认密码",placeHolder:"设置默认密码",unit:"",tips:"当用户重置密码时，将设置此密码",rules:{value:[{required:!0,message:"请输入默认密码",trigger:"blur"}]}},{value:"",prop:"cacheExpire",label:"会话有效时间",placeHolder:"",unit:"分钟",tips:"本地开发一般推荐设置为 30，线上环境建议设置为 60。",rules:{value:[{required:!0,message:"请输入会话有效时间",trigger:"blur"}]}},{value:"",prop:"loginErrNumbers",label:"登录失败次数",placeHolder:"1000",unit:"",tips:"默认设置5次",rules:{value:[{required:!0,message:"请输入登录失败次数",trigger:"blur"}]}},{value:"",prop:"limitTime",label:"登录失败限时时长",placeHolder:"1000",unit:"分钟",tips:"默认设置30分钟",rules:{value:[{required:!0,message:"请输入登录失败限时时长",trigger:"blur"}]}},{value:"",prop:"rate",label:"访问频率",placeHolder:"1000",unit:"毫秒",tips:"",rules:{value:[{required:!0,message:"请输入访问频率",trigger:"blur"}]}},{value:"",prop:"logKeepDay",label:"日志保存",placeHolder:"30",unit:"天",tips:"系统日志保留的时间",rules:{value:[{required:!0,message:"请输入日志保存的时间",trigger:"blur"}]}}]},halfFormFlag:!1},"storage-settings":{tabName:"存储设置",formName:"storageSettings",formModel:{hideFormFlag:!0,formList:[{value:"",prop:"fileMaxLength",label:"单个附件最大长度",placeHolder:"",unit:"M",tips:"提示：1 G = 1024 M",rules:{value:[{required:!0,message:"请输入单个附件最大长度",trigger:"blur"}]}},{value:"",prop:"fileTotalMaxLength",label:"多个附件最大长度",clearForm:!0,placeHolder:"",unit:"M",tips:"提示：1 G = 1024 M",rules:{value:[{required:!0,message:"请输入多个附件最大长度",trigger:"blur"}]}},{value:"",prop:"allowFileTypes",label:"文件类型",maxForm:!0,inputWidth:"450px",placeHolder:"bmp|jpg|png|tif|gif|txt|pdf|xls|xlsx|ppt|pptx|doc|docx",rules:{value:[{required:!0,message:"请输入文件类型",trigger:"blur"}]}},{value:"",prop:"fileSaveWay",label:"文件存储路径",placeHolder:"请选择文件存储路径",formItemWidth:"250px",selectWidth:"200px",type:"select",hideFormSwitch:"2",selectOptions:[{value:"0",text:"本地存储"},{value:"2",text:"分布式存储"}],rules:{value:[{required:!0,message:"请选择文件存储路径",trigger:"blur"}]}},{value:"",prop:"fileSavePath",label:"",placeHolder:"请输入存储路径",showFormItem:!0,rules:{value:[{required:!1,message:"请输入存储路径",trigger:"blur"}]}},{value:"",prop:"fileserverUrl",label:"服务地址",placeHolder:"请输入服务地址",maxForm:!0,inputWidth:"450px",hideFormItem:!0,rules:{value:[{required:!1,message:"请输入服务地址",trigger:"blur"}]}},{value:"",prop:"filetempPath",label:"临时存储目录",placeHolder:"请输入临时存储目录",maxForm:!0,inputWidth:"450px",hideFormItem:!0,rules:{value:[{required:!1,message:"请输入临时存储目录",trigger:"blur"}]}},{value:"",prop:"fileGroup",label:"分组",placeHolder:"请输如未在FastDfs开启按组管理,请不要填写。默认group1入分组",maxForm:!0,inputWidth:"450px",hideFormItem:!0,rules:{value:[{required:!1,message:"请输入分组",trigger:"blur"}]}},{value:"",prop:"fileScene",label:"情景",placeHolder:"有则设置，无则默认default",maxForm:!0,inputWidth:"450px",hideFormItem:!0,rules:{value:[{required:!1,message:"请输入分组",trigger:"blur"}]}}]},halfFormFlag:!0},"watermark-settings":{tabName:"水印设置",formName:"watermarkSettings",pdfReview:!0,submitText:"提交，并预览",submitType:"preview",formModel:{hideFormFlag:!0,formList:[{value:"",prop:"watermarkAngle",label:"倾斜度数",placeHolder:"请输入倾斜度数",type:"number-right",min:0,rules:{value:[{required:!1,message:"请输入倾斜度数",trigger:"blur"}]}},{value:"",prop:"watermarkRows",label:"水印行数",placeHolder:"请输入水印行数",type:"number-right",min:0,rules:{value:[{required:!1,message:"请输入水印行数",trigger:"blur"}]}},{value:"",prop:"watermarkCols",label:"水印列数",placeHolder:"请输入水印列数",type:"number-right",min:0,rules:{value:[{required:!1,message:"请输入水印列数",trigger:"blur"}]}},{value:"",prop:"markType",label:"水印类型",placeHolder:"请选择水印类型",type:"select",hideFormSwitch:"5",selectOptions:[{value:"1",text:"姓名-账号-日期"},{value:"2",text:"机构名称"},{value:"3",text:"部门名称"},{value:"4",text:"机构名称-部门名称"},{value:"5",text:"自定义"}],rules:{value:[{required:!0,message:"请选择水印类型",trigger:"blur"}]}},{value:"",prop:"watermarkFontsize",label:"字体大小",placeHolder:"请输入字体大小",rules:{value:[{required:!0,message:"请输入字体大小",trigger:"blur"},{pattern:/^[0-9]+$/,message:"只能输入数字"}]}},{value:"",prop:"watermarkColor",label:"字体颜色",placeHolder:"请输入字体颜色",type:"color-picker",rules:{value:[{required:!0,message:"请输入字体颜色",trigger:"blur"}]}},{value:"",prop:"watermarkTxt",label:"文字内容",placeHolder:"请输入文字内容",hideFormItem:!0,rules:{value:[{required:!1,message:"请输入文字内容",trigger:"blur"}]}}]},halfFormFlag:!1},"back-up":{tabName:"备份",formName:"backUp",formModel:{formList:[{value:"",prop:"backupPath",label:"备份临时目录",placeHolder:"请输入备份临时目录",tips:"windows:C://home/backup,linux: /home/backup",rules:{value:[{required:!1,message:"请输入备份临时目录",trigger:"blur"}]}},{value:"",prop:"backupTime",label:"文件保留时间",placeHolder:"请选择文件保留时间",type:"select",tips:"建议一个月",selectOptions:[{value:"day",text:"一天"},{value:"week",text:"一周"},{value:"month",text:"一个月"},{value:"year",text:"一年"}],rules:{value:[{required:!0,message:"请选择文件保留时间",trigger:"blur"}]}}]},halfFormFlag:!1},"OCR-settings":{tabName:"OCR设置",formName:"OCRSettings",formModel:{showFormItemValue:"0",formList:[{value:"",prop:"ocrType",label:"OCR方式",placeHolder:"请选择OCR方式",formItemWidth:"250px",selectWidth:"200px",type:"select",showFormItemValueFlag:!0,selectOptions:[{value:"0",text:"TesseractOCR"},{value:"1",text:"百度OCR"}],rules:{value:[{required:!0,message:"请选择文件存储路径",trigger:"blur"}]}},{value:"",prop:"tessData",label:"Tesseract数据目录",placeHolder:"Tesseract数据目录",showFormItemValue:"0",rules:{value:[{required:!1,message:"请输入Tesseract数据目录",trigger:"blur"}]}},{value:"",prop:"appId",label:"百度APP ID",placeHolder:"请输入百度APP ID",maxForm:!0,inputWidth:"450px",showFormItemValue:"1",rules:{value:[{required:!0,message:"请输入百度APP ID",trigger:"blur"}]}},{value:"",prop:"apiKey",label:"百度API KEY",placeHolder:"请输入百度API KEY",maxForm:!0,inputWidth:"450px",showFormItemValue:"1",rules:{value:[{required:!0,message:"请输入百度API KEY",trigger:"blur"}]}},{value:"",prop:"secretKey",label:"百度APP密钥",placeHolder:"请输入百度APP密钥",maxForm:!0,inputWidth:"450px",showFormItemValue:"1",rules:{value:[{required:!0,message:"请输入百度APP密钥",trigger:"blur"}]}}],halfFormFlag:!1}},"CAS-settings":{tabName:"统一登录设置",formName:"CASSettings",formModel:{showFormItemValue:"0",labelWidth:"150px",formList:[{value:"0",prop:"cas_enabled",label:"启用统一认证",type:"radio",showFormItemValueFlag:!0,selectOptions:[{value:"1",text:"是"},{value:"0",text:"否"}],rules:{value:[{required:!0,message:"请选择文件存储路径",trigger:"blur"}]}},{value:"",prop:"cas_prefix_url",label:"请输入CAS认证地址",placeHolder:"CAS认证地址",inputWidth:"450px",rules:{value:[{required:!0,message:"请输入CAS认证地址",trigger:"blur"}]}},{value:"",prop:"cas_app_id",label:"AppId",placeHolder:"请输入AppId",maxForm:!0,inputWidth:"450px",showFormItemValue:"1",rules:{value:[{required:!0,message:"请输入AppId",trigger:"blur"}]}},{value:"",prop:"cas_app_secret",label:"AppSecret",placeHolder:"请输入AppSecret",maxForm:!0,inputWidth:"450px",showFormItemValue:"1",rules:{value:[{required:!0,message:"请输入百度API KEY",trigger:"blur"}]}}],halfFormFlag:!1}},"stamp-settings":{tabName:"签章设置",formName:"StampSettings",formModel:{showFormItemValue:"0",labelWidth:"150px",formList:[{value:"",prop:"caHost",label:"签章服务IP地址",placeHolder:"请输入签章服务IP地址",inputWidth:"450px",rules:{value:[{required:!0,message:"请输入签章服务IP地址",trigger:"blur"}]}},{value:"",prop:"caPort",label:"签章服务端口",placeHolder:"请输入签章服务端口",maxForm:!0,inputWidth:"100px",rules:{value:[{required:!0,message:"请输入签章服务端口",trigger:"blur"}]}}],halfFormFlag:!1}}}}},methods:{}}},f541:function(e,t,a){"use strict";a.r(t);var i,n,o=a("2638"),s=a.n(o),r=a("5530"),l=(a("d81d"),a("2f62")),c={name:"OperBtn",props:{btnInfo:{type:Array}},computed:Object(r["a"])({},Object(l["e"])({allAuth:function(e){var t=e.user;return t.allAuth},auth:function(e){var t=e.user;return t.auth}})),mounted:function(){},methods:{cancel:function(e){this.$refs[e].doClose()},hasHandlePermission:function(e){return!0},hasPermission:function(e){return!0},hasAnyOnePermission:function(){return!0}},render:function(e){var t=this,a=this.btnInfo,i={style:{cursor:"pointer",paddingLeft:"0.25rem",paddingRight:"0.25rem"}},n=function(a){var i=a.permission,n=a.content,o=a.className,l=a.event,c="text-gray-400",d=Object(r["a"])({},d);return t.hasHandlePermission(i)&&(c="text-blue-500",d={on:{click:function(){l()}}}),i&&t.hasPermission(i)?e("el-tooltip",{attrs:{placement:"top",content:n}},[e("span",{class:"text-base "+c},[e("i",s()([{},d,{class:o}]))])]):""},o=function(a){var n=a.index,o=a.popText,r=a.permission,l=a.className,c=a.event;return t.hasPermission(r)?e("el-popover",{attrs:{placement:"top",width:"160"},ref:n},[e("div",{class:"pb-3 flex"},[e("span",{class:"px-1 text-orange-500 font-mono"},[e("i",{class:"el-icon-warning"})]),e("slot",{attrs:{name:"popover-title"}},[o])]),e("div",{class:"text-right"},[e("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return t.cancel(n)}}},[t.$t("common_cancel")]),e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(){c(t.cancel,n)}}},[t.$t("common_confirm")])]),e("span",{class:"text-blue-500 text-base",slot:"reference"},[e("i",s()([{},i,{class:l}]))])]):""};return e("div",[a.map((function(a,i){var s=a.type,r=a.dropDownItems,l=a.popover,c=a.popText,d=a.content,u=a.className,p=a.permission,m=a.event;return"dropDown"===s&&t.hasAnyOnePermission()?e("el-dropdown",{attrs:{placement:"bottom"}},[e("span",{class:"text-blue-500 text-base"},[e("i",{class:u})]),e("el-dropdown-menu",{slot:"dropdown"},[r.map((function(a,i){return t.hasPermission(a.permission)?a.popover?e("el-popover",{attrs:{placement:"top",width:"160"},ref:i},[e("div",{class:"pb-3 flex"},[e("span",{class:"px-1 text-orange-500 font-mono"},[e("i",{class:"el-icon-warning"})]),e("slot",{attrs:{name:"popover-title"}},[a.popText])]),e("div",{class:"text-right"},[e("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return t.cancel(i)}}},[t.$t("common_cancel")]),e("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(){a.event()}}},[t.$t("common_confirm")])]),e("el-dropdown-item",{slot:"reference"},[a.content])]):e("el-dropdown-item",{nativeOn:{click:function(){return a.event()}}},[a.content]):null}))])]):l?o({index:i,popText:c,permission:p,className:u,event:m}):n({permission:p,content:d,className:u,event:m})}))])}},d=c,u=(a("ff98"),a("2877")),p=Object(u["a"])(d,i,n,!1,null,"e788bf42",null);t["default"]=p.exports},f569:function(e,t,a){"use strict";a("f3b6")},f570:function(e,t,a){},f5bb:function(e,t,a){"use strict";a("bb11")},f625:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.fileBoxShow?a("div",[e.showSeaBarBox?a("search-bar",{ref:"searchBarBox",on:{"set-search-val":e.setSearchVal}}):e._e(),a("div",{staticClass:"operate-box nowrap"},[a("div",[0==e.delStatus?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-delete"},on:{click:function(t){return e.destruction("1")}}},[e._v(" 鉴定销毁 ")]):e._e(),1==e.delStatus?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-delete"},on:{click:function(t){return e.destruction("2")}}},[e._v(" 彻底销毁 ")]):e._e(),2!=e.delStatus?a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-s-cooperation"},on:{click:e.preserve}},[e._v(" 继续保存 ")]):e._e()],1)]),a("div",{staticClass:"auto-scroll"},[a("arch-dyn-table",{ref:"fileBox",attrs:{"template-id":e.templateId,"oth-type":1,"biz-type":"appraisal","is-select":e.fileBoxObj.isSelect,"cate-code":e.cateCode,"show-total":!0,"oper-col":e.fileBoxObj.operCol,"del-status":e.delStatus},on:{"cell-click":e.cellClickFile}})],1)],1):e._e(),e.fileReelShow?a("div",[e.showSeaBarReel?a("search-bar",{ref:"searchBarReel",on:{"set-search-val":e.setSearchVal}}):e._e(),a("div",{staticClass:"auto-scroll"},[a("arch-dyn-table",{ref:"fileReel",attrs:{"biz-type":"appraisal","template-id":e.templateId,"oth-type":2,"is-select":e.fileReelObj.isSelect,"vol-id":e.volId,"cate-code":e.cateCode,"oper-col":e.fileReelObj.operCol,"del-status":e.delStatus}})],1)],1):e._e(),e.preserveModuleShow?a("preserve-module",{ref:"preserveModule",on:{ok:function(t){return e.queryList("1")},close:function(t){e.preserveModuleShow=!1}}}):e._e(),e.fileBoxReelModule.show?a("file-box-reel-module",{ref:"fileBoxReelModule",attrs:{title:e.fileBoxReelModule.textMap[e.fileBoxReelModule.status],status:e.fileBoxReelModule.status},on:{ok:e.queryList,close:function(t){e.fileBoxReelModule.show=!1}}}):e._e()],1)},n=[],o=a("facc"),s=a("14a6"),r=a("1a36"),l=a("2e5f"),c=a("903f"),d=a("ca00"),u={name:"AppraisalBoxReel",components:{PreserveModule:c["default"],ArchDynTable:o["default"],BtnList:l["default"],SearchBar:s["default"],FileBoxReelModule:r["default"]},props:{},data:function(){var e=this;this.$createElement;return{fileBoxShow:!1,fileReelShow:!1,preserveModuleShow:!1,showSeaBarBox:!1,showSeaBarReel:!1,searchOptions:[],searchVal:{},delStatus:null,cateCode:"",volId:"",fileBoxReelModule:{show:!1,status:"create",textMap:{update:"编辑",create:"添加",similarAdd:"类似新建",mergeVol:"案卷合并",groupVol:"卷内组卷",view:"查看"},loading:!1},initFromData:{templateId:"",cateCode:""},fileBoxObj:{isSelect:!0,operCol:[{label:"操作",prop:"oper",width:160,fixed:"right",render:function(t,a){var i=a.row,n=[{content:"查看",type:"text",icon:"view",event:function(){e.view(i,"1")}}];return t(l["default"],{attrs:{btnInfo:n}})}}]},fileReelObj:{isSelect:!0,operCol:[{label:"操作",prop:"oper",width:160,fixed:"right",render:function(t,a){var i=a.row,n=[{content:"查看",type:"text",icon:"view",event:function(){e.view(i,"2")}}];return t(l["default"],{attrs:{btnInfo:n}})}}]},url:{codeTree:"/category/archCateTree",appraisalList:"/appraisal/list",destruction:"/appraisal/destruction"}}},computed:{theme:function(){return this.$store.state.settings.theme}},methods:{init:function(e){var t=this;this.cateCode=e.cateCode,this.templateId=e.templateId,this.delStatus=e.delStatus,this.fileBoxShow=!0,this.showSeaBarBox=!0,this.initFromData.templateId=e.templateId,this.initFromData.cateCode=e.cateCode,this.$nextTick((function(){t.$refs["fileBox"].getFields(e.templateId,"1"),t.$refs["searchBarBox"].initSearchBar(t.templateId,"1")}))},destruction:function(e){var t=this,a=this.$refs["fileBox"].table.selection;!a.length>0?this.$sweetAlert.warnWithTimer("至少勾选一条数据！"):this.$confirm("1"==e?"确定要销毁吗?":"彻底销毁后不可还原,确定要彻底销毁吗?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i={ids:Object(d["e"])(a),othType:"1",templateId:t.templateId,delStatus:e};t.$api.httpAction(t.url.destruction,i,"post").then((function(e){"200"==e.code?(t.$sweetAlert.successWithTimer(e.msg),t.queryList("1")):t.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){t.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))},preserve:function(){var e=this,t=this.$refs["fileBox"].table.selection;!t.length>0?this.$sweetAlert.warnWithTimer("至少勾选一条数据！"):(this.preserveModuleShow=!0,this.$nextTick((function(){e.$refs["preserveModule"].init({ids:Object(d["e"])(t),templateId:e.templateId})})))},setSearchVal:function(e,t){this.searchVal=e,this.queryList(t)},queryList:function(e){"1"!=e?this.$refs.fileReel.queryList(this.searchVal):this.$refs.fileBox.queryList(this.searchVal)},cellClickFile:function(e){var t=this;this.volId=e.ID,this.fileReelShow||(this.fileReelShow=!0,this.showSeaBarReel=!0),this.$nextTick((function(){t.$refs["fileReel"].getFields(t.templateId,"2"),t.$refs["searchBarReel"].initSearchBar(t.templateId,"2")}))},view:function(e,t){var a=this;this.fileBoxReelModule.status="view",this.fileBoxReelModule.show=!0,this.initFromData.row=e,this.initFromData.status="view",this.initFromData.othType=t,this.$nextTick((function(){a.$refs["fileBoxReelModule"].initForm(a.initFromData)}))}},created:function(){}},p=u,m=(a("ddbd"),a("2877")),h=Object(m["a"])(p,i,n,!1,null,"88d7bcc0",null);t["default"]=h.exports},f7c4:function(e,t,a){"use strict";var i=a("f2c4");t["a"]=i["default"]},f812:function(e,t,a){},f950:function(e,t,a){"use strict";a("08b5")},f96a:function(e,t,a){},f9a0:function(e,t,a){"use strict";a("52ef")},faca:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var i=a("1da1"),n=a("5530"),o=(a("96cf"),a("caad"),a("2532"),a("7db0"),a("159b"),a("ac1f"),a("1276"),{data:function(){return{routeData:null,showListFlag:!1,cateId:"",cateTreeList:["/ArchivesCompilation/ArchivesCompilationList"],organTreeList:["/system/electronicFolder/FolderManage","/recordsCenter/ElectronicFileShare"],statisticsFlag:!1,showModal:{title:"",show:!1,loading:!1},templateNoneFlag:!1,unNeedTempLateFlag:!1,url:{"repeat-vol":"/arch/queryVolRepeat","title-vol":"/arch/queryTitleEmpty","burst-vol":"/dynamic/volLeakDetection","burst-doc":"/dynamic/docLeakDetection"}}},watch:{$route:function(e,t){this.routeData=this.$route.query},routeData:function(){var e=this;if(this.statisticsFlag=!1,this.templateNoneFlag=!1,this.routeData.catePanel){this.cateId=this.$store.state.settings.expandedKeysId;var t=localStorage.getItem("archCateTreeArray"),a=localStorage.getItem("cateTreeArray"),i=localStorage.getItem("organTreeArray");if(t){var o=JSON.parse(t),s=this.$route.path;s&&this.cateTreeList.includes(s)&&(o=JSON.parse(a)),s&&this.organTreeList.includes(s)&&(o=JSON.parse(i),this.unNeedTempLateFlag=!0);var r=o.find((function(t){return t.parentId==e.cateId})),l=o.find((function(t){return t.id==e.cateId}));r?this.showListFlag=!1:(this.showListFlag=!0,l=Object(n["a"])(Object(n["a"])({},l),{},{children:[]}),this.$nextTick((function(){e.treeNodeClick(l)})))}}else if(this.routeData.id){if(!this.routeData.templateId&&!this.unNeedTempLateFlag)return this.showListFlag=!1,void(this.templateNoneFlag=!0);this.showListFlag=!0;var c=null;if(1==this.routeData.groupData){var d=sessionStorage.getItem("groupTreeDataParams");d&&"undefined"!=d&&(c=JSON.parse(d))}this.$nextTick((function(){e.treeNodeClick(e.routeData,c)}))}}},created:function(){this.routeData=this.$route.query},methods:{catePanelClick:function(e){var t=this;this.templateNoneFlag=!1;var a=localStorage.getItem("archCateTreeArray"),i=localStorage.getItem("cateTreeArray"),o=localStorage.getItem("organTreeArray");if(a){var s=JSON.parse(a),r=this.$route.path;r&&this.cateTreeList.includes(r)&&(s=JSON.parse(i)),r&&this.organTreeList.includes(r)&&(s=JSON.parse(o),this.unNeedTempLateFlag=!0);var l=s.find((function(t){return t.parentId==e.id}));if(l)this.cateId=e.id;else{if(!e.templateId&&!this.unNeedTempLateFlag)return this.showListFlag=!1,void(this.templateNoneFlag=!0);this.showListFlag=!0,e=Object(n["a"])(Object(n["a"])({},e),{},{children:[]}),this.$nextTick((function(){t.treeNodeClick(e)}))}}},selectDhScreen:function(e,t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function i(){var o,s,r,l,c,d,u,p,m,h,f,v;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:o="",s="",i.t0=e,i.next="burst"===i.t0?5:"repeat"===i.t0?9:"title"===i.t0?13:17;break;case 5:return a.showModal.title="查漏",o="无空缺档号！",s="空缺档号：",i.abrupt("break",18);case 9:return a.showModal.title="查重",o="无重复档号!",s="重复档号：",i.abrupt("break",18);case 13:return a.showModal.title="提名查重",o="无重复提名！",s="",i.abrupt("break",18);case 17:return i.abrupt("break",18);case 18:return r=e+"-"+t,l=a.url[r],c=a.statisticsParams,"doc"==t&&(c=Object.assign(c,{VOL_ID:a.volId})),"burst"==e&&"vol"==t&&(c={templateId:c.templateId,cate_code:c.cate_code},d=null,u=sessionStorage.getItem("groupTreeDataParams"),u&&"undefined"!=u&&(d=JSON.parse(u)),d&&(c=Object(n["a"])(Object(n["a"])({},c),d))),p="post",i.next=26,a.$api.httpAction(l,c,p);case 26:if(m=i.sent,h=m.data,f=[],"doc"!=t){i.next=33;break}h&&h.DOCNUM&&(v=h.DOCNUM,f.push(v)),i.next=41;break;case 33:if(!h||!h.length){i.next=41;break}i.t1=e,i.next="burst"===i.t1?37:39;break;case 37:return h.forEach((function(e){if(e.VOLNUM){var t=e.VOLNUM.split(",");t.forEach((function(t){var a=e.ARCH_RULE+t;f.push(a)}))}else f.push(e.ARCH_RULE)})),i.abrupt("break",41);case 39:return f=h,i.abrupt("break",41);case 41:if(0!=f.length){i.next=44;break}return a.$sweetAlert.warnWithTimer(o),i.abrupt("return");case 44:a.showModal.show=!0,a.$nextTick((function(){a.$refs.showModal.init({labelText:s,list:f,type:e})}));case 46:case"end":return i.stop()}}),i)})))()}}})},facc:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"max-height"},[a("fox-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],ref:"table",attrs:{"highlight-current-row":"",data:e.table.data,column:e.table.column,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":e.pageSizeList,"page-count":10,"current-page":e.page.pageNum,border:!0,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,stripe:!1,"row-style":e.rowStyle,"cell-style":e.cellStyle},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"sort-change":e.changeTableSort,"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick,radioChange:e.radioChange,"down-click":e.downClick,"up-click":e.upClick}}),e.batchUploadShow?a("batch-upload-module",{ref:"batchUploadModule",on:{ok:e.queryList,close:function(t){e.batchUploadShow=!1}}}):e._e(),e.revokeInfoModal.show?a("revoke-info-modal",{ref:"revokeInfoModal",attrs:{title:e.revokeInfoModal.title,content:e.revokeInfoModal.content}}):e._e(),e.archColumnSet.show?a("arch-column-set",{ref:"archColumnSet",on:{close:function(t){e.archColumnSet.show=!1},ok:e.resetList}}):e._e()],1)},n=[],o=a("1da1"),s=a("2909"),r=a("5530"),l=(a("96cf"),a("a15b"),a("ac1f"),a("1276"),a("d3b7"),a("25f0"),a("99af"),a("c740"),a("159b"),a("b64b"),a("f7c4")),c=a("2e5f"),d=a("99d6"),u=a("e48a"),p=a("6432"),m=a("2f62"),h=a("3f19"),f={data:function(){return{url:{getFields:"/queryFld/qfListVo",filesList:"/dynamic/list",archVerify:"/archVerify/list",keepArch:"/keepArch/list",appraisal:"/appraisal/list"},selectionCol:[{type:"selection",fixed:!0}],selectionColRadio:[{type:"radio",fixed:!0}],remove:[{type:"remove",fixed:"right"}],totalCol:[{label:"卷内数",prop:"DOC_TOTAL"}],fileCount:[{label:"原文数量",prop:"FILE_COUNT",width:100}],radioSelect:""}},methods:{setParamsUrl:function(){var e={};switch(this.bizType){case"archVerify":e.reqParams={page:this.page.pageNum,limit:this.page.pageSize,type:"all",othType:this.othType,cate_code:this.cateCode,templateId:this.templateId,VOL_ID:this.volId,DEL_STATUS:0},e.reqUrl=this.url.archVerify;break;case"reviewForm":e.reqParams={dept_code:this.deptCode,othType:this.othType,VOL_ID:this.volId,transferId:this.transferId,templateId:this.templateId,page:this.page.pageNum,limit:this.page.pageSize},e.reqUrl=this.url.filesList;break;case"archArrange":e.reqParams={cate_code:this.cateCode,VOL_ID:this.volId,transfered:this.transfered,templateId:this.templateId,othType:this.othType,page:this.page.pageNum,limit:this.page.pageSize,type:"all",isWait:0},e.reqUrl=this.url.filesList;break;case"keepArch":e.reqParams={cate_code:this.cateCode,VOL_ID:this.volId,templateId:this.templateId,othType:this.othType,page:this.page.pageNum,limit:this.page.pageSize,type:"all",DEL_STATUS:0},e.reqUrl=this.url.keepArch;break;case"appraisal":e.reqParams={cate_code:this.cateCode,VOL_ID:this.volId,templateId:this.templateId,KEEP_DATE:"1",othType:this.othType,page:this.page.pageNum,limit:this.page.pageSize,type:"all",DEL_STATUS:this.delStatus},e.reqUrl=this.url.appraisal;break;default:e.reqParams={templateId:this.templateId,cate_code:this.cateCode,othType:this.othType,VOL_ID:this.volId,transferId:this.transferId,dept_code:this.deptCode,transfered:this.transfered,page:this.page.pageNum,limit:this.page.pageSize},e.reqUrl=this.url.filesList;break}return this.recycle&&(e.reqParams["DEL_FLAG"]=1),e}}},v=a("cf45"),b={name:"ArchDynTable",components:{foxTable:l["a"],BtnList:c["default"],BatchUploadModule:d["default"],RevokeInfoModal:u["default"],ArchColumnSet:p["default"]},mixins:[h["a"],f],props:{templateId:"",othType:"",transfered:"",cateCode:"",moduleType:"",isSelect:{type:Boolean,default:!1},isUpload:{type:Boolean,default:!0},showTotal:{type:Boolean,default:!1},operCol:Array,volId:"",deptCode:"",transferId:"",bizType:"",radio:"",delStatus:"",removeShow:{type:Boolean,default:!1},recycle:{type:Boolean,default:!1}},data:function(){return{column:[],revokeInfoModal:{show:!1,title:"",content:""},archColumnSet:{show:!1,loading:!1},fieldList:[],setFiedldObject:null,batchUploadShow:!1,pageSizeBaseList:[10,20,30,40,50],pageSizeList:[]}},computed:Object(r["a"])({},Object(m["c"])(["userInfo"])),created:function(){},methods:{changeTableSort:function(e){var t=e.prop,a=e.order;a=a.split("ending").join("");var i={fieldName:t,sortingType:a};if(this.setFiedldObject){var n=this.setFiedldObject.searchVal,o=Object.assign(n||{},i);this.queryList(o)}},clearTableSort:function(){this.$refs.table.clearSort()},radioChange:function(e){this.$emit("radioChange",e)},cellClick:function(e,t){window.getSelection().toString()||this.$emit("cell-click",e,t)},setArchTable:function(){var e=this;this.archColumnSet.show=!0,this.$nextTick((function(){var t={module:e.moduleType,templateId:e.templateId,othType:e.othType,cateCode:e.cateCode,fieldList:e.fieldList};e.$refs.archColumnSet.init(t)}))},resetList:function(){if(this.setFiedldObject){var e=this.setFiedldObject,t=e.templateId,a=e.othType,i=e.paramsObject,n=e.searchVal;this.getFields(t,a,i,n)}},getFields:function(e,t,a,i){var n=this;if(this.setFiedldObject={templateId:e,othType:t,paramsObject:a,searchVal:i},!e)return this.table.data=[],void(this.page.total=0);this.column=[],this.table.data=[],this.table.column=[];var o={templateId:e,othType:t};a&&(o=Object(r["a"])(Object(r["a"])({},o),a)),this.$api.getAction(this.url.getFields,o).then((function(e){if("200"==e.code){n.fieldList=e.data;var t=n.tableSetObject(),a=t.selectedFieldList,o=t.pageSize;if(0==a.length?a=e.data:a.length>0&&(a[a.length-1].colWidth=""),o){n.page.pageSize=o;var r=[].concat(Object(s["a"])(n.pageSizeBaseList),[o]);n.pageSizeList=Object(v["k"])(r)}else n.pageSizeList=n.pageSizeBaseList;n.setColumnFld(a),n.queryList(i)}})).catch((function(){n.$sweetAlert.errorWithTimer("error")}))},tableSetObject:function(){var e=[],t=[],a="",i=this.$store.state.columnSet.columnList,n=this.getBaseObject();if(i.length>0){var o=i.findIndex((function(e){var t=!1,a=Object(r["a"])(Object(r["a"])({},e),{},{pageSize:"",selectedList:[],sortList:[]});return JSON.stringify(n)===JSON.stringify(a)&&(t=!0),t}));if(o>-1){a=i[o].pageSize,e=i[o].selectedList,t=i[o].sortList;var s=this;e.forEach((function(e){var a=t.some((function(t){return e.id==t.id}));a&&s.$set(e,"sortable",!0)}))}}var l={selectedFieldList:e,pageSize:a};return l},getBaseObject:function(){var e=this.userInfo.id,t="",a=this.userInfo.roleList;a&&a.length>0&&(t=a[0].id);var i=this.moduleType,n=this.templateId,o=this.othType,s=this.cateCode,r={userId:e,roleId:t,module:i,templateId:n,othType:o,cateCode:s,pageSize:"",selectedList:[],sortList:[]};return r},uploadClick:function(e){var t=this;this.batchUploadShow=!0,this.$nextTick((function(){t.$refs["batchUploadModule"]&&t.$refs["batchUploadModule"].init(e.ID,t.templateId,t.othType)}))},setColumnFld:function(e){var t=this,a=(this.$createElement,[]);e.forEach((function(e){a.push({label:e.fldDesc,prop:e.fldName,sortable:e.sortable,width:""!=e.colWidth&&null!=e.colWidth?e.colWidth:null})})),a.forEach((function(e){e.sortable&&(e.width?e.width=1*e.width+20:e.width=150)})),this.column=[];var i=[{label:"状态",width:120,render:function(e,a){var i=a.row,n=[];if(i.FILE_COUNT>0){var o={type:"text",icon:"collection",tooltipContent:"原文:<br/>"+t.changeArcyFile(i.FILE_FPRIMALNAM),event:function(){t.viewSource(i,"source",t.othType)}};n.push(o)}if(1==i.LEND_STATUS){var s={type:"text",icon:"remove-outline",color:"#F56C6C",tooltipContent:"已借出"};n.push(s)}if(t.isUpload){var r={type:"text",icon:"upload2",tooltipContent:"上传",event:function(){t.uploadClick(i)}};n.push(r)}if(1==i.PUT_STATUS){var l={type:"text",icon:"film",tooltipContent:"已上架"};n.push(l)}if(""==i.DEPT_CODE){var d={type:"text",icon:"message-solid",tooltipContent:"未填写归档单位"};n.push(d)}var u=null;return 2==i.TRANSFER_STATUS?u={type:"text",imgIcon:"transfer",icon:"document-checked",tooltipContent:"送审中"}:5==i.TRANSFER_STATUS&&(u={type:"text",imgIcon:"not-pass",icon:"document-delete",tooltipContent:"撤回数据",event:function(){t.showWithdrawData(i)}}),u&&n.push(u),e(c["default"],{attrs:{btnInfo:n}})}}];this.isSelect&&(this.radio?this.column=[].concat(Object(s["a"])(this.column),Object(s["a"])(this.selectionColRadio)):this.column=[].concat(Object(s["a"])(this.column),Object(s["a"])(this.selectionCol))),this.column=[].concat(Object(s["a"])(this.column),i),2!=this.othType&&3!=this.othType||(this.column=[].concat(Object(s["a"])(this.column),Object(s["a"])(this.fileCount))),this.showTotal&&(this.column=[].concat(Object(s["a"])(this.column),Object(s["a"])(this.totalCol))),this.column=[].concat(Object(s["a"])(this.column),a),this.removeShow&&(this.column=[].concat(Object(s["a"])(this.column),Object(s["a"])(this.remove))),this.operCol&&(this.column=[].concat(Object(s["a"])(this.column),Object(s["a"])(this.operCol)))},changeArcyFile:function(e){for(var t=e.split(","),a="",i=0;i<t.length;i++)t[i].split(".")[0].length>18?t[i]=t[i].split(".")[0].substring(0,15)+"...":t[i]=t[i].split(".")[0],a+=t[i]+"<br/>",2==i&&(i=t.length);return a},setTableColumn:function(){var e=this;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:this.column}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},queryList:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var i,n,o,s,l,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e&&e.sortingType,i||t.clearTableSort(),n=t.setParamsUrl(),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),void 0!=e&&Object.assign(n.reqParams,e),a.next=7,t.$api.getAction(n.reqUrl,n.reqParams);case 7:o=a.sent,s=o.count,l=o.data,t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*s}),l.length>0&&(c=/dictText/i,Object.keys(l[0]).forEach((function(e){if(c.test(e))for(var a=e.substring(0,e.lastIndexOf("_")),i=0;i<t.column.length;i++)t.column[i].prop==a&&(t.column[i].prop=e)}))),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{show:!1,column:t.column}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{show:!0})})),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:l})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 16:case"end":return a.stop()}}),a)})))()},downClick:function(e,t){this.$emit("down-click",e,t)},upClick:function(e,t){this.$emit("up-click",e,t)},rowStyle:function(e){var t=e.row,a=(e.rowIndex,{});return this.$emit("row-style",t,a,(function(e){a=e})),a},cellStyle:function(e){var t=e.row,a=e.column,i=(e.rowIndex,e.columnIndex,{});return this.$emit("cell-style",t,a,i,(function(e){i=e})),i},viewSource:function(e,t,a){var i={id:e.ID,othType:a,templateId:this.templateId,cateCode:this.cateCode},n=this.$router.resolve({path:"/originalPage",query:i});window.open(n.href,"_blank")},showWithdrawData:function(e){var t=this,a="/dynamic/getRevokeInfo",i="";1==this.othType||3==this.othType?i=e.ID:2==this.othType&&(i=this.volId);var n={volId:i};this.$api.getAction(a,n).then((function(e){200==e.code&&(t.revokeInfoModal.title="撤回详情",t.revokeInfoModal.content=e.data,t.revokeInfoModal.show=!0,t.$nextTick((function(){t.$refs.revokeInfoModal.init()})))}))}}},g=b,y=a("2877"),_=Object(y["a"])(g,i,n,!1,null,"6adda20a",null);t["default"]=_.exports},fb36:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box"},[a("el-select",e._b({ref:"select",style:e.maxWidth?{width:"100%"}:"",attrs:{placeholder:"请选择",clearable:e.clearable},on:{clear:e.selectClear},model:{value:e.selectLabel,callback:function(t){e.selectLabel=t},expression:"selectLabel"}},"el-select",e.$attrs,!1),[a("el-option",{staticClass:"option-style",attrs:{label:e.selectLabel,value:e.selectValue}},[a("el-input",{staticClass:"search",attrs:{size:"small",placeholder:"输入关键字进行过滤"},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.keywork,callback:function(t){e.keywork=t},expression:"keywork"}}),a("el-tree",{ref:"tree",attrs:{data:e.treeData,props:e.treeProps,"node-key":"id","default-expand-all":e.defaultExpandAll,"default-expanded-keys":e.defaultExpandedKeys,"expand-on-click-node":e.expandOnClickNode,"show-checkbox":e.showCheckbox,"check-strictly":e.checkStrictly,"filter-node-method":e.filterNode},on:{"node-click":e.nodeClick,check:e.handleClick},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var i=t.data;return a("div",{},[a("span",{class:[{"tree-click":e.treeClick==i.id}],style:{color:e.treeClick==i.id?e.theme:""}},[e._v(" "+e._s(i.label||i.name)+" ")])])}}])})],1)],1)],1)},n=[],o=(a("99af"),a("4de4"),{name:"SelectTree",components:{},data:function(){return{treeClick:null,keywork:null,selectLabel:null,selectValue:null,treeProps:{children:"children",label:"label"}}},props:{value:{type:String,default:""},defaultExpandAll:{type:Boolean,default:!1},defaultExpandedKeys:{type:Array,default:function(){return[]}},treeData:{type:Array,default:function(){}},labelName:{type:String,defalut:""},showCheckbox:{type:Boolean,default:!1},checkStrictly:{type:Boolean,default:!1},singleCheck:{type:Boolean,default:!1},expandOnClickNode:{type:Boolean,default:!1},maxWidth:{type:Boolean,default:!1},nodeClickDisabledFlag:{type:Boolean,default:!1},getHalfCheckedKeys:{type:Boolean,default:!1},setCheckDataFlag:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0}},computed:{theme:function(){return this.$store.state.settings.theme},themeBgColor:function(){return this.$store.state.settings.themeBgColor}},methods:{selectClear:function(){this.treeClick=null,this.selectLabel=null,this.selectValue=null,this.$emit("input",null)},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},nodeClick:function(e,t){this.nodeClickDisabledFlag||(this.treeClick=e.id,this.selectLabel=e.label,this.selectValue=e.id,this.$emit("input",e.id),this.$emit("labeNameChange",e.label),this.$emit("treeNodeClick",e),this.$refs.select.blur())},checkChange:function(e,t){},getCheckedKeys:function(){var e=this.$refs.tree.getCheckedKeys();this.getHalfCheckedKeys&&(e=this.$refs.tree.getCheckedKeys().concat(this.$refs.tree.getHalfCheckedKeys())),this.$emit("keys",e)},handleClick:function(e,t){this.setCheckDataFlag&&(this.singleCheck&&this.$refs.tree.setCheckedNodes([]),t.checkedKeys.length>0?(this.$emit("input",e.id),this.$emit("labeNameChange",e.label),this.singleCheck&&this.$refs.tree.setCheckedNodes([e])):(this.$emit("input",""),this.$emit("labeNameChange","")),this.$refs.select.blur())}},watch:{keywork:function(e){this.$refs.tree.filter(e)},value:function(e){this.selectLabel=this.labelName,this.selectValue=e,this.treeClick=e}},created:function(){},mounted:function(){},beforeDestroy:function(){}}),s=o,r=(a("a790"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"ac56e1f8",null);t["default"]=l.exports},fe79:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleSetSize}},[a("div",[a("svg-icon",{attrs:{"class-name":"size-icon","icon-class":"size"}})],1),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.sizeOptions,(function(t){return a("el-dropdown-item",{key:t.value,attrs:{disabled:e.size===t.value,command:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1)},n=[],o=(a("ac1f"),a("5319"),{data:function(){return{sizeOptions:[{label:"Default",value:"default"},{label:"Medium",value:"medium"},{label:"Small",value:"small"},{label:"Mini",value:"mini"}]}},computed:{size:function(){return this.$store.getters.size}},methods:{handleSetSize:function(e){this.$ELEMENT.size=e,this.$store.dispatch("app/setSize",e),this.refreshView(),this.$message({message:"Switch Size Success",type:"success"})},refreshView:function(){var e=this;this.$store.dispatch("tagsView/delAllCachedViews",this.$route);var t=this.$route.fullPath;this.$nextTick((function(){e.$router.replace({path:"/redirect"+t})}))}}}),s=o,r=a("2877"),l=Object(r["a"])(s,i,n,!1,null,null,null);t["default"]=l.exports},ff98:function(e,t,a){"use strict";a("899b")}}]);