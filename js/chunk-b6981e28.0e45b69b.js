(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b6981e28","chunk-2d0d0f79","chunk-5077f6d1","chunk-55e1f36a","chunk-92814f14","chunk-8709d9c6"],{"0014":function(e,t,a){"use strict";a("2b0c")},"00c3":function(e,t,a){},"011f":function(e,t,a){"use strict";a("2da5")},"01c0":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"max-height"},[a("div",{staticClass:"max-height flex-column"},[a("div",{staticClass:"operate-box nowrap flex justify-between"},[a("div",[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:role:update",expression:"'sys:role:update'"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.add}},[e._v(" 添加 ")])],1),a("div",{staticClass:"flex"},[a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"input-with-select",attrs:{placeholder:"输入角色名称",size:"mini",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryList(1)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(t){return e.queryList(1)}}},[e._v(" 搜索 ")])],1)]),a("fox-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1)]),e.modify.show?a("modify",{ref:"modify",attrs:{title:e.modify.textMap[e.modify.status],organData:e.organData},on:{ok:e.queryList,close:function(t){e.modify.show=!1}}}):e._e(),e.addCate.show?a("add-cate",{ref:"addCate",attrs:{title:e.addCate.title},on:{close:function(t){e.addCate.show=!1}}}):e._e()],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("60f9")),o=a("f7c4"),c=a("542a"),d=a("0668"),u=a("2e5f"),p=a("3f19"),m=(a("ed08"),{name:"UserList",mixins:[p["a"]],components:{BasicTree:l["default"],foxTable:o["a"],BtnList:u["default"],Modify:c["default"],AddCate:d["default"]},props:{},data:function(){return{treeData:[],defaultExpandAll:!0,dialogFormVisible:!1,dialogStatus:"",select:{loadover:!1,sex:[{value:"0",name:"男"},{value:"1",name:"女"}],role:[],dataType:[],status:[],keepTime:[]},textMap:{update:"编辑",create:"添加"},modify:{show:!1,status:"create",textMap:{update:"编辑",create:"添加"},loading:!1},addCate:{title:"选择授权分类",show:!1,loading:!1},copyUser:{title:"",show:!1,loading:!1},updateKeepTime:{title:"设置保管期限",show:!1,loading:!1},temp:{id:void 0,importance:1,remark:"",timestamp:new Date,title:"",type:"",status:"published"},dialog:{width:"400",height:"450",showFooter:!0},searchText:"",organData:{name:"组织机构树"},url:{organTree:"/sys/organ/organTree",list:"/sys/role/list"}}},watch:{},computed:{},methods:{treeNodeClick:function(e){this.organData=e,this.queryList(1)},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{show:!1,column:[{label:"操作",prop:"oper",width:280,fixed:"right",render:function(t,a){var i=a.row,r=[{content:"编辑",type:"text",icon:"edit",permission:"sys:role:info",event:function(){e.update(i)}},{content:"启用",type:"text",icon:"circle-check",permission:"sys:role:enabled",event:function(){e.operate(i,"enabled")}},{content:"禁用",type:"text",icon:"remove-outline",color:"#F56C6C",permission:"sys:role:delete",event:function(){e.operate(i,"delete")}},{content:"权限",type:"text",icon:"plus",popover:!1,permission:"sys:role:auth",event:function(){e.btnClick(i,"addCate")}}];return t(u["default"],{attrs:{btnInfo:r}})}},{label:"角色名称",prop:"name"},{label:"角色代码",prop:"code"},{label:"角色状态",prop:"status_dictText"},{label:"角色类型",prop:"roleType_dictText"},{label:"备注",prop:"remark"}]}),this.$nextTick((function(){e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{show:!0})}))},add:function(){var e=this;this.modify.status="create",this.modify.show=!0,this.$nextTick((function(){e.$refs["modify"].initForm()}))},update:function(e){var t=this;this.modify.status="update",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={baid:t.organData.id,name:t.searchText,page:t.page.pageNum,limit:t.page.pageSize},t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{loading:!0}),a.next=5,t.$api.getAction(t.url.list,i);case 5:r=a.sent,s=r.count,l=r.data,t.page=Object(n["a"])(Object(n["a"])({},t.page),{},{total:1*s}),t.$nextTick((function(){t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{data:l})})),t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{loading:!1});case 11:case"end":return a.stop()}}),a)})))()},initSelectData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.selectListDataByDict("KEEP_TIME");case 2:e.select.keepTime=t.sent,e.queryList(1),e.select.loadover=!0;case 5:case"end":return t.stop()}}),t)})))()},selectListDataByDict:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$api.getDictItems({mark:e});case 2:return i=a.sent,r=i.data,a.abrupt("return",r);case 5:case"end":return a.stop()}}),a)})))()},btnClick:function(e,t){var a=this;switch(t){case"addCate":var i=e.id;this.addCate.show=!0,this.$nextTick((function(){a.$refs["addCate"].init(i)}));break;default:break}},selectionMsg:function(e){var t="",a=this.table.selection.length;return(0==a||e&&a>1)&&(t="请勾选一条数据！"),t},operate:function(e,t){var a=this,i={enabled:{name:"启用",msg:"确定启用该用户?"},delete:{name:"禁用",msg:"确定禁用该用户?"},reset:{name:"重置密码",msg:"确定要重置选中的用户密码?"}},r=i[t]["msg"];this.$confirm(r,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i="/sys/role/"+t,r={id:e.id},s="post";a.$api.httpAction(i,r,s).then((function(e){var i=200;"reset"==t&&(i=0),e.code==i?(a.$sweetAlert.successWithTimer(e.msg),a.queryList(),a.$emit("ok")):a.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))}},created:function(){this.setTableColumn(),this.initSelectData()},mounted:function(){}}),h=m,f=(a("159f"),a("2877")),b=Object(f["a"])(h,i,r,!1,null,"486e7ce8",null);t["default"]=b.exports},"01f7":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container auto-scroll"},[a("div",{staticClass:"info-box"},[a("basic-form",{ref:e.formModelObject.formName,attrs:{formModel:e.formModelObject.formModel,refName:e.formModelObject.formName+"RefName",halfFormFlag:e.formModelObject.halfFormFlag,defaultInputWidth:"400px",defaultSelectWidth:"400px"},on:{submit:e.submitForm}}),a("div",{staticClass:"btn-list"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("保存")])],1)],1)])},r=[],s=(a("159b"),a("b64b"),a("9962")),n=a("0f52"),l={name:"SettingPanel",mixins:[n["a"]],components:{BasicForm:s["default"]},props:{},data:function(){return{url:{edit:"/detection/updateConfig",get:"/detection/getConfig"},data:[]}},watch:{},computed:{},methods:{submit:function(){this.$refs[this.formModelObject.formName].submit()},submitForm:function(e){var t=this,a=(e.refName,e.formData),i=this.url.edit,r="post";this.$api.httpAction(i,a,r).then((function(e){t.loading=!1,200==e.code?t.$sweetAlert.successWithTimer(e.msg):t.$sweetAlert.errorWithTimer(e.msg)}))},reset:function(){var e=this;this.$nextTick((function(){e.$refs[e.formModelObject.formName].resetFields(),e.initData()}))},getConfig:function(){var e=this;this.$api.getAction(this.url.get).then((function(t){"200"==t.code&&(e.data=t.data,e.initData())}))},initData:function(){var e=this;Object.keys(this.formModelObject).forEach((function(t){var a=e.formModelObject.formModel;a.formList.forEach((function(t){t.value=t.prop&&e.data[t.prop]?e.data[t.prop]:null}))}))},setUserInfo:function(e){var t=Object.assign(this.userInfo,e);this.$store.commit("SET_INFO",t)}},created:function(){this.getConfig()},mounted:function(){}},o=l,c=(a("59ea"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"0b2002b8",null);t["default"]=d.exports},"038b":function(e,t,a){},"03fb":function(e,t,a){"use strict";a("432c")},"0482":function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return n}));var i="http://localhost:9000/sxfw/file/list",r="http://localhost:9000/sxfw/file/upload",s="http://localhost:9000/sxfw/file/fileDown";function n(e,t){if(!e)return!1;var a=e.indexOf("return")>=0?"{"+e+"}":"return ("+e+")",i=new Function("$",a);return i(t)}},"04f5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"auth"},[a("menu-search",e._g(e._b({ref:"menuSearch",attrs:{"menu-search":e.menuSearch}},"menu-search",e.$attrs,!1),e.$listeners))],1)},r=[],s=a("1da1"),n=a("2909"),l=a("5530"),o=(a("96cf"),a("a15b"),a("4ec3")),c=(a("ed08"),a("1d21")),d={name:"Auth",components:{MenuSearch:c["default"]},props:{data:{type:Object}},data:function(){return{menuSearch:{defaultCheckedKeys:[],defaultExpandKes:[],checkStrict:!0,show:!0}}},watch:{data:{handler:function(e){var t=e.id;t&&(this.queryPermissionByRole(t),this.queryTreeRole())},immediate:!0}},methods:{getMenuRef:function(){return this.$refs.menuSearch},getTreeRef:function(){return this.getMenuRef().$refs.tree},getCheckedKeys:function(){var e=this.menuSearch.defaultCheckedKeys;return{lastpermissionIds:e.join(","),permissionIds:this.getTreeRef().getCheckedKeys().join(",")}},setCheckedKeys:function(e){this.getTreeRef().setCheckedKeys(e)},connect:function(){this.menuSearch=Object(l["a"])(Object(l["a"])({},this.menuSearch),{},{checkStrict:!1})},cancelConnect:function(){this.menuSearch=Object(l["a"])(Object(l["a"])({},this.menuSearch),{},{checkStrict:!0})},selectAll:function(){var e=this.menuSearch.ids;this.getTreeRef().setCheckedKeys(e)},selectNone:function(){this.getTreeRef().setCheckedKeys([])},expandAll:function(){var e=this.menuSearch.ids;this.menuSearch=Object(l["a"])(Object(l["a"])({},this.menuSearch),{},{defaultExpandKes:Object(n["a"])(e)})},shrinkAll:function(){var e=this;this.menuSearch=Object(l["a"])(Object(l["a"])({},this.menuSearch),{},{show:!1}),this.$nextTick((function(){e.menuSearch=Object(l["a"])(Object(l["a"])({},e.menuSearch),{},{show:!0,defaultExpandKes:[]})}))},queryPermissionByRole:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return{roleId:e},a.next=3,Object(o["h"])({roleId:e});case 3:i=a.sent,r=i.success,s=i.result,r&&(t.menuSearch=Object(l["a"])(Object(l["a"])({},t.menuSearch),{},{defaultCheckedKeys:s,roleId:e}),t.setCheckedKeys(s));case 7:case"end":return a.stop()}}),a)})))()},queryTreeRole:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["j"])();case 2:a=t.sent,i=a.success,r=a.result,i&&(s=r.ids,n=r.treeList,e.menuSearch=Object(l["a"])(Object(l["a"])({},e.menuSearch),{},{data:n,ids:s,defaultExpandKes:s}));case 6:case"end":return t.stop()}}),t)})))()}}},u=d,p=a("2877"),m=Object(p["a"])(u,i,r,!1,null,"2deda0b6",null);t["default"]=m.exports},"04f7":function(e,t,a){},"053a":function(e,t,a){"use strict";a("ab69")},"054c":function(e,t,a){},"05db":function(e,t,a){},"0633":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container flex-column"},["list"==e.pageFlag?a("div",{staticClass:"flex-column max-height"},[a("div",{staticClass:"operate-btn-list"},e._l(e.btnList,(function(t){return a("div",{key:t.value},[a("el-button",{attrs:{size:"mini",type:t.type},on:{click:function(a){return e.btnClick(t)}}},[e._v(" "+e._s(t.label)+" ")])],1)})),0),a("div",{staticClass:"table-box max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,"row-style":{cursor:"pointer"}},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1)]):e._e(),"edit"==e.pageFlag?a("data-import-edit",{ref:"edit",attrs:{dataSourceList:e.dataSourceList},on:{ok:function(t){return e.pageFlagChange("list")}}}):e._e()],1)},r=[],s=a("5530"),n=a("1da1"),l=(a("96cf"),a("f7c4")),o=a("2e5f"),c=a("3f19"),d=a("8df0"),u=a("a7cf"),p={name:"InfoList",mixins:[c["a"],d["a"]],components:{foxTable:l["a"],BtnList:o["default"],DataImportEdit:u["default"]},props:{},data:function(){return{dataSourceList:[],selfLoadTableFlag:!0,btnList:[{value:"add",label:"新增"}],pageFlag:"list",url:{list:"/dataSource/queryImportList",test:"/dataSource/testImport",start:"/dataSource/startover",close:"/dataSource/deleteJob",delete:"/dataSource/deleteImport",dataSource:"/dataSource/list"}}},watch:{},computed:{},methods:{getDataSourceList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.getAction(e.url.dataSource,{});case 2:a=t.sent,e.dataSourceList=a.data;case 4:case"end":return t.stop()}}),t)})))()},pageFlagChange:function(e){this.pageFlag=e,"list"==e&&this.queryList(1)},operate:function(e,t){var a=this,i=e,r={id:i.id};switch(t){case"add":case"edit":this.pageFlag="edit",this.$nextTick((function(){a.$refs.edit.init(i)}));break;case"test":this.interfaceOperate(t,r,!0);break;case"delete":var s="您确定要删除本数据源吗？";this.operateBeforeConfirm(e,t,s,(function(){a.interfaceOperate(t,r)}));break;default:this.interfaceOperate(t,r);break}},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(s["a"])(Object(s["a"])({},this.table),{},{show:!1,column:[{label:"名称",width:150,prop:"name"},{label:"来源表",width:150,prop:"dataSourceTable"},{label:"接收表",width:150,prop:"receivingTableName"},{label:"成功数",prop:"successNum"},{label:"失败数",prop:"failNum"},{label:"状态",prop:"status"},{label:"上次执行时间",width:200,prop:"executeTime"},{label:"导入定时",width:150,prop:"cron"},{label:"操作",prop:"oper",width:200,fixed:"right",render:function(t,a){var i=a.row,r=[{content:"编辑",type:"text",event:function(){e.operate(i,"edit")}},{content:"测试",type:"text",event:function(){e.operate(i,"test")}},{content:"启动",type:"text",event:function(){e.operate(i,"start")}},{content:"关闭",type:"text",event:function(){e.operate(i,"close")}},{content:"删除",type:"text",color:e.deleteColor,event:function(){e.operate(i,"delete")}}];return t(o["default"],{attrs:{btnInfo:r}})}}]}),this.$nextTick((function(){e.table=Object(s["a"])(Object(s["a"])({},e.table),{},{show:!0})}))}},created:function(){this.getDataSourceList()},mounted:function(){}},m=p,h=a("2877"),f=Object(h["a"])(m,i,r,!1,null,"63aea2c2",null);t["default"]=f.exports},"064a":function(e,t,a){"use strict";a("cca3")},"065f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"max-height flex-column"},[a("div",{staticClass:"operate-box nowrap flex justify-between"},[a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.back}},[e._v("返回上一步")])],1),e.showView?a("div",{staticClass:"flex"},[a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"input-with-select",attrs:{placeholder:e.searchPlaceholder[e.pageIdx],clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryList(1)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.queryList(1)}}},[e._v(" 搜索 ")])],1):e._e()]),e.showView?a("store-overview",{ref:"overview"}):e._e(),e.showView?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"max-height"},[e.table.loading?e._e():a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,"page-bot":!0,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1):e._e(),e.showView?e._e():a("div",{staticClass:"auto-scroll"},[a("store-capacity-view",{ref:"capView"})],1)],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("f7c4")),o=a("3f19"),c=a("2e5f"),d=a("c5a9"),u=a("f5ae"),p={name:"",mixins:[o["a"]],components:{StoreCapacityView:u["default"],StoreOverview:d["default"],foxTable:l["a"],BtnList:c["default"]},props:{srSerial:{type:String,default:""},saSerial:{type:String,default:""}},data:function(){var e=this;this.$createElement;return{searchPlaceholder:["输入密集架号","输入密集架层编号","输入密集架列编号"],searchText:"",arrSerial:"",arrId:"",snSerial:"",snId:"",url:{list:["/storeArray/pageList","/storeNode/pageList","/storeLayer/pageList"]},model:null,pageIdx:0,columnList:[[{label:"操作",prop:"oper",width:280,fixed:"right",render:function(t,a){var i=a.row,r=[{content:"查看密集架层",type:"text",icon:"",popover:!1,event:function(){e.check(i)}}];return t(c["default"],{attrs:{btnInfo:r}})}},{label:"所属库房",prop:"srSerial"},{label:"所属区域",prop:"saSerial"},{label:"使用情况",prop:"status"},{label:"密集架编号",prop:"serial"},{label:"描述",prop:"remark"}],[{label:"操作",prop:"oper",width:280,fixed:"right",render:function(t,a){var i=a.row,r=[{content:"查看密集架列",type:"text",icon:"",popover:!1,event:function(){e.check(i)}}];return t(c["default"],{attrs:{btnInfo:r}})}},{label:"所属库房",prop:"srSerial"},{label:"所属区域",prop:"saSerial"},{label:"所属密集架",prop:"arrSerial"},{label:"状态",prop:"status_dictText"},{label:"密集架层编号",prop:"serial"},{label:"层数",prop:"layerNum"},{label:"说明",prop:"remark"}],[{label:"所属库房",prop:"srSerial"},{label:"所属区域",prop:"saSerial"},{label:"所属密集架",prop:"arrSerial"},{label:"所属密集架层",prop:"snSerial"},{label:"状态",prop:"status_dictText"},{label:"密集架列编号",prop:"serial"},{label:"库房位置",prop:"location"}]],viewData:[],showView:!0}},watch:{},computed:{},methods:{init:function(e){this.model=e,this.queryList(1)},back:function(){this.pageIdx>0?(this.pageIdx--,this.searchText="",this.page=Object(n["a"])(Object(n["a"])({},this.page),{},{pageNum:1}),this.setTableColumn(),this.queryList(1)):this.$emit("close")},setTableColumn:function(){var e=this;this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{show:!1,column:this.columnList[this.pageIdx]}),this.$nextTick((function(){e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{show:!0})}))},check:function(e){var t=this,a=this.pageIdx;switch(a){case 0:this.showView=!1,this.$nextTick((function(){t.$refs["capView"].init(e)}));break;case 1:this.snSerial=e.serial,this.snId=e.id;break;default:break}this.pageIdx<this.url.list.length-1&&this.pageIdx++},getOverviewData:function(e){var t=this;this.$nextTick((function(){t.$refs["overview"].getOverviewData(e.id)}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s,l,o,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.showView=!0,t.getOverviewData(t.model),1===e&&(t.page.pageNum=1),i={serial:t.searchText,srSerial:t.model.srName,saSerial:t.model.saName,saId:t.model.id,srId:t.model.srId,page:t.page.pageNum,limit:t.page.pageSize},r=t.pageIdx,a.t0=r,a.next=1===a.t0?9:2===a.t0?11:13;break;case 9:return i=Object(n["a"])(Object(n["a"])({},i),{},{arrSerial:t.arrSerial,arrId:t.arrId}),a.abrupt("break",14);case 11:return i=Object(n["a"])(Object(n["a"])({},i),{},{arrSerial:t.arrSerial,snSerial:t.snSerial,snId:t.snId}),a.abrupt("break",14);case 13:return a.abrupt("break",14);case 14:return t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{loading:!0}),s=t.url.list[t.pageIdx],a.next=18,t.$api.getAction(s,i);case 18:l=a.sent,o=l.count,c=l.data,t.page=Object(n["a"])(Object(n["a"])({},t.page),{},{total:1*o}),t.$nextTick((function(){t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{data:c})})),t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{loading:!1});case 24:case"end":return a.stop()}}),a)})))()}},created:function(){this.setTableColumn()},mounted:function(){}},m=p,h=(a("5041"),a("2877")),f=Object(h["a"])(m,i,r,!1,null,"61e00862",null);t["default"]=f.exports},"0668":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],staticClass:"auto-scroll"},[a("div",{staticClass:"tree-title"},[e._v("菜单树")]),a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],ref:"tree",attrs:{data:e.treeData,defaultExpandAll:e.defaultExpandAll,showCheckbox:e.showCheckbox,getHalfCheckedKeys:!0,checkStrictly:e.checkStrictly},on:{click:e.treeNodeClick,keys:e.getCheckedKeys}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},r=[],s=a("1da1"),n=(a("96cf"),a("d81d"),a("4de4"),a("b0c0"),a("159b"),a("d3b7"),a("ddb0"),a("a15b"),a("b64b"),a("60f9")),l=(a("2f62"),{components:{BasicTree:n["default"]},props:{title:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,roleId:"",treeData:[],keys:[],treeLoading:!1,defaultExpandAll:!0,defaultCheckedKeys:[],showCheckbox:!0,checkStrictly:!1,url:{menuTree:"/sys/menu/menuTree",addCate:"/sys/role/addMenuAuthor"}}},computed:{},created:function(){},methods:{init:function(e){this.visible=!0,this.menuTree(e)},menuTree:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.treeLoading=!0,t.roleId=e,i={roleId:e},a.prev=3,a.next=6,t.$api.getAction(t.url.menuTree,i);case 6:r=a.sent,s=r.treeData,t.defaultCheckedKeys=s.filter((function(e){return e.checked})).map((function(e){return e.id})),t.treeData=t.setTreeData(s),t.checkStrictly=!0,t.$nextTick((function(){t.$refs.tree.setCheckedKeys(t.defaultCheckedKeys),t.checkStrictly=!1,t.treeLoading=!1})),a.next=16;break;case 14:a.prev=14,a.t0=a["catch"](3);case 16:case"end":return a.stop()}}),a,null,[[3,14]])})))()},setTreeData:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));0==t.length&&(t=e.filter((function(e){return"0"==e.parentId}))),e.map((function(e){return e.label=e.name,e}));var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length&&t(a.children)}))};return a(t),t},treeNodeClick:function(e){},initForm:function(){this.visible=!0},resetForm:function(e){var t=this;this.$nextTick((function(){t.$refs[e].resetFields()}))},getCheckedKeys:function(e){this.keys=e},submit:function(){var e=this;this.$refs.tree.getCheckedKeys();var t=this.keys,a=t.join(",");this.loading=!0;var i=this.url.addCate,r={roleId:this.roleId,menuIds:a},s="post";this.$api.httpAction(i,r,s).then((function(t){e.loading=!1,200==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.$emit("ok"),e.cancelModal()):e.$sweetAlert.errorWithTimer(t.msg)}))},reset:function(){var e=this;Object.keys(this.model).forEach((function(t){return e.model[t]=""})),this.initForm()},cancelModal:function(){this.visible=!1,this.$emit("close")}}}),o=l,c=(a("0b86"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"428aa61a",null);t["default"]=d.exports},"06a5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return"grid"===e.record.type&&e.dynamicVisibleItem?a("el-row",{staticClass:"grid-row",attrs:{gutter:e.record.options.gutter}},e._l(e.record.columns,(function(t,i){return a("el-col",{key:i,staticClass:"grid-col",attrs:{span:t.span||0}},e._l(t.list,(function(t){return a("buildBlocks",{key:t.key,ref:"nestedComponents",refInFor:!0,attrs:{disabled:e.disabled,"render-preview":e.renderPreview,models:e.models,data:e.data,record:t,"form-config":e.formConfig,config:e.config},on:{"update:models":function(t){e.models=t},handleReset:function(t){return e.$emit("handleReset")},change:e.handleChange}})})),1)})),1):"table"===e.record.type&&e.dynamicVisibleItem?a("table",{class:["table-layout","form-table",e.record.options.customClass?e.record.options.customClass:"",e.record.options.bright?"bright":"",e.record.options.small?"small":"",e.record.options.bordered?"bordered":""],style:e.record.options.customStyle},[e._l(e.record.trs,(function(t,i){return[e.showTr(t,e.models)?a("tr",{key:i},e._l(t.tds,(function(t,i){return a("td",{key:i,class:["table-td",t.class],style:t.style,attrs:{colspan:t.colspan,rowspan:t.rowspan}},e._l(t.list,(function(t){return a("buildBlocks",{key:t.key,ref:"nestedComponents",refInFor:!0,attrs:{disabled:e.disabled,data:e.data,"render-preview":e.renderPreview,models:e.models,record:t,"form-config":e.formConfig,config:e.config},on:{"update:models":function(t){e.models=t},handleReset:function(t){return e.$emit("handleReset")},change:e.handleChange}})})),1)})),0):e._e()]}))],2):e.dynamicVisibleItem&&e.record.options.tooptip&&e.record.options.tooptip.trim()?a("el-tooltip",{staticClass:"item",attrs:{effect:"light",enterable:!1,"open-delay":500,placement:"top-start"}},[a("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(e.record.options.tooptip))]),a("form-item",{key:e.record.key,ref:"nestedComponents",attrs:{disabled:e.disabled,"render-preview":e.renderPreview,models:e.models,data:e.data,record:e.record,"form-config":e.formConfig,config:e.config},on:{"update:models":function(t){e.models=t},handleReset:function(t){return e.$emit("handleReset")},change:e.handleChange}})],1):e.dynamicVisibleItem?a("form-item",{key:e.record.key,ref:"nestedComponents",attrs:{disabled:e.disabled,"render-preview":e.renderPreview,models:e.models,data:e.data,record:e.record,"form-config":e.formConfig,config:e.config},on:{"update:models":function(t){e.models=t},handleReset:function(t){return e.$emit("handleReset")},change:e.handleChange}}):e._e()},r=[],s=(a("d81d"),a("7259")),n=a("0482"),l={name:"BuildBlocks",components:{FormItem:s["default"]},props:{record:{type:Object,required:!0},models:{type:Object,required:!0},formConfig:{type:Object,required:!0},config:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},renderPreview:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}}},computed:{dynamicVisibleItem:function(){if(!this.record.options||!this.record.options.dynamicVisible)return!0;if(!this.record.options.dynamicVisibleValue)return!0;var e=this.record.options.dynamicVisibleValue,t=Object(n["a"])(e,this.models);return t}},methods:{validationSubform:function(){return"undefined"===typeof this.$refs.nestedComponents||"undefined"===typeof this.$refs.nestedComponents.validationSubform||this.$refs.nestedComponents.validationSubform()},handleChange:function(e,t){this.$emit("change",e,t)},showTr:function(e,t){var a=e.tds,i=a.map((function(e){var a=e.list;for(var i in a){var r=a[i];if(!r.options||!r.options.dynamicVisible)return r;if(!r.options.dynamicVisibleValue)return!0;var s=r.options.dynamicVisibleValue,l=Object(n["a"])(s,t);if(l)return r}}));for(var r in i)if(i[r])return!0;return!1}}},o=l,c=a("2877"),d=Object(c["a"])(o,i,r,!1,null,null,null);t["default"]=d.exports},"070a":function(e,t,a){"use strict";a("4596")},"0752":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.dataForm.id?"修改":"新增","close-on-click-modal":!1,"append-to-body":!0,"lock-scroll":!1,visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},["undefined"!==typeof e.formTemplate.list&&"undefined"!==typeof e.formTemplate.config?a("el-form",{ref:"dataForm",staticClass:"form-build form-design",attrs:{"label-position":e.formTemplate.config.labelPosition,"hide-required-asterisk":e.formTemplate.config.hideRequiredMark,"label-width":e.formTemplate.config.labelWidth+"px",model:e.dataForm,size:"mini"}},[e._l(e.formTemplate.list,(function(t,i){return[!0!==t.options.hidden&&["input","textarea","date","time","number","radio","checkbox","select","rate","switch","slider","uploadImg","uploadFile","cascader"].includes(t.type)&&e.dynamicVisibleItem(t)?a("el-form-item",{key:i,attrs:{label:e.formTemplate.config.labelWidth>0?t.label:null,rules:e.recordRules(t),prop:t.rules&&t.rules.length>0?t.model:null}},[t.options.tooptip&&t.options.tooptip.trim()?a("el-tooltip",{staticClass:"item",attrs:{effect:"light",enterable:!1,"open-delay":500,placement:"top-start"}},[a("div",{staticClass:"tooltip-content",attrs:{slot:"content"},slot:"content"},[e._v(" "+e._s(t.options.tooptip))]),a("BaseItem",{attrs:{models:e.dataForm,"form-config":e.formTemplate.config,"render-preview":e.renderPreview,record:t,disabled:e.disabled||t.options.disabled}})],1):a("BaseItem",{attrs:{models:e.dataForm,"form-config":e.formTemplate.config,"render-preview":e.renderPreview,record:t,disabled:e.disabled||t.options.disabled}})],1):e._e()]})),a("el-form-item",{attrs:{label:"排序",prop:"seq"}},[e.renderPreview?[e._v(" "+e._s(e.dataForm.seq)+" ")]:[a("el-input-number",{attrs:{"controls-position":"right",min:0,label:"排序号",disabled:e.renderPreview},model:{value:e.dataForm.seq,callback:function(t){e.$set(e.dataForm,"seq",t)},expression:"dataForm.seq"}})]],2)],2):e._e(),a("div",{staticClass:"mod-footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),e.renderPreview?e._e():a("el-button",{attrs:{disabled:e.loading,type:"primary"},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("确定")])],1)],1)},r=[],s=a("5530"),n=(a("4d63"),a("ac1f"),a("25f0"),a("159b"),a("0644")),l=a.n(n),o=a("1e63"),c=a("0482"),d={name:"TableAddOrUpdate",components:{BaseItem:o["default"]},props:{formTemplate:{type:Object,default:function(){return{}}},renderPreview:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{loading:!1,visible:!1,dataForm:{id:"",seq:0},dataRule:{}}},methods:{recordRules:function(e){if(this.renderPreview)return[];for(var t=e.rules,a=0;a<t.length;a++){var i=t[a];1!=i.vtype&&2!=i.vtype||(i.validator=this.validatorFiled),i.trigger||(i.trigger=["change","blur"])}return t},dynamicVisibleItem:function(e){if(!e.options||!e.options.dynamicVisible)return!0;if(!e.options.dynamicVisibleValue)return!0;var t=e.options.dynamicVisibleValue,a=Object(c["a"])(t,this.dataForm);return a},validatorFiled:function(e,t,a){if(1!=e.vtype){if(2==e.vtype){var i=e.script,r=Object(c["a"])(i,this.dataForm);r?a():a(new Error(e.message))}}else{if(!e.pattern)return void a();var s=new RegExp(e.pattern);s.test(t)?a():a(new Error(e.message))}},init:function(e){var t=this;if(this.visible=!0,this.dataForm.id=null,e)for(var a in e)this.dataForm[a]=e[a];else{var i={};this.formTemplate.list.forEach((function(e){e.options.defaultValue?i[e.model]=e.options.defaultValue:i[e.model]=null})),this.dataForm=Object(s["a"])({id:null,seq:0},i),this.$nextTick((function(){t.$refs["dataForm"].resetFields()}))}},dataFormSubmit:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){if(e.loading=!0,e.dataForm.id)e.$emit("formUpdate",l()(e.dataForm));else{var a=10*(new Date).getTime()+parseInt(100*Math.random());e.dataForm.id=a,e.$emit("formAdd",l()(e.dataForm))}e.loading=!1,e.visible=!1}}))}}},u=d,p=a("2877"),m=Object(p["a"])(u,i,r,!1,null,null,null);t["default"]=m.exports},"083f":function(e,t,a){"use strict";a("04f7")},"089d":function(e,t,a){"use strict";a("dbfb")},"099b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"archives-box"},[a("div",{staticClass:"bg box-container",style:{"background-image":"url(static/img/visual/bg.png)","background-size":"100% 99.99%"}},[a("el-row",{staticClass:"form-row max-height",staticStyle:{height:"60vh"}},[a("el-col",{staticClass:"flex-column max-height",attrs:{span:8}},[a("com-card",{staticClass:"max-height",attrs:{title:"系统服务基本信息"}},[a("div",{attrs:{slot:"body"},slot:"body"},[e.systemStatInfo?a("system-info",{attrs:{info:e.systemStatInfo,basicInfo:e.basicInfo}}):e._e(),a("div",{staticClass:"hidden-box"},[e._v("hide")])],1)])],1),a("el-col",{staticClass:"max-height",attrs:{span:8}}),a("el-col",{staticClass:"flex-column max-height",attrs:{span:8}},[a("com-card",{staticClass:"max-height",attrs:{title:"系统操作使用情况"}},[a("div",{attrs:{slot:"body"},slot:"body"},[a("div",{staticClass:"hidden-box"},[e._v("hide")]),e.indexStatData?a("user-form",{attrs:{data:e.indexStatData}}):e._e(),a("div",{staticClass:"blue"},[e._v("档案存储占比")]),a("archives-list",{attrs:{list:e.archivesList}}),a("div",{staticClass:"blue"},[e._v("最新数据备份时间")]),a("div",{staticClass:"blue"},[e._v("2020-09-24 09:04:49")])],1)])],1)],1),a("el-row",{staticClass:"form-row",staticStyle:{height:"30vh"}},[a("el-col",{staticClass:"flex-column max-height",attrs:{span:12}},[a("com-card",{staticClass:"max-height",attrs:{title:"档案电子文件存储走势"}},[a("div",{attrs:{slot:"body"},slot:"body"},[e.leftLineFlag?a("basic-line",{ref:"leftLine",attrs:{dataInfo:e.leftLineOption}}):e._e(),a("div",{staticClass:"hidden-box"},[e._v("hide")])],1)])],1),a("el-col",{staticClass:"flex-column max-height",attrs:{span:12}},[a("com-card",{staticClass:"max-height",attrs:{title:"系统登录访问走势"}},[a("div",{attrs:{slot:"body"},slot:"body"},[e.rightLineFlag?a("basic-line",{ref:"rightLine",attrs:{dataInfo:e.rightLineOption}}):e._e(),a("div",{staticClass:"hidden-box"},[e._v("hide")])],1)])],1)],1)],1)])},r=[],s=a("1da1"),n=(a("96cf"),a("8952")),l=a("5798"),o=a("a8c2"),c=a("35fe"),d=a("fa83"),u=a("8b53"),p={name:"ArchivesBox",components:{WordCloudChart:n["default"],ComCard:l["default"],SystemInfo:o["default"],UserForm:c["default"],ArchivesList:d["default"],BasicLine:u["default"]},props:{},data:function(){return{systemStatInfo:null,indexStatData:null,archivesList:[],leftLineFlag:!1,leftLineOption:{seriesArr:[],xAxisArr:[]},rightLineFlag:!1,rightLineOption:{seriesArr:[],xAxisArr:[]},basicInfo:null,url:{fastdfsStat:"/sysOss/fastdfsStat",statLoginForMonth:"/statLoginForMonth",basic:"/druid/basic.json"}}},watch:{},computed:{},methods:{systemStat:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="/systemStat",i={},r="post",t.next=5,e.$api.httpAction(a,i,r);case 5:s=t.sent,e.systemStatInfo=s;case 7:case"end":return t.stop()}}),t)})))()},indexStat:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="/indexStat",i={},r="post",t.next=5,e.$api.httpAction(a,i,r);case 5:s=t.sent,n=s.data,e.indexStatData=n;case 8:case"end":return t.stop()}}),t)})))()},initLeftLine:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={},t.next=3,e.$api.getAction(e.url.fastdfsStat,a);case 3:i=t.sent,r=i.data,e.leftLineOption={title:"近30天存储量趋势 总存储："+r.dayFileSize,subTitle:"单位 MB",legend:"文件存储",seriesArr:r.dayFileSizeList,xAxisArr:r.dayNumList,seriesColor:"#01AAFF"},e.leftLineFlag=!0,e.$nextTick((function(){e.$refs["leftLine"].initChart()}));case 8:case"end":return t.stop()}}),t)})))()},initRightLine:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={},t.next=3,e.$api.getAction(e.url.statLoginForMonth,a);case 3:i=t.sent,r=i.data,e.rightLineOption={title:"",subTitle:"",legend:"登录访问量",seriesArr:r.seriesArr,xAxisArr:r.xAxisArr,seriesColor:"#0072FF"},e.rightLineFlag=!0,e.$nextTick((function(){e.$refs["rightLine"].initChart()}));case 8:case"end":return t.stop()}}),t)})))()},initBasicData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.url.basic,i={},r="post",t.prev=3,t.next=6,e.$api.httpAction(a,i,r);case 6:s=t.sent,n=s.Content,e.basicInfo=n,t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](3);case 13:case"end":return t.stop()}}),t,null,[[3,11]])})))()}},created:function(){this.systemStat(),this.indexStat(),this.initLeftLine(),this.initRightLine(),this.initBasicData(),this.archivesList=[{name:"文书档案",mix:"30%"},{name:"财会档案",mix:"22%"},{name:"人事档案",mix:"18%"},{name:"设备档案",mix:"18%"}]},mounted:function(){}},m=p,h=(a("a2c5"),a("2877")),f=Object(h["a"])(m,i,r,!1,null,"c909f8a4",null);t["default"]=f.exports},"0b81":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modify"},[a("el-form",{ref:"form",attrs:{model:e.form,"status-icon":!0,"label-width":"80px",rules:e.rules}},[a("el-form-item",{attrs:{label:"规则名称",prop:"ruleName"}},[a("el-input",{attrs:{placeholder:"规则名称",clearable:""},model:{value:e.form.ruleName,callback:function(t){e.$set(e.form,"ruleName",t)},expression:"form.ruleName"}})],1),a("el-form-item",{attrs:{label:"规则字段",prop:"ruleColumn"}},[a("el-input",{attrs:{placeholder:"规则字段",clearable:""},model:{value:e.form.ruleColumn,callback:function(t){e.$set(e.form,"ruleColumn",t)},expression:"form.ruleColumn"}})],1),a("el-form-item",{attrs:{label:"条件规则",prop:"ruleConditions"}},[a("el-select",{staticClass:"w-full",attrs:{placeholder:"条件规则",clearable:"",filterable:""},model:{value:e.form.ruleConditions,callback:function(t){e.$set(e.form,"ruleConditions",t)},expression:"form.ruleConditions"}},[e._l(e.ruleConditions,(function(e){return[a("el-option",{attrs:{value:e.value,label:e.text}})]}))],2)],1),a("el-form-item",{attrs:{label:"规则值",prop:"ruleValue"}},[a("el-input",{attrs:{placeholder:"规则值",clearable:""},model:{value:e.form.ruleValue,callback:function(t){e.$set(e.form,"ruleValue",t)},expression:"form.ruleValue"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._l(e.validStatus,(function(t){return[a("el-radio-button",{attrs:{label:t.value}},[e._v(e._s(t.text))])]}))],2)],1)],1)],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("2f62")),o=a("0fea"),c=a("ed08"),d=a("5d6f9"),u={name:"Modify",props:{data:{type:Object}},data:function(){return{form:{status:1},rules:{ruleName:[{required:!0,message:"必填",trigger:"change"}],ruleConditions:[{required:!0,message:"必填",trigger:"change"}]},url:{add:"/sys/permission/addPermissionRule",edit:"/sys/permission/editPermissionRule"}}},computed:Object(n["a"])({},Object(l["e"])({ruleConditions:function(e){var t=e.dict;return t.ruleConditions},validStatus:function(e){var t=e.dict;return t.validStatus}})),watch:{data:{handler:function(e){Object(d["isEmpty"])(e)||(this.form=Object(n["a"])(Object(n["a"])({},this.form),e))},immediate:!0}},methods:{saveData:function(){var e=this.data,t=e.id,a=e.permissionId,i=Object(n["a"])(Object(n["a"])({},this.form),{},{permissionId:a});t?this.updateRule(i):this.addRule(i)},addRule:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["f"])(t.url.add,e,"post");case 2:i=a.sent,r=i.success,s=i.message,r?(c["e"].successWithTimer(s),t.$emit("modifySuccess")):c["e"].error(s);case 6:case"end":return a.stop()}}),a)})))()},updateRule:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["f"])(t.url.edit,e,"post");case 2:i=a.sent,r=i.success,s=i.message,r?(c["e"].successWithTimer(s),t.$emit("modifySuccess")):c["e"].error(s);case 6:case"end":return a.stop()}}),a)})))()}},mounted:function(){}},p=u,m=a("2877"),h=Object(m["a"])(p,i,r,!1,null,"36bc3d16",null);t["default"]=h.exports},"0b86":function(e,t,a){"use strict";a("5298")},"0bba":function(e,t,a){"use strict";a("4129")},"0be1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("fox-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确认复制 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("取消")])],1)]):e._e()},r=[],s=a("1da1"),n=a("5530"),l=(a("a15b"),a("d81d"),a("159b"),a("b64b"),a("96cf"),a("2f62"),a("f7c4")),o=a("3f19"),c={mixins:[o["a"]],components:{foxTable:l["a"]},props:{title:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,model:null,url:{userList:"/sys/user/list",copyUser:"/sys/user/copyUser"}}},computed:{},created:function(){this.setTableColumn()},methods:{init:function(e){this.model=e,this.visible=!0,this.queryList()},setTableColumn:function(){var e=this;this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{show:!1,column:[{type:"selection",fixed:!0},{label:"用户名",prop:"userName"},{label:"登陆帐户",prop:"loginName"},{label:"状态",prop:"status"},{label:"电话",prop:"phone"},{label:"邮箱",prop:"email"}]}),this.$nextTick((function(){e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{show:!0})}))},queryList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={filterId:e.model.id,page:e.page.pageNum,limit:e.page.pageSize},e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{loading:!0}),t.next=4,e.$api.getAction(e.url.userList,a);case 4:i=t.sent,r=i.count,s=i.data,e.page=Object(n["a"])(Object(n["a"])({},e.page),{},{total:1*r}),e.$nextTick((function(){e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{data:s})})),e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{loading:!1});case 10:case"end":return t.stop()}}),t)})))()},initForm:function(e){this.visible=!0},resetForm:function(e){var t=this;this.$nextTick((function(){t.$refs[e].resetFields()}))},submit:function(){var e=this,t=this.selectionMsg();if(t)this.$sweetAlert.warnWithTimer(t);else{this.loading=!0;var a=this.url.copyUser,i=this.table.selection.map((function(e){return e.id})).join(","),r={sourceId:this.model.id,targetIds:i},s="post";this.$api.httpAction(a,r,s).then((function(t){e.loading=!1,200==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.$emit("ok"),e.cancelModal()):e.$sweetAlert.errorWithTimer(t.msg)}))}},selectionMsg:function(){var e="",t=this.table.selection.length;return 0==t&&(e="请选择目标用户！"),e},reset:function(){var e=this;Object.keys(this.model).forEach((function(t){return e.model[t]=""})),this.initForm()},cancelModal:function(){this.visible=!1,this.$emit("close")}}},d=c,u=(a("b473"),a("2877")),p=Object(u["a"])(d,i,r,!1,null,"17319578",null);t["default"]=p.exports},"0d4b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"max-height"},[a("el-col",{staticClass:"max-height",attrs:{span:5}},[a("div",{staticClass:"max-height left-side border-solid-right"},[a("div",{staticClass:"overflow-auto"},[a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],attrs:{data:e.treeData,defaultExpandedKeys:e.defaultExpandedKeys,defaultExpandAll:e.defaultExpandAll},on:{click:e.treeNodeClick}})],1)])]),a("el-col",{staticClass:"max-height",attrs:{span:19}},[a("div",{staticClass:"max-height flex-column"},[a("div",{staticClass:"operate-box nowrap flex justify-between"},[a("div",[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:user:update",expression:"'sys:user:update'"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini",disabled:1==e.organData.type},on:{click:e.add}},[e._v(" 添加 ")]),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:user:cate",expression:"'sys:user:cate'"}],attrs:{type:"primary",icon:"el-icon-check",size:"mini"},on:{click:function(t){return e.btnClick("addCate")}}},[e._v(" 授权分类 ")])],1),a("div",{staticClass:"flex"},[a("el-select",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:"请选择",size:"mini"},on:{change:e.searchTypeChange},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},e._l(e.searchTypeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label||e.name,value:e.value}})})),1),"userName"==e.searchType||"loginName"==e.searchType?a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"input-with-select",staticStyle:{width:"250px"},attrs:{placeholder:"请输入检索内容",size:"mini",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryList(1)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}):e._e(),"status"==e.searchType?a("div",{staticStyle:{width:"250px","margin-right":"10px"}},[a("dict-select-tag",{attrs:{"dict-code":"USER_STATUS",placeholder:"请选择",size:"mini"},on:{change:function(t){return e.queryList(1)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1):e._e(),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(t){return e.queryList(1)}}},[e._v(" 搜索 ")])],1)]),a("fox-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1)])],1),e.modify.show?a("modify",{ref:"modify",attrs:{title:e.modify.textMap[e.modify.status],organData:e.organData,organTreeData:e.organTreeData,treeData:e.treeData},on:{ok:e.queryList,close:function(t){e.modify.show=!1}}}):e._e(),e.addCate.show?a("add-cate",{ref:"addCate",attrs:{title:e.addCate.title},on:{close:function(t){e.addCate.show=!1}}}):e._e(),e.copyUser.show?a("copy-user",{ref:"copyUser",attrs:{title:e.copyUser.title},on:{close:function(t){e.copyUser.show=!1}}}):e._e(),e.updateKeepTime.show?a("update-keep-time",{ref:"updateKeepTime",attrs:{title:e.updateKeepTime.title,list:e.select.keepTime},on:{close:function(t){e.updateKeepTime.show=!1}}}):e._e()],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("4de4"),a("d81d"),a("b0c0"),a("159b"),a("a15b"),a("96cf"),a("60f9")),o=a("f7c4"),c=a("9a81"),d=a("bb5a"),u=a("0be1"),p=a("0f09"),m=a("2e5f"),h=a("3f19"),f=(a("ed08"),a("0779")),b={name:"UserList",mixins:[h["a"]],components:{BasicTree:l["default"],foxTable:o["a"],BtnList:m["default"],Modify:c["default"],AddCate:d["default"],CopyUser:u["default"],UpdateKeepTime:p["default"],DictSelectTag:f["default"]},props:{},data:function(){return{initLoadOver:!1,treeData:[],organTreeData:null,defaultExpandAll:!0,defaultExpandedKeys:[],dialogFormVisible:!1,dialogStatus:"",select:{loadover:!1,sex:[{value:"0",name:"男"},{value:"1",name:"女"}],role:[],dataType:[],status:[],keepTime:[]},textMap:{update:"编辑",create:"添加"},modify:{show:!1,status:"create",textMap:{update:"编辑",create:"添加"},loading:!1},addCate:{title:"选择授权分类",show:!1,loading:!1},copyUser:{title:"",show:!1,loading:!1},updateKeepTime:{title:"设置保管期限",show:!1,loading:!1},temp:{id:void 0,importance:1,remark:"",timestamp:new Date,title:"",type:"",status:"published"},dialog:{width:"400",height:"450",showFooter:!0},searchTypeList:[{value:"userName",name:"用户名"},{value:"loginName",name:"登陆帐户"},{value:"status",name:"状态"}],searchType:"userName",searchText:"",organData:{name:"组织机构树"},url:{organTree:"/sys/organ/organTree",userList:"/sys/user/list"}}},watch:{},computed:{},methods:{treeNodeClick:function(e){this.organData=e,this.queryList(1)},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{show:!1,column:[{type:"selection",fixed:!0},{label:"操作",prop:"oper",width:280,fixed:"right",render:function(t,a){var i=a.row,r=[{content:"编辑",type:"text",icon:"edit",permission:"sys:user:info",event:function(){e.update(i)}},{content:"启用",type:"text",icon:"circle-check",permission:"sys:user:enabled",event:function(){e.operate(i,"enabled")}},{content:"禁用",type:"text",icon:"remove-outline",color:"#F56C6C",permission:"sys:user:delete",event:function(){e.operate(i,"delete")}},{content:"重置密码",type:"text",icon:"lock",popover:!1,permission:"sys:user:reset",event:function(){e.operate(i,"reset")}}];return t(m["default"],{attrs:{btnInfo:r}})}},{label:"用户名",prop:"userName"},{label:"登陆帐户",prop:"loginName"},{label:"状态",prop:"status_dictText"},{label:"电话",prop:"phone"},{label:"角色名称",prop:"roleName"}]}),this.$nextTick((function(){e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{show:!0})}))},getTreeData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={organIds:""},t.prev=1,t.next=4,e.$api.getAction(e.url.organTree,a);case 4:i=t.sent,r=i.treeData,e.organTreeData=r,e.treeData=e.setTreeData(r),t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](1);case 13:case"end":return t.stop()}}),t,null,[[1,11]])})))()},setTreeData:function(e){var t=e.filter((function(e){return"0"==e.type}));this.initLoadOver||(this.defaultExpandedKeys=t.map((function(e){return e.id})),this.initLoadOver=!0),e.map((function(e){return e.label=e.name,"0"==e.type&&(e.elIcon="s-home"),"1"==e.type&&(e.elIcon="office-building"),"2"==e.type&&(e.elIcon="folder"),e}));var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length?(a.elIcon="folder",t(a.children)):a.elIcon="document"}))};return a(t),t},add:function(){var e=this;this.organData.id&&"-1"!=this.organData.parentId?(this.modify.status="create",this.modify.show=!0,this.$nextTick((function(){e.$refs["modify"].initForm()}))):this.$sweetAlert.warnWithTimer("请选择组织部门")},update:function(e){var t=this;this.modify.status="update",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={baid:t.organData.id,page:t.page.pageNum,limit:t.page.pageSize},t.searchType&&(i[t.searchType]=t.searchText),t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{loading:!0}),a.next=6,t.$api.getAction(t.url.userList,i);case 6:r=a.sent,s=r.count,l=r.data,l.forEach((function(e){e.roleList&&e.roleList.length>0&&(e.roleName=e.roleList.map((function(e){return e.name}))[0])})),t.page=Object(n["a"])(Object(n["a"])({},t.page),{},{total:1*s}),t.$nextTick((function(){t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{data:l})})),t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{loading:!1});case 13:case"end":return a.stop()}}),a)})))()},initSelectData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.selectListDataByDict("KEEP_TIME");case 2:e.select.keepTime=t.sent,e.queryList(1),e.select.loadover=!0;case 5:case"end":return t.stop()}}),t)})))()},selectListDataByDict:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$api.getDictItems({mark:e});case 2:return i=a.sent,r=i.data,a.abrupt("return",r);case 5:case"end":return a.stop()}}),a)})))()},btnClick:function(e){var t=this,a=!0;"updateKeepTime"==e&&(a=!1);var i=this.selectionMsg(a);if(i)this.$sweetAlert.warnWithTimer(i);else switch(e){case"addCate":var r=this.table.selection[0].id,s=this.table.selection[0];if(s.roleList&&s.roleList.length>0){var n=s.roleList.some((function(e){return 0==e.authCate}));if(n)return void this.$sweetAlert.warnWithTimer("您已经拥有全部的权限！")}this.addCate.show=!0,this.$nextTick((function(){t.$refs["addCate"].init(r)}));break;case"copyUser":var l=this.table.selection[0];this.copyUser.title=l.userName+"to选择授权用户",this.copyUser.show=!0,this.$nextTick((function(){t.$refs["copyUser"].init(l)}));break;case"updateKeepTime":var o=this.table.selection.map((function(e){return e.id})).join(",");this.updateKeepTime.show=!0,this.$nextTick((function(){t.$refs["updateKeepTime"].init(o)}));break;default:break}},selectionMsg:function(e){var t="",a=this.table.selection.length;return(0==a||e&&a>1)&&(t="请勾选一条数据！"),t},operate:function(e,t){var a=this,i={enabled:{name:"启用",msg:"确定启用该用户?"},delete:{name:"禁用",msg:"确定禁用该用户?"},reset:{name:"重置密码",msg:"确定要重置选中的用户密码?"}},r=i[t]["msg"];this.$confirm(r,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i="/sys/user/"+t,r={id:e.id},s="post";a.$api.httpAction(i,r,s).then((function(e){var i=200;"reset"==t&&(i=0),e.code==i?(a.$sweetAlert.successWithTimer(e.msg),a.queryList(),a.$emit("ok")):a.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))},searchTypeChange:function(e){this.searchText="",this.queryList(1)}},created:function(){this.setTableColumn(),this.getTreeData(),this.initSelectData()},mounted:function(){}},g=b,v=(a("88d4"),a("2877")),y=Object(v["a"])(g,i,r,!1,null,"6c299770",null);t["default"]=y.exports},"0ed1":function(e,t,a){},"0f09":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("fox-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick,radioChange:e.radioChange}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 提交设置 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("取消设置")])],1)]):e._e()},r=[],s=a("5530"),n=(a("a9e3"),a("159b"),a("b64b"),a("2f62"),a("f7c4")),l=a("3f19"),o={mixins:[l["a"]],components:{foxTable:n["a"]},props:{title:{type:String,default:""},list:{type:Array,default:function(){return[]}}},data:function(){return{visible:!1,loading:!1,userIds:"",url:{updateKeepTime:"/sys/user/updateKeepTime"}}},computed:{},created:function(){this.setTableColumn()},methods:{init:function(e){this.visible=!0,this.userIds=e,this.table.data=this.list},radioChange:function(e){this.table.radio=e.value},setTableColumn:function(){var e=this;this.table=Object(s["a"])(Object(s["a"])({},this.table),{},{show:!1,column:[{type:"radio",fixed:!0,width:50},{label:"名称",prop:"name"},{label:"值",prop:"value"},{label:"备注",prop:"remark"}]}),this.$nextTick((function(){e.table=Object(s["a"])(Object(s["a"])({},e.table),{},{show:!0})}))},initForm:function(e){this.visible=!0},resetForm:function(e){var t=this;this.$nextTick((function(){t.$refs[e].resetFields()}))},submit:function(){var e=this,t=this.table.radio;if(t){this.loading=!0;var a=this.url.updateKeepTime,i={userIds:this.userIds,keepTimeValue:Number(t)},r="post";this.$api.httpAction(a,i,r).then((function(t){e.loading=!1,200==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.$emit("ok"),e.cancelModal()):e.$sweetAlert.errorWithTimer(t.msg)}))}else{var s="请选择保管期限！";this.$sweetAlert.warnWithTimer(s)}},reset:function(){var e=this;Object.keys(this.model).forEach((function(t){return e.model[t]=""})),this.initForm()},cancelModal:function(){this.visible=!1,this.$emit("close")}}},c=o,d=(a("8a77"),a("2877")),u=Object(d["a"])(c,i,r,!1,null,"6d0e751c",null);t["default"]=u.exports},"105bb":function(e,t,a){"use strict";a("814f")},"10ec":function(e,t,a){"use strict";a("e67b")},1157:function(e,t,a){},1158:function(e,t,a){},"119d":function(e,t,a){"use strict";a("0ed1")},1252:function(e,t,a){"use strict";a("eec8")},"12cc":function(e,t,a){"use strict";a("4889")},"149a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box-header"},[a("el-row",{staticClass:"form-row"},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"header-line"},[a("img",{attrs:{src:"static/img/visual/header-left-line.png",alt:""}})]),a("div",{staticClass:"header-option"},[a("div",{staticClass:"logo",on:{click:function(t){return e.clickLink("/dashboard")}}},[a("img",{attrs:{src:"static/img/visual/index.png",alt:""}})]),a("div",{staticClass:"btn",style:{backgroundImage:"archives"==e.tabType?"url(static/img/visual/header-left.png)":"",backgroundSize:"100% 99.99%"},on:{click:function(t){return e.btnClick("archives")}}},[e._v(" 档案业务可视化 ")])])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"header-mid"},[a("img",{attrs:{src:"static/img/visual/header-mid.png",alt:""}})])]),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"header-line"},[a("img",{attrs:{src:"static/img/visual/header-right-line.png",alt:""}})]),a("div",{staticClass:"header-option"},[a("div",{staticClass:"btn",style:{backgroundImage:"system"==e.tabType?"url(static/img/visual/header-left.png)":"",backgroundSize:"100% 99.99%"},on:{click:function(t){return e.btnClick("system")}}},[e._v(" 系统服务可视化 ")]),a("div",{staticClass:"logo"},[a("img",{attrs:{src:"static/img/visual/user.png",alt:""}})])])])],1)],1)},r=[],s={name:"HeaderBox",components:{},props:{tabType:{type:String,default:""}},data:function(){return{}},watch:{},computed:{},methods:{clickLink:function(e){sessionStorage.removeItem("permissionList"),this.$router.push(e)},btnClick:function(e){this.$emit("change",e)}},created:function(){},mounted:function(){}},n=s,l=(a("bbca"),a("2877")),o=Object(l["a"])(n,i,r,!1,null,"c4ff1be2",null);t["default"]=o.exports},"159f":function(e,t,a){"use strict";a("36e3")},1758:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",{directives:[{name:"has",rawName:"v-has",value:"user:edit",expression:"'user:edit'"}],staticClass:"text-blue-500 text-base cursor-pointer"},[a("i",{staticClass:"fa fa-fw fa-pencil",on:{click:e.edit}})]),this.hasAnyOnePermission()?a("el-dropdown",{staticClass:"dropdown",attrs:{placement:"bottom"}},[a("span",{staticClass:"text-blue-500 text-base"},[a("i",{staticClass:"fa fa-fw fa-ellipsis-h"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e._l(e.dropDownItem,(function(t){var i=t.popover,r=t.action,s=t.popText,n=t.label,l=t.permission;return[i?[e.hasPermission(l)?a("popover-confirm",{on:{confirm:function(t){return e.confirm(r)}}},[a("div",{attrs:{slot:"popover-title"},slot:"popover-title"},[a("span",[e._v(e._s(s))])]),a("div",{attrs:{slot:"popover-content"},slot:"popover-content"},[a("el-dropdown-item",[e._v(e._s(n))])],1)]):e._e()]:[e.hasPermission(l)?a("el-dropdown-item",{nativeOn:{click:function(e){return r(e)}}},[e._v(" "+e._s(n)+" ")]):e._e()]]}))],2)],1):e._e()],1)},r=[],s=a("5530"),n=(a("7db0"),a("159b"),a("8b2e")),l=a("2f62"),o={name:"PopDropdown",components:{PopoverConfirm:n["a"]},data:function(){return{dropDownItem:[{label:this.$t("common_read"),icon:"",action:this.handleDetail,popover:!1,permission:"user:detail"},{label:this.$t("sys_user_pwd"),icon:"",action:this.handlePwd,popover:!1,permission:"user:password"},{label:this.$t("common_delete"),icon:"",action:this.handleDel,popover:!0,popText:this.$t("common_confirm_do"),permission:"user:delete"},{label:this.$t("sys_user_frozen"),icon:"",action:this.frozen,popover:!0,popText:this.$t("common_confirm_do"),permission:"user:frozen"},{label:this.$t("sys_user_proxy_man"),icon:"",action:this.proxyMan,popover:!1,permission:"user:proxyMan"}]}},computed:Object(s["a"])({},Object(l["e"])({allAuth:function(e){var t=e.user;return t.allAuth},auth:function(e){var t=e.user;return t.auth}})),methods:{hasHandlePermission:function(e){var t=this.allAuth.find((function(t){return t.action===e}));return t&&"1"===t.type},hasPermission:function(e){var t,a=this.auth.find((function(t){return t.action===e})),i=this.allAuth.find((function(t){return t.action===e}));return t=!(i&&(!i||"0"!==i.status))||Boolean(a),t},hasAnyOnePermission:function(){var e=this,t=!1;return this.dropDownItem.forEach((function(a){var i=a.permission;e.hasPermission(i)&&(t=!0)})),t},edit:function(){this.$emit("edit")},handleDetail:function(){this.$emit("handleDetail")},handlePwd:function(){this.$emit("handlePwd")},handleDel:function(){this.$emit("handleDel")},frozen:function(){this.$emit("frozen")},proxyMan:function(){this.$emit("proxyMan")},confirm:function(e){e()}}},c=o,d=a("2877"),u=Object(d["a"])(c,i,r,!1,null,"cf97fab8",null);t["default"]=u.exports},"179f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-panel"},[a("p",{directives:[{name:"show",rawName:"v-show",value:0===e.data.list.length,expression:"data.list.length === 0"}],staticClass:"hint-text"},[e._v(" 从左下侧选择组件添加 ")]),a("el-form",{ref:"form",staticClass:"a-form-box form-build",style:e.data.config.customStyle,attrs:{"label-width":e.data.config.labelWidth+"px","label-position":e.data.config.labelPosition,"hide-required-asterisk":e.data.config.hideRequiredMark,size:e.data.config.size}},[a("draggable",e._b({staticClass:"draggable-box",attrs:{tag:"div"},on:{add:e.deepClone,start:function(t){return e.dragStart(t,e.data.list)}},model:{value:e.data.list,callback:function(t){e.$set(e.data,"list",t)},expression:"data.list"}},"draggable",{group:"form-draggable",ghostClass:"moving",animation:180,handle:".drag-move"},!1),[a("transition-group",{staticClass:"list-main",attrs:{tag:"div",name:"list"}},e._l(e.data.list,(function(t){return a("layoutItem",{key:t.key,staticClass:"drag-move",attrs:{record:t,config:e.data.config,"select-item":e.selectItem,"start-type":e.startType,"insert-allowed-type":e.insertAllowedType,"hide-model":e.hideModel},on:{"update:selectItem":function(t){e.selectItem=t},"update:select-item":function(t){e.selectItem=t},dragStart:e.dragStart,handleSelectItem:e.handleSelectItem,handleCopy:e.handleCopy,handleDetele:e.handleDetele,handleColAdd:e.handleColAdd,handleShowRightMenu:e.handleShowRightMenu}})})),1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showRightMenu,expression:"showRightMenu"}],staticClass:"right-menu",style:{top:e.menuTop+"px",left:e.menuLeft+"px"},attrs:{id:"rightMenu"}},[a("ul",[a("li",{on:{click:e.handleSettingStyle}},[a("i",{staticClass:"el-icon-magic-stick"}),e._v("样式配置")]),a("hr"),e.isMergeCol?[a("li",{on:{click:e.handleDropMerge}},[a("i",{staticClass:"el-icon-delete"}),e._v("解除合并")]),a("hr")]:e._e(),a("li",{on:{click:e.handleDownMerge}},[a("i",{staticClass:"el-icon-bottom"}),e._v("向下合并")]),a("li",{on:{click:e.handleRightMerge}},[a("i",{staticClass:"el-icon-right"}),e._v("向右合并")]),a("li",{on:{click:e.handleAddCol}},[a("i",{staticClass:"el-icon-zoom-in"}),e._v("增加一列")]),a("li",{on:{click:e.handleAddRow}},[a("i",{staticClass:"el-icon-zoom-in"}),e._v("增加一行")]),a("hr"),a("li",{on:{click:e.handleRemoveRow}},[a("i",{staticClass:"el-icon-zoom-out"}),e._v("删除当前行")]),a("li",{on:{click:e.handleRemoveCol}},[a("i",{staticClass:"el-icon-zoom-out"}),e._v("删除当前列")])],2)]),a("el-dialog",{staticStyle:{top:"20px"},attrs:{title:"表内单元格样式配置",visible:e.styleVisible,"append-to-body":!0},on:{"update:visible":function(t){e.styleVisible=t}}},[a("el-form",{attrs:{size:"mini",model:e.tdStyle,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"class"}},[a("el-input",{attrs:{placeholder:"请输入class名称"},model:{value:e.tdStyle.class,callback:function(t){e.$set(e.tdStyle,"class",t)},expression:"tdStyle.class"}})],1),a("el-form-item",{attrs:{label:"style"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入css样式"},model:{value:e.tdStyle.style,callback:function(t){e.$set(e.tdStyle,"style",t)},expression:"tdStyle.style"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.styleVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.settingStyle}},[e._v("确 定")])],1)],1)],1)},r=[],s=a("5530"),n=(a("a434"),a("caad"),a("2532"),a("159b"),a("4de4"),a("99af"),a("d81d"),a("1980")),l=a.n(n),o=a("edd7"),c=(a("f9d4"),{name:"FormPanel",components:{draggable:l.a,layoutItem:o["default"]},props:{noModel:{type:Array,required:!0},startType:{type:String,required:!0},data:{type:Object,required:!0},selectItem:{type:Object,default:function(){}},hideModel:{type:Boolean,default:!1},filedList:{type:Array},requiredList:{type:Array}},data:function(){return{form:this.$refs.form,insertAllowedType:["input","textarea","number","select","batch","checkbox","radio","date","time","rate","slider","uploadFile","uploadImg","cascader","treeSelect","switch","text","html"],rightMenuSelectValue:{},showRightMenu:!1,isMergeCol:!1,menuTop:0,menuLeft:0,trIndex:0,tdIndex:0,styleVisible:!1,tdStyle:{style:"",class:""}}},mounted:function(){document.addEventListener("click",this.handleRemoveRightMenu,!0),document.addEventListener("contextmenu",this.handleRemoveRightMenu,!0)},destroyed:function(){document.removeEventListener("click",this.handleRemoveRightMenu,!0),document.removeEventListener("contextmenu",this.handleRemoveRightMenu,!0)},methods:{deepClone:function(e){var t=e.newIndex;if("divider"!=this.data.list[t].type&&"grid"!=this.data.list[t].type&&(this.data.list[t].style="display:none",this.data.list[t].rules[0].required))for(var a=0;a<this.requiredList.length;a++)if(this.requiredList[a]==this.data.list[t].model){this.requiredList.splice(a,1);break}var i=JSON.stringify(this.data.list);this.data.list=JSON.parse(i),delete this.data.list[t].icon,delete this.data.list[t].component,this.$emit("handleSetSelectItem",this.data.list[t])},handleColAdd:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.newIndex;if("divider"!=t[i].type&&"grid"!=t[i].type&&(t[i].style="display:none",t[i].rules[0].required))for(var r=0;r<this.requiredList.length;r++)if(this.requiredList[r]==t[i].model){this.requiredList.splice(r,1);break}var n=t[i].type+"_"+(new Date).getTime();if(""===t[i].key||a){if(this.$set(t,i,Object(s["a"])(Object(s["a"])({},t[i]),{},{key:n,model:n})),this.noModel.includes(t[i].type)&&delete t[i].model,"undefined"!==typeof t[i].options){var l=JSON.stringify(t[i].options);t[i].options=JSON.parse(l)}if("undefined"!==typeof t[i].rules){var o=JSON.stringify(t[i].rules);t[i].rules=JSON.parse(o)}if("undefined"!==typeof t[i].list&&(t[i].list=[]),"undefined"!==typeof t[i].columns){var c=JSON.stringify(t[i].columns);t[i].columns=JSON.parse(c),t[i].columns.forEach((function(e){e.list=[]}))}if("table"===t[i].type){var d=JSON.stringify(t[i].trs);t[i].trs=JSON.parse(d),t[i].trs.forEach((function(e){e.tds.forEach((function(e){e.list=[]}))}))}}var u=JSON.stringify(t[i]);t[i]=JSON.parse(u),this.$emit("handleSetSelectItem",t[i])},dragStart:function(e,t){this.selectForm&&this.selectForm.id?this.$emit("handleSetSelectItem",t[e.oldIndex]):this.$message.error("请先选择具体的表单")},handleSelectItem:function(e){this.$emit("handleSetSelectItem",e)},handleCopy:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length>1?arguments[1]:void 0,i=function i(r){r.forEach((function(s,n){if(s.key!==e.selectItem.key){if("grid"===s.type)s.columns.forEach((function(e){i(e.list)}));else if("card"===s.type)i(s.list);else if("batch"===s.type){if(!t&&!e.insertAllowedType.includes(a.type))return!1;i(s.list)}"table"===s.type&&s.trs.forEach((function(e){e.tds.forEach((function(e){i(e.list)}))}))}else{t?r.splice(n+1,0,s):r.splice(n+1,0,a);var l={newIndex:n+1};e.handleColAdd(l,r,!0)}}))};i(this.data.list)},handleDetele:function(){var e=this,t=function t(a){return a=a.filter((function(i,r){return"grid"===i.type&&i.columns.forEach((function(e){e.list=t(e.list)})),"card"!==i.type&&"batch"!==i.type||(i.list=t(i.list)),"table"===i.type&&i.trs.forEach((function(e){e.tds.forEach((function(e){e.list=t(e.list)}))})),i.key!==e.selectItem.key||(e.selectItem.columns?e.filedList.forEach((function(t){e.selectItem.columns.forEach((function(a){a.list.forEach((function(a){a.key==t.key&&(t.rules[0].required?(t.style="color:red",e.requiredList.push(t.key)):t.style="")}))}))})):e.filedList.forEach((function(t){t.key==e.selectItem.key&&(t.rules[0].required?(t.style="color:red",e.requiredList.push(t.key)):t.style="")})),1===a.length?e.handleSelectItem({key:""}):a.length-1>r?e.handleSelectItem(a[r+1]):e.handleSelectItem(a[r-1]),!1)})),a};this.data.list=t(this.data.list)},handleDropMerge:function(){var e=this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex],t=e.colspan,a=e.rowspan;if(e&&(t>1||a>1)){this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex].colspan=1,this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex].rowspan=1;var i=[];if(t>1){for(var r,s=0;s<t-1;s++)i.push({colspan:1,rowspan:1,list:[]});(r=this.rightMenuSelectValue.trs[this.trIndex].tds).splice.apply(r,[this.tdIndex+1,0].concat(i))}if(a>1){i.push({colspan:1,rowspan:1,list:[]});for(var n=this.trIndex+1;n<this.trIndex+a;n++){var l;(l=this.rightMenuSelectValue.trs[n].tds).splice.apply(l,[this.tdIndex+1,0].concat(i))}}}},handleDownMerge:function(){var e=this;if(this.rightMenuSelectValue.trs.length-this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex].rowspan<=this.trIndex)return this.$message.error("当前是最后一行，无法向下合并"),!1;var t=0;if(this.rightMenuSelectValue.trs[this.trIndex].tds.forEach((function(a,i){if(i>=e.tdIndex)return!1;a.rowspan>e.rightMenuSelectValue.trs[e.trIndex].tds[e.tdIndex].rowspan&&(t+=1)})),this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex].colspan!==this.rightMenuSelectValue.trs[this.trIndex+1].tds[this.tdIndex-t].colspan)return this.$message.error("当前表格无法向下合并"),!1;var a=this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex].rowspan,i=this.trIndex+a,r=this.rightMenuSelectValue.trs[i],s=r.tds[this.tdIndex];this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex].rowspan=a+s.rowspan,this.rightMenuSelectValue.trs[this.trIndex+a].tds=this.rightMenuSelectValue.trs[this.trIndex+a].tds.filter((function(t,a){return a!=e.tdIndex}))},handleRightMerge:function(){var e=this,t=this.rightMenuSelectValue.trs[this.trIndex].tds.map((function(e){return e.colspan})).reduce((function(e,t){return e+t}));return t-this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex].colspan<=this.tdIndex?(this.$message.error("当前是最后一列，无法向右合并"),!1):this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex].rowspan!==this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex+1].rowspan?(this.$message.error("当前表格无法向右合并"),!1):(this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex].colspan+=this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex+1].colspan,void(this.rightMenuSelectValue.trs[this.trIndex].tds=this.rightMenuSelectValue.trs[this.trIndex].tds.filter((function(t,a){return a!==e.tdIndex+1}))))},handleAddCol:function(){var e=this;this.rightMenuSelectValue.trs.forEach((function(t){t.tds.splice(e.tdIndex+1,0,{colspan:1,rowspan:1,list:[]})}))},handleAddRow:function(){for(var e=this.rightMenuSelectValue.trs[0].tds.map((function(e){return e.colspan})).reduce((function(e,t){return e+t})),t={tds:[]},a=0;a<e;a++)t.tds.push({colspan:1,rowspan:1,list:[]});this.rightMenuSelectValue.trs.splice(this.trIndex+1,0,t)},handleRemoveRow:function(){var e=this.trIndex,t=this.rightMenuSelectValue.trs.length;t<=1?this.$message.error("当前是最后一行,无法删除"):this.rightMenuSelectValue.trs.splice(e,1)},handleRemoveCol:function(){var e=this.tdIndex;for(var t in this.rightMenuSelectValue.trs){var a=this.rightMenuSelectValue.trs[t].tds;if(a.length<=1)return void this.$message.error("当前只剩下最后一列,无法删除")}this.rightMenuSelectValue.trs.forEach((function(t){t.tds.splice(e,1)}))},handleSettingStyle:function(){var e=this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex],t=e.class,a=e.style;this.tdStyle.style=a,this.tdStyle.class=t,this.styleVisible=!0},settingStyle:function(){var e=this.rightMenuSelectValue.trs[this.trIndex].tds[this.tdIndex];e.style=this.tdStyle.style,e.class=this.tdStyle.class,this.rightMenuSelectValue.trs[this.trIndex].tds.splice(this.tdIndex,1,e),this.styleVisible=!1},handleShowRightMenu:function(e,t,a,i,r){e.stopPropagation(),this.showRightMenu=!0;var s=210,n=280,l=document.body.clientHeight,o=document.body.clientWidth;return e.clientY+s>l?this.menuTop=e.clientY-s:this.menuTop=e.clientY,e.clientX+n>o?this.menuLeft=e.clientX-n:this.menuLeft=e.clientX+20,this.activeArr=[t],this.rightMenuSelectValue=t,this.trIndex=a,this.tdIndex=i,this.isMergeCol=r,!1},handleRemoveRightMenu:function(){this.showRightMenu=!1}}}),d=c,u=a("2877"),p=Object(u["a"])(d,i,r,!1,null,null,null);t["default"]=p.exports},"190c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"max-height"},[a("el-col",{staticClass:"max-height",attrs:{span:5}},[a("div",{staticClass:"max-height left-side"},[a("div",{staticClass:"operate-box nowrap flex justify-start padding-right-10"},[a("div",[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:code:update",expression:"'sys:code:update'"}],attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.btnClick("add")}}},[e._v(" 添加 ")]),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:code:delete",expression:"'sys:code:delete'"}],attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.btnClick("delete")}}},[e._v(" 删除 ")]),a("el-input",{staticStyle:{width:"180px","margin-left":"10px"},attrs:{placeholder:"输入关键字进行过滤",clearable:""},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1)]),a("div",{staticClass:"tree-title"},[e._v("字典树")]),a("div",{staticClass:"overflow-auto"},[a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],attrs:{data:e.treeData,defaultExpandedKeys:e.defaultExpandedKeys,filterText:e.filterText},on:{click:e.treeNodeClick,expandedChange:e.expandedChange}})],1)])]),a("el-col",{staticClass:"max-height",attrs:{span:19}},[a("div",{staticClass:"max-height flex-column"},[a("el-card",{staticClass:"box-card max-height"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.title.textMap[e.title.status]))])]),a("div",{staticClass:"form-class"},[a("el-form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":"6rem","auto-complete":"off","label-position":"right"}},[a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-radio-group",{on:{change:e.typeRadioChange},model:{value:e.model.type,callback:function(t){e.$set(e.model,"type",t)},expression:"model.type"}},e._l(e.select.type,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(" "+e._s(t.label||t.name)+" ")])})),1)],1),a("el-form-item",{attrs:{label:"父节点名",prop:"parentName"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请选择父节点",disabled:"",readonly:""},model:{value:e.model.parentName,callback:function(t){e.$set(e.model,"parentName",t)},expression:"model.parentName"}})],1),a("el-form-item",{attrs:{label:"字典标识",prop:"mark"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"码值唯一标识, 例如，SEX、SEX_1、SEX_2",clearable:""},model:{value:e.model.mark,callback:function(t){e.$set(e.model,"mark",t)},expression:"model.mark"}})],1),"2"==e.model.type?a("el-form-item",{attrs:{label:"码值",prop:"valueId"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"码值 的数字表示，例如：1，2，3、sex",clearable:""},model:{value:e.model.valueId,callback:function(t){e.$set(e.model,"valueId",t)},expression:"model.valueId"}})],1):e._e(),a("el-form-item",{attrs:{label:"码值名",prop:"name"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"码值的中文表示,例如：是、否",clearable:""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"排序号",prop:"sort"}},[a("el-input-number",{attrs:{min:1,maxlength:"50",type:"text",placeholder:"请输入排序号",clearable:""},model:{value:e.model.sort,callback:function(t){e.$set(e.model,"sort",t)},expression:"model.sort"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"remark"}},[a("el-input",{attrs:{maxlength:"50",autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"请输入描述",clearable:""},model:{value:e.model.remark,callback:function(t){e.$set(e.model,"remark",t)},expression:"model.remark"}})],1)],1)],1),a("div",{directives:[{name:"has",rawName:"v-has",value:"sys:code:update",expression:"'sys:code:update'"}],staticClass:"btn-list flex text-right"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 提交 ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")])],1)])],1)])],1)],1)},r=[],s=a("1da1"),n=(a("96cf"),a("b0c0"),a("4de4"),a("d81d"),a("a15b"),a("159b"),a("b64b"),a("7db0"),a("caad"),a("2532"),a("60f9")),l=(a("3f19"),a("0779")),o={name:"",components:{BasicTree:n["default"],DictSelectTag:l["default"]},props:{},data:function(){return{loading:!1,initLoadOver:!1,treeData:[],baseData:[],filterText:"",select:{type:[{value:"1",name:"目录"},{value:"2",name:"字典码"}],open:[{value:"true",name:"是"},{value:"false",name:"否"}]},model:{parentId:"",id:"",type:"",parentName:"",mark:"",valueId:"",name:"",sort:"",open:"",remark:""},rules:{parentName:[{required:!0,trigger:"change",message:"请选择父节点"}],mark:[{required:!0,trigger:"change",message:"请输入字典标识"}],valueId:[{required:!0,trigger:"change",message:"请输入码值"}],name:[{required:!0,trigger:"change",message:"请输入码值名"}],sort:[{required:!1,trigger:"change",message:"请输入排序号"}],remark:[{required:!1,trigger:"change",message:"请输入描述"}]},defaultExpandAll:!1,defaultExpandedKeys:[],codeData:null,typeRadioValue:null,title:{status:"create",textMap:{update:"修改字典",create:"新增字典"}},url:{tree:"/sys/code/codeTree",delete:"/sys/code/delete",save:"/sys/code/save",update:"/sys/code/update"}}},watch:{},computed:{},methods:{expandedChange:function(e){this.defaultExpandedKeys=e},btnClick:function(e){var t={add:{name:"添加",msg:"请选择父节点！"},delete:{name:"删除",msg:"请选择部门节点！"}},a=t[e]["msg"];if(this.codeData)switch(e){case"add":this.title.status="create",this.initForm();break;case"delete":this.delete();default:break}else this.$sweetAlert.warnWithTimer(a)},delete:function(){var e=this,t="确定要删除【"+this.codeData.name+"】,以及子级字典?";this.$confirm(t,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=e.url.delete,a=e.codeData.id,i=[],r=e.baseData.filter((function(e){return e.parentId==a}));r.length>0&&(i=r.map((function(e){return e.id}))),i.push(a);var s=i.join(","),n={id:s},l="post";e.$api.httpAction(t,n,l).then((function(t){0==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.getTreeData(),e.codeData=null,e.title.status="create",e.initForm()):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))},initForm:function(){var e=this;Object.keys(this.model).forEach((function(t){return e.model[t]=""})),this.$nextTick((function(){if(e.$refs["form"].resetFields(),e.model.open="true",e.model.type="1",e.codeData)if("create"==e.title.status){var t=JSON.parse(JSON.stringify(e.codeData));e.model.parentId=t.id,e.getParentNameById()}else"update"==e.title.status&&e.setCodeData();null!=e.typeRadioValue&&(e.model.type=e.typeRadioValue)}))},getParentNameById:function(){var e=this,t=JSON.parse(JSON.stringify(this.baseData)),a=t.find((function(t){return t.id==e.model.parentId}));this.model.parentName=a?a.name:"无"},submit:function(){var e=this;this.$refs.form.validate((function(t){if(t){e.loading=!0;var a=Object.assign({},e.model);a.value=a.valueId,delete a.valueId;var i=e.url.save;a.id&&(i=e.url.update);var r="post";e.$api.httpAction(i,a,r).then((function(t){e.loading=!1,200==t.code?(e.$sweetAlert.successWithTimer(t.msg),a.id||(e.defaultExpandedKeys.push(t.data.id),e.typeRadioValue=a.type,e.initForm()),e.getTreeData()):e.$sweetAlert.errorWithTimer(t.msg)}))}}))},reset:function(){this.initForm()},typeRadioChange:function(e){var t=this;this.$nextTick((function(){t.typeRadioValue=e}))},treeNodeClick:function(e){this.codeData=e,this.setCodeData()},setCodeData:function(){var e=this,t=JSON.parse(JSON.stringify(this.codeData));Object.keys(this.model).map((function(a){return e.model[a]=t[a]})),this.title.status="update",this.getParentNameById()},getTreeData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.getAction(e.url.tree,{});case 3:a=t.sent,i=a.treeData,i.forEach((function(e){e.valueId=e.value||""})),e.baseData=i,e.treeData=e.setTreeData(i),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})))()},resetDeleteCodeTree:function(e){this.baseData=this.baseData.filter((function(t){return!e.includes(t.id)}));var t=JSON.parse(JSON.stringify(this.baseData));this.treeData=this.setTreeData(t)},setTreeData:function(e){var t=e.filter((function(e){return"0"==e.parentId}));this.initLoadOver||(this.defaultExpandedKeys=t.map((function(e){return e.id})),this.initLoadOver=!0),e.map((function(e){return e.label=e.name,e}));var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length?(a.elIcon="folder",t(a.children)):a.elIcon="document"}))};return a(t),t}},created:function(){this.getTreeData(),this.initForm()},mounted:function(){}},c=o,d=(a("e934"),a("2877")),u=Object(d["a"])(c,i,r,!1,null,"0bfb4e90",null);t["default"]=u.exports},"1a80":function(e,t,a){"use strict";a("9e83")},"1c36":function(e,t,a){},"1cb2":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container auto-scroll"},[a("div",{staticClass:"form-title"},[e._v(" 我的资料 ")]),a("div",{staticClass:"info-box"},[a("basic-form",{ref:e.formModelObject.formName,attrs:{formModel:e.formModelObject.formModel,refName:e.formModelObject.formName+"RefName",halfFormFlag:e.formModelObject.halfFormFlag,defaultTextareaWidth:"400px"},on:{submit:e.submitForm}}),a("div",{staticClass:"btn-list"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确认修改")]),a("el-button",{attrs:{type:"default"},on:{click:e.reset}},[e._v("重新填写")])],1)],1)])},r=[],s=a("5530"),n=(a("b0c0"),a("d3b7"),a("25f0"),a("159b"),a("b64b"),a("2f62")),l=a("9962"),o=a("ac4a"),c={name:"BasicInformation",mixins:[o["a"]],components:{BasicForm:l["default"]},props:{},data:function(){return{url:{edit:"/sys/user/updateBaseInfo"}}},watch:{},computed:Object(s["a"])({},Object(n["c"])(["userInfo"])),methods:{submit:function(){this.$refs[this.formModelObject.formName].submit()},submitForm:function(e){var t=this,a=(e.refName,e.formData);a.id=this.userInfo.id;this.active;var i=this.url.edit,r="post";this.$api.httpAction(i,a,r).then((function(e){t.loading=!1,200==e.code?(t.setUserInfo(a),t.$sweetAlert.successWithTimer(e.msg)):t.$sweetAlert.errorWithTimer(e.msg)}))},reset:function(){var e=this;this.$nextTick((function(){e.$refs[e.formModelObject.formName].resetFields(),e.initData()}))},initData:function(){var e=this,t=JSON.parse(JSON.stringify(this.userInfo));t.roleList&&t.roleList.length>0&&(t.roleName||(t.roleName=t.roleList[0].name));var a=t;a.sex=a.sex.toString(),Object.keys(this.formModelObject).forEach((function(t){var i=e.formModelObject.formModel;i.formList.forEach((function(e){e.value=e.prop&&a[e.prop]?a[e.prop]:null}))}))},setUserInfo:function(e){var t=Object.assign(this.userInfo,e);this.$store.commit("SET_INFO",t)}},created:function(){this.initData()},mounted:function(){}},d=c,u=(a("d142"),a("2877")),p=Object(u["a"])(d,i,r,!1,null,"7bf2ec42",null);t["default"]=p.exports},"1d21":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{attrs:{model:e.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"所拥有的权限"}},[e.menuSearch.show?a("el-tree",{ref:"tree",attrs:{"show-checkbox":"","node-key":"key","expand-on-click-node":!1,"default-expanded-keys":e.menuSearch.defaultExpandKes,"check-strictly":e.menuSearch.checkStrict,data:e.menuSearch.data,props:{children:"children",label:"slotTitle"},"default-checked-keys":e.menuSearch.defaultCheckedKeys},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,r=t.data;return a("span",{on:{click:function(t){return e.dataRule(i,r)}}},[a("span",[e._v(e._s(i.label))]),r.ruleFlag?a("span",{staticClass:"fa fa-fw fa-align-left text-red-600 pl-1"}):e._e()])}}],null,!1,1216663017)}):e._e()],1)],1),a("slide-out",{attrs:{visible:e.drawer.show,dock:e.drawer.direction,title:e.drawer.title,size:e.drawer.width},on:{"update:visible":function(t){return e.$set(e.drawer,"show",t)},closed:e.close}},[a("data-rule",{attrs:{"data-rule-props":e.dataRuleProps},on:{closeDataRuleDialog:e.close}})],1)],1)},r=[],s=a("5530"),n=(a("ed08"),a("2f62"),a("8cc4")),l=a("1f8e"),o={name:"MenuSearch",props:{menuSearch:{type:Object}},components:{DragDrawer:n["a"],DataRule:l["default"]},data:function(){return{form:{},dataRuleProps:{},drawer:{show:!1,placement:"right",title:"数据规则/按钮权限配置",width:"350px",direction:"right"}}},watch:{},methods:{dataRule:function(e,t){var a=t.key;this.drawer=Object(s["a"])(Object(s["a"])({},this.drawer),{},{show:!0}),this.dataRuleProps=Object(s["a"])(Object(s["a"])(Object(s["a"])({},this.dataRuleProps),this.menuSearch),{},{dataRuleId:a}),this.$emit("changeDialogWidth")},close:function(){this.drawer=Object(s["a"])(Object(s["a"])({},this.drawer),{},{show:!1}),this.$emit("changeDialogWidth",1)}}},c=o,d=a("2877"),u=Object(d["a"])(c,i,r,!1,null,"7298b379",null);t["default"]=u.exports},"1d96":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"840px"}},[a("el-tabs",{on:{"tab-click":e.handleClick}},[a("el-tab-pane",{attrs:{label:"著入界面"}},[a("VueDragFormdesign",{ref:"vueFormDesign",attrs:{recode:e.recode},on:{handelFiledData:e.handelFiledData}})],1),a("el-tab-pane",{attrs:{label:"列表字段"}},[a("list-fileds",{attrs:{data1:e.FiledData,data2:e.SelectedData,recode:e.recode}})],1),a("el-tab-pane",{attrs:{label:"查询字段"}},[a("list-fileds",{attrs:{data1:e.FiledData,data2:e.SelectedData,recode:e.recode}})],1),a("el-tab-pane",{attrs:{label:"导出字段"}},[a("list-fileds",{attrs:{data1:e.FiledData,data2:e.SelectedData,recode:e.recode}})],1)],1)],1)},r=[],s=(a("159b"),a("a434"),a("b0c0"),a("813e"));s["default"].install=function(e){e.component(s["default"].name,s["default"])};var n=s["default"],l=a("500a"),o={name:"",components:{VueDragFormdesign:n,ListFileds:l["default"]},props:{recode:{type:Object,default:function(){return{}}}},data:function(){return{VueDragFormdesign:{show:!1},FiledData:[],SelectedData:[],url:{queryFld:"/queryFld/qfList",importFld:"/importFld/ifList",searchFld:"/searchFld/sfList"}}},methods:{handelFiledData:function(e){this.FiledData=e},handleClick:function(e){var t=this;if(0!=parseInt(e.index)){var a=this.url.queryFld;1==parseInt(e.index)?a=this.url.queryFld:2==parseInt(e.index)?a=this.url.searchFld:3==parseInt(e.index)&&(a=this.url.importFld),this.recode.clickIndex=e.index;var i={};i.templateId=this.recode.id,i.othType=this.recode.othType,this.$api.getAction(a,i).then((function(e){"200"===e.code?(t.SelectedData=e.data,t.changeData()):t.$sweetAlert.errorWithTimer("网络出错")}))}},changeData:function(){var e=this;this.SelectedData.forEach((function(t){e.FiledData.forEach((function(a,i){a.id==t.fldId&&e.FiledData.splice(i,1)}))}))}}},c=o,d=a("2877"),u=Object(d["a"])(c,i,r,!1,null,"683a31c3",null);t["default"]=u.exports},"1e02":function(e,t,a){"use strict";a("bf1c")},"1e63":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.renderPreview?a("div",[["input","textarea","date","time","number","rate","switch","slider"].includes(e.record.type)?[e.record.options.prepend?a("span",{domProps:{innerHTML:e._s(e.transformAppend(e.record.options.prepend))}}):e._e(),e.loading?e._e():a("span",[e._v(e._s(e.models[e.record.model])+" ")]),e.record.options.append?a("span",{domProps:{innerHTML:e._s(e.transformAppend(e.record.options.append))}}):e._e()]:["radio","checkbox","select","cascader"].includes(e.record.type)?[e._v(" "+e._s(e.models[e.record.model+"_label"])+" ")]:["uploadImg","uploadFile"].includes(e.record.type)?["uploadImg"==e.record.type?a("FileUpload",{style:"width:"+e.record.options.width,attrs:{"file-form":e.models,"file-key":e.record.model,"update-now":!0,accept:"image/*","list-type":e.record.options.listType,"read-only":!0}}):a("FileUpload",{style:"width:"+e.record.options.width,attrs:{"file-form":e.models,"update-now":!0,"file-key":e.record.model,"read-only":!0}})]:[e._v(" "+e._s("")+" ")]],2):a("div",{staticClass:"base-item"},["input"===e.record.type?a("el-input",{style:"width:"+e.record.options.width,attrs:{disabled:e.disabled||e.record.options.disabled,placeholder:e.record.options.placeholder,type:e.record.options.type,clearable:e.record.options.clearable,maxlength:e.record.options.maxLength},on:{change:function(t){return e.handleChange(t,e.record.model)},input:e.changeInput},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}},[e.record.options.prepend?a("template",{domProps:{innerHTML:e._s(e.transformAppend(e.record.options.append))},slot:"prepend"}):e._e(),e.record.options.append?a("template",{domProps:{innerHTML:e._s(e.transformAppend(e.record.options.append))},slot:"append"}):e._e()],2):"textarea"===e.record.type?a("el-input",{style:"width:"+e.record.options.width,attrs:{type:"textarea",disabled:e.disabled||e.record.options.disabled,placeholder:e.record.options.placeholder,clearable:e.record.options.clearable,maxlength:e.record.options.maxLength,rows:e.record.options.rows},on:{change:function(t){return e.handleChange(t,e.record.model)},input:e.changeInput},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}}):"number"===e.record.type?[a("div",{staticClass:"el-input-number-diaplay",style:"width:"+e.record.options.width},[a("el-input-number",{class:e.record.options.append?"el-input-number__append":null,style:"width:100%;float:left;",attrs:{min:e.record.options.min||0===e.record.options.min?e.record.options.min:-1/0,max:e.record.options.max||0===e.record.options.max?e.record.options.max:1/0,disabled:e.disabled||e.record.options.disabled,step:e.record.options.step,precision:e.record.options.precision>50||!e.record.options.precision&&0!==e.record.options.precision?null:e.record.options.precision,"controls-position":"right",placeholder:e.record.options.placeholder},on:{change:function(t){return e.handleChange(t,e.record.model)},input:e.changeInput},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}}),e.record.options.append?a("div",{staticClass:"el-input-group__append el-input-number-group__append ",domProps:{innerHTML:e._s(e.transformAppend(e.record.options.append))}}):e._e()],1)]:"select"===e.record.type?[e.record.options.multiple?a("el-select",{style:"width:"+e.record.options.width,attrs:{"value-key":e.itemProp.value,remote:e.record.options.onlineSearch&&e.record.options.showSearch,"remote-method":e.remoteMethod,placeholder:e.record.options.placeholder,filterable:e.record.options.showSearch,disabled:e.disabled||e.record.options.disabled,clearable:e.record.options.clearable,"popper-append-to-body":!1,multiple:""},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(1==e.record.options.dynamic&&e.record.options.remoteFunc||2==e.record.options.dynamic&&e.record.options.dictType?e.checkValues:e.record.options.options,(function(t){return a("el-option",{key:t[e.itemProp.value],attrs:{label:t[e.itemProp.label],value:parseInt(t[e.itemProp.value])}})})),1):a("el-select",{style:"width:"+e.record.options.width,attrs:{"value-key":e.itemProp.value,remote:e.record.options.onlineSearch&&e.record.options.showSearch,"remote-method":e.remoteMethod,placeholder:e.record.options.placeholder,filterable:e.record.options.showSearch,disabled:e.disabled||e.record.options.disabled,clearable:e.record.options.clearable,"popper-append-to-body":!1},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}},e._l(1==e.record.options.dynamic&&e.record.options.remoteFunc||2==e.record.options.dynamic&&e.record.options.dictType?e.checkValues:e.record.options.options,(function(t){return a("el-option",{key:t[e.itemProp.value],attrs:{label:t[e.itemProp.label]||t.name,value:parseInt(t[e.itemProp.value])}})})),1)]:"checkbox"===e.record.type?a("el-checkbox-group",{attrs:{disabled:e.disabled||e.record.options.disabled,placeholder:e.record.options.placeholder},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}},e._l(1==e.record.options.dynamic&&e.record.options.remoteFunc||2==e.record.options.dynamic&&e.record.options.dictType?e.checkValues:e.record.options.options,(function(t){return a("el-checkbox",{key:t[e.itemProp.value],attrs:{label:t[e.itemProp.value]}},[e._v(" "+e._s(t[e.itemProp.label])+" ")])})),1):"radio"===e.record.type?a("el-radio-group",{attrs:{disabled:e.disabled||e.record.options.disabled,placeholder:e.record.options.placeholder},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}},e._l(1==e.record.options.dynamic&&e.record.options.remoteFunc||2==e.record.options.dynamic&&e.record.options.dictType?e.checkValues:e.record.options.options,(function(t){return a("el-radio",{key:t[e.itemProp.value],attrs:{label:t[e.itemProp.value]}},[e._v(" "+e._s(t[e.itemProp.label])+" ")])})),1):"date"===e.record.type?[e.record.options.range?a("el-date-picker",{attrs:{align:"right",type:"daterange",clearable:e.record.options.clearable,disabled:e.disabled||e.record.options.disabled,"start-placeholder":e.record.options.rangeStartPlaceholder,"end-placeholder":e.record.options.rangeEndPlaceholder,format:e.record.options.format,"value-format":e.record.options.format},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}}):a("el-date-picker",{attrs:{align:"right",type:"date",clearable:e.record.options.clearable,disabled:e.disabled||e.record.options.disabled,placeholder:e.record.options.placeholder,format:e.record.options.format,"value-format":e.record.options.format},on:{change:function(t){return e.handleChange(t,e.record.model)},input:e.changeInput},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}})]:"time"===e.record.type?a("el-time-select",{attrs:{clearable:e.record.options.clearable,disabled:e.disabled||e.record.options.disabled,placeholder:e.record.options.placeholder,format:e.record.options.format,"value-format":e.record.options.format},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}}):"rate"===e.record.type?a("el-rate",{attrs:{max:e.record.options.max,disabled:e.disabled||e.record.options.disabled,placeholder:e.record.options.placeholder,"allow-half":e.record.options.allowHalf},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}}):"slider"===e.record.type?a("el-slider",{style:"width:"+e.record.options.width,attrs:{disabled:e.disabled||e.record.options.disabled,min:e.record.options.min,max:e.record.options.max,"show-input":e.record.options.showInput,step:e.record.options.step},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}}):"uploadImg"===e.record.type?a("FileUpload",{style:"width:"+e.record.options.width,attrs:{disabled:e.disabled,"file-form":e.models,"file-key":e.record.model,accept:"image/*","list-type":e.record.options.listType,multiple:!0,action:e.record.options.action,limit:e.record.options.limit},on:{change:function(t){return e.handleChange(t,e.record.model)}}}):"uploadFile"===e.record.type?a("FileUpload",{style:"width:"+e.record.options.width,attrs:{disabled:e.disabled,"file-form":e.models,"file-key":e.record.model,multiple:!0,action:e.record.options.action,limit:e.record.options.limit},on:{change:function(t){return e.handleChange(t,e.record.model)}}}):"cascader"===e.record.type?a("el-cascader",{ref:"cascader",style:"width:"+e.record.options.width,attrs:{options:1==e.record.options.dynamic&&e.record.options.remoteFunc?e.checkValues:e.record.options.options,placeholder:e.record.options.placeholder,filterable:e.record.options.showSearch,disabled:e.disabled||e.record.options.disabled,clearable:e.record.options.clearable,props:e.itemProp},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.checkList,callback:function(t){e.checkList=t},expression:"checkList"}}):"switch"===e.record.type?a("el-switch",{attrs:{"active-text":e.record.options.activeText,"inactive-text":e.record.options.inactiveText,disabled:e.disabled||e.record.options.disabled},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}}):e._e()],2)},r=[],s=(a("ac1f"),a("5319"),a("caad"),a("4de4"),a("a15b"),a("6ca8")),n=a("4ec3"),l=a("ca2d"),o=a("0482"),c={name:"BaseItem",components:{FileUpload:l["default"]},props:{record:{type:Object,required:!0},formConfig:{type:Object,required:!1},models:{type:Object,required:!0},disabled:{type:Boolean,default:!1},renderPreview:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}}},data:function(){return{loading:!1,checkList:[],checkValues:[],itemProp:{children:"children",value:"value",label:"label",multiple:this.record.options.multiple}}},watch:{checkList:{handler:function(e,t){this.$set(this.models,this.record.model,e)},deep:!0},checkValues:{handler:function(e,t){this.handleChange(e,this.record.model,1)},deep:!0}},activated:function(){},mounted:function(){var e=this;if(this.record.options.cbColumn){this.loading=!0;var t=this.data[this.record.options.cbColumn];return this.$set(this.models,this.record.model,t),void(this.loading=!1)}if(1==this.record.options.dynamic&&this.record.options.remoteFunc){var a=this.record.options.remoteFunc;Object(s["a"])({url:a,method:"get",params:{mark:"col_type"}}).then((function(t){var a=t.data;0===a.code&&(e.checkValues=a.data)})),this.itemProp.label=this.record.options.remoteLabel,this.itemProp.value=this.record.options.remoteValue,this.itemProp.children=this.record.options.remoteChildren}if(2==this.record.options.dynamic){if(Object(n["e"])(this.record.options.dictType))return void(this.checkValues=Object(n["e"])(this.record.options.dictType));this.$api.getDictItems({mark:this.record.options.dictType},null).then((function(t){t&&(e.checkValues=t.data)}))}if(this.models[this.record.model]){var i=this.models[this.record.model];("checkbox"==this.record.type||"cascader"==this.record.type||"select"==this.record.type&&this.record.options.multiple)&&(i instanceof Array||(i=[i],this.$set(this.models,this.record.model,i)),this.checkList=i)}else{var r=this.record.options.defaultValue;r&&("checkbox"==this.record.type||"cascader"==this.record.type?this.checkList=r:this.$set(this.models,this.record.model,r),this.handleChange(r,this.record.model))}},methods:{changeInput:function(){this.$forceUpdate()},transformAppend:function(e){if(e&&(e.indexOf("return")>=0||e.indexOf("$")>=0)){var t=e,a=Object(o["a"])(t,this.models);return a}return e},remoteMethod:function(e){var t=this;if(2==record.options.dynamic)this.$api.getDictItems({mark:record.options.dictType},null).then((function(e){e&&(t.dictOptions=e.data)}));else{var a=this.record.options.onlineParams;a=a.replace("$",e);var i=this.record.options.remoteFunc;i.indexOf("?")>=0?i+="&"+a:i+="?"+a,this.$http({url:this.$http.adornUrl(i),method:"get",params:this.$http.adornParams({})}).then((function(e){var a=e.data;0===a.code&&(t.checkValues=a.data.list)}))}},handleChange:function(e,t,a){var i=this;if(this.$forceUpdate(),this.$emit("change",e,t),["select","radio","checkbox","cascader"].includes(this.record.type)){var r=[],s=this.record.options.dynamic>0?this.checkValues:this.record.options.options;if("cascader"==this.record.type){var n=[];n=this.itemProp.multiple?e:[e];for(var l=this.$refs.cascader.getCheckedNodes(),o=function(e){var t=n[e],a=l.filter((function(e){return e.path==t}));if(a&&a.length>0){var i=a[0].pathLabels;i&&i.length>0&&r.push(i.join("/"))}},c=0;c<n.length;c++)o(c)}else{var d=[];d=e instanceof Array?e:[e];for(var u=function(e){var t=d[e],a=s.filter((function(e){return e[i.itemProp.value]==t}));if(a&&a.length>0){var n=a[0][i.itemProp.label];r.push(n)}},p=0;p<d.length;p++)u(p)}var m=this.record.model+"_label";if(this.$set(this.models,m,r.join(",")),a&&this.record.options.selectCb){var h=this.checkValues.filter((function(t){return t[i.itemProp.value]==e}));if(h&&h.length>0){var f=h[0],b=this.record.options.selectCb,g="{"+b+"}",v=new Function("$","item",g);v(this.models,f)}}}}}},d=c,u=(a("a323"),a("2877")),p=Object(u["a"])(d,i,r,!1,null,null,null);t["default"]=p.exports},"1e77":function(e,t,a){"use strict";a("4a66")},"1ea0":function(e,t,a){"use strict";a("038b")},"1edc":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"extract-box flex flex-column max-height"},[a("h1",{staticClass:"title"},[e._v("电子文件提取")]),1==e.showExtractFileFlag?a("div",{staticClass:"input-box flex"},[a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"input-with-select",attrs:{placeholder:"请输入提取码",maxlength:"50"},model:{value:e.retPwd,callback:function(t){e.retPwd=t},expression:"retPwd"}}),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.checkPwdDowNum}},[e._v(" 提取文件 ")])],1):e._e(),0==e.showExtractFileFlag?a("div",{staticClass:"link-failure"},[e._v(" 链接已失效，您无法访问文件！ ")]):e._e()])},r=[],s=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("cf45")),n={name:"ExtractBox",components:{},props:{typeFlag:{type:String,default:"myFile"}},data:function(){return{retPwd:"",key:"",url:{dowExtData:"/shareExternal/dowExtData",checkPwdDowNum:"/shareExternal/checkPwdDowNum",checkUrl:"/shareExternal/checkUrl",dowExtDataC:"/shareExternalC/dowExtData",checkPwdDowNumC:"/shareExternalC/checkPwdDowNum",checkUrlC:"/shareExternalC/checkUrl"},showExtractFileFlag:-1,loading:!1}},watch:{},computed:{},methods:{init:function(e){this.key=e,this.checkUrl()},checkPwdDowNum:function(){var e=this;if(this.retPwd){var t=this.url.checkPwdDowNum;"fileShare"==this.typeFlag&&(t=this.url.checkPwdDowNumC);var a={retPwd:this.retPwd,key:this.key},i="post";this.loading=!0,this.$api.httpAction(t,a,i).then((function(t){setTimeout((function(){e.loading=!1}),300),200==t.code?e.dowExtData():e.$sweetAlert.errorWithTimer(t.msg)}))}else this.$sweetAlert.warnWithTimer("提取码不能为空！")},dowExtData:function(){var e=this,t=this.url.dowExtData;"fileShare"==this.typeFlag&&(t=this.url.dowExtDataC);var a={retPwd:this.retPwd,key:this.key},i=Object(s["h"])(new Date,"{y}-{m}-{d}");this.$api.downFile(t,a).then((function(t){if(t)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([t]),i+".zip");else{var a=window.URL.createObjectURL(new Blob([t])),r=document.createElement("a");r.style.display="none",r.href=a,r.setAttribute("download",i+".zip"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(a)}else e.$sweetAlert.errorWithTimer("文件下载失败！")}))},checkUrl:function(){var e=this,t=this.url.checkUrl;"fileShare"==this.typeFlag&&(t=this.url.checkUrlC);var a={key:this.key},i="post";this.$api.httpAction(t,a,i).then((function(t){200==t.code?e.showExtractFileFlag=1:e.showExtractFileFlag=0}))}},created:function(){},mounted:function(){}},l=n,o=(a("878f"),a("2877")),c=Object(o["a"])(l,i,r,!1,null,"bee4626a",null);t["default"]=c.exports},"1edd":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("user-list",{ref:e.userList.ref,attrs:{data:e.userList}})},r=[],s=a("1da1"),n=(a("96cf"),a("d81d"),a("0d4b")),l=a("ed08"),o={name:"AddUser",props:{data:{type:Object}},components:{UserList:n["default"]},data:function(){return{userList:{data:{},ref:"userList"}}},methods:{saveData:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.$refs[t.userList.ref].table.selection,r={roleId:e,userIdList:i.map((function(e){return e.id}))},a.next=4,l["d"].post(l["a"].sys_role_add_user_role,r);case 4:s=a.sent,n=s.success,o=s.message,n?(l["e"].successWithTimer(o),t.$emit("handleSuccess")):l["e"].error(o);case 8:case"end":return a.stop()}}),a)})))()}},mounted:function(){}},c=o,d=a("2877"),u=Object(d["a"])(c,i,r,!1,null,"3fc97638",null);t["default"]=u.exports},"1f8e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dataRule px-2"},[a("el-tabs",{model:{value:e.tabs.active,callback:function(t){e.$set(e.tabs,"active",t)},expression:"tabs.active"}},[a("el-tab-pane",{attrs:{label:e.tabs.label,name:e.tabs.name}})],1),a("el-row",[a("el-checkbox-group",{model:{value:e.dataRule.dataRuleIds,callback:function(t){e.$set(e.dataRule,"dataRuleIds",t)},expression:"dataRule.dataRuleIds"}},[e._l(e.dataRule.list,(function(t){var i=t.id,r=t.ruleName;return[a("el-row",{staticClass:"my-2"},[a("el-checkbox",{attrs:{label:i}},[e._v(e._s(r))])],1)]}))],2)],1),a("el-row",{staticClass:"my-2"},[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-check"},on:{click:e.save}},[e._v("点击保存")])],1)],1)},r=[],s=a("5530"),n=a("1da1"),l=(a("96cf"),a("a15b"),a("99af"),a("ed08")),o=a("0fea"),c=a("5d6f9"),d={name:"DataRule",props:{dataRuleProps:{type:Object}},data:function(){return{tabs:{active:"",label:"数据规则",name:"dataRule"},dataRule:{dataRuleIds:[],list:[]},url:{datarule:"/sys/role/datarule"}}},watch:{dataRuleProps:{handler:function(e){if(!Object(c["isEmpty"])(e)){var t=e.dataRuleId,a=e.roleId;this.loadDataRule(t,a)}},immediate:!0}},methods:{save:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,n,c,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.dataRule.dataRuleIds,i=e.dataRuleProps,r=i.dataRuleId,s=i.roleId,n={roleId:s,permissionId:r,dataRuleIds:a.join(",")},a.length){t.next=6;break}return l["e"].warn("至少勾选一条"),t.abrupt("return");case 6:return t.next=8,Object(o["f"])(e.url.datarule,n,"post");case 8:c=t.sent,d=c.success,u=c.message,d?(l["e"].successWithTimer(u),e.$emit("closeDataRuleDialog")):l["e"].error(u);case 12:case"end":return t.stop()}}),t)})))()},loadDataRule:function(e,t){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var r,n,l,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,Object(o["e"])("".concat(a.url.datarule,"/").concat(e,"/").concat(t));case 2:r=i.sent,n=r.success,l=r.result,n?(c=l.datarule,a.dataRule=Object(s["a"])(Object(s["a"])({},a.dataRule),{},{list:c})):a.dataRule=Object(s["a"])(Object(s["a"])({},a.dataRule),{},{list:[]});case 6:case"end":return i.stop()}}),i)})))()}}},u=d,p=a("2877"),m=Object(p["a"])(u,i,r,!1,null,"e449ba54",null);t["default"]=m.exports},"1fdf":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],s=(a("159b"),a("313e")),n=a.n(s),l=a("82a3");a("817d");var o={name:"",mixins:[l["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"30vh"},dataInfo:{type:Object}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=n.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.expectedData,e.actualData;this.chart.setOption({title:{},tooltip:{},legend:{orient:"horizontal",left:"center",top:"5%",textStyle:{color:"#fff"}},dataset:{dimensions:["product","案卷","卷内","单件"],source:this.initData()},xAxis:{type:"category",axisLine:{lineStyle:{color:"#fff",width:1}},splitLine:{show:!1},splitArea:{show:!1}},yAxis:{axisLine:{lineStyle:{color:"#fff",width:1}},splitLine:{show:!1},splitArea:{show:!1}},series:[{type:"bar",itemStyle:{color:"#0072FF"},barWidth:12},{type:"bar",itemStyle:{color:"#00EAFF"},barWidth:12},{type:"bar",itemStyle:{color:"#01AAFF"},barWidth:12}]})},initData:function(){var e=this,t=[];return this.dataInfo.xAxisArr.forEach((function(a,i){var r={};r.product=a,r["案卷"]=e.dataInfo.volArr[i],r["卷内"]=e.dataInfo.volInArr[i],r["单件"]=e.dataInfo.docArr[i],t.push(r)})),t}}},c=o,d=a("2877"),u=Object(d["a"])(c,i,r,!1,null,"51faca4c",null);t["default"]=u.exports},2087:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tabs",{on:{"tab-click":e.handleclick}},[a("el-tab-pane",{attrs:{label:"全部字段"}},[a("filed-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"table-data":e.tableData},on:{edit:e.handelEdit}})],1),a("el-tab-pane",{attrs:{label:"基础字段"}},[a("filed-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"table-data":e.tableData},on:{edit:e.handelEdit}})],1),a("el-tab-pane",{attrs:{label:"业务字段"}},[a("filed-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"table-data":e.tableData},on:{edit:e.handelEdit}})],1)],1),a("div",{staticClass:"loginOut"},[3==e.addCode?a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:basicfld:add",expression:"'sys:basicfld:add'"}],attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addClick}},[e._v("添加")]):e._e()],1),e.filedAdd.show?a("filed-add",{ref:"filedAdd",attrs:{title:e.filedAdd.textMap[e.filedAdd.status]},on:{close:function(t){e.filedAdd.show=!1},Refresh:function(t){return e.queryList()}}}):e._e()],1)},r=[],s=a("1da1"),n=(a("96cf"),a("79f5")),l=a("e888"),o={name:"FiledList",components:{FiledTable:n["default"],FiledAdd:l["default"]},props:{tempData:{type:Object}},data:function(){return{tableData:[],addCode:1,allFiled:!1,basicFiled:!1,loading:!1,businessFiled:!1,queryData:"",filedAdd:{show:!1,status:"create",textMap:{update:"编辑",create:"添加"},loading:!1},url:{queryBasicFldById:"templates/queryBasicFld"}}},created:function(){var e={};e.templateId=this.tempData.id,e.archType=this.tempData.othType,this.queryData=e,this.queryList(e)},methods:{addClick:function(){var e=this;this.filedAdd.status="create",this.filedAdd.show=!0,this.$nextTick((function(){e.$refs["filedAdd"].initForm(void 0,e.tempData)}))},handelEdit:function(e){var t=this,a=e;this.filedAdd.status="create",this.filedAdd.show=!0,this.$nextTick((function(){t.$refs["filedAdd"].initForm(a,t.tempData)}))},handleclick:function(e){var t={};t.templateId=this.tempData.id,t.archType=this.tempData.othType,this.queryData=t,"0"===e.index?(this.addCode=parseInt(e.index)+1,t.fldType=void 0,this.queryData=t,this.queryList(t)):"1"===e.index?(this.addCode=parseInt(e.index)+1,t.fldType=1,this.queryData=t,this.queryList(t)):(this.addCode=parseInt(e.index)+1,t.fldType=2,this.queryData=t,this.queryList(t))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e||(e=t.queryData),t.loading=!0,t.$api.getAction(t.url.queryBasicFldById,e).then((function(e){"200"===e.code?(t.tableData=e.data,t.loading=!1):(t.$sweetAlert.errorWithTimer("网络出错"),t.loading=!1)}));case 3:case"end":return a.stop()}}),a)})))()}}},c=o,d=(a("368d"),a("2877")),u=Object(d["a"])(c,i,r,!1,null,"5a165674",null);t["default"]=u.exports},"21b3":function(e,t,a){},2443:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"design-preview",attrs:{title:"预览",visible:e.visible,"append-to-body":!0,top:"2vh","destroy-on-close":!0,width:e.previewWidth+"px"},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"item-main"},[a("FormBuild",{ref:"formBuild",attrs:{"form-template":e.jsonData,models:e.models}}),a("jsonModel",{ref:"jsonModel"}),e.renderVisisble?a("renderPreview",{ref:"renderPreview"}):e._e()],1)])},r=[],s=a("6440"),n=a("f604"),l=a("d136"),o={name:"FormPreview",components:{jsonModel:n["default"],FormBuild:s["default"],renderPreview:l["default"]},data:function(){return{visible:!1,renderVisisble:!1,previewWidth:850,models:{},jsonData:{}}},methods:{cancelModal:function(){this.$emit("update:visible",!1)},handleGetData:function(){var e=this;this.$refs.formBuild.getData().then((function(t){e.$refs.jsonModel.jsonData=t,e.$refs.jsonModel.visible=!0})).catch((function(e){}))},handleValidator:function(){this.$refs.formBuild.getData().then((function(e){})).catch((function(e){}))},handleRender:function(){var e=this;this.renderVisisble=!0,this.$refs.formBuild.getData().then((function(t){e.$nextTick((function(){e.$refs.renderPreview.init(e.jsonData,t)}))})).catch((function(e){}))},handleCancel:function(){this.visible=!1}}},c=o,d=(a("b0eb"),a("2877")),u=Object(d["a"])(c,i,r,!1,null,"05385baa",null);t["default"]=u.exports},"245f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,width:"800px","before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary"},on:{click:e.addUser}},[e._v(" 添加用户 ")]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"auto-scroll"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowClassName,"cell-class-name":e.cellClassName,"header-align":"center","max-height":"380px"}},[a("el-table-column",{attrs:{prop:"name",label:"选择对象"}}),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-delete",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteRow(t.$index,e.tableData)}}},[e._v(" 删除 ")])]}}],null,!1,2394485990)})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)],1):e._e(),e.user.show?a("select-user",{ref:"user",attrs:{title:e.user.title},on:{close:function(t){e.user.show=!1},ok:e.setUserList}}):e._e()],1)},r=[],s=a("5530"),n=(a("159b"),a("b0c0"),a("a434"),a("a15b"),a("d81d"),a("b294")),l={name:"SendTeam",components:{SelectUser:n["default"]},props:{title:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,user:{show:!1,title:"分享到用户",loading:!1},tableData:[],rowClassName:"rowClass",cellClassName:"cellClass"}},computed:{},methods:{init:function(){this.visible=!0},setUserList:function(e){var t=this;e.list.forEach((function(e){var a=Object(s["a"])(Object(s["a"])({},e),{},{deadline:"",objId:e.id,objName:e.name,permissionList:["0"]});t.tableData.push(a)}));var a={};this.tableData=this.tableData.reduce((function(e,t){return!a[t.id]&&(a[t.id]=e.push(t)),e}),[])},deleteRow:function(e,t){t.splice(e,1)},addUser:function(){var e=this;this.user.show=!0,this.$nextTick((function(){e.$refs.user.init()}))},submit:function(){var e="";if(0==this.tableData.length&&(e="请选择想要分享的对象！"),e)this.$sweetAlert.warnWithTimer("msg");else{var t=this.tableData.map((function(e){return e.id})).join(","),a=this.tableData.map((function(e){return e.loginName})).join(",");this.$emit("ok",{objIds:t,objLoginNames:a}),this.cancelModal()}},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}},o=l,c=(a("814e"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"9a296534",null);t["default"]=d.exports},"251f":function(e,t,a){},"25f0e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"max-height"},[a("el-col",{staticClass:"max-height",attrs:{span:5}},[a("div",{staticClass:"max-height left-side"},[a("div",{staticClass:"operate-box nowrap flex justify-start padding-right-10 justify-start"},[a("div",[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:menu:update",expression:"'sys:menu:update'"}],attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.btnClick("add")}}},[e._v(" 添加 ")]),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:menu:delete",expression:"'sys:menu:delete'"}],attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.btnClick("delete")}}},[e._v(" 删除 ")]),a("el-input",{staticStyle:{width:"180px","margin-left":"10px"},attrs:{placeholder:"输入关键字进行过滤",clearable:""},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1)]),a("div",{staticClass:"tree-title"},[e._v("菜单树")]),a("div",{staticClass:"overflow-auto"},[a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],attrs:{data:e.treeData,defaultExpandedKeys:e.defaultExpandedKeys,filterText:e.filterText,draggable:e.draggable},on:{click:e.treeNodeClick,nodeDrop:e.nodeDrop,nodeDragStart:e.nodeDragStart,nodeDragEnter:e.nodeDragEnter,expandedChange:e.expandedChange}})],1)])]),a("el-col",{staticClass:"max-height",attrs:{span:19}},[a("div",{staticClass:"max-height flex-column"},[a("el-card",{staticClass:"box-card max-height"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.title.textMap[e.title.status]))])]),a("div",{staticClass:"form-class"},[a("el-form",{ref:"form",attrs:{model:e.model,rules:e.dynamicRules,"label-width":"6rem","auto-complete":"off","label-position":"right"}},["-1"!=e.model.parentId?a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-radio-group",{on:{change:e.typeRadioChange},model:{value:e.model.type,callback:function(t){e.$set(e.model,"type",t)},expression:"model.type"}},[a("el-radio",{attrs:{label:"0"}},[e._v("目录")]),a("el-radio",{attrs:{label:"1"}},[e._v("菜单")]),a("el-radio",{attrs:{label:"2"}},[e._v("按钮")])],1)],1):e._e(),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"菜单名称或按钮名称",clearable:""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),"-1"!=e.model.parentId?a("el-form-item",{attrs:{label:"上级菜单",prop:"parentId"}},[a("select-tree",{attrs:{treeData:e.treeDataOfSelect,labelName:e.model.parentName,defaultExpandAll:!0},on:{labeNameChange:e.labeNameChange},model:{value:e.model.parentId,callback:function(t){e.$set(e.model,"parentId",t)},expression:"model.parentId"}})],1):e._e(),"1"==e.model.type?a("el-form-item",{attrs:{label:"菜单URL",prop:"url"}},[a("el-input",{attrs:{name:"url","auto-complete":"on",maxlength:"100",type:"text",placeholder:"菜单URL",clearable:""},model:{value:e.model.url,callback:function(t){e.$set(e.model,"url",t)},expression:"model.url"}})],1):e._e(),"1"==e.model.type?a("el-form-item",{attrs:{label:"菜单组件",prop:"component"}},[a("el-input",{attrs:{name:"component","auto-complete":"on",maxlength:"100",type:"text",placeholder:"菜单组件",clearable:""},model:{value:e.model.component,callback:function(t){e.$set(e.model,"component",t)},expression:"model.component"}})],1):e._e(),"2"==e.model.type?a("el-form-item",{attrs:{label:"授权标识",prop:"permission"}},[a("el-input",{attrs:{name:"permission",maxlength:"50",type:"text",placeholder:"多个用逗号分隔，如：user:list,user:create",clearable:""},model:{value:e.model.permission,callback:function(t){e.$set(e.model,"permission",t)},expression:"model.permission"}})],1):e._e(),a("el-form-item",{attrs:{label:"排序号",prop:"sort"}},[a("el-input-number",{attrs:{min:1,maxlength:"50",type:"text",placeholder:"请输入排序号",clearable:""},model:{value:e.model.sort,callback:function(t){e.$set(e.model,"sort",t)},expression:"model.sort"}})],1),"0"==e.model.type||"1"==e.model.type?a("el-form-item",{attrs:{label:"图标",prop:"icon"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"菜单图标",clearable:""},model:{value:e.model.icon,callback:function(t){e.$set(e.model,"icon",t)},expression:"model.icon"}},[a("i",{staticClass:"el-input__icon el-icon-setting cursor-pointer",attrs:{slot:"suffix"},on:{click:e.checkIcons},slot:"suffix"})])],1):e._e(),a("el-form-item",{attrs:{label:"是否可用",prop:"status"}},[a("el-radio-group",{model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}},e._l(e.select.status,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(" "+e._s(t.label||t.name)+" ")])})),1)],1)],1)],1),a("div",{directives:[{name:"has",rawName:"v-has",value:"sys:menu:update",expression:"'sys:menu:update'"}],staticClass:"btn-list flex text-right"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 提交 ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")])],1)])],1)])],1),a("drag-dialog",{attrs:{"drag-dialog":e.dialog},on:{confirm:e.iconChooseConfirm}},[a("icons",{ref:"icons",attrs:{"icons-checked":e.icons}})],1)],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("4de4"),a("b0c0"),a("d81d"),a("a15b"),a("159b"),a("b64b"),a("7db0"),a("caad"),a("2532"),a("2f62")),o=a("60f9"),c=(a("3f19"),a("0779")),d=a("cbb7b"),u=a("eddf"),p=a("fb36"),m={name:"",components:{BasicTree:o["default"],DictSelectTag:c["default"],Icons:d["default"],DragDialog:u["a"],SelectTree:p["default"]},props:{},data:function(){return{loading:!1,initLoadOver:!1,treeData:[],beforeOperateTreeData:[],baseData:[],filterText:"",select:{open:[{value:"true",name:"是"},{value:"false",name:"否"}],status:[{value:"0",name:"是"},{value:"1",name:"否"}]},model:{parentId:"",id:"",type:"",parentName:"",name:"",sort:"",open:"",status:"",permission:"",icon:"",url:"",component:""},rules:{parentId:[{required:!0,trigger:"change",message:"请选择上级菜单"}],name:[{required:!0,trigger:"change",message:"请输入名称"}],sort:[{required:!0,trigger:"change",message:"请输入排序号"}],permission:[{required:!0,trigger:"change",message:"请输入授权标识"}],icon:[{required:!0,trigger:"change",message:"请选择图标"}],open:[{required:!0,trigger:"change",message:"请选择"}],status:[{required:!0,trigger:"change",message:"请选择"}],url:[{required:!0,trigger:"change",message:"请输入菜单URL"}],component:[{required:!0,trigger:"change",message:"请输入菜单组件"}]},defaultExpandAll:!1,defaultExpandedKeys:[],draggable:!1,codeData:null,typeRadioValue:"0",title:{status:"create",textMap:{update:"修改菜单",create:"添加菜单"}},dialog:{width:"50",height:"60",name:"iconSelect",title:"图标选择",showFooter:!0},icons:{},url:{tree:"/sys/menu/menuTree",delete:"/sys/menu/delete",save:"/sys/menu/save",update:"/sys/menu/update"}}},watch:{},computed:Object(n["a"])(Object(n["a"])({},Object(l["c"])(["userInfo"])),{},{parentMenuList:function(){var e=[];if(this.model&&this.baseData&&this.codeData){var t=JSON.parse(JSON.stringify(this.baseData));e=t.filter((function(e){return 2!=e.type}))}return e},dynamicRules:function(){return this.rules["icon"][0].required="0"==this.model.type,this.rules},treeDataOfSelect:function(){var e=this.model.id,t=JSON.parse(JSON.stringify(this.baseData));t=t.filter((function(t){return("2"!=t.type||-1==t.parentId)&&t.id!=e}));var a=this.setTreeDataOfSelect(t);return a}}),methods:{expandedChange:function(e){this.defaultExpandedKeys=e},btnClick:function(e){var t={add:{name:"添加",msg:"请选择父节点！"},delete:{name:"删除",msg:"请选择菜单节点！"}},a=t[e]["msg"];if(this.codeData)switch(e){case"add":this.title.status="create",this.initForm();break;case"delete":this.delete();default:break}else this.$sweetAlert.warnWithTimer(a)},delete:function(){var e=this,t="确定要删除【"+this.codeData.name+"】,以及子级菜单?";this.$confirm(t,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=e.url.delete,a=e.codeData.id,i=[],r=e.baseData.filter((function(e){return e.parentId==a}));r.length>0&&(i=r.map((function(e){return e.id}))),i.push(a);var s=i.join(","),n={id:s},l="post";e.$api.httpAction(t,n,l).then((function(t){0==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.getTreeData(),e.codeData=null,e.title.status="create",e.initForm()):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))},initForm:function(){var e=this;Object.keys(this.model).forEach((function(t){return e.model[t]=""})),this.$nextTick((function(){e.$refs["form"].resetFields(),e.model.open="true",e.model.status="0","0"!=e.model.parentId&&"2"==e.typeRadioValue&&(e.typeRadioValue="0"),e.model.type=e.typeRadioValue,e.setFormData()}))},setFormData:function(){if(this.codeData)if("create"==this.title.status){var e=JSON.parse(JSON.stringify(this.codeData));this.model.parentId=e.id,this.model.component="",this.getParentNameById()}else"update"==this.title.status&&this.setCodeData()},getParentNameById:function(){var e=this,t=JSON.parse(JSON.stringify(this.baseData)),a=t.find((function(t){return t.id==e.model.parentId}));this.model.parentName=a?a.name:"根菜单"},submit:function(){var e=this;this.$refs.form.validate((function(t){if(t){e.loading=!0;var a=Object.assign({},e.model),i=e.url.save;a.id&&(i=e.url.update);var r="post";e.$api.httpAction(i,a,r).then((function(t){e.loading=!1,200==t.code?(e.$sweetAlert.successWithTimer(t.msg),a.id?t.data&&(e.codeData=t.data):(e.defaultExpandedKeys.push(t.data.id),e.typeRadioValue=a.type,e.initForm()),e.getTreeData()):e.$sweetAlert.errorWithTimer(t.msg)}))}}))},reset:function(){this.initForm()},typeRadioChange:function(e){var t=this;Object.keys(this.model).forEach((function(e){return t.model[e]=""})),this.$nextTick((function(){t.$refs["form"].resetFields(),t.model.open="true",t.model.status="0",t.setFormData(),t.model.type=e,t.typeRadioValue=e}))},treeNodeClick:function(e){this.codeData=e,this.setCodeData(),"-1"==this.codeData.parentId&&(this.model.type="0")},setCodeData:function(){var e=this,t=JSON.parse(JSON.stringify(this.codeData));Object.keys(this.model).map((function(a){return e.model[a]=t[a]||""})),this.title.status="update",this.getParentNameById()},getTreeData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.getAction(e.url.tree,{});case 3:a=t.sent,i=a.treeData,e.baseData=i,e.treeData=e.setTreeData(i),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))()},resetDeleteCodeTree:function(e){this.baseData=this.baseData.filter((function(t){return!e.includes(t.id)}));var t=JSON.parse(JSON.stringify(this.baseData));this.treeData=this.setTreeData(t)},setTreeData:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));0==t.length&&(t=e.filter((function(e){return"0"==e.parentId}))),this.initLoadOver||(this.defaultExpandedKeys=t.map((function(e){return e.id})),this.initLoadOver=!0),e.map((function(e){return e.label=e.name,e}));var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length?(a.elIcon="folder",t(a.children)):a.elIcon="document"}))};return a(t),t},setTreeDataOfSelect:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));0==t.length&&(t=e.filter((function(e){return"0"==e.parentId}))),e.map((function(e){return e.label=e.name,e}));var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length&&t(a.children)}))};return a(t),t},checkIcons:function(){var e=this.dialog.name,t=this.model.icon;this.icons=t?Object(n["a"])(Object(n["a"])({},this.icons),{},{name:t}):Object(n["a"])(Object(n["a"])({},this.icons),{},{name:"",paneName:"direct"}),this.$modal.show(e)},labeNameChange:function(e){this.model.parentName=e},iconChooseConfirm:function(){var e=this.$refs.icons,t=e.checked.icon,a=e.pane.name,i=this.dialog.name;t?(this.model=Object(n["a"])(Object(n["a"])({},this.model),{},{icon:t}),this.icons=Object(n["a"])(Object(n["a"])({},this.icons),{},{name:t,paneName:a}),this.$modal.hide(i)):sweetAlert.errorWithTimer("请选择图标")},nodeDragStart:function(e){this.beforeOperateTreeData=JSON.parse(JSON.stringify(this.treeData))},nodeDragEnter:function(e){},nodeDrop:function(e){var t=this,a=e.draggingNode,i=e.dropNode,r=e.dropType;if("inner"==r){var s="确定修改？";this.$confirm(s,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.saveDropData(a.data.id,a.data.name,i.data.id)})).catch((function(){t.treeData=t.beforeOperateTreeData}))}},saveDropData:function(e,t,a){var i=this,r={id:e,name:t,parentId:a},s=this.url.update,n="post";this.$api.httpAction(s,r,n).then((function(t){200==t.code?(i.defaultExpandedKeys.push(e),i.$sweetAlert.successWithTimer(t.msg),i.getTreeData()):i.$sweetAlert.errorWithTimer(t.msg)}))}},created:function(){this.getTreeData(),this.initForm()},mounted:function(){}},h=m,f=(a("5097"),a("2877")),b=Object(f["a"])(h,i,r,!1,null,"fd25e066",null);t["default"]=b.exports},"25fb":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,width:"500px","before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("el-form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":"6rem","auto-complete":"off","label-position":"right"}},[a("el-form-item",{attrs:{label:"提取密码",prop:"retPwd"}},[a("div",{staticClass:"flex justify-start"},[a("el-input",{staticStyle:{width:"150px","margin-right":"10px"},attrs:{maxlength:"50",type:"text",placeholder:"请输入",clearable:""},model:{value:e.model.retPwd,callback:function(t){e.$set(e.model,"retPwd",t)},expression:"model.retPwd"}}),a("el-button",{attrs:{type:"primary"},on:{click:e.randomGenerate}},[e._v(" 随机生成 ")])],1)]),a("el-form-item",{attrs:{label:"过期时间",prop:"deadline"}},[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{type:"date",placeholder:"选择日期时间","value-format":"yyyy-MM-dd"},model:{value:e.model.deadline,callback:function(t){e.$set(e.model,"deadline",t)},expression:"model.deadline"}})],1),a("el-form-item",{attrs:{label:"可下载次数",prop:"dowNum"}},[a("el-input",{staticStyle:{width:"150px"},attrs:{maxlength:"50",type:"text",placeholder:"",clearable:""},on:{input:function(t){return e.model.dowNum=e.isnumber(t)}},model:{value:e.model.dowNum,callback:function(t){e.$set(e.model,"dowNum",t)},expression:"model.dowNum"}})],1),a("el-form-item",{attrs:{label:"分享链接",prop:"title"}},[a("div",{staticClass:"flex justify-start"},[a("el-input",{staticStyle:{width:"300px","margin-right":"10px"},attrs:{type:"text",placeholder:"",disabled:""},model:{value:e.shareLinks,callback:function(t){e.shareLinks=t},expression:"shareLinks"}}),a("el-button",{attrs:{type:"primary"},on:{click:e.copyLink}},[e._v("复制链接")])],1)])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("保存配置")]),a("el-button",{on:{click:e.cancelShareExt}},[e._v("取消分享")])],1)]):e._e()},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("a9e3"),a("ac1f"),a("5319"),a("1276"),a("cf45")),o=a("60f9"),c=a("ed08"),d={name:"SortModule",components:{BasicTree:o["default"]},props:{title:{type:String,default:""},type:{type:Number,default:0}},data:function(){return{visible:!1,loading:!1,selectedTreeId:"",activeName:"all",treeData:[],defaultCheckedKeys:[],defaultExpandedKeys:[],model:{retPwd:"",deadline:"",dowNum:"1"},shareLinks:"",rules:{retPwd:[{required:!0,trigger:"blur",message:"提取码不能为空！"}]},url:{getShareExtData:"/shareExternal/getShareExtData",getShareExtDataC:"/shareExternalC/getShareExtData",shareExtConfig:"/shareExternal/shareExtConfig",shareExtConfigC:"/shareExternalC/shareExtConfig",cancelShareExt:"/shareExternal/cancelShareExt",cancelShareExtC:"/shareExternalC/cancelShareExt"},ids:"",baseData:{id:"",rootDirId:""},shareExtId:"",templateId:"",baseUrl:"",keys:[]}},computed:{},methods:{isnumber:function(e){return 0==e&&(e=""),e=e.replace(/[^0-9]/gi,""),e},randomGenerate:function(){this.model.retPwd=Object(l["i"])(6)},copyLink:function(){this.$copyText(this.shareLinks).then((function(e){c["e"].successWithTimer("已成功复制，可直接去粘贴")}),(function(e){c["e"].errorWithTimer("复制失败")}))},init:function(e){this.model.deadline=Object(l["h"])(new Date,"{y}-{m}-{d}"),this.baseData=e;var t=window.location.href.split("#")[0];this.baseUrl=t,e=Object(n["a"])(Object(n["a"])({},e),{},{url:t}),this.getShareExtData(e),this.visible=!0},getShareExtData:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=2==t.type?t.url.getShareExtDataC:t.url.getShareExtData,a.next=3,t.$api.getAction(i,e);case 3:r=a.sent,s=r.data,t.shareLinks=s.url,t.model.retPwd=s.retPwd,t.model.deadline=s.deadline,t.model.dowNum=s.dowNum,t.shareExtId=s.id;case 10:case"end":return a.stop()}}),a)})))()},submit:function(){var e=this;this.$refs.form.validate((function(t){if(t){var a;a=2==e.type?e.url.shareExtConfigC:e.url.shareExtConfig;var i=Object.assign({},e.model);i=Object(n["a"])(Object(n["a"])({},i),{},{shareExtId:e.shareExtId,rootDirId:e.baseData.rootDirId});var r="post";e.$api.httpAction(a,i,r).then((function(t){200==t.code?e.$sweetAlert.successWithTimer(t.msg):e.$sweetAlert.errorWithTimer(t.msg)}))}}))},cancelShareExt:function(){var e=this;this.$refs.form.validate((function(t){if(t){var a;a=2==e.type?e.url.cancelShareExtC:e.url.cancelShareExt;var i={shareExtId:e.shareExtId},r="post";e.$api.httpAction(a,i,r).then((function(t){200==t.code?(e.model.retPwd="",e.model.deadline="",e.shareLinks="",e.$sweetAlert.successWithTimer(t.msg)):e.$sweetAlert.errorWithTimer(t.msg)}))}}))},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}},u=d,p=(a("949e"),a("2877")),m=Object(p["a"])(u,i,r,!1,null,"455a1208",null);t["default"]=m.exports},"28b8":function(e,t,a){},2982:function(e,t,a){},"2ad3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("fox-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.cancelModal}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("取消")])],1)]):e._e()},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("d81d"),a("2f62"),a("f7c4")),o=a("3f19"),c=a("cf45"),d={mixins:[o["a"]],components:{foxTable:l["a"]},props:{title:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,model:null,url:{list:"/sys/organ/history"}}},computed:{},created:function(){this.setTableColumn()},methods:{init:function(e){this.visible=!0,this.queryList(e)},setTableColumn:function(){var e=this;this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{show:!1,column:[{label:"部门名称",prop:"ORGANNAME"},{label:"版本号",prop:"VERSION"},{label:"备注",prop:"REMARK"},{label:"修改人",prop:"UPDATEUSER"},{label:"修改时间",prop:"TIME"}]}),this.$nextTick((function(){e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{show:!0})}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i={id:e,page:t.page.pageNum,limit:9999},t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{loading:!0}),a.next=4,t.$api.getAction(t.url.list,i);case 4:r=a.sent,s=r.count,l=r.data,l.map((function(e){return e.TIME=Object(c["h"])(e.UPDATETIME)})),t.page=Object(n["a"])(Object(n["a"])({},t.page),{},{total:1*s}),t.$nextTick((function(){t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{data:l})})),t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{loading:!1});case 11:case"end":return a.stop()}}),a)})))()},cancelModal:function(){this.visible=!1,this.$emit("close")}}},u=d,p=(a("f87e"),a("2877")),m=Object(p["a"])(u,i,r,!1,null,"34ff7db0",null);t["default"]=m.exports},"2b0c":function(e,t,a){},"2cbf":function(e,t,a){"use strict";a("2982")},"2d07":function(e,t,a){"use strict";a("34c6")},"2da5":function(e,t,a){},"2e39":function(e,t,a){},"2e3e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container max-height tab-pane-box  flex-column"},[a("div",{staticClass:"operate-box padding-right-10"},[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:archrule:update",expression:"'sys:archrule:update'"}],attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addClick}},[e._v("添加")]),a("div",{staticStyle:{width:"320px",display:"inline-block",float:"right"}},[a("el-row",{attrs:{gutter:8}},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{placeholder:e.placeholder},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.searchClick}},[e._v("搜索")])],1)],1)],1)],1),a("fox-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}}),e.referenceRulseModel.show?a("reference-rulse-model",{ref:"referenceRulseModel",attrs:{title:e.referenceRulseModel.textMap[e.referenceRulseModel.status]},on:{close:function(t){e.referenceRulseModel.show=!1},Refresh:function(t){return e.queryList()}}}):e._e(),e.referenceFiledModel.show?a("reference-filed-model",{ref:"referenceFiledModel",attrs:{title:e.referenceFiledModel.textMap[e.referenceFiledModel.status]},on:{close:function(t){e.referenceFiledModel.show=!1},Refresh:function(t){return e.queryList()}}}):e._e(),e.bindRefFile.show?a("bind-ref-file",{ref:"bindRefFile",on:{close:function(t){e.bindRefFile.show=!1},Refresh:function(t){return e.queryList()}}}):e._e()],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("ac1f"),a("841c"),a("f7c4")),o=a("3f19"),c=a("2e5f"),d=a("d8d4"),u=a("9418"),p=a("c995"),m={name:"",mixins:[o["a"]],components:{foxTable:l["a"],BtnList:c["default"],referenceRulseModel:d["default"],referenceFiledModel:u["default"],bindRefFile:p["default"]},data:function(){var e=this;this.$createElement;return{tabsCode:0,artype:1,url:"",search:"",placeholder:"请输入规则名称",referenceRulseModel:{show:!1,status:"create",textMap:{update:"编辑",create:"添加"}},referenceFiledModel:{show:!1,status:"create",textMap:{update:"编辑",create:"添加"}},bindRefFile:{show:!1},column1:[{type:"selection",fixed:!0},{label:"档号规则名称",prop:"arName"},{label:"档号规则类型",prop:"arType_dictText"},{label:"描述",prop:"arDesc"},{label:"操作",prop:"oper",width:280,render:function(t,a){var i=a.row,r=[{content:"绑定档号字段",type:"text",icon:"circle-plus-outline",permission:"sys:archrule:bind",event:function(){e.bindRefFiled(i,"enabled")}},{content:"编辑",type:"text",icon:"edit",permission:"sys:archrule:update",event:function(){e.update(i)}},{content:"删除",type:"text",color:"#F56C6C",icon:"delete-solid",permission:"sys:archrule:del",event:function(){e.operate(i,"enabled")}}];return t(c["default"],{attrs:{btnInfo:r}})}}],column2:[{type:"selection",fixed:!0},{label:"字段名称",prop:"fieldName"},{label:"字段描述",prop:"fieldDesc"},{label:"字段标签",prop:"fieldLable"},{label:"操作",prop:"oper",width:280,render:function(t,a){var i=a.row,r=[{content:"编辑",type:"text",icon:"edit",permission:"sys:archfield:update",event:function(){e.update(i)}},{content:"删除",type:"text",color:"#F56C6C",icon:"delete-solid",permission:"sys:archfield:del",event:function(){e.operate(i,"enabled")}}];return t(c["default"],{attrs:{btnInfo:r}})}}]}},methods:{bindRefFiled:function(e){var t=this;this.bindRefFile.show=!0,this.$nextTick((function(){t.$refs["bindRefFile"].initForm(e,t.artype)}))},addClick:function(){var e=this;0==this.tabsCode?(this.referenceRulseModel.status="create",this.referenceRulseModel.show=!0,this.$nextTick((function(){e.$refs["referenceRulseModel"].initForm(void 0,e.artype)}))):(this.referenceFiledModel.status="create",this.referenceFiledModel.show=!0,this.$nextTick((function(){e.$refs["referenceFiledModel"].initForm(void 0,e.artype)})))},update:function(e){var t=this;0==this.tabsCode?(this.referenceRulseModel.status="update",this.referenceRulseModel.show=!0,this.$nextTick((function(){t.$refs["referenceRulseModel"].initForm(e,t.artype)}))):(this.referenceFiledModel.status="update",this.referenceFiledModel.show=!0,this.$nextTick((function(){t.$refs["referenceFiledModel"].initForm(e,t.artype)})))},operate:function(e){var t=this;this.$alert("确定删除?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a;a=0==t.tabsCode?"/archRule/delete":"/archField/delete";var i={id:e.id};t.$api.httpAction(a,i,"post").then((function(e){"200"==e.code?(t.$sweetAlert.successWithTimer(e.msg),t.queryList()):t.$sweetAlert.errorWithTimer("删除失败")}))}))},searchClick:function(){this.tabsCode,this.queryList(this.tabsCode,this.artype,this.url,this.search)},initForm:function(e,t,a){this.artype=t,this.tabsCode=e,this.url=a,0==e?(this.placeholder="请输入规则名称",this.setTableColumn(this.column1),this.queryList(e,t,a)):(this.placeholder="请输入字段描述",this.setTableColumn(this.column2),this.queryList(e,t,a))},setTableColumn:function(e){var t=this;this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{show:!1,column:e}),this.$nextTick((function(){t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{show:!0})}))},queryList:function(e,t,a,i){var r=this;return Object(s["a"])(regeneratorRuntime.mark((function s(){var l,o,c,d;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return void 0!=e||(t=r.artype,e=r.tabsCode,a=r.url),l=0==e?{arType:t,page:r.page.pageNum,limit:r.page.pageSize,arName:i}:{ruleType:t,page:r.page.pageNum,limit:r.page.pageSize,fieldDesc:i},r.table=Object(n["a"])(Object(n["a"])({},r.table),{},{loading:!0}),s.next=4,r.$api.httpAction(a,l,"post");case 4:o=s.sent,c=o.count,d=o.data,r.page=Object(n["a"])(Object(n["a"])({},r.page),{},{total:1*c}),r.$nextTick((function(){r.table=Object(n["a"])(Object(n["a"])({},r.table),{},{data:d})})),r.table=Object(n["a"])(Object(n["a"])({},r.table),{},{loading:!1});case 10:case"end":return s.stop()}}),s)})))()}}},h=m,f=a("2877"),b=Object(f["a"])(h,i,r,!1,null,"879222d0",null);t["default"]=b.exports},"2e7b":function(e,t,a){"use strict";a("fafb")},"2ea2":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container tab-pane-box"},[a("el-tabs",{staticClass:"max-height flex-column",attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.tabsList,(function(t,i){return a("el-tab-pane",{key:i,attrs:{label:t.label,name:t.name,lazy:""}},[e.activeName==t.name?a("div",{staticClass:"max-height",class:{"manage-panel-box":"datasource"==t.type}},["datasource"==t.type?a("data-source-list",{attrs:{tabsType:t.name,manageType:!0}}):a("data-import-list",{attrs:{tabsType:t.name,label:t.label,manageType:!0}})],1):e._e()])})),1)],1)},r=[],s=a("0633"),n=a("5afe"),l={name:"DataSourceIndex",components:{DataSourceList:n["default"],DataImportList:s["default"]},props:{},data:function(){return{activeName:"datasource",content:"",tabsList:[{label:"数据源",name:"datasource",type:"datasource"},{label:"数据导入",name:"dataimport"}]}},watch:{},computed:{},methods:{handleClick:function(e,t){}},created:function(){},mounted:function(){}},o=l,c=(a("9e6e"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"dc701b8c",null);t["default"]=d.exports},"2eb2":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"drag-move-box",class:{active:e.record.key===e.selectItem.key},on:{click:function(t){return t.stopPropagation(),e.$emit("handleSelectItem",e.record)}}},[a("div",{staticClass:"form-item-box"},[a("FormItem",{attrs:{"form-config":e.config,models:e.models,record:e.record,"is-drag-panel":!0}})],1),e.hideModel?e._e():a("div",{staticClass:"show-key-box",domProps:{textContent:e._s(e.record.model)}}),a("div",{staticClass:"delete",class:e.record.key===e.selectItem.key?"active":"unactivated",on:{click:function(t){return t.stopPropagation(),e.$emit("handleDetele")}}},[a("i",{staticClass:"el-icon-delete"})])])},r=[],s=a("7259"),n={components:{FormItem:s["default"]},props:{record:{type:Object,required:!0},selectItem:{type:Object,default:function(){}},config:{type:Object,required:!0},hideModel:{type:Boolean,default:!1}},data:function(){return{models:{}}}},l=n,o=a("2877"),c=Object(o["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},3015:function(e,t,a){},"30eb":function(e,t,a){"use strict";a("251f")},"30eb3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[e._v(" ShareWithMe 分享给我 ")])},r=[],s={name:"ShareWithMe",components:{},props:{},data:function(){return{}},watch:{},computed:{},methods:{},created:function(){},mounted:function(){}},n=s,l=(a("310a"),a("2877")),o=Object(l["a"])(n,i,r,!1,null,"46b48faa",null);t["default"]=o.exports},"310a":function(e,t,a){"use strict";a("a856")},"313c":function(e,t,a){},3144:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll flex"},[a("div",{staticClass:"max-width",attrs:{id:"view"}})])]):e._e()},r=[],s=(a("ed08"),a("56b3")),n=a.n(s),l=(a("a7be"),a("c885"),a("bb47"),a("641c")),o=a.n(l);window.diff_match_patch=o.a,window.DIFF_DELETE=-1,window.DIFF_INSERT=1,window.DIFF_EQUAL=0;var c={name:"BeyondCompare",components:{},props:{title:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,text1:"你好啊",text2:"我不好"}},computed:{},methods:{init:function(){var e=this;this.visible=!0,this.$nextTick((function(){e.initUI(e.text1,e.text2)}))},cancelModal:function(){this.visible=!1,this.$emit("close")},initUI:function(e,t){if(null!=e){var a=document.getElementById("view");a.innerHTML="",n.a.MergeView(a,{value:e,origLeft:null,orig:t,lineNumbers:!0,mode:"text/html",highlightDifferences:!0,connect:"align",readOnly:!0})}}},created:function(){}},d=c,u=(a("0bba"),a("2877")),p=Object(u["a"])(d,i,r,!1,null,"7c21212d",null);t["default"]=p.exports},3149:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"},{name:"loading",rawName:"v-loading",value:!e.VueDragFormdesign.show,expression:"!VueDragFormdesign.show"}],attrs:{title:"界面设计",visible:e.visible,modal:!0,width:"98%",center:"","before-close":e.handleClose,top:"2vh"},on:{"update:visible":function(t){e.visible=t}}},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick}},[a("el-tab-pane",{attrs:{label:"案卷"}},[e.firstCode?a("form-itemize",{attrs:{recode:e.recode}}):e._e()],1),a("el-tab-pane",{attrs:{label:"卷内"}},[e.secondCode?a("form-itemize",{attrs:{recode:e.recode}}):e._e()],1),a("el-tab-pane",{attrs:{label:"单件"}},[e.threadCode?a("form-itemize",{attrs:{recode:e.recode}}):e._e()],1)],1)],1)},r=[],s=a("1d96"),n={name:"",components:{formItemize:s["default"]},data:function(){return{visible:!0,firstCode:!1,secondCode:!1,threadCode:!1,recode:{},VueDragFormdesign:{show:!1}}},methods:{initData:function(e){this.recode=e,this.recode.othType=1,this.VueDragFormdesign.show=!0,this.firstCode=!0},handleClose:function(){this.visible=!1,this.$emit("close")},handleClick:function(e){this.firstCode=!1,this.secondCode=!1,this.threadCode=!1,0==parseInt(e.index)?(this.recode.othType=1,this.firstCode=!0):1==parseInt(e.index)?(this.recode.othType=2,this.secondCode=!0):(this.recode.othType=3,this.threadCode=!0)}}},l=n,o=a("2877"),c=Object(o["a"])(l,i,r,!1,null,"e90fcc5a",null);t["default"]=c.exports},"31ff":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"properties-centent kk-checkbox"},[a("div",{staticClass:"properties-body"},[a("el-form",{attrs:{"label-position":"left",size:"mini"}},[a("el-form-item",{attrs:{label:"标签对齐方式"}},[a("el-radio-group",{model:{value:e.config.labelPosition,callback:function(t){e.$set(e.config,"labelPosition",t)},expression:"config.labelPosition"}},[a("el-radio-button",{attrs:{label:"left"}},[e._v("左对齐")]),a("el-radio-button",{attrs:{label:"right"}},[e._v("右对齐")]),a("el-radio-button",{attrs:{label:"top"}},[e._v("顶部对齐")])],1)],1),a("el-divider"),a("el-form-item",{attrs:{label:"标签宽度"}},[a("el-input-number",{attrs:{min:0,max:200,step:10},model:{value:e.config.labelWidth,callback:function(t){e.$set(e.config,"labelWidth",t)},expression:"config.labelWidth"}})],1),a("el-divider"),a("el-form-item",{attrs:{label:"组件尺寸"}},[a("el-radio-group",{model:{value:e.config.size,callback:function(t){e.$set(e.config,"size",t)},expression:"config.size"}},[a("el-radio-button",{attrs:{label:"medium"}},[e._v("medium")]),a("el-radio-button",{attrs:{label:"small"}},[e._v("small")]),a("el-radio-button",{attrs:{label:"mini"}},[e._v("mini")])],1)],1),a("el-divider"),a("el-form-item",{attrs:{label:"校验字段提示"}},[a("el-switch",{attrs:{"active-text":"打开","inactive-value":!0,"active-value":!1,"inactive-text":"关闭"},model:{value:e.config.hideRequiredMark,callback:function(t){e.$set(e.config,"hideRequiredMark",t)},expression:"config.hideRequiredMark"}})],1),a("el-divider"),a("el-form-item",{attrs:{label:"表单CSS"}},[a("el-input",{model:{value:e.config.customStyle,callback:function(t){e.$set(e.config,"customStyle",t)},expression:"config.customStyle"}})],1),a("el-divider"),a("el-form-item",{attrs:{label:"提示"}},[e._v(" 实际预览效果请点击预览查看 ")])],1)],1)])},r=[],s={name:"FormProperties",props:{config:{type:Object,required:!0},previewOptions:{type:Object,required:!0}}},n=s,l=(a("0014"),a("2877")),o=Object(l["a"])(n,i,r,!1,null,"6f3e427c",null);t["default"]=o.exports},3270:function(e,t,a){},"328f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"floor"},[a("img",{attrs:{src:"static/img/store/storeroom/floor.png",alt:""}}),a("div",{staticStyle:{"margin-right":"160px","margin-top":"50px"}},e._l(e.list,(function(t,i){return a("div",{key:i,staticClass:"room-list",style:{marginTop:50+200*i+"px",marginLeft:50+300*i+"px"}},e._l(t,(function(t,i){return a("div",{key:i},[a("div",{staticClass:"room-item",style:{marginTop:75*(i+1)+"px",marginLeft:"-80px"},on:{click:function(a){return e.itemClick(t)}}},[a("img",{attrs:{src:"static/img/store/storeroom/room.png",alt:""}}),e._m(0,!0),a("div",{staticClass:"room-title"},[e._v(" "+e._s(t.srName)+" ")])])])})),0)})),0)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"room-tree"},[a("img",{attrs:{src:"static/img/store/storeroom/tree.png",alt:""}})])}],s={name:"RoomModal",components:{},props:{list:{type:Array,default:function(){return[]}}},data:function(){return{}},watch:{},computed:{},methods:{itemClick:function(e){this.$emit("click",e)}},created:function(){},mounted:function(){}},n=s,l=(a("774e"),a("2877")),o=Object(l["a"])(n,i,r,!1,null,"627c5cd1",null);t["default"]=o.exports},"32a1c":function(e,t,a){"use strict";a("3751")},"32aa":function(e,t,a){"use strict";a("c645")},"33f5":function(e,t,a){"use strict";a("99f4")},"34c6":function(e,t,a){},3590:function(e,t,a){"use strict";a("e4ef")},"35fe":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.data?a("div",{staticClass:"tips-list"},e._l(e.textMap,(function(t,i,r){return a("div",{key:r,staticClass:"tip",class:{"none-border":r%2==1}},[a("div",{staticClass:"tip-num"},[e._v(e._s(e.data[i]))]),a("div",{staticClass:"tip-desc"},[e._v(e._s(t))])])})),0):e._e()},r=[],s={name:"CollectionForm",components:{},props:{data:{type:Object,default:null}},data:function(){return{textMap:{onlineUserTotal:"当前在线人数",allUsers:"注册用户"}}},watch:{},computed:{},methods:{},created:function(){},mounted:function(){}},n=s,l=(a("a565"),a("2877")),o=Object(l["a"])(n,i,r,!1,null,"b0d020c0",null);t["default"]=o.exports},"368d":function(e,t,a){"use strict";a("bff3")},"36d4":function(e,t,a){"use strict";a("313c")},"36e3":function(e,t,a){},3723:function(e,t,a){},3751:function(e,t,a){},"380e":function(e,t,a){"use strict";a("8171")},"3b69":function(e,t,a){},"3c15":function(e,t,a){"use strict";a("28b8")},"3c76":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.collapseList&&e.collapseList.length>0?a("div",{staticClass:"collapse-box"},[a("el-collapse",{on:{change:e.handleChange},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},e._l(e.collapseList,(function(t,i){return a("el-collapse-item",{key:i,attrs:{name:t.name}},[a("template",{slot:"title"},[a("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:function(a){return e.handleCheckAllChange(t,a)}},model:{value:t.checkAll,callback:function(a){e.$set(t,"checkAll",a)},expression:"item.checkAll"}},[a("div",{staticClass:"title"},[e._v(" "+e._s(t.title)+" ")])])],1),a("div",{staticClass:"content"},[a("div",{staticClass:"description"},[e._v(" "+e._s(t.description)+" ")]),a("el-checkbox-group",{staticClass:"checkbox-group",on:{change:function(a){return e.handleCheckedListChange(t,a)}},model:{value:t.checkedList,callback:function(a){e.$set(t,"checkedList",a)},expression:"item.checkedList"}},e._l(t.checkboxGroup,(function(t){return a("div",{key:t.label},[a("el-checkbox",{attrs:{label:t.label}},[e._v(" "+e._s(t.name)+" ")]),a("div",{staticClass:"checkbox-description"},[e._v(" "+e._s(t.description)+" ")])],1)})),0)],1)],2)})),1)],1):e._e()},r=[],s=(a("7db0"),a("b0c0"),a("d81d"),a("159b"),a("99af"),[{title:"真实性检测",name:"authenticity",list:[{title:"目录数据库准确性检测",name:"1",description:"主要检测著录项目在数据长度，数据类型，数据范围，数据规范性等方面的准确性",checkAll:!1,isIndeterminate:!1,checkedList:[],checkboxGroup:[{label:"1",name:" 著录项目数据长度检测"},{label:"2",name:"著录项目数据类型、字段格式检测"},{label:"3",name:" 设定值域的著录项目值域符合度检测"},{label:"4",name:" 著录项目数据合理性检测，著录项目数据范围检测"},{label:"5",name:"著录项目数据包含特殊字符检测"},{label:"6",name:"档号规范性检测"},{label:"7",name:"著录项目（全宗号、目录号、分类号）与接收档案馆给定的一致性检测"},{label:"8",name:"著录项目数据重复性检测"}]},{title:"目录、电子档案内容关联准确性检测",name:"2",description:"主要检测目录、电子档案内容关联的准确性，包括目录下是否关联电子档案内容，关联电子档案内容的档号是否一致，页面数是否一致等",checkAll:!1,isIndeterminate:!1,checkedList:[],checkboxGroup:[{label:"9",name:"目录是否关联电子档案内容"},{label:"10",name:"目录数据和元数据对于内容数据记录的一致性"}]},{title:"电子档案内容准确性检测",name:"3",description:"主要检测电子档案内容的数字签名和电子印章",checkAll:!1,isIndeterminate:!1,checkedList:[],checkboxGroup:[{label:"11",name:"数字签名和电子印章有效性检测"},{label:"12",name:"电子档案内容查重检测"},{label:"13",name:"电子档案内容图像分辨率检测"},{label:"14",name:"MD5数字摘要验证"}]},{title:"电子档案封装包准确性检测",name:"4",description:"根据DA/T_46-2009《文书类电子文件元数据方案》和_DA/T_48-2009《基于XML的电子文件封装规范》检测电子档案元数据及封装包的规范性",checkAll:!1,isIndeterminate:!1,checkedList:[],checkboxGroup:[{label:"15",name:"电子档案封装包规范性检测"},{label:"16",name:"电子档案封装包元数据准确性检测"},{label:"17",name:"电子档案封装包数字签名和有效性检测"}]}]},{title:"完整性检测",name:"integrity",list:[{title:"电子档案数据总量检测",name:"1",description:"",checkAll:!1,isIndeterminate:!1,checkedList:[],checkboxGroup:[{label:"1",name:"保证电子档案移交接收登记表中的电子档案条目总数和实际移交数量相符",description:"此项为人工检测项"},{label:"2",name:"保证电子档案目录数据中记录的数量和拟入库的数量一致",description:"此项为人工检测项"}]},{title:"目录数据完整性检测",name:"2",description:"",checkAll:!1,isIndeterminate:!1,checkedList:[],checkboxGroup:[{label:"3",name:"检测目录数据的完整性"},{label:"4",name:"检测目录数据过程信息的完整性"},{label:"5",name:"检测目录数据的连续性(档号、序号)"},{label:"6",name:"检测目录数据的连续性(文号)"}]},{title:"电子档案内容完整性检测",name:"3",description:"",checkAll:!1,isIndeterminate:!1,checkedList:[],checkboxGroup:[{label:"7",name:"保证电子档案内容数据完整",description:"此项为人工检测项"},{label:"8",name:"保证档案内容数据中附件内容不丢失、不遗漏、未篡改"},{label:"9",name:"电子文件类型完整性检测"}]}]},{title:"可用性检测",name:"usability",list:[{title:"电子档案内容可用性",name:"1",description:"",checkAll:!1,isIndeterminate:!1,checkedList:[],checkboxGroup:[{label:"1",name:"保证电子档案内容格式符合长期保存要求",description:"长期保存文件后缀名：doc,docx,mp3,mp4,ppt,pptx,xls,xlsx,pdf,jpg,jpeg,html"},{label:"2",name:"保证特定格式的电子档案内容数据是可读的"},{label:"3",name:"保证数字化产生的影像文件符合规范要求",description:"影像文件后缀名：mp4"}]},{title:"电子档案软硬件环境检测",name:"2",description:"",checkAll:!1,isIndeterminate:!1,checkedList:[],checkboxGroup:[{label:"4",name:"电子档案生产环境和保存环境的一致性检测",description:"此项为人工检测项"},{label:"5",name:"检测电子档案长期保存环境变化情况",description:"此项为人工检测项"}]}]},{title:"安全性检测",name:"safety",list:[{title:"目录数据安全性检测",name:"1",description:"",checkAll:!1,isIndeterminate:!1,checkedList:[],checkboxGroup:[{label:"1",name:"保证目录数据中密级标识和控制标识关系的正确性"},{label:"2",name:"保证密级标识和控制标识值域范围的规范性"}]},{title:"电子档案病毒检测",name:"2",description:"",checkAll:!1,isIndeterminate:!1,checkedList:[],checkboxGroup:[{label:"3",name:"检测软件环境是否安装杀毒软件"},{label:"4",name:"检测移交和长期保存的电子档案数据是否感染病毒",description:"杀毒软件检测结果需要手动执行操作"}]},{title:"保存载体安全性检测",name:"3",description:"",checkAll:!1,isIndeterminate:!1,checkedList:[],checkboxGroup:[{label:"5",name:"载体读取速度检测",description:"对载体进行读取操作，和常规的读取速度进行比对判断载体是否安全可靠（如需检测请配置参数）"},{label:"6",name:"载体外观检测",description:"人工判断载体外观是否正常"}]},{title:"软件系统安全性检测",name:"4",description:"",checkAll:!1,isIndeterminate:!1,checkedList:[],checkboxGroup:[{label:"7",name:"检查软件系统是否存在安全漏洞，杜绝安全隐患",description:"采用专业的漏洞扫描工具检测参与电子档案长期保存的计算机系统是否存在安全漏洞"}]}]}]),n=s,l={name:"CollapseBox",components:{},props:{editableTabsValue:{type:String,default:""}},data:function(){return{collapseAllList:n,activeNames:[]}},watch:{},computed:{collapseList:function(){var e=this,t=[],a=this.collapseAllList.find((function(t){return t.name==e.editableTabsValue}));return a&&(t=a.list),t}},methods:{handleCheckAllChange:function(e,t){var a=e.checkboxGroup.map((function(e){return e.label}));e.checkedList=t?a:"",e.isIndeterminate=!1,this.getStatus()},handleCheckedListChange:function(e,t){var a=t.length;this.checkAll=a===e.checkboxGroup.length,this.getStatus(),e.isIndeterminate=a>0&&a<e.checkboxGroup.length},getStatus:function(){var e=[],t=[],a=[],i=[];this.collapseAllList.forEach((function(r){"authenticity"===r.name?r.list.forEach((function(t){e=e.concat(t.checkedList)})):"integrity"===r.name?r.list.forEach((function(e){t=t.concat(e.checkedList)})):"usability"===r.name?r.list.forEach((function(e){a=a.concat(e.checkedList)})):"safety"===r.name&&r.list.forEach((function(e){i=i.concat(e.checkedList)}))})),"authenticity"==this.editableTabsValue&&this.$emit("params",{params:e}),"integrity"==this.editableTabsValue&&this.$emit("params",{params:t}),"usability"==this.editableTabsValue&&this.$emit("params",{params:a}),"safety"==this.editableTabsValue&&this.$emit("params",{params:i})},handleChange:function(e){}},created:function(){this.activeNames=this.collapseList.map((function(e){return e.name})),this.collapseAllList.forEach((function(e){e.list.forEach((function(e){e.checkAll=!0,e.checkedList=e.checkboxGroup.map((function(e){return e.label}))}))})),this.getStatus()},mounted:function(){}},o=l,c=(a("d2a3"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"4312d35a",null);t["default"]=d.exports},"3caa":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"read my-4"},[a("el-row",{staticClass:"pl-3"},[a("el-form",{attrs:{model:e.form,"label-width":"85px"}},[a("el-form-item",{attrs:{label:e.$t("sys_user_account")}},[a("span",[e._v(e._s(e.form.username))])]),a("el-form-item",{attrs:{label:e.$t("sys_user_name")}},[a("span",[e._v(e._s(e.form.realname))])]),a("el-form-item",{attrs:{label:e.$t("sys_user_work_no")}},[a("div",{staticClass:"truncate",attrs:{slot:"label"},slot:"label"},[a("el-tooltip",{attrs:{content:e.$t("sys_user_work_no"),placement:"top"}},[a("span",[e._v(e._s(e.$t("sys_user_work_no")))])])],1),a("span",[e._v(e._s(e.form.workNo))])]),a("el-form-item",{attrs:{label:e.$t("sys_user_work_name")}},[a("span",[e._v(e._s(e.form.post))])]),a("el-form-item",{attrs:{label:e.$t("sys_user_role_assign")}},[a("span",[e._v(e._s(e.form.roleName))])]),a("el-form-item",{attrs:{label:e.$t("sys_user_birthday")}},[a("span",[e._v(e._s(e.form.birthday))])]),a("el-form-item",{attrs:{label:e.$t("sys_user_sex")}},[a("span",[e._v(e._s(e.form.sex_dictText))])]),a("el-form-item",{attrs:{label:e.$t("sys_user_email")}},[a("span",[e._v(e._s(e.form.email))])]),a("el-form-item",{attrs:{label:e.$t("sys_user_phone")}},[a("span",[e._v(e._s(e.form.phone))])]),a("el-form-item",{attrs:{label:e.$t("sys_user_activity")}},[a("span",[e._v(e._s(e.form.activitiSync))])]),a("el-form-item",{attrs:{label:e.$t("sys_user_avatar")}},[a("el-avatar",{attrs:{src:e.form.avatar}})],1),a("el-form-item",{attrs:{label:e.$t("sys_user_dept_assign")}},[a("div",{staticClass:"truncate",attrs:{slot:"label"},slot:"label"},[a("el-tooltip",{attrs:{content:e.$t("sys_user_dept_assign"),placement:"top"}},[a("span",[e._v(e._s(e.$t("sys_user_dept_assign")))])])],1),a("el-tree",{ref:"tree",attrs:{"show-checkbox":"","default-expand-all":"","check-strictly":"","node-key":"id",data:e.form.dept.data,props:e.form.dept.defaultProps}})],1)],1)],1)],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("99af"),a("a15b"),a("d81d"),a("4de4"),a("caad"),a("2532"),a("2f62")),o=a("ed08"),c={name:"Read",props:{data:{type:Object}},data:function(){return{form:{dept:{data:[],defaultProps:{children:"children",label:"departName"}}}}},computed:Object(n["a"])({},Object(l["e"])({roles:function(e){var t=e.system;return t.roles},activitiSync:function(e){var t=e.dict;return t.activitiSync},dept:function(e){var t=e.system;return t.dept}})),watch:{data:{handler:function(e){e&&(this.getUserRole(e),this.getUserDept(e))},immediate:!0}},methods:{handleAvatar:function(e){var t=o["b"].config.baseUrl.staticDomainURL;return{avatar:"".concat(t,"/").concat(e)}},getUserRole:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s,l,c,d,u,p;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e.id,r=e.activitiSync,s=e.avatar,l=t.form.dept,a.next=4,o["d"].get(o["a"].sys_role_query_user_role,{userid:i});case 4:c=a.sent,d=c.success,u=c.result,d&&(p=t.roles.filter((function(e){return u.includes(e.id)})).map((function(e){return e.roleName})).join(","),r=t.activitiSync.filter((function(e){return e.itemValue===r})).map((function(e){return e.itemText})).join(","),t.form=Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({},t.form),e),{},{roleName:p,activitiSync:r},t.handleAvatar(s)),{},{dept:Object(n["a"])(Object(n["a"])({},l),{},{data:t.dept})}));case 8:case"end":return a.stop()}}),a)})))()},getUserDept:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s,n,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e.id,a.next=3,o["d"].get(o["a"].sys_dept_query_by_user,{userId:i});case 3:r=a.sent,s=r.success,n=r.result,s&&(l=n.map((function(e){return e.value})),t.$refs.tree.setCheckedKeys(l));case 7:case"end":return a.stop()}}),a)})))()}}},d=c,u=a("2877"),p=Object(u["a"])(d,i,r,!1,null,"0ad3f00e",null);t["default"]=p.exports},"3d40":function(e,t,a){},"3dfc":function(e,t,a){"use strict";a("4063")},"3f83":function(e,t,a){},4063:function(e,t,a){},4129:function(e,t,a){},"41cd":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-tabs",{staticClass:"max-height",attrs:{type:"card"},on:{"tab-click":e.handleClick}},[a("el-tab-pane",{attrs:{label:"定义档号规则"}},[e.referenceRules?a("reference-data-list",{ref:"referenceDataList"}):e._e()],1)],1)],1)},r=[],s=a("a629"),n={name:"ReferenceRulse",components:{referenceDataList:s["default"]},data:function(){return{referenceRules:!0,referenceFiled:!1}},created:function(){var e=this;this.referenceRules=!0,this.$nextTick((function(){e.$refs["referenceDataList"].initForm(0)}))},methods:{handleClick:function(e){var t=this;this.referenceRules=!1,this.referenceFiled=!1,0==parseInt(e.index)?(this.referenceRules=!0,this.$nextTick((function(){t.$refs["referenceDataList"].initForm(parseInt(e.index))}))):1==parseInt(e.index)&&(this.referenceFiled=!0,this.$nextTick((function(){t.$refs["referenceDataList"].initForm(parseInt(e.index))})))}}},l=n,o=(a("c3d2"),a("2877")),c=Object(o["a"])(l,i,r,!1,null,"1d72b34d",null);t["default"]=c.exports},"428ff":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modify"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"100px","status-icon":!0}},[a("el-form-item",{attrs:{label:"菜单类型"}},[a("el-radio-group",{on:{change:e.menuTypeChange},model:{value:e.form.menuType,callback:function(t){e.$set(e.form,"menuType",t)},expression:"form.menuType"}},[e._l(e.menuTypeList,(function(t){return[a("el-radio",{attrs:{label:t.itemValue}},[e._v(e._s(t.itemText))])]}))],2)],1),"2"===e.form.menuType?[a("el-form-item",{attrs:{label:"按钮/权限",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入按钮名称",clearable:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"父级菜单",prop:"parentId",rules:{required:!0,message:"必填"}}},[a("select-tree",{ref:"selectTree",attrs:{value:e.form.parentId,props:e.tree.props,options:e.treeData},on:{getValue:function(t){return e.getValue(t)}}})],1),a("el-form-item",{attrs:{label:"菜单路径",prop:"url"}},[a("el-input",{attrs:{placeholder:"请输入菜单路径",clearable:""},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),a("el-form-item",{attrs:{label:"授权标识"}},[a("el-input",{attrs:{placeholder:"多个用逗号分隔, 如: user:list,user:create",clearable:""},model:{value:e.form.perms,callback:function(t){e.$set(e.form,"perms",t)},expression:"form.perms"}})],1),a("el-form-item",{attrs:{label:"授权策略"}},[a("el-radio-group",{model:{value:e.form.permsType,callback:function(t){e.$set(e.form,"permsType",t)},expression:"form.permsType"}},[e._l(e.permissionTypeList,(function(t){return[a("el-radio",{attrs:{label:t.itemValue}},[e._v(e._s(t.itemText))])]}))],2)],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._l(e.validStatusList,(function(t){return[a("el-radio",{attrs:{label:t.itemValue}},[e._v(e._s(t.itemText))])]}))],2)],1)]:[a("el-form-item",{attrs:{label:"菜单名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入菜单名称",clearable:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),"1"===e.form.menuType?[a("el-form-item",{attrs:{label:"父级菜单",prop:"parentId",rules:{required:!0,message:"必填"}}},[a("select-tree",{ref:"selectTree",attrs:{value:e.form.parentId,props:e.tree.props,options:e.treeData},on:{getValue:function(t){return e.getValue(t)}}})],1)]:e._e(),"2"===e.form.menuType?a("el-form-item",{attrs:{label:"菜单路径"}},[a("el-input",{attrs:{placeholder:"请输入菜单路径",clearable:""},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1):a("el-form-item",{attrs:{label:"菜单路径",prop:"url",rules:[{required:!0,message:"必填",trigger:"change"}]}},[a("el-input",{attrs:{placeholder:"请输入菜单路径",clearable:""},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),a("el-form-item",{attrs:{label:"前端组件",prop:"component"}},[a("el-input",{attrs:{placeholder:"请输入菜单组件",clearable:""},model:{value:e.form.component,callback:function(t){e.$set(e.form,"component",t)},expression:"form.component"}})],1),"0"===e.form.menuType?[a("el-form-item",{attrs:{label:"默认跳转地址"}},[a("el-input",{attrs:{placeholder:"请输入路由参数 redirect",clearable:""},model:{value:e.form.redirect,callback:function(t){e.$set(e.form,"redirect",t)},expression:"form.redirect"}})],1)]:e._e(),a("el-form-item",{attrs:{label:"菜单图标"}},[a("el-input",{attrs:{placeholder:"请输入菜单图标",clearable:""},model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}},[a("i",{staticClass:"el-input__icon el-icon-setting cursor-pointer",attrs:{slot:"suffix"},on:{click:e.checkIcons},slot:"suffix"})])],1),a("el-form-item",{attrs:{label:"排序"}},[a("el-input-number",{staticClass:"w-full",attrs:{min:1},model:{value:e.form.sortNo,callback:function(t){e.$set(e.form,"sortNo",t)},expression:"form.sortNo"}})],1),a("el-form-item",{attrs:{label:"是否路由"}},[a("el-radio-group",{model:{value:e.form.routeSwitch,callback:function(t){e.$set(e.form,"routeSwitch",t)},expression:"form.routeSwitch"}},[a("el-radio-button",{attrs:{label:!0}},[e._v("是")]),a("el-radio-button",{attrs:{label:!1}},[e._v("否")])],1)],1),a("el-form-item",{attrs:{label:"隐藏路由"}},[a("el-radio-group",{model:{value:e.form.menuHidden,callback:function(t){e.$set(e.form,"menuHidden",t)},expression:"form.menuHidden"}},[a("el-radio-button",{attrs:{label:!0}},[e._v("是")]),a("el-radio-button",{attrs:{label:!1}},[e._v("否")])],1)],1),a("el-form-item",{attrs:{label:"是否缓存路由"}},[a("el-radio-group",{model:{value:e.form.isKeepalive,callback:function(t){e.$set(e.form,"isKeepalive",t)},expression:"form.isKeepalive"}},[a("el-radio-button",{attrs:{label:!0}},[e._v("是")]),a("el-radio-button",{attrs:{label:!1}},[e._v("否")])],1)],1),a("el-form-item",{attrs:{label:"聚合路由"}},[a("el-radio-group",{model:{value:e.form.alwaysShow,callback:function(t){e.$set(e.form,"alwaysShow",t)},expression:"form.alwaysShow"}},[a("el-radio-button",{attrs:{label:!0}},[e._v("是")]),a("el-radio-button",{attrs:{label:!1}},[e._v("否")])],1)],1),a("el-form-item",{attrs:{label:"打开方式"}},[a("el-radio-group",{model:{value:e.form.internalOrExternal,callback:function(t){e.$set(e.form,"internalOrExternal",t)},expression:"form.internalOrExternal"}},[a("el-radio-button",{attrs:{label:!0}},[e._v("外部")]),a("el-radio-button",{attrs:{label:!1}},[e._v("内部")])],1)],1)]],2),a("drag-dialog",{attrs:{"drag-dialog":e.dialog},on:{confirm:e.iconChooseConfirm}},[a("icons",{ref:"icons",attrs:{"icons-checked":e.icons}})],1)],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("d3b7"),a("25f0"),a("b0c0"),a("4ec3")),o=a("2f62"),c=(a("c3c2"),a("ed08")),d=a("cbb7b"),u=a("eddf"),p=a("52cc"),m=a("5d6f9"),h={name:"Modify",components:{Icons:d["default"],DragDialog:u["a"],SelectTree:p["default"]},props:{data:{type:Object}},data:function(){return{tree:{value:"",props:{value:"id",label:"name",children:"children"}},menuTypeList:[{itemValue:"0",itemText:"一级菜单"},{itemValue:"1",itemText:"子菜单"},{itemValue:"2",itemText:"按钮/权限"}],permissionTypeList:[{itemValue:"1",itemText:"可见/可访问(授权后可见/可访问)"},{itemValue:"2",itemText:"可编辑(未授权时禁用)"}],validStatusList:[{itemValue:"0",itemText:"无效"},{itemValue:"1",itemText:"有效"}],treeData:[],form:{menuType:"0",name:"",parentId:"",url:"",component:"",redirect:"",icon:"",sortNo:"",routeSwitch:!0,menuHidden:!1,isKeepalive:!1,alwaysShow:!1,permsType:"1",perms:"",status:"1",internalOrExternal:!1},rules:{name:[{required:!0,message:"必填",trigger:"change"}],component:[{required:!0,message:"必填",trigger:"change"}]},dialog:{width:"50",height:"60",name:"iconSelect",title:"图标选择",showFooter:!0},icons:{}}},computed:Object(n["a"])({},Object(o["e"])({menus:function(e){var t=e.system;return t.menus},validStatus:function(e){var t=e.dict;return t.validStatus}})),watch:{data:{handler:function(e){var t=this;if(Object(m["isEmpty"])(e))this.$nextTick((function(){t.resetFields(),t.$refs.form.resetFields()}));else{var a=e.menuType;this.form=Object(n["a"])(Object(n["a"])(Object(n["a"])({},this.form),e),{},{menuType:a.toString()})}},immediate:!0}},methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])({getPermissionList:"GET_PERMISSION_LIST"})),{},{resetFields:function(){this.form={menuType:"0",name:"",parentId:"",url:"",component:"",redirect:"",icon:"",sortNo:"",routeSwitch:!0,menuHidden:!1,isKeepalive:!1,alwaysShow:!1,permsType:"1",perms:"",status:"1",internalOrExternal:!1}},loadTree:function(){var e=this;Object(l["i"])().then((function(t){if(t.success){e.treeData=[];for(var a=t.result.treeList,i=0;i<a.length;i++){var r=a[i];r.id=r.value,r.name=r.title,r.key=r.value,r.isLeaf=r.leaf,e.treeData.push(r)}}}))},getValue:function(e){this.form=Object(n["a"])(Object(n["a"])({},this.form),{},{parentId:e}),this.tree=Object(n["a"])(Object(n["a"])({},this.tree),{},{value:e})},menuTypeChange:function(){this.$refs.form.clearValidate()},checkIcons:function(){var e=this.dialog.name,t=this.form.icon;this.icons=t?Object(n["a"])(Object(n["a"])({},this.icons),{},{name:t}):Object(n["a"])(Object(n["a"])({},this.icons),{},{name:"",paneName:"direct"}),this.$modal.show(e)},iconChooseConfirm:function(){var e=this.$refs.icons,t=e.checked.icon,a=e.pane.name,i=this.dialog.name;t?(this.form=Object(n["a"])(Object(n["a"])({},this.form),{},{icon:t}),this.icons=Object(n["a"])(Object(n["a"])({},this.icons),{},{name:t,paneName:a}),this.$modal.hide(i)):c["e"].errorWithTimer("请选择图标")},saveData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.data.id,i=Object(n["a"])({},e.form),r=a?Object(l["d"])(i):Object(l["a"])(i),r.then((function(t){var a=t.success,i=t.message;a?(e.getPermissionList(),c["e"].successWithTimer(i),e.$emit("successClose")):c["e"].error(i)}));case 4:case"end":return t.stop()}}),t)})))()}}),created:function(){this.loadTree()},mounted:function(){}},f=h,b=a("2877"),g=Object(b["a"])(f,i,r,!1,null,"1f2bf9fd",null);t["default"]=g.exports},4307:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],s=(a("a9e3"),a("313e")),n=a.n(s),l=a("82a3");a("817d");var o={name:"",mixins:[l["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"20vh"},dataInfo:{type:Object},correctRate:{type:Number|String,default:65},titleName:{type:String,default:""}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=n.a.init(this.$el,"pie-chart"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.expectedData,e.actualData;this.chart.setOption({title:{text:this.titleName,x:"center",y:"bottom",itemGap:30,textStyle:{fontSize:14,fontWeight:"normal",textAlign:"center",color:"#fff"}},series:[{name:"",type:"pie",radius:["50%","60%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"}},labelLine:{show:!1},data:[{value:this.correctRate,name:"",format:null,label:{normal:{show:!0,formatter:"{d}%",textStyle:{fontSize:14,fontWeight:"normal",color:"#fff"}}},itemStyle:{normal:{color:new n.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#96F5B3"},{offset:1,color:"#4F92EB"}],!1)}}},{value:100-this.correctRate,name:"",format:null,itemStyle:{color:"#CCCCCC"}}]}]})}}},c=o,d=a("2877"),u=Object(d["a"])(c,i,r,!1,null,"de14b694",null);t["default"]=u.exports},"432c":function(e,t,a){},"43be":function(e,t,a){},4596:function(e,t,a){},"479f":function(e,t,a){},"480c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container flex-column"},[a("div",{staticClass:"operate-btn-list"},e._l(e.btnList,(function(t){return a("div",{key:t.value},[a("el-button",{attrs:{size:"mini",type:t.type},on:{click:function(a){return e.btnClick(t)}}},[e._v(" "+e._s(t.label)+" ")])],1)})),0),a("div",{staticClass:"table-box max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,"row-style":{cursor:"pointer"}},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),e.modal.show?a("certificate-modal",{ref:"modal",attrs:{title:e.modal.title,modalType:e.modal.type},on:{ok:e.queryList,close:function(t){e.modal.show=!1}}}):e._e()],1)},r=[],s=a("5530"),n=(a("7db0"),a("f7c4")),l=a("2e5f"),o=a("3f19"),c=a("8df0"),d=a("626c"),u={name:"CertificateList",mixins:[o["a"],c["a"]],components:{foxTable:n["a"],BtnList:l["default"],CertificateModal:d["default"]},props:{},data:function(){return{modal:{show:!1,title:"",type:"",loading:!1},modalTitleObject:{generate:"证书生成",add:"新增外部证书"},selfLoadTableFlag:!0,btnList:[{value:"generate",label:"生成",type:"primary"},{value:"add",label:"新增"}],url:{list:"/cert/certList",delete:"/cert/removeCert",download:"/cert/downCert",updateDefCert:"/cert/updateDefCert"}}},watch:{},computed:{},methods:{setDefault:function(e){var t=this,a=this.table.data.find((function(e){return 1==e.def}));if(a&&1!=e.def){var i="操作失败：系统已经有其它证书被设置为默认证书！";this.$sweetAlert.warnWithTimer(i)}else{1==e.def?e.def=0:e.def=1;var r={id:e.id,def:e.def};this.interfaceOperate("updateDefCert",r),this.table=Object(s["a"])(Object(s["a"])({},this.table),{},{show:!1}),this.$nextTick((function(){t.table=Object(s["a"])(Object(s["a"])({},t.table),{},{show:!0})}))}},operate:function(e,t){var a=this,i=e,r={id:i.id};switch(t){case"generate":case"add":this.modal.title=this.modalTitleObject[t],this.modal.type=t,this.modal.show=!0,this.$nextTick((function(){a.$refs.modal.init()}));break;case"download":var s=i.cerpath.lastIndexOf("."),n=i.cerpath.substring(s+1);this.interfaceOperate(t,r,n);break;case"set":this.setDefault(i);break;case"delete":var l="您确定要删除本证书吗？";this.operateBeforeConfirm(e,t,l,(function(){a.interfaceOperate(t,r)}));break;case"move":break;default:break}},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(s["a"])(Object(s["a"])({},this.table),{},{show:!1,column:[{label:"证书名称",prop:"name"},{label:"证书类型",prop:"type"},{label:"颁发给",prop:"userSignName"},{label:"操作",prop:"oper",width:240,fixed:"right",render:function(t,a){var i=a.row,r="设为默认",s="star-on";1==i.def&&(r="取消默认",s="star-off");var n=[{content:"下载证书",type:"text",icon:"download",event:function(){e.operate(i,"download")}},{content:r,type:"text",icon:s,event:function(){e.operate(i,"set")}},{content:"删除",color:e.deleteColor,type:"text",icon:"delete-solid",event:function(){e.operate(i,"delete")}}];return t(l["default"],{attrs:{btnInfo:n}})}},{label:"默认使用",prop:"FILE_SIZE",render:function(e,t){var a=t.row,i=[],r="否",s="";return 1==a.def&&(r="是",s="#67C23A"),i.push({content:r,color:s,type:"text",cursor:"default",event:function(){}}),e(l["default"],{attrs:{btnInfo:i}})}}]}),this.$nextTick((function(){e.table=Object(s["a"])(Object(s["a"])({},e.table),{},{show:!0})}))},interfaceOperate:function(e,t,a){var i=this,r=this.url[e],s="post";if("download"==e){var n="",l=a;this.downloadByFileStream(r,t,n,l)}else this.interfaceRequest(r,t,s,(function(){i.queryList()}))}},created:function(){},mounted:function(){}},p=u,m=a("2877"),h=Object(m["a"])(p,i,r,!1,null,"3a9b1c61",null);t["default"]=h.exports},4889:function(e,t,a){},"497e":function(e,t,a){},"49ab7":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("el-form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":"9rem","auto-complete":"off","label-position":"right",disabled:e.disabledForm}},[a("el-form-item",{attrs:{label:"spring bean名称",prop:"beanName"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入spring bean名称",clearable:""},model:{value:e.model.beanName,callback:function(t){e.$set(e.model,"beanName",t)},expression:"model.beanName"}})],1),a("el-form-item",{attrs:{label:"方法名",prop:"methodName"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入方法名",clearable:""},model:{value:e.model.methodName,callback:function(t){e.$set(e.model,"methodName",t)},expression:"model.methodName"}})],1),a("el-form-item",{attrs:{label:"参数",prop:"params"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入参数",clearable:""},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})],1),a("el-form-item",{attrs:{label:"cron表达式",prop:"cronExpression"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入cron表达式",clearable:""},model:{value:e.model.cronExpression,callback:function(t){e.$set(e.model,"cronExpression",t)},expression:"model.cronExpression"}})],1),a("el-form-item",{attrs:{label:"任务状态",prop:"status"}},[a("dict-select-tag",{attrs:{"dict-code":"quartz_status",placeholder:"请选择"},model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"请输入备注"},model:{value:e.model.remark,callback:function(t){e.$set(e.model,"remark",t)},expression:"model.remark"}})],1)],1)],1),"create"==e.status||"update"==e.status?a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v(" 提交 ")]),a("el-button",{attrs:{type:"default"},on:{click:e.cancelModal}},[e._v("取消")])],1):e._e()]):e._e()},r=[],s=(a("159b"),a("b64b"),a("2f62"),a("0fea"),a("0779")),n=(a("61f7"),a("3cee")),l={components:{DictSelectTag:s["default"],TinymceEditor:n["default"]},props:{title:{type:String,default:""},baseSelect:{type:Object,default:function(){return{}}},status:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,loading1:!1,baseData:null,model:{beanName:"",methodName:"",params:"",cronExpression:"",status:"0",remark:""},rules:{beanName:[{required:!0,trigger:"blur",message:"请输入spring bean名称"}],methodName:[{required:!0,trigger:"blur",message:"请输入方法名"}],params:[{required:!0,trigger:"blur",message:"请输入参数"}],cronExpression:[{required:!0,trigger:"blur",message:"请输入cron表达式"}],status:[{required:!0,trigger:"blur",message:"请选择任务状态"}],remark:[{required:!1,trigger:"blur",message:"请输入备注"}]},url:{roleSelected:"sys/role/select"}}},computed:{username:function(){return this.$store.state.user.username},disabledForm:function(){return"check"==this.status}},created:function(){},methods:{initForm:function(e){var t=this;this.visible=!0,this.baseData=e,e&&(this.model=Object.assign(this.model,e)),this.$nextTick((function(){t.$refs["form"].resetFields()}))},resetForm:function(e){var t=this;this.$nextTick((function(){t.$refs[e].resetFields()}))},submit:function(){var e=this;this.$refs.form.validate((function(t){if(t){e.loading=!0;var a=Object.assign({},e.model),i="/scheduleJob/add",r="post";e.$api.httpAction(i,a,r).then((function(t){e.loading=!1,200==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.$emit("ok"),e.cancelModal()):e.$sweetAlert.errorWithTimer(t.msg)}))}}))},reset:function(){var e=this;Object.keys(this.model).forEach((function(t){return e.model[t]=""})),this.initForm(this.baseData)},cancelModal:function(){this.visible=!1,this.$emit("close")}}},o=l,c=(a("9818"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"5f995ed6",null);t["default"]=d.exports},"4a66":function(e,t,a){},"4c33":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{class:["form-table",e.record.options.customClass?e.record.options.customClass:""],style:e.record.options.customStyle,attrs:{"row-key":function(e){return e.key},data:e.models[e.record.model],bordered:"",scroll:{x:190*e.record.list.length+80+(e.record.options.hideSequence?0:60),y:e.record.options.scrollY}}},[e.isVisible?[e.record.options.hideSequence?e._e():a("el-table-column",{attrs:{label:"序号",align:"center",type:"index",width:"50"}}),e._l(e.record.list,(function(t,i){return[e.record.options.showItem&&e.record.options.showItem.includes(t.model)?a("el-table-column",{key:i,attrs:{label:t.label,align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return[a("TableItem",{attrs:{record:t,"render-preview":!0,domains:e.models[e.record.model][i.$index]}})]}}],null,!0)}):e._e()]})),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.renderPreview?a("el-button",{attrs:{type:"success"},on:{click:function(a){return e.updateDomain(t.row)}}},[a("i",{staticClass:"el-icon-eye"}),e._v("查看 ")]):e._e(),e.renderPreview?e._e():a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.updateDomain(t.row)}}},[a("i",{staticClass:"el-icon-edit"}),e._v("修改 ")]),e.renderPreview?e._e():a("el-button",{attrs:{type:"danger"},on:{click:function(a){return e.removeDomain(t.$index)}}},[a("i",{staticClass:"el-icon-delete"}),e._v("删除 ")])]}}],null,!1,3120025452)})]:e._e()],2),e.renderPreview?e._e():a("el-button",{attrs:{type:"dashed",disabled:e.disabled},on:{click:e.addDomain}},[a("i",{staticClass:"el-icon-circle-plus-outline"}),e._v("增加 ")]),e.addOrUpdateVisible?a("AddOrUpdate",{ref:"addOrUpdate",attrs:{"form-template":e.templateData,"render-preview":e.renderPreview},on:{formAdd:e.formAdd,formUpdate:e.formUpdate}}):e._e()],1)},r=[],s=(a("a434"),a("4e82"),a("c5ed")),n=a("0752"),l={name:"TableBatch",components:{TableItem:s["default"],AddOrUpdate:n["default"]},props:{record:{type:Object,required:!0},value:{type:Object,required:!1},models:{type:Object,required:!0},config:{type:Object,required:!1},parentDisabled:{type:Boolean,default:!1},renderPreview:{type:Boolean,default:!1}},data:function(){return{addOrUpdateVisible:!1,isVisible:!0}},computed:{disabled:function(){return this.record.options.disabled||this.parentDisabled},templateData:function(){return{list:this.record.list,config:{labelPosition:this.record.options.labelPosition?this.record.options.labelPosition:"right",labelWidth:this.record.options.labelWidth,size:"mini",hideRequiredMark:!1}}}},watch:{value:{handler:function(e){e instanceof Array&&(this.models[this.record.model]=e||[])},immediate:!0,deep:!0}},methods:{validationSubform:function(){return!0},resetForm:function(){this.$refs.dynamicValidateForm.resetFields()},removeDomain:function(e){var t=this;this.$confirm("确定删除此数据?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a=t.models[t.record.model];a&&-1!==e&&(a.splice(e,1),t.$message({message:"删除成功",type:"success",duration:1e3}))}))},updateDomain:function(e){var t=this;this.addOrUpdateVisible=!0,this.$nextTick((function(){t.$refs.addOrUpdate.init(e)}))},addDomain:function(){var e=this;this.addOrUpdateVisible=!0,this.$nextTick((function(){e.$refs.addOrUpdate.init()}))},formAdd:function(e){this.isVisible=!1;var t=this.models[this.record.model];if(t)t.push(e);else{var a=[e];this.models[this.record.model]=a,t=this.models[this.record.model]}t.sort((function(e,t){return e.seq-t.seq})),this.isVisible=!0,this.$message({message:"添加成功",type:"success",duration:1e3})},formUpdate:function(e){this.models[this.record.model];for(var t in this.models[this.record.model])if(this.models[this.record.model][t].id==e.id){this.models[this.record.model].splice(t,1,e);break}this.models[this.record.model].sort((function(e,t){return e.seq-t.seq})),this.$message({message:"更新成功",type:"success",duration:1e3})},handleInput:function(){this.$emit("change",this.models)}}},o=l,c=(a("5f66"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"99a249ac",null);t["default"]=d.exports},"4d52":function(e,t,a){"use strict";a("6284")},"4fcf":function(e,t,a){"use strict";a("ef0c")},"500a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:24}},[1==parseInt(e.recode.clickIndex)?a("el-col",{attrs:{span:9}},[a("div",{staticStyle:{"border-style":"dashed",padding:"4px","border-color":"#EEEEE0"}},[a("div",{staticStyle:{"line-height":"34px","background-color":"#DCDCDC","border-radius":"5px",padding:"8px"}},[a("img",{staticStyle:{height:"22px",float:"left","margin-top":"7px","margin-right":"2px"},attrs:{src:"static/img/md-panorama.png"}}),a("span",[e._v("全部字段")])]),a("div",{staticStyle:{height:"410px",overflow:"auto",padding:"4px"}},e._l(e.data1,(function(t,i){return a("div",{key:i,staticStyle:{"border-radius":"10px","line-height":"22px","background-color":"#DCDCDC",padding:"9px","margin-top":"5px"}},[a("span",[e._v(e._s(t.fldName)+"【"+e._s(t.fldDesc)+"】")]),a("a",{on:{click:function(a){return e.handleAdd(t,i)}}},[a("i",{staticClass:"el-icon-plus",staticStyle:{float:"right","margin-top":"4px","font-size":"14px","font-weight":"bold"}})])])})),0)])]):e._e(),1!=parseInt(e.recode.clickIndex)?a("el-col",{attrs:{span:9,push:3}},[a("div",{staticStyle:{"border-style":"dashed",padding:"4px","border-color":"#EEEEE0"}},[a("div",{staticStyle:{"line-height":"34px","background-color":"#DCDCDC","border-radius":"5px",padding:"8px"}},[a("img",{staticStyle:{height:"22px",float:"left","margin-top":"7px","margin-right":"2px"},attrs:{src:"static/img/md-panorama.png"}}),a("span",[e._v("全部字段")])]),a("div",{staticStyle:{height:"410px",overflow:"auto",padding:"4px"}},e._l(e.data1,(function(t,i){return a("div",{key:i,staticStyle:{"border-radius":"10px","line-height":"22px","background-color":"#DCDCDC",padding:"9px","margin-top":"5px"}},[a("span",[e._v(e._s(t.fldName)+"【"+e._s(t.fldDesc)+"】")]),a("a",{on:{click:function(a){return e.handleAdd(t,i)}}},[a("i",{staticClass:"el-icon-plus",staticStyle:{float:"right","margin-top":"4px","font-size":"14px","font-weight":"bold"}})])])})),0)])]):e._e(),1==parseInt(e.recode.clickIndex)?a("el-col",{attrs:{span:9}},[a("div",{staticStyle:{"border-style":"dashed",padding:"4px","border-color":"#EEEEE0"}},[a("div",{staticStyle:{"line-height":"34px","background-color":"#DCDCDC","border-radius":"5px",padding:"8px"}},[a("img",{staticStyle:{height:"24px",float:"left","margin-top":"5px","margin-right":"2px"},attrs:{src:"static/img/md-adjust.png"}}),a("span",[e._v("已选字段")]),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("保存")])],1),a("div",{staticStyle:{height:"410px",overflow:"auto",padding:"4px"}},e._l(e.data2,(function(t,i){return a("div",{key:i,staticStyle:{"border-radius":"10px","line-height":"22px","background-color":"#DCDCDC",padding:"9px","margin-top":"5px"},on:{click:function(a){return e.handelClick(t)}}},[a("span",[e._v(e._s(t.fldName)+"【"+e._s(t.fldDesc)+"】")]),a("a",{on:{click:function(a){return e.handleMove(t,i)}}},[a("i",{staticClass:"el-icon-close",staticStyle:{float:"right","margin-top":"4px","font-size":"17px","font-weight":"bold"}})]),a("a",{on:{click:function(t){return e.handleMoveDown(i)}}},[a("i",{staticClass:"el-icon-arrow-down",staticStyle:{float:"right","margin-top":"4px","margin-right":"14px","font-size":"17px","font-weight":"bold"}})]),a("a",{on:{click:function(t){return e.handleMoveUp(i)}}},[a("i",{staticClass:"el-icon-arrow-up",staticStyle:{float:"right","margin-top":"4px","margin-right":"14px","font-size":"17px","font-weight":"bold"}})])])})),0)])]):e._e(),1!=parseInt(e.recode.clickIndex)?a("el-col",{attrs:{span:9,push:3}},[a("div",{staticStyle:{"border-style":"dashed",padding:"4px","border-color":"#EEEEE0"}},[a("div",{staticStyle:{"line-height":"34px","background-color":"#DCDCDC","border-radius":"5px",padding:"8px"}},[a("img",{staticStyle:{height:"24px",float:"left","margin-top":"5px","margin-right":"2px"},attrs:{src:"static/img/md-adjust.png"}}),a("span",[e._v("已选字段")]),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("保存")])],1),a("div",{staticStyle:{height:"410px",overflow:"auto",padding:"4px"}},e._l(e.data2,(function(t,i){return a("div",{key:i,staticStyle:{"border-radius":"10px","line-height":"22px","background-color":"#DCDCDC",padding:"9px","margin-top":"5px"},on:{click:function(a){return e.handelClick(t)}}},[a("span",[e._v(e._s(t.fldName)+"【"+e._s(t.fldDesc)+"】")]),a("a",{on:{click:function(a){return e.handleMove(t,i)}}},[a("i",{staticClass:"el-icon-close",staticStyle:{float:"right","margin-top":"4px","font-size":"17px","font-weight":"bold"}})]),a("a",{on:{click:function(t){return e.handleMoveDown(i)}}},[a("i",{staticClass:"el-icon-arrow-down",staticStyle:{float:"right","margin-top":"4px","margin-right":"14px","font-size":"17px","font-weight":"bold"}})]),a("a",{on:{click:function(t){return e.handleMoveUp(i)}}},[a("i",{staticClass:"el-icon-arrow-up",staticStyle:{float:"right","margin-top":"4px","margin-right":"14px","font-size":"17px","font-weight":"bold"}})])])})),0)])]):e._e(),1==parseInt(e.recode.clickIndex)?a("el-col",{attrs:{span:6}},[a("div",{staticStyle:{"border-style":"dashed",padding:"4px","border-color":"#EEEEE0"}},[a("div",{staticStyle:{"line-height":"34px","background-color":"#DCDCDC","border-radius":"5px",padding:"8px"}},[a("span",{staticStyle:{margin:"auto","margin-left":"34%"}},[e._v("字段属性编辑")])]),a("div",{staticStyle:{height:"410px",overflow:"auto",padding:"4px"}},[a("div",[a("el-form",{ref:"form",attrs:{"label-width":"80px",rules:e.rules,model:e.filedInfo}},[a("el-form-item",{attrs:{label:"字段名称",prop:"fldName"}},[a("el-input",{attrs:{placeholder:"请输入字段名称",disabled:""},model:{value:e.filedInfo.fldName,callback:function(t){e.$set(e.filedInfo,"fldName",t)},expression:"filedInfo.fldName"}})],1),a("el-form-item",{attrs:{label:"字段描述",prop:"fldDesc"}},[a("el-input",{attrs:{placeholder:"请输入字段描述"},model:{value:e.filedInfo.fldDesc,callback:function(t){e.$set(e.filedInfo,"fldDesc",t)},expression:"filedInfo.fldDesc"}})],1),a("el-form-item",{attrs:{label:"显示列宽",prop:"colWidth"}},[a("el-input",{attrs:{placeholder:"请输入显示列宽"},model:{value:e.filedInfo.colWidth,callback:function(t){e.$set(e.filedInfo,"colWidth",t)},expression:"filedInfo.colWidth"}})],1)],1),a("el-button",{staticStyle:{"margin-left":"40%"},attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("提交")])],1)])])]):e._e()],1)],1)},r=[],s=(a("159b"),a("a434"),{name:"",props:{data1:{type:Array},recode:{type:Object},data2:{type:Array}},data:function(){return{form:this.$refs.form,tt:"",rules:{fldName:[{required:!0,message:"请输入字段名称",trigger:"blur"}],fldDesc:[{required:!0,message:"请输入字段描述",trigger:"blur"}],colWidth:[{required:!0,message:"请输入显示列宽",trigger:"blur"}]},filedInfo:{fldName:"",fldDesc:"",colWidth:""},url:{updateBasicFldById:"/templates/updateBasicFldById",saveQueryField:"/queryFld/saveQueryField",saveSearchField:"/searchFld/saveSearchField",saveImportField:"/importFld/saveImportField"}}},methods:{handelClick:function(e){this.filedInfo=e},handleSave:function(){var e=this,t=this.url.saveQueryField;1==parseInt(this.recode.clickIndex)&&(t=this.url.saveQueryField),2==parseInt(this.recode.clickIndex)&&(t=this.url.saveSearchField),3==parseInt(this.recode.clickIndex)&&(t=this.url.saveImportField);var a=this.changeData(),i={};i.templateId=this.recode.id,i.othType=this.recode.othType,i.jsonStr=JSON.stringify(a),this.$api.httpAction(t,i,"post").then((function(t){"200"===t.code?e.$sweetAlert.success("操作成功"):e.$sweetAlert.errorWithTimer("操作失败")}))},changeData:function(){var e=[];return this.data2.forEach((function(t){var a={};t.fldId?a.fieldId=t.fldId+"":a.fieldId=t.id+"",a.fieldName=t.fldName,a.fieldDesc=t.fldDesc,e.push(a)})),e},handleSubmit:function(){var e=this;this.$refs.form.validate((function(t){if(t){var a={};e.filedInfo.fldId?a.id=e.filedInfo.fldId:a.id=e.filedInfo.id,a.colWidth=e.filedInfo.colWidth,e.$api.getAction(e.url.updateBasicFldById,a).then((function(t){"200"===t.code?e.$sweetAlert.success("操作成功"):e.$sweetAlert.errorWithTimer("数据加载失败")}))}}))},handleAdd:function(e,t){this.data2.push(e),this.data1.splice(t,1)},handleMove:function(e,t){this.data1.push(e),this.data2.splice(t,1)},handleMoveUp:function(e){if(0!=e){var t=this.data2[e-1];this.data2.splice(e-1,1,this.data2[e]),this.data2.splice(e,1,t)}},handleMoveDown:function(e){if(e!=this.data2.length-1){var t=this.data2[e+1];this.data2.splice(e+1,1,this.data2[e]),this.data2.splice(e,1,t)}}}}),n=s,l=a("2877"),o=Object(l["a"])(n,i,r,!1,null,"41812ae8",null);t["default"]=o.exports},5041:function(e,t,a){"use strict";a("aa0a")},5097:function(e,t,a){"use strict";a("f735")},"50a8":function(e,t,a){"use strict";a("6731")},"520e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,width:"1000px",modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"flex justify-start btn-list"},e._l(e.btnList,(function(t){return a("div",{key:t.value},[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.btnClick(t)}}},[e._v(" "+e._s(t.label)+" ")])],1)})),0),a("div",{staticClass:"table-box"},[a("fox-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",pagination:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1)]):e._e(),e.compare.show?a("beyond-compare",{ref:"compare",attrs:{title:e.compare.title},on:{close:function(t){e.compare.show=!1}}}):e._e()],1)},r=[],s=a("1da1"),n=a("53ca"),l=a("5530"),o=(a("96cf"),a("a9e3"),a("a15b"),a("d81d"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("b0c0"),a("2f62"),a("2e5f")),c=a("f7c4"),d=a("3f19"),u=a("3144"),p=a("cf45"),m=(a("ed08"),{name:"HistoryRecords",mixins:[d["a"]],components:{foxTable:c["a"],BeyondCompare:u["default"]},props:{title:{type:String,default:""},type:{type:Number,default:0},shareType:{type:Number,default:0}},data:function(){return{visible:!1,loading:!1,model:null,compare:{show:!1,title:"文件比较",loading:!1},persUploadId:"",btnList:[{value:"download",label:"下载",alert:"请选择一条记录"}],url:{list:"/sysPersFileRecords/getFileRecordList",fileSharRecordList:"/fileSharRecord/historyList",setNowVersion:"/sysPersFileRecords/setNowVersion",setNowVersionC:"/fileSharRecord/setNowVersion",filelist:"/teamWorkRecords/list",historyList:"/fileSharRecord/historyList",currVersion:"/teamWorkRecords/currVersion",alone:"/teamWorkRecords/alone",getViewUrl:"/sysPers/getViewUrl",download:"/teamWorkRecords/download",downloadC:"/fileSharRecord/batch"}}},computed:{},created:function(){this.setTableColumn()},methods:{init:function(e){this.persUploadId=e,this.visible=!0,this.queryList(e)},btnClick:function(e){var t=this.table.selection.length,a="";if(0==t&&e.alert&&(a=e.alert),a)this.$sweetAlert.warnWithTimer(a);else{var i=this.table.selection.map((function(e){return e.id})).join(",");this.operate(i,e.value)}},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(l["a"])(Object(l["a"])({},this.table),{},{show:!1,column:[{type:"selection"},{label:"版本",width:"50",prop:"fileVersion"},{label:"版本修改者",prop:"updateUser"},{label:"大小",prop:"fileSize",render:function(e,t){var a=t.row,i=[];if(a.fileSize){var r=Object(p["o"])(Number(a.fileSize||0));i.push({content:r,color:"#E6A23C",type:"text",cursor:"default",event:function(){}})}return e(o["default"],{attrs:{btnInfo:i}})}},{label:"文件类型",width:"80",prop:"fileFormat"},{label:"修改时间",prop:"updateTime"},{label:"修改类型",width:80,prop:"operTypeText"},{label:"操作",prop:"oper",width:200,fixed:"right",render:function(t,a){var i=a.row,r=[{content:"查看",type:"text",icon:"",event:function(){e.operate(i,"source")}},{content:"下载",type:"text",event:function(){e.operate(i,"download")}},{content:"设置为当前版本",type:"text",event:function(){e.operate(i,"current")}}];return i.hideOperate&&(r=[]),t(o["default"],{attrs:{btnInfo:r}})}}]}),this.$nextTick((function(){e.table=Object(l["a"])(Object(l["a"])({},e.table),{},{show:!0})}))},operate:function(e,t){var a=this,i=e;switch(t){case"source":this.getViewUrl(i);break;case"download":this.downloadOperate(i);break;case"compare":this.compare.show=!0,this.$nextTick((function(){a.$refs.compare.init()}));break;case"current":1==this.type?1==e.nowVersion?this.$sweetAlert.warnWithTimer("该文件已经是当前版本！"):this.$api.getAction(this.url.currVersion,e).then((function(e){"200"==e.code?a.$sweetAlert.successWithTimer("设置成功"):a.$sweetAlert.errorWithTimer("设置失败")})):(this.type,this.setNowVersion(i.id,this.persUploadId));break}},downloadOperate:function(e){var t,a,i=this,r="post";if(1!=this.type){t="/sysPersFileRecords/batchDow",2==this.type&&(t="/fileSharRecord/batch"),a={fileRecordIds:e,type:0};var s=".zip";"object"==Object(n["a"])(e)&&(t="/sysPersFileRecords/download",s="."+e.fileFormat,a={fileRecordId:e.id},2==this.type&&(t="/fileSharRecord/batch",a={fileRecordIds:e.id,type:1}));var l=Object(p["h"])(new Date,"{y}-{m}-{d}");this.$api.downFile(t,a).then((function(e){if(e)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([e]),l+s);else{var t=window.URL.createObjectURL(new Blob([e])),a=document.createElement("a");a.style.display="none",a.href=t,a.setAttribute("download",l+s),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(t)}else i.$sweetAlert.errorWithTimer("文件下载失败！")}))}else{if("string"===typeof e){var o=Object(p["h"])(new Date,"{y}-{m}-{d}");this.$api.httpAction(this.url.download,{ids:e},r).then((function(e){if(e)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([e]),o+".zip");else{var t=window.URL.createObjectURL(new Blob([e])),a=document.createElement("a");a.style.display="none",a.href=t,a.setAttribute("download",o+".zip"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(t)}else i.$sweetAlert.errorWithTimer("文件下载失败！")}))}if("object"===Object(n["a"])(e)){var c={path:e.filePath,scene:e.fileScene,name:e.name};this.$api.httpAction(this.url.alone,c,r).then((function(e){if(e)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([e]),fileName+".zip");else{var t=window.URL.createObjectURL(new Blob([e])),a=document.createElement("a");a.style.display="none",a.href=t,a.setAttribute("download",c.name),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(t)}else i.$sweetAlert.errorWithTimer("文件下载失败！")}))}}},setNowVersion:function(e,t){var a,i=this;a=2==this.type?this.url.setNowVersionC:this.url.setNowVersion;var r={fileRecordId:e,persUploadId:t},s="post";this.$api.httpAction(a,r,s).then((function(e){200==e.code?(i.$sweetAlert.successWithTimer(e.msg),i.$emit("ok")):i.$sweetAlert.errorWithTimer(e.msg)}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.table=Object(l["a"])(Object(l["a"])({},t.table),{},{loading:!0}),1==t.type?(r={pid:e,page:t.page.pageNum,limit:t.page.pageSize},i=t.url.filelist):2==t.type?(r={pid:e,page:t.page.pageNum,limit:t.page.pageSize},i=t.url.historyList):(i=t.url.list,r={persUploadId:e}),a.next=4,t.$api.getAction(i,r);case 4:s=a.sent,n=s.count,o=s.data,o.map((function(e){e.updateUser||(e.updateUser=e.createUser),e.updateTime||(e.updateTime=e.createTime)})),t.page=Object(l["a"])(Object(l["a"])({},t.page),{},{total:1*n}),t.$nextTick((function(){t.table=Object(l["a"])(Object(l["a"])({},t.table),{},{data:o})})),t.table=Object(l["a"])(Object(l["a"])({},t.table),{},{loading:!1});case 10:case"end":return a.stop()}}),a)})))()},getViewUrl:function(e){var t=this,a=e.fileFormat,i={filePath:e.filePath,fileScene:e.fileScene,fileName:e.fileName};switch(a){case"doc":case"docx":case"xls":case"xlsx":case"ppt":case"pptx":i={filePath:e.pdfFilePath,fileScene:e.pdfFileScene,fileName:e.pdfFileFname};break}var r=e.convertStatus,s=e.id;this.$api.getAction(this.url.getViewUrl,i).then((function(e){if(200==e.code){var i=e.data;switch(a){case"png":case"jpg":case"mp4":case"mp3":t.viewSourceByPdfUrl(i,a,s);break;case"txt":case"pdf":case"doc":case"docx":case"xls":case"xlsx":case"ppt":case"pptx":1==r||"pdf"==a?t.viewSourceByPdfUrl(i,a,s):t.$sweetAlert.errorWithTimer("文件转换失败，未能打开!");break;default:t.$sweetAlert.errorWithTimer("未被支持格式文件！");break}}else t.$sweetAlert.errorWithTimer(e.message)}))},viewSourceByPdfUrl:function(e,t,a){var i=this.type,r="",s=this.shareType;switch(i){case 0:r="MyFile";break;case 1:r="TeamWork";break;case 2:r="ElectronicFileShare";break;default:break}var n={fileUrl:e,fileType:t,fileId:a,fileFrom:r,shareType:s,fileRecordFlag:1},l=this.$router.resolve({path:"/originalPage",query:n});window.open(l.href,"_blank")},cancelModal:function(){this.visible=!1,this.$emit("close")}}}),h=m,f=(a("2e7b"),a("2877")),b=Object(f["a"])(h,i,r,!1,null,"2e5b1c81",null);t["default"]=b.exports},"525d":function(e,t,a){"use strict";a("c97f")},5288:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,width:"500px",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"auto-scroll"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.model,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"密钥名称：",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"on",maxlength:"50",type:"text",placeholder:"请输入密钥名称",clearable:""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"算法标识：",prop:"algorithm"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.model.algorithm,callback:function(t){e.$set(e.model,"algorithm",t)},expression:"model.algorithm"}},e._l(e.algorithmList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),e.showUploadFlag?a("el-form-item",{attrs:{label:"公钥：",prop:"pubkey"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo max-width",attrs:{data:e.uploadData,action:e.upLoadUrl,"on-success":e.handleSuccess,"before-upload":e.beforeAvatarUpload,"auto-upload":!1,"show-file-list":!1,accept:"","file-list":e.fileList,"on-change":function(t,a){e.handleChangeFile(t,a,"pubkey")}}},[a("div",{staticClass:"flex max-width"},[e.pubkeyFlag&&"edit"==e.modalType?a("div",{staticClass:"existence-box",style:{color:e.greenColor}},[e._v(" 存在 ")]):e._e(),a("el-input",{staticStyle:{width:"100%","margin-right":"10px"},attrs:{type:"text",disabled:""},model:{value:e.model.pubkey,callback:function(t){e.$set(e.model,"pubkey",t)},expression:"model.pubkey"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-upload"}},[e._v(" 选择文件 ")])],1)])],1):e._e(),e.showUploadFlag?a("el-form-item",{attrs:{label:"私钥：",prop:"prikey"}},[a("el-upload",{ref:"upload1",staticClass:"upload-demo max-width",attrs:{data:e.uploadData,action:e.upLoadUrl,"on-success":e.handleSuccess,"before-upload":e.beforeAvatarUpload,"auto-upload":!1,"show-file-list":!1,accept:"","file-list":e.fileList,"on-change":function(t,a){e.handleChangeFile(t,a,"prikey")}}},[a("div",{staticClass:"flex max-width"},[e.prikeyFlag&&"edit"==e.modalType?a("div",{staticClass:"existence-box",style:{color:e.greenColor}},[e._v(" 存在 ")]):e._e(),a("el-input",{staticStyle:{width:"100%","margin-right":"10px"},attrs:{type:"text",disabled:""},model:{value:e.model.prikey,callback:function(t){e.$set(e.model,"prikey",t)},expression:"model.prikey"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-upload"}},[e._v(" 选择文件 ")])],1)])],1):e._e()],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v(" 保存 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},r=[],s=(a("caad"),a("d3b7"),a("a434"),a("b0c0"),a("0779")),n=a("cf45"),l={name:"SignatureModal",components:{DictSelectTag:s["default"]},props:{modalType:{type:String,default:""},title:{type:String,default:""}},data:function(){return{greenColor:n["g"],visible:!1,loading:!1,fileList:[],model:{name:"",algorithm:"",pubkey:"",pubkeyFile:null,prikey:"",prikeyFile:null},pubkeyFlag:!1,prikeyFlag:!1,uploadObject:null,algorithmList:[{value:"RSA",name:"RSA"},{value:"DSA",name:"DSA"},{value:"ECDSA",name:"ECDSA"}],rules:{name:[{required:!0,trigger:"change",message:"密钥名称不能为空！"}],algorithm:[{required:!0,trigger:"change",message:"必须选择算法标识！"}],pubkey:[{required:!0,trigger:"change",message:"公钥不能为空！"}]},stampList:[],url:{generate:"/cert/newKeys",add:"/cert/saveOrUpdateKeys",edit:"/cert/saveOrUpdateKeys"}}},computed:{upLoadUrl:function(){return window._CONFIG["domainURL"]+"/cert/saveOrUpdateKeys"},uploadData:function(){return this.uploadObject},showUploadFlag:function(){var e=!1,t=["add","edit"];return t.includes(this.modalType)&&(e=!0),e}},methods:{init:function(e){e&&(this.model=Object.assign({},e),this.pubkeyFlag=!!this.model.pubkey,this.prikeyFlag=!!this.model.prikey),this.visible=!0},handleSuccess:function(e){200==e.code?(this.$sweetAlert.successWithTimer(e.msg),this.$emit("ok"),this.cancelModal()):(this.$sweetAlert.errorWithTimer(e.msg),this.cancelModal())},beforeAvatarUpload:function(){var e=this;return new Promise((function(t,a){e.$nextTick((function(){return t()}))}))},handleChangeFile:function(e,t,a){var i=e.size/1024/1024<5;if(!i)return this.$message.error("文件大小不能超过 5MB!"),void(this.$refs["upload"].uploadFiles=[]);t.length>1&&t.splice(0,1),"success"!=e.status&&("pubkey"==a?this.model.pubkey=e.name:"prikey"==a&&(this.model.prikey=e.name)),"pubkey"==a?this.model.pubkeyFile=e.raw:"prikey"==a&&(this.model.prikeyFile=e.raw)},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var a=t.url[t.modalType],i=Object.assign({},t.model);if(t.model.pubkeyFile)t.uploadObject=i,t.$refs.upload.submit();else if(t.model.prikeyFile)t.uploadObject=i,t.$refs.upload1.submit();else{var r="post";t.$api.httpAction(a,i,r).then((function(e){200==e.code?(t.$sweetAlert.successWithTimer(e.msg),t.$emit("ok"),t.cancelModal()):t.$sweetAlert.errorWithTimer(e.msg)}))}}))},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}},o=l,c=(a("064a"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"1566d14f",null);t["default"]=d.exports},5298:function(e,t,a){},5363:function(e,t,a){},5370:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container",staticStyle:{"margin-right":"9px",padding:"20px"}},[a("div",{staticClass:"max-height flex-column"},[a("div",{staticStyle:{"margin-top":"5px"}},[a("div",{staticStyle:{display:"inline-block"}},[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:templates:update",expression:"'sys:templates:update'"}],attrs:{type:"primary"},on:{click:e.add}},[e._v("添加")])],1),a("div",{staticStyle:{float:"right",width:"20%"}},[a("div",{staticClass:"flex"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"输入模板名称"},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.queryList}},[e._v(" 搜索 ")])],1)])]),a("el-row",{staticClass:"max-height",staticStyle:{"margin-top":"5px"}},[a("el-col",{staticClass:"max-height",attrs:{span:24}},[a("div",{staticClass:"max-height flex-column"},[a("fox-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)}}})],1)])],1)],1),e.archivesModify.show?a("archives-modify",{ref:"archivesModify",attrs:{title:e.archivesModify.textMap[e.archivesModify.status]},on:{close:function(t){e.archivesModify.show=!1},ok:e.queryList}}):e._e(),e.configfiled.show?a("config-filed",{ref:"archivesModify",on:{close:function(t){e.configfiled.show=!1}}}):e._e(),e.fromDesign.show?a("from-design",{ref:"fromDesign",on:{close:function(t){e.fromDesign.show=!1}}}):e._e()],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("f7c4")),o=a("3f19"),c=a("2e5f"),d=a("d89b"),u=a("56ca"),p=a("3149"),m={name:"ArchivesTypeTemplate",components:{foxTable:l["a"],archivesModify:d["default"],ConfigFiled:u["default"],fromDesign:p["default"]},mixins:[o["a"]],data:function(){return{treeData:[],searchText:"",archivesModify:{show:!1,status:"create",textMap:{update:"编辑",create:"添加"},loading:!1},configfiled:{show:!1},fromDesign:{show:!1},url:{templateList:"/templates/pageList"}}},created:function(){this.setTableColumn(),this.queryList()},methods:{add:function(){var e=this;this.archivesModify.status="create",this.archivesModify.show=!0,this.$nextTick((function(){e.$refs["archivesModify"].initForm()}))},update:function(e){var t=this;this.archivesModify.status="update",this.archivesModify.show=!0,this.$nextTick((function(){t.$refs["archivesModify"].initForm(e)}))},configField:function(e){var t=this;this.configfiled.show=!0,this.$nextTick((function(){t.$refs["archivesModify"].initData(e)}))},operate:function(e){var t=this;this.fromDesign.show=!0,this.$nextTick((function(){t.$refs["fromDesign"].initData(e)}))},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{show:!1,column:[{type:"selection",fixed:!0},{label:"操作",prop:"oper",width:400,fixed:"right",render:function(t,a){var i=a.row,r=[{content:"编辑",type:"text",icon:"edit",permission:"sys:templates:update",event:function(){e.update(i)}},{content:"删除",type:"text",color:"#F56C6C",icon:"delete-solid",permission:"sys:templates:del",event:function(){e.queryCateCount(i)}},{content:"配置字段",type:"text",icon:"setting",permission:"sys:templates:config",event:function(){e.configField(i)}},{content:"界面设计",type:"text",icon:"s-order",permission:"sys:templates:design",event:function(){e.operate(i)}}];return t(c["default"],{attrs:{btnInfo:r}})}},{label:"模板名称",prop:"tempName"},{label:"模板类型",prop:"tempType_dictText"},{label:"利用同步",prop:"ifSync_dictText"},{label:"模板描述",prop:"tempDesc"}]}),this.$nextTick((function(){e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{show:!0})}))},queryCateCount:function(e){var t=this;this.$api.httpAction("/templates/queryCateCount",{id:e.id},"post").then((function(a){"200"===a.code?parseInt(a.data)>0?t.$sweetAlert.warnWithTimer("模板已被引用无法删除"):t.handleDel(e):t.$sweetAlert.errorWithTimer("删除失败")}))},handleDel:function(e){var t=this;this.$confirm("确定删除该模板?","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a="/templates/delete",i={id:e.id},r="post";t.$api.httpAction(a,i,r).then((function(e){"200"===e.code?(t.$sweetAlert.successWithTimer(e.msg),t.queryList()):t.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){t.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))},queryList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={tempName:e.searchText,page:e.page.pageNum,limit:e.page.pageSize},e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{loading:!0}),t.next=4,e.$api.getAction(e.url.templateList,a);case 4:i=t.sent,r=i.count,s=i.data,e.page=Object(n["a"])(Object(n["a"])({},e.page),{},{total:1*r}),e.$nextTick((function(){e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{data:s})})),e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{loading:!1});case 10:case"end":return t.stop()}}),t)})))()}}},h=m,f=a("2877"),b=Object(f["a"])(h,i,r,!1,null,"3f93f21c",null);t["default"]=b.exports},5390:function(e,t,a){"use strict";a("cb91")},"542a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("el-form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":"6rem","auto-complete":"off","label-position":"right"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入角色名称",clearable:""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"角色代码",prop:"code"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入角色代码",clearable:""},model:{value:e.model.code,callback:function(t){e.$set(e.model,"code",t)},expression:"model.code"}})],1),a("el-form-item",{attrs:{label:"角色状态",prop:"status"}},[a("dict-select-tag",{attrs:{type:"radio",dictCode:"ROLE_STATUS"},model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}})],1),a("el-form-item",{attrs:{label:"角色类型",prop:"roleType"}},[a("dict-select-tag",{attrs:{dictCode:"ROLE_TYPE"},model:{value:e.model.roleType,callback:function(t){e.$set(e.model,"roleType",t)},expression:"model.roleType"}})],1),a("el-form-item",{attrs:{label:"分类授权",prop:"authCate"}},[a("dict-select-tag",{attrs:{type:"radio",dictCode:"ROLE_AUTH_CATE"},model:{value:e.model.authCate,callback:function(t){e.$set(e.model,"authCate",t)},expression:"model.authCate"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"请输入备注"},model:{value:e.model.remark,callback:function(t){e.$set(e.model,"remark",t)},expression:"model.remark"}})],1)],1)],1),a("div",{directives:[{name:"has",rawName:"v-has",value:"sys:role:update",expression:"'sys:role:update'"}],staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 提交 ")]),a("el-button",{attrs:{type:"default"},on:{click:e.cancelModal}},[e._v("取消")])],1)]):e._e()},r=[],s=(a("d3b7"),a("25f0"),a("159b"),a("b64b"),a("2f62"),a("0fea"),a("0779")),n=(a("61f7"),{components:{DictSelectTag:s["default"]},props:{title:{type:String,default:""},organData:{type:Object,default:function(){return null}},baseSelect:{type:Object,default:function(){return{}}}},data:function(){return{visible:!1,loading:!1,select:{sex:[{value:"0",name:"男"},{value:"1",name:"女"}],role:[],dataType:[],status:[]},baseData:null,model:{name:"",code:"",status:"0",roleType:"",authCate:"0",remark:""},rules:{name:[{required:!0,trigger:"blur",message:"请输入角色名称"}],code:[{required:!0,trigger:"blur",message:"请输入角色代码"}],status:[{required:!0,trigger:"blur",message:"请选择角色状态"}],roleType:[{required:!0,trigger:"blur",message:"请选择角色类型"}],authCate:[{required:!0,trigger:"blur",message:"请选择分类授权"}]},pwdForm:{oldpassword:"",password:"",confirmpassword:""},url:{roleSelected:"sys/role/select"}}},computed:{username:function(){return this.$store.state.user.username}},created:function(){},methods:{initForm:function(e){var t=this;this.visible=!0,this.baseData=e,e?(this.model=Object.assign(this.model,e),this.model.authCate=this.model.authCate.toString()):(this.model.authCate="0",this.model.status="0"),this.$nextTick((function(){t.$refs["form"].resetFields()}))},resetForm:function(e){var t=this;this.$nextTick((function(){t.$refs[e].resetFields()}))},submit:function(){var e=this;this.$refs.form.validate((function(t){if(t){e.loading=!0;var a=Object.assign({},e.model),i="/sys/role/add";a.id&&(i="/sys/role/update");var r="post";e.$api.httpAction(i,a,r).then((function(t){e.loading=!1,200==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.$emit("ok"),e.cancelModal()):e.$sweetAlert.errorWithTimer(t.msg)}))}}))},reset:function(){var e=this;Object.keys(this.model).forEach((function(t){return e.model[t]=""})),this.initForm(this.baseData)},cancelModal:function(){this.visible=!1,this.$emit("close")}}}),l=n,o=(a("1ea0"),a("2877")),c=Object(o["a"])(l,i,r,!1,null,"50c91977",null);t["default"]=c.exports},"56ca":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"配置模板",visible:e.visible,modal:!0,width:"90%",center:"","before-close":e.handleClose,top:"2vh"},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticStyle:{height:"500px"}},[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":e.handleclick}},[a("el-tab-pane",{attrs:{label:"案卷"}},[e.filedlist?a("filed-list",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"temp-data":e.tempData}}):e._e()],1),a("el-tab-pane",{attrs:{label:"卷内（单件）"}},[e.filedList?a("filed-list",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"temp-data":e.tempData}}):e._e()],1)],1)],1)])},r=[],s=a("2087"),n={name:"",components:{FiledList:s["default"]},data:function(){return{visible:!0,filedlist:!1,filedList:!1,loading:!1,tempData:{}}},methods:{handleClose:function(){this.visible=!1,this.tempData={},this.$emit("close")},handleclick:function(e){this.filedlist=!1,this.filedList=!1,this.loading=!0,"0"===e.index?(this.tempData.othType=1,this.filedlist=!0,this.loading=!1):(this.tempData.othType=2,this.filedList=!0,this.loading=!1)},initData:function(e){this.tempData=e,this.filedlist=!1,this.filedList=!1,this.tempData.othType=1,this.filedlist=!0}}},l=n,o=a("2877"),c=Object(o["a"])(l,i,r,!1,null,"6d9a8d10",null);t["default"]=c.exports},"571b":function(e,t,a){},5798:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basic-card",class:{"border-box":e.borderBox}},[e.title?a("div",{staticClass:"title",style:{backgroundImage:"keywords"==e.type?"url(static/img/visual/keyword.png)":"",backgroundSize:"100% 99.99%"}},[a("div",{staticClass:"text"},[e._v(" "+e._s(e.title)+" ")]),e._m(0)]):e._e(),a("div",{staticClass:"body",class:{"form-body":e.formBody,"large-body":e.largeBody,"none-body":e.none}},[e._t("body")],2)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"img-bg"},[a("img",{attrs:{src:"static/img/visual/title-embe.png",alt:""}})])}],s={name:"",components:{},props:{title:{type:String,default:""},type:{type:String,default:""},formBody:{type:Boolean,default:!1},largeBody:{type:Boolean,default:!1},none:{type:Boolean,default:!1},whiteTitle:{type:Boolean,default:!1},borderBox:{type:Boolean,default:!1},titleColor:{type:String,default:""},titleBackgroundColor:{type:String,default:""},closeTitle:{type:Boolean,default:!1}},data:function(){return{}},watch:{},computed:{},methods:{clickCloseBtn:function(){this.$emit("close")}},created:function(){},mounted:function(){}},n=s,l=(a("ee28"),a("2877")),o=Object(l["a"])(n,i,r,!1,null,"6b3aa0c7",null);t["default"]=o.exports},"584e":function(e,t,a){},"59bc":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container flex-column"},[a("div",{staticClass:"table-box max-height"},[a("div",{staticClass:"path-list flex justify-start"},e._l(e.pathList,(function(t,i){return a("div",{key:i,staticClass:"path-list-item flex",on:{click:function(a){return e.pathItemClick(t,i)}}},[a("div",{staticClass:"name",class:{"animated slideInLeft":i>0}},[e._v(" "+e._s(t.name||t.label||"")+" ")]),i<e.pathList.length-1?a("div",[e._v("/")]):e._e()])})),0),a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",pagination:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,"row-style":{cursor:"pointer"}},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),e._m(0)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"prestrain-img"},[a("img",{attrs:{src:"static/img/table/folder.svg",alt:""}}),a("img",{attrs:{src:"static/img/table/file.svg",alt:""}})])}],s=a("5530"),n=a("1da1"),l=(a("96cf"),a("a434"),a("a15b"),a("d81d"),a("b0c0"),a("ac1f"),a("5319"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("1276"),a("f7c4")),o=a("2e5f"),c=a("3d09"),d=a("3f19"),u=a("d215"),p=a("cf45"),m={name:"MyShare",mixins:[d["a"]],components:{foxTable:l["a"],BtnList:o["default"],LogoText:c["default"],FolderModal:u["default"]},props:{},data:function(){return{backLevel:[],baseData:null,date:"",basicLineFlag:!1,pid:null,pathList:[{label:"全部",name:""}],url:{list:"/myShare/list",del:"/myShare/del",showFile:"/myShare/showFile",download:"/myShare/download",view:"sysPers/getViewUrl",queryPower:"/fileShar/queryPower"}}},watch:{},computed:{},methods:{pathItemClick:function(e,t){this.pid=this.backLevel[t-1],this.pathList=this.pathList.splice(0,t+1);var a=this.pathList.map((function(e){return e.name})).join("/");this.queryList(a)},queryList:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,r,n,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e&&0==e.indexOf("/")&&(e=e.replace("/","")),i={pid:t.pid,page:t.page.pageNum,limit:t.page.pageSize},t.table=Object(s["a"])(Object(s["a"])({},t.table),{},{loading:!0}),a.next=5,t.$api.httpAction(t.url.list,i,"post");case 5:r=a.sent,n=r.count,l=r.data,l.map((function(e,t){0==e.fileType?e.fileType="文件":e.fileType="文件夹"})),t.$nextTick((function(){t.table=Object(s["a"])(Object(s["a"])({},t.table),{},{data:l})})),t.page=Object(s["a"])(Object(s["a"])({},t.page),{},{total:1*n}),t.table=Object(s["a"])(Object(s["a"])({},t.table),{},{loading:!1});case 12:case"end":return a.stop()}}),a)})))()},btnClick:function(e){var t=this.table.selection.length,a="";if(0==t&&e.alert&&(a=e.alert),a)this.$sweetAlert.warnWithTimer(a);else{var i=this.table.selection.map((function(e){return e.id})).join(",");this.operate(i,e.value)}},operate:function(e,t){var a=this;switch(t){case"del":var i={id:e.id};this.$api.httpAction(this.url.del,i,"post").then((function(e){"200"==e.code?a.queryList():a.$sweetAlert.errorWithTimer("取消失败!")}));break;case"download":if(new Date(e.deadline)>new Date){var r=Object(p["h"])(new Date,"{y}-{m}-{d}"),s={id:e.id};this.$api.downFile(this.url.download,s).then((function(e){if(e)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([e]),r+".zip");else{var t=window.URL.createObjectURL(new Blob([e])),i=document.createElement("a");i.style.display="none",i.href=t,i.setAttribute("download",r+".zip"),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(t)}else a.$sweetAlert.errorWithTimer("文件下载失败！")}))}else this.$sweetAlert.errorWithTimer("超出分享有效时间！禁止下载！！!");break;default:break}},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(s["a"])(Object(s["a"])({},this.table),{},{show:!1,column:[{type:"selection"},{label:"序号",type:"index"},{label:"",type:"text",width:"50",render:function(e,t){var a=t.row,i="static/img/table/folder.svg";"文件"==a.fileType&&(i="static/img/table/file.svg");var r={logo:i};return e(c["default"],{attrs:{logoInfo:r}})}},{label:"名称",prop:"name",type:"edit"},{label:"编辑",prop:"oper",width:200,fixed:"right",render:function(t,a){var i=a.row,r=[{content:"取消分享",type:"text",icon:"edit-outline",event:function(){e.operate(i,"del")}},{content:"下载",type:"text",event:function(){e.operate(i,"download")}}];return t(o["default"],{attrs:{btnInfo:r}})}},{label:"文件类型",prop:"fileType"},{label:"分享对象",prop:"shareObj"},{label:"分享时间",prop:"createTime"},{label:"有效期",prop:"deadline"}]}),this.$nextTick((function(){e.table=Object(s["a"])(Object(s["a"])({},e.table),{},{show:!0})}))},viewSourceByPdfUrl:function(e,t,a,i){var r={fileUrl:e,fileType:t,fileId:a,fileFrom:"MyShare",shareType:i,queryPower:"fileShar",queryId:a},s=this.$router.resolve({path:"/originalPage",query:r});window.open(s.href,"_blank")},cellClick:function(e,t,a,i){var r=this;if("名称"==t.label)if("文件"==e.fileType){var s={filePath:e.filePath,fileScene:e.fileScene,fileName:e.name};this.$api.getAction(this.url.view,s).then((function(t){if(200==t.code){var a=t.data,i=e.filePath.split("."),s=i[i.length-1];switch(s){case"png":case"jpg":case"mp4":case"mp3":r.viewSourceByPdfUrl(a,s,e.id,e.shareType);break;case"pdf":case"doc":case"docx":case"xls":case"xlsx":case"ppt":case"pptx":1==status?r.viewSourceByPdfUrl(a,s,e.id,e.shareType):r.$sweetAlert.errorWithTimer("文件转换失败，未能打开!");break;default:r.$sweetAlert.errorWithTimer("未被支持格式文件！");break}}}))}else{this.pathList.push({name:e.name}),this.pid=e.id,this.backLevel.push(e.id);var n=this.pathList.map((function(e){return e.name})).join("/");this.queryList(n)}}},created:function(){this.setTableColumn(),this.queryList()},mounted:function(){}},h=m,f=(a("36d4"),a("2877")),b=Object(f["a"])(h,i,r,!1,null,"26e4764c",null);t["default"]=b.exports},"59ea":function(e,t,a){"use strict";a("ef78")},"5afe":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container flex-column"},[a("div",{staticClass:"operate-btn-list"},e._l(e.btnList,(function(t){return a("div",{key:t.value},[a("el-button",{attrs:{size:"mini",type:t.type},on:{click:function(a){return e.btnClick(t)}}},[e._v(" "+e._s(t.label)+" ")])],1)})),0),a("div",{staticClass:"table-box max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,"row-style":{cursor:"pointer"}},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),e.modal.show?a("data-source-modal",{ref:"modal",attrs:{title:e.modal.title,modalType:e.modal.type},on:{ok:e.queryList,close:function(t){e.modal.show=!1}}}):e._e()],1)},r=[],s=a("5530"),n=a("f7c4"),l=a("2e5f"),o=a("3f19"),c=a("8df0"),d=a("ecae"),u={name:"InfoList",mixins:[o["a"],c["a"]],components:{foxTable:n["a"],BtnList:l["default"],DataSourceModal:d["default"]},props:{},data:function(){return{modal:{show:!1,title:"",type:"",loading:!1},modalTitleObject:{add:"数据源设置",edit:"数据源设置"},selfLoadTableFlag:!0,btnList:[{value:"add",label:"新增"}],url:{list:"/dataSource/list",delete:"/dataSource/deleteById",test:"/dataSource/testConnection"}}},watch:{},computed:{},methods:{operate:function(e,t){var a=this,i=e,r=null;switch(t){case"add":case"edit":this.modal.title=this.modalTitleObject[t],this.modal.type=t,this.modal.show=!0,this.$nextTick((function(){a.$refs.modal.init(i)}));break;case"test":r={id:i.id},this.interfaceOperate(t,r,!0);break;case"delete":r={ids:i.id};var s="您确定要删除本数据源吗？";this.operateBeforeConfirm(e,t,s,(function(){a.interfaceOperate(t,r)}));break;case"move":break;default:break}},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(s["a"])(Object(s["a"])({},this.table),{},{show:!1,column:[{label:"数据源标识",prop:"dataSourceName"},{label:"数据库类型",prop:"databaseType"},{label:"url",prop:"url"},{label:"用户名",prop:"user"},{label:"最小连接数",prop:"minNum"},{label:"最大连接数",prop:"maxNum"},{label:"操作",prop:"oper",width:200,fixed:"right",render:function(t,a){var i=a.row,r=[{content:"编辑",type:"text",icon:"edit",event:function(){e.operate(i,"edit")}},{content:"删除",color:e.deleteColor,type:"text",icon:"delete-solid",event:function(){e.operate(i,"delete")}},{content:"测试连接",type:"text",event:function(){e.operate(i,"test")}}];return t(l["default"],{attrs:{btnInfo:r}})}}]}),this.$nextTick((function(){e.table=Object(s["a"])(Object(s["a"])({},e.table),{},{show:!0})}))}},created:function(){},mounted:function(){}},p=u,m=a("2877"),h=Object(m["a"])(p,i,r,!1,null,"83446996",null);t["default"]=h.exports},"5b4e":function(e,t,a){"use strict";a("9cb6")},"5cf0":function(e,t,a){"use strict";a("afd9")},"5dee":function(e,t,a){"use strict";a("f0f2")},"5e1d":function(e,t,a){"use strict";a("1c36")},"5f66":function(e,t,a){"use strict";a("3015")},"5fb3":function(e,t,a){"use strict";a("7b7c")},6036:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload-box"},[a("div",{staticClass:"upload"},[a("div",[e._v(e._s(e.labelText))]),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:e.upLoadUrl,"on-success":e.handleSuccess,"before-upload":e.beforeAvatarUpload,"auto-upload":!1,"show-file-list":!1,accept:"","file-list":e.fileList,"on-change":function(t,a){e.handleChangeFile(t,a)}}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-upload"}},[e._v(" 选择文件 ")]),a("span",{staticStyle:{margin:"0 10px"}},[e._v(" "+e._s(""==e.fileName?"请选择文件...":e.fileName)+" ")])],1),a("div",[a("el-button",{attrs:{type:"default",size:"mini"},on:{click:e.btnClick}},[e._v(" "+e._s(e.btnText))])],1)],1),a("div",{staticClass:"tips"},[e._v(" "+e._s(e.tipsText)+" ")])])},r=[],s=a("ade3"),n=(a("d3b7"),a("a434"),a("b0c0"),{name:"UploadBox",components:{},props:{labelText:{type:String,default:"或者选择著录文件(Excel/EEP/PDF文件)进行离线检测："},btnText:{type:String,default:"离线检测"},tipsText:{type:String,default:"主要检测目录数据库准确性、电子档案内容准确性、电子档案封装包及元数据准确性、目录和电子档案内容关联准确性等"}},data:function(){var e;return e={upLoadUrl:"",fileName:""},Object(s["a"])(e,"upLoadUrl",""),Object(s["a"])(e,"type",""),Object(s["a"])(e,"wsData",{}),Object(s["a"])(e,"sercCode",""),Object(s["a"])(e,"fileList",[]),Object(s["a"])(e,"fileData",null),e},watch:{},computed:{},methods:{btnClick:function(){this.fileData||this.$sweetAlert.warnWithTimer("请选择检测文件后重试！")},handleSuccess:function(e){},beforeAvatarUpload:function(){var e=this;return new Promise((function(t,a){e.$nextTick((function(){return t()}))}))},handleChangeFile:function(e,t){var a=e.size/1024/1024<5;if(!a)return this.$message.error("文件大小不能超过 5MB!"),void(this.$refs["upload"].uploadFiles=[]);t.length>1&&t.splice(0,1),"success"!=e.status&&(this.fileName=e.name),this.fileData=e}},created:function(){},mounted:function(){}}),l=n,o=(a("fbdd"),a("2877")),c=Object(o["a"])(l,i,r,!1,null,"797b7726",null);t["default"]=c.exports},"60e3":function(e,t,a){"use strict";a("8e20")},"611b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dept-search"},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-form-item",{attrs:{label:e.$t("sys_user_top_dept")}},[a("el-tree",{ref:"tree",attrs:{"show-checkbox":"","default-expand-all":"","check-strictly":"","node-key":"id",data:e.deptAssign.data,props:e.deptAssign.defaultProps,"default-checked-keys":e.deptAssign.defaultCheckedkeys}})],1)],1)],1)},r=[],s=a("5530"),n=a("5d6f9"),l=a("2f62"),o={name:"DeptSearch",props:{deptCheckedIds:{type:Array}},computed:Object(s["a"])({},Object(l["e"])({dept:function(e){var t=e.system;return t.dept}})),data:function(){return{deptAssign:{data:[],defaultProps:{children:"children",label:"departName"},defaultCheckedkeys:[]}}},watch:{dept:{handler:function(e){Object(n["isEmpty"])(e)||(this.deptAssign=Object(s["a"])(Object(s["a"])({},this.deptAssign),{},{data:e,defaultCheckedkeys:this.deptCheckedIds}))},immediate:!0}}},c=o,d=(a("03fb"),a("2877")),u=Object(d["a"])(c,i,r,!1,null,"7e38da86",null);t["default"]=u.exports},"61e2":function(e,t,a){},"626c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,width:"600px",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"auto-scroll"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.model,"status-icon":"",rules:e.rules,"label-width":"140px"}},["add"==e.modalType?a("div",[a("el-form-item",{attrs:{label:"证书名称：\t",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"on",maxlength:"50",type:"text",placeholder:"请输入证书名称",clearable:""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"签名名称：\t",prop:"userSignId"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.model.userSignId,callback:function(t){e.$set(e.model,"userSignId",t)},expression:"model.userSignId"}},e._l(e.signList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"证书文件：\t",prop:"cerpath"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo max-width",attrs:{data:e.uploadData,action:e.upLoadUrl,"on-success":e.handleSuccess,"before-upload":e.beforeAvatarUpload,"auto-upload":!1,"show-file-list":!1,accept:"","file-list":e.fileList,"on-change":function(t,a){e.handleChangeFile(t,a,"cerpath")}}},[a("div",{staticClass:"flex max-width"},[a("el-input",{staticStyle:{width:"100%","margin-right":"10px"},attrs:{type:"text",disabled:""},model:{value:e.model.cerpath,callback:function(t){e.$set(e.model,"cerpath",t)},expression:"model.cerpath"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-upload"}},[e._v(" 选择文件 ")])],1)])],1)],1):e._e(),"generate"==e.modalType?a("div",[a("el-form-item",{attrs:{label:"证书名称：\t",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"on",maxlength:"50",type:"text",placeholder:"请输入证书名称",clearable:""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"证书类型：",prop:"type"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.model.type,callback:function(t){e.$set(e.model,"type",t)},expression:"model.type"}},e._l(e.typeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"有效期：",prop:"date"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange","value-format":"yyyy-MM-dd HH:mm:ss",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.model.date,callback:function(t){e.$set(e.model,"date",t)},expression:"model.date"}})],1),a("el-form-item",{attrs:{label:"签发者：\t",prop:"issuer"}},[a("el-input",{attrs:{"auto-complete":"on",maxlength:"50",type:"text",placeholder:"CN=RootCA,OU=R&D,O=Hanma,L=ChangSha,ST=Hunan,C=CN",clearable:""},model:{value:e.model.issuer,callback:function(t){e.$set(e.model,"issuer",t)},expression:"model.issuer"}})],1),a("el-form-item",{attrs:{label:"使用者：\t",prop:"subject"}},[a("el-input",{attrs:{"auto-complete":"on",maxlength:"50",type:"text",placeholder:"CN=RootCA,OU=R&D,O=Hanma,L=ChangSha,ST=Hunan,C=CN",clearable:""},model:{value:e.model.subject,callback:function(t){e.$set(e.model,"subject",t)},expression:"model.subject"}})],1),a("el-form-item",{attrs:{label:" 签发/使用者样例：\t"}},[a("div",{staticClass:"max-width"},[e._v(" CN=RootCA,OU=R&D,O=Hanma,L=ChangSha,ST=Hunan,C=CN ")])]),a("el-form-item",{attrs:{label:"颁发给：",prop:"userSignId"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.model.userSignId,callback:function(t){e.$set(e.model,"userSignId",t)},expression:"model.userSignId"}},e._l(e.signList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1):e._e()])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v(" 保存 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},r=[],s=a("5530"),n=a("1da1"),l=(a("96cf"),a("d3b7"),a("a434"),a("b0c0"),a("7db0"),a("0779")),o=a("cf45"),c={name:"CertificateModal",components:{DictSelectTag:l["default"]},props:{modalType:{type:String,default:""},title:{type:String,default:""}},data:function(){return{greenColor:o["g"],visible:!1,loading:!1,fileList:[],uploadObject:null,model:{name:"",userSignId:"",userSignName:"",cerpath:"",cerpathFile:null,type:"",date:[],issuer:"",subject:""},typeList:[{value:"cer",name:"CER"},{value:"p12",name:"P12"}],rules:{name:[{required:!0,trigger:"change",message:"请输入证书名称！"}],userSignId:[{required:!0,trigger:"change",message:"请选择签名名称！"}],type:[{required:!0,trigger:"change",message:"请选择证书类型！"}],date:[{required:!0,trigger:"change",message:"必须选择有效期！"}],issuer:[{required:!0,trigger:"change",message:"签发者不能为空！"}],subject:[{required:!0,trigger:"change",message:"使用者不能为空！"}],cerpath:[{required:!0,trigger:"change",message:"必须选择一个证书文件！"}]},signList:[],url:{signList:"/cert/signList",generate:"/cert/newCert",add:"/cert/saveCert",edit:"/cert/saveCert"},uploadUrl:""}},computed:{upLoadUrl:function(){return window._CONFIG["domainURL"]+"/cert/saveCert"},uploadData:function(){return this.uploadObject}},methods:{init:function(e){e&&(this.model=Object.assign({},e),this.model.date=[this.model.startDate,this.model.endDate]),this.visible=!0},handleSuccess:function(e){200==e.code?(this.$sweetAlert.successWithTimer(e.msg),this.$emit("ok"),this.cancelModal()):(this.$sweetAlert.errorWithTimer(e.msg),this.cancelModal())},beforeAvatarUpload:function(){var e=this;return new Promise((function(t,a){e.$nextTick((function(){return t()}))}))},handleChangeFile:function(e,t,a){var i=e.size/1024/1024<5;if(!i)return this.$message.error("文件大小不能超过 5MB!"),void(this.$refs["upload"].uploadFiles=[]);t.length>1&&t.splice(0,1),"success"!=e.status&&(this.model.cerpath=e.name),this.model.cerpathFile=e.raw},getSignList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.getAction(e.url.signList,{});case 2:a=t.sent,i=a.data,e.signList=i.list;case 5:case"end":return t.stop()}}),t)})))()},getSignName:function(){var e=this;if(this.model.userSignId){var t=this.signList.find((function(t){return t.id==e.model.userSignId}));t&&(this.model.userSignName=t.name)}},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var a=t.url[t.modalType];t.model.date&&t.model.date.length>0&&(t.model=Object(s["a"])(Object(s["a"])({},t.model),{},{startDate:t.model.date[0],endDate:t.model.date[1]})),t.getSignName();var i=Object.assign({},t.model);if(delete i.date,t.model.cerpathFile)t.uploadObject=i,t.$refs.upload.submit();else{var r="post";t.$api.httpAction(a,i,r).then((function(e){200==e.code?(t.$sweetAlert.successWithTimer(e.msg),t.$emit("ok"),t.cancelModal()):t.$sweetAlert.errorWithTimer(e.msg)}))}}))},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){this.getSignList()}},d=c,u=(a("1e02"),a("2877")),p=Object(u["a"])(d,i,r,!1,null,"962f1aec",null);t["default"]=p.exports},6284:function(e,t,a){},6440:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return"undefined"!==typeof e.formTemplate.list&&"undefined"!==typeof e.formTemplate.config?a("el-form",{ref:"form",staticClass:"form-build form-design",style:e.formTemplate.config.customStyle,attrs:{"label-position":e.formTemplate.config.labelPosition,"hide-required-asterisk":!1,"label-width":e.formTemplate.config.labelWidth+"px",model:e.models,size:e.formTemplate.config.size}},e._l(e.formTemplate.list,(function(t,i){return a("buildBlocks",{key:i,ref:"buildBlocks",refInFor:!0,attrs:{"render-preview":e.renderPreview,record:t,models:e.models,data:e.data,config:e.config,disabled:e.disabled,"form-config":e.formTemplate.config},on:{"update:models":function(t){e.models=t},handleReset:e.reset,change:e.handleChange}})})),1):e._e()},r=[],s=(a("d3b7"),a("06a5")),n={name:"FormBuild",components:{buildBlocks:s["default"]},props:{formTemplate:{type:Object,required:!0},models:{type:Object,required:!0},config:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},defaultValue:{type:Object,default:function(){return{}}},renderPreview:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}},index:{default:""}},data:function(){return{form:this.$refs.form,rules:{}}},mounted:function(){var e=this;this.$nextTick((function(){e.formTemplate.list}))},methods:{reset:function(){this.$refs.form.resetFields()},validator:function(){var e=this;return new Promise((function(t,a){e.$refs.form.validate((function(a,i){t({index:e.index,valid:a})}))}))},getData:function(){var e=this;return this.$refs.form.clearValidate(),new Promise((function(t,a){e.$refs.form.validate((function(i,r){i||(e.$sweetAlert.errorWithTimer("请完成必填项"),a("验证失败")),t(e.models)}))}))},initRules:function(e,t){},initData:function(){},setData:function(e){this.models=e},handleChange:function(e,t){this.$emit("change",e,t)}}},l=n,o=a("2877"),c=Object(o["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},6608:function(e,t,a){"use strict";a("1157")},"672f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("el-form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":"6rem","auto-complete":"off","label-position":"right"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入名称",clearable:""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"签章来源",prop:"source"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入签章来源",clearable:""},model:{value:e.model.source,callback:function(t){e.$set(e.model,"source",t)},expression:"model.source"}})],1),a("el-form-item",{attrs:{label:"印章编号",prop:"stampSn"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入印章编号",clearable:""},model:{value:e.model.stampSn,callback:function(t){e.$set(e.model,"stampSn",t)},expression:"model.stampSn"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("dict-select-tag",{attrs:{type:"radio","dict-code":"STAMP_STATUS"},model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}})],1)],1)],1),a("div",{directives:[{name:"has",rawName:"v-has",value:"sys:role:update",expression:"'sys:role:update'"}],staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 提交 ")]),a("el-button",{attrs:{type:"default"},on:{click:e.cancelModal}},[e._v("取消")])],1)]):e._e()},r=[],s=(a("159b"),a("b64b"),a("0779")),n={components:{DictSelectTag:s["default"]},props:{title:{type:String,default:""},organData:{type:Object,default:function(){return null}},baseSelect:{type:Object,default:function(){return{}}}},data:function(){return{visible:!1,loading:!1,select:{sex:[{value:"0",name:"男"},{value:"1",name:"女"}],role:[],dataType:[],status:[]},baseData:null,model:{name:"",source:"",status:"0",stampSn:""},rules:{name:[{required:!0,trigger:"blur",message:"请输入名称"}],stampSn:[{required:!0,trigger:"blur",message:"请输入签章规则"}],status:[{required:!0,trigger:"blur",message:"请选择状态"}]},url:{roleSelected:"sys/role/select"}}},computed:{username:function(){return this.$store.state.user.username}},created:function(){},methods:{initForm:function(e){var t=this;this.visible=!0,this.baseData=e,e?this.model=Object.assign(this.model,e):this.model.status="0",this.$nextTick((function(){t.$refs["form"].resetFields()}))},resetForm:function(e){var t=this;this.$nextTick((function(){t.$refs[e].resetFields()}))},submit:function(){var e=this;this.$refs.form.validate((function(t){if(t){e.loading=!0;var a=Object.assign({},e.model),i="/sys/stamp/add";a.id&&(i="/sys/stamp/update");var r="post";e.$api.httpAction(i,a,r).then((function(t){e.loading=!1,"200"===t.code?(e.$sweetAlert.successWithTimer(t.msg),e.$emit("ok"),e.cancelModal()):e.$sweetAlert.errorWithTimer(t.msg)}))}}))},reset:function(){var e=this;Object.keys(this.model).forEach((function(t){return e.model[t]=""})),this.initForm(this.baseData)},cancelModal:function(){this.visible=!1,this.$emit("close")}}},l=n,o=(a("105bb"),a("2877")),c=Object(o["a"])(l,i,r,!1,null,"0bd2e496",null);t["default"]=c.exports},6731:function(e,t,a){},"67ba":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"detection-panel"},[a("rotate-circle",{attrs:{rightBtnFlag:e.rightBtnFlag,selectLibraryFlag:e.selectLibraryFlag,showTestResultFlag:e.showTestResultFlag,code:e.code,params:e.array,markerFlag:e.markerFlag}}),e.showUploadFlag?a("upload-box"):e._e(),a("collapse-box",{attrs:{editableTabsValue:e.editableTabsValue},on:{params:e.getArray}})],1)},r=[],s=(a("a9e3"),a("9b0e")),n=a("6036"),l=a("3c76"),o={name:"DetectionPanel",components:{RotateCircle:s["default"],UploadBox:n["default"],CollapseBox:l["default"]},props:{title:{type:String,default:""},rightBtnFlag:{type:Boolean,default:!1},selectLibraryFlag:{type:Boolean,default:!1},showUploadFlag:{type:Boolean,default:!1},editableTabsValue:{type:String,default:""},showTestResultFlag:{type:Boolean,default:!1},code:{type:String},markerFlag:{type:Number}},data:function(){return{array:[]}},watch:{},computed:{},methods:{getArray:function(e){this.array=e.params}},created:function(){},mounted:function(){}},c=o,d=(a("98f5"),a("2877")),u=Object(d["a"])(c,i,r,!1,null,"28ac9e74",null);t["default"]=u.exports},"69dd":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-input",{staticStyle:{"margin-bottom":"30px"},attrs:{placeholder:"Filter keyword"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),a("el-tree",{ref:"tree2",staticClass:"filter-tree",attrs:{data:e.data2,props:e.defaultProps,"filter-node-method":e.filterNode,"default-expand-all":""}})],1)},r=[],s=(a("4de4"),{data:function(){return{filterText:"",data2:[{id:1,label:"Level one 1",children:[{id:4,label:"Level two 1-1",children:[{id:9,label:"Level three 1-1-1"},{id:10,label:"Level three 1-1-2"}]}]},{id:2,label:"Level one 2",children:[{id:5,label:"Level two 2-1"},{id:6,label:"Level two 2-2"}]},{id:3,label:"Level one 3",children:[{id:7,label:"Level two 3-1"},{id:8,label:"Level two 3-2"}]}],defaultProps:{children:"children",label:"label"}}},watch:{filterText:function(e){this.$refs.tree2.filter(e)}},methods:{filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)}}}),n=s,l=a("2877"),o=Object(l["a"])(n,i,r,!1,null,null,null);t["default"]=o.exports},"6a5e":function(e,t,a){"use strict";a("a5cf")},"6a8e":function(e,t,a){"use strict";a("8f48")},"6ad6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"option-change-container",staticStyle:{margin:"4px"}},[["radio","checkbox","select"].includes(e.type)?a("el-row",{attrs:{gutter:2}},[e._l(e.value,(function(t,i){return a("div",{key:i,staticClass:"option-change-box"},[a("el-col",{attrs:{span:11}},[a("el-input",{attrs:{placeholder:"名称"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"val.label"}})],1),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{placeholder:"值"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"val.value"}})],1),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"option-delete-box",on:{click:function(t){return e.handleDelete(i)}}},[a("i",{staticClass:"el-icon-delete"})])])],1)})),a("el-col",{attrs:{span:24}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("添加")])],1)],2):e._e(),"cascader"===e.type?a("el-row",{attrs:{gutter:8}},[a("div",[a("el-tree",{attrs:{data:e.value,"show-checkbox":"","node-key":"value","default-expand-all":"","expand-on-click-node":!1},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node,r=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",[a("el-row",{attrs:{gutter:4}},[a("el-col",{attrs:{span:9}},[a("el-input",{attrs:{placeholder:"名称"},model:{value:r.label,callback:function(t){e.$set(r,"label",t)},expression:"data.label"}})],1),a("el-col",{attrs:{span:9}},[a("el-input",{attrs:{placeholder:"值"},model:{value:r.value,callback:function(t){e.$set(r,"value",t)},expression:"data.value"}})],1),a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.append(r)}}},[a("i",{staticClass:"el-icon-circle-plus-outline"})]),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.remove(i,r)}}},[a("i",{staticClass:"el-icon-delete"})])],1)],1)],1)])}}],null,!1,3920272340)})],1),a("el-col",{attrs:{span:24}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("添加")])],1)],1):e._e(),"rules"===e.type?a("el-row",{attrs:{gutter:8}},[e._l(e.value,(function(t,i){return a("span",{key:i},[0!==i?a("div",{staticClass:"option-change-box"},[a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{placeholder:"提示信息"},model:{value:t.message,callback:function(a){e.$set(t,"message",a)},expression:"val.message"}})],1),a("el-col",{attrs:{span:18}},[a("el-input",{attrs:{placeholder:"正则表达式pattern"},model:{value:t.pattern,callback:function(a){e.$set(t,"pattern",a)},expression:"val.pattern"}})],1),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"option-delete-box",on:{click:function(t){return e.handleDelete(i)}}},[a("i",{staticClass:"el-icon-delete"})])])],1):e._e()])})),e.value&&e.value.length>1?a("el-col",{attrs:{span:24}},[a("div",{staticStyle:{color:"#F56C6C","margin-bottom":"2px"}},[e._v(" (正则表达式) 开头:^ 结尾:$ "),a("br"),e._v(" 例如：(^[0-9]*$) ")])]):e._e(),a("el-col",{attrs:{span:24}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddRules}},[e._v("增加校验")])],1)],2):"colspan"===e.type?a("el-row",{attrs:{gutter:8}},[e._l(e.value,(function(t,i){return a("div",{key:i,staticClass:"option-change-box"},[a("el-col",{attrs:{span:18}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{max:24,placeholder:"名称"},model:{value:t.span,callback:function(a){e.$set(t,"span",a)},expression:"val.span"}})],1),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"option-delete-box",on:{click:function(t){return e.handleDelete(i)}}},[a("i",{staticClass:"el-icon-delete"})])])],1)})),a("el-col",{attrs:{span:24}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddCol}},[e._v("添加")])],1)],2):e._e()],1)},r=[],s=a("2909"),n=(a("99af"),a("4de4"),a("c740"),a("a434"),{name:"ChangeOption",props:{value:{type:Array,required:!0},type:{type:String,default:"option"}},methods:{handleAdd:function(){var e=[].concat(Object(s["a"])(this.value),[{value:"",label:""}]);this.$emit("input",e)},handleAddCol:function(){var e=[].concat(Object(s["a"])(this.value),[{span:12,list:[]}]);this.$emit("input",e)},handleAddRules:function(){var e=[].concat(Object(s["a"])(this.value),[{pattern:"",message:""}]);this.$emit("input",e)},handleDelete:function(e){this.$emit("input",this.value.filter((function(t,a){return a!==e})))},append:function(e){var t={value:"",label:"",children:[]};e.children||this.$set(e,"children",[]),e.children.push(t)},remove:function(e,t){var a=e.parent,i=a.data.children||a.data,r=i.findIndex((function(e){return e.value===t.value}));i.splice(r,1)}}}),l=n,o=(a("60e3"),a("2877")),c=Object(o["a"])(l,i,r,!1,null,"ef55c846",null);t["default"]=c.exports},"6ca8":function(e,t,a){"use strict";a("d3b7");var i=a("bc3a"),r=a.n(i),s=r.a.create({withCredentials:!1});s.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(new Error(e).message)})),s.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(new Error(e).message)})),t["a"]=s},"6cdd":function(e,t,a){},"6d40":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card form-item ",staticStyle:{height:"780px"}},[a("el-collapse",{model:{value:e.actives,callback:function(t){e.actives=t},expression:"actives"}},[a("el-collapse-item",{attrs:{title:"表单字段",name:"1"}},[a("DragItem",{attrs:{list:e.filedListl},on:{generateKey:e.generateKey,handleListPush:e.handleListPush,start:e.handleStart}})],1),a("el-collapse-item",{attrs:{title:"布局组件",name:"2"}},[a("DragItem",{attrs:{list:e.layoutArray},on:{generateKey:e.generateKey,handleListPush:e.handleListPush,start:e.handleStart}})],1)],1)],1)},r=[],s=a("5530"),n=a("1da1"),l=(a("96cf"),a("159b"),a("caad"),a("2532"),a("d0b9")),o=a("ec04"),c={components:{DragItem:o["default"]},props:{recode:{type:Object},filedListl:{type:Array}},data:function(){return{actives:["1","2","3"],noModel:["button","divider","card","grid","table","alert","text","html"],startType:"",loading:!1,filedList:[],filedData:[],data:{list:[],config:{layout:"horizontal",labelCol:{span:4},wrapperCol:{span:18},hideRequiredMark:!1,customStyle:""}},previewOptions:{width:850},selectItem:{key:""}}},computed:{basicsArray:function(){var e=l["a"];return e.forEach((function(e){e.options.dynamicHide=!1,e.options.dynamicHideValue=""})),e},layoutArray:function(){var e=l["b"];return e.forEach((function(e){e.options.dynamicVisible=!1,e.options.dynamicVisibleValue=""})),e}},methods:{queryList:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0==t.recode.id){e.next=4;break}return t.loading=!0,e.next=4,t.$api.getAction("/templates/getTempView",{templateId:t.recode.id,othType:2}).then((function(e){if("200"===e.code)return t.filedData=e.data.list,t.handelFiled(t.filedData)}));case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})))()},handelFiled:function(e){var t,a=this,i=l["a"];e.forEach((function(e){0==parseInt(e.editStyle)?t="input":1==parseInt(e.editStyle)||2==parseInt(e.editStyle)?t="select":3==parseInt(e.editStyle)?t="textarea":(4==parseInt(e.editStyle)||5==parseInt(e.editStyle)||6==parseInt(e.editStyle))&&(t="date"),i.forEach((function(i){if(i.type==t){var r=Object.assign({},i);r.options.dynamicHide=!1,r.options.dynamicHideValue="",r.label=e.fldDesc,r.model=e.fldName,a.filedList.push(r)}}))})),this.loading=!1},generateKey:function(e,t){var a="";a=this.noModel.includes(e[t].type)?e[t].type+"_"+(new Date).getTime():e[t].model,this.$set(e,t,Object(s["a"])(Object(s["a"])({},e[t]),{},{key:a})),this.noModel.includes(e[t].type)&&delete e[t].model},handleListPush:function(e){if(!this.selectItem.key){var t=e.type+"_"+(new Date).getTime();e=Object(s["a"])(Object(s["a"])({},e),{},{key:t}),this.noModel.includes(e.type)&&delete e.model;var a=JSON.stringify(e),i=JSON.parse(a);return delete i.icon,delete i.component,this.data.list.push(i),this.handleSetSelectItem(i),!1}this.$refs.KFCP.handleCopy(!1,e)},handleStart:function(e){this.startType=e}}},d=c,u=(a("6a5e"),a("2877")),p=Object(u["a"])(d,i,r,!1,null,null,null);t["default"]=p.exports},"6d830":function(e,t,a){"use strict";a("6cdd")},"6fab":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("basic-setting",{attrs:{tabsName:"watermark-settings"}})},r=[],s=a("7354"),n={name:"",components:{BasicSetting:s["default"]},props:{},data:function(){return{}},watch:{},computed:{},methods:{},created:function(){},mounted:function(){}},l=n,o=(a("30eb"),a("2877")),c=Object(o["a"])(l,i,r,!1,null,"d4d03c7a",null);t["default"]=c.exports},"701a":function(e,t,a){"use strict";a.r(t);var i,r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"max-height"},[a("el-col",{staticClass:"max-height",attrs:{span:5}},[a("div",{staticClass:"max-height left-side"},[a("div",{staticClass:"operate-box nowrap flex justify-start padding-right-10"},[a("div",[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:organ:update",expression:"'sys:organ:update'"}],attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.btnClick("add")}}},[e._v(" 添加 ")]),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:organ:delete",expression:"'sys:organ:delete'"}],attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.btnClick("delete")}}},[e._v(" 删除 ")]),a("el-input",{staticStyle:{width:"180px","margin-left":"10px"},attrs:{placeholder:"输入关键字进行过滤",clearable:""},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1)]),a("div",{staticClass:"tree-title"},[e._v("组织机构树")]),a("div",{staticClass:"overflow-auto"},[a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],attrs:{data:e.treeData,defaultExpandedKeys:e.defaultExpandedKeys,filterText:e.filterText},on:{click:e.treeNodeClick,expandedChange:e.expandedChange}})],1)])]),a("el-col",{staticClass:"max-height",attrs:{span:19}},[a("div",{staticClass:"max-height flex-column"},[a("el-card",{staticClass:"box-card max-height"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.title.textMap[e.title.status]))])]),a("div",{staticClass:"form-class"},[a("el-form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":"6rem","auto-complete":"off","label-position":"right"}},[a("el-form-item",{attrs:{label:"组织名称",prop:"name"}},[a("div",{staticClass:"flex"},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入组织名称",clearable:""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.btnClick("history")}}},[e._v("查看历史版本")])],1)]),"0"!=e.model.type?a("el-form-item",{attrs:{label:"组织类型",prop:"type"}},[a("el-radio-group",{on:{change:e.typeRadioChange},model:{value:e.model.type,callback:function(t){e.$set(e.model,"type",t)},expression:"model.type"}},e._l(e.select.type,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(" "+e._s(t.label||t.name)+" ")])})),1)],1):e._e(),"1"==e.model.type?a("el-form-item",{attrs:{label:"全宗号",prop:"fondCode"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入全宗号",clearable:""},model:{value:e.model.fondCode,callback:function(t){e.$set(e.model,"fondCode",t)},expression:"model.fondCode"}})],1):e._e(),a("el-form-item",{attrs:{label:"组织编号",prop:"code"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入组织编号",clearable:""},model:{value:e.model.code,callback:function(t){e.$set(e.model,"code",t)},expression:"model.code"}})],1),a("el-form-item",{attrs:{label:"父节点名",prop:"parentName"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请选择父节点",disabled:"",readonly:""},model:{value:e.model.parentName,callback:function(t){e.$set(e.model,"parentName",t)},expression:"model.parentName"}})],1),a("el-form-item",{attrs:{label:"排序号",prop:"sort"}},[a("el-input-number",{attrs:{min:1,maxlength:"50",type:"text",placeholder:"请输入排序号",clearable:""},model:{value:e.model.sort,callback:function(t){e.$set(e.model,"sort",t)},expression:"model.sort"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"remark"}},[a("el-input",{attrs:{maxlength:"50",autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"请输入描述",clearable:""},model:{value:e.model.remark,callback:function(t){e.$set(e.model,"remark",t)},expression:"model.remark"}})],1)],1)],1),a("div",{directives:[{name:"has",rawName:"v-has",value:"sys:organ:update",expression:"'sys:organ:update'"}],staticClass:"btn-list flex text-right"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 提交 ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")])],1)])],1)])],1),e.history.show?a("history-list",{ref:"history",attrs:{title:e.history.title,list:e.history.list},on:{close:function(t){e.history.show=!1}}}):e._e()],1)},s=[],n=a("ade3"),l=a("1da1"),o=(a("96cf"),a("b0c0"),a("4de4"),a("d81d"),a("a15b"),a("159b"),a("b64b"),a("7db0"),a("caad"),a("2532"),a("60f9")),c=(a("3f19"),a("0779")),d=a("2ad3"),u={name:"",components:{BasicTree:o["default"],DictSelectTag:c["default"],HistoryList:d["default"]},props:{},data:function(){return{loading:!1,initLoadOver:!1,treeData:[],baseData:[],filterText:"",history:{title:"部门名称历史版本",show:!1,loading:!1},select:{type:[{value:"1",name:"机构"},{value:"2",name:"部门"}],open:[{value:"true",name:"是"},{value:"false",name:"否"}]},model:{parentId:"",id:"",parentName:"",type:"",fondCode:"",code:"",name:"",sort:"",open:"",remark:""},rules:{parentName:[{required:!0,trigger:"change",message:"请选择父节点"}],fondCode:[{required:!0,trigger:"change",message:"请输入全宗号"}],code:[{required:!0,trigger:"change",message:"请输入组织编号"}],name:[{required:!0,trigger:"change",message:"请输入组织名称"}],sort:[{required:!1,trigger:"change",message:"请输入排序号"}],remark:[{required:!1,trigger:"change",message:"请输入描述"}]},defaultExpandAll:!1,defaultExpandedKeys:[],codeData:null,typeRadioValue:null,title:{status:"create",textMap:{update:"修改组织",create:"添加组织"}},url:{tree:"/sys/organ/organTree",delete:"/sys/organ/delete",save:"/sys/organ/save",update:"/sys/organ/update"}}},watch:{},computed:{},methods:(i={expandedChange:function(e){this.defaultExpandedKeys=e},btnClick:function(){}},Object(n["a"])(i,"btnClick",(function(e){var t=this,a={add:{name:"添加",msg:"请选择父节点！"},delete:{name:"删除",msg:"请选择部门节点！"},history:{name:"历史记录",msg:"请选择部门节点！"}},i=a[e]["msg"];if(this.codeData)switch(e){case"add":this.title.status="create",this.initForm();break;case"delete":this.delete();break;case"history":var r=this.codeData.id;this.history.show=!0,this.$nextTick((function(){t.$refs["history"].init(r)}));break;default:break}else this.$sweetAlert.warnWithTimer(i)})),Object(n["a"])(i,"delete",(function(){var e=this,t="确定要删除【"+this.codeData.name+"】,以及子级部门?";this.$confirm(t,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=e.url.delete,a=e.codeData.id,i=[],r=e.baseData.filter((function(e){return e.parentId==a}));r.length>0&&(i=r.map((function(e){return e.id}))),i.push(a);var s=i.join(","),n={id:s},l="post";e.$api.httpAction(t,n,l).then((function(t){0==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.getTreeData(),e.codeData=null,e.title.status="create",e.initForm()):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))})),Object(n["a"])(i,"initForm",(function(){var e=this;Object.keys(this.model).forEach((function(t){return e.model[t]=""})),this.$nextTick((function(){if(e.$refs["form"].resetFields(),e.model.open="true",e.model.type="1",e.codeData)if("create"==e.title.status){var t=JSON.parse(JSON.stringify(e.codeData));e.model.parentId=t.id,e.getParentNameById()}else"update"==e.title.status&&e.setCodeData();null!=e.typeRadioValue&&(e.model.type=e.typeRadioValue)}))})),Object(n["a"])(i,"getParentNameById",(function(){var e=this,t=JSON.parse(JSON.stringify(this.baseData)),a=t.find((function(t){return t.id==e.model.parentId}));this.model.parentName=a?a.name:"无"})),Object(n["a"])(i,"submit",(function(){var e=this;this.$refs.form.validate((function(t){if(t){e.loading=!0;var a=Object.assign({},e.model);a.value=a.valueId,delete a.valueId;var i=e.url.save;a.id&&(i=e.url.update);var r="post";e.$api.httpAction(i,a,r).then((function(t){e.loading=!1,200==t.code?(e.$sweetAlert.successWithTimer(t.msg),a.id||(e.defaultExpandedKeys.push(t.data.id),e.typeRadioValue=a.type,e.initForm()),e.getTreeData()):e.$sweetAlert.errorWithTimer(t.msg)}))}}))})),Object(n["a"])(i,"reset",(function(){this.initForm()})),Object(n["a"])(i,"typeRadioChange",(function(e){var t=this;this.$nextTick((function(){t.typeRadioValue=e}))})),Object(n["a"])(i,"treeNodeClick",(function(e){this.codeData=e,this.setCodeData()})),Object(n["a"])(i,"setCodeData",(function(){var e=this,t=JSON.parse(JSON.stringify(this.codeData));Object.keys(this.model).map((function(a){return e.model[a]=t[a]})),this.title.status="update",this.getParentNameById()})),Object(n["a"])(i,"getTreeData",(function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.getAction(e.url.tree,{});case 3:a=t.sent,i=a.treeData,localStorage.setItem("organTreeArray",JSON.stringify(i)),i.forEach((function(e){e.valueId=e.value||""})),e.baseData=i,e.treeData=e.setTreeData(i),t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](0);case 13:case"end":return t.stop()}}),t,null,[[0,11]])})))()})),Object(n["a"])(i,"resetDeleteCodeTree",(function(e){this.baseData=this.baseData.filter((function(t){return!e.includes(t.id)}));var t=JSON.parse(JSON.stringify(this.baseData));this.treeData=this.setTreeData(t)})),Object(n["a"])(i,"setTreeData",(function(e){var t=e.filter((function(e){return"-1"==e.parentId}));this.initLoadOver||(this.defaultExpandedKeys=t.map((function(e){return e.id})),this.initLoadOver=!0),e.map((function(e){return e.label=e.name,"0"==e.type&&(e.elIcon="s-home"),"1"==e.type&&(e.elIcon="office-building"),"2"==e.type&&(e.elIcon="folder"),e}));var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length&&t(a.children)}))};return a(t),t})),i),created:function(){this.getTreeData(),this.initForm()},mounted:function(){}},p=u,m=(a("1252"),a("2877")),h=Object(m["a"])(p,r,s,!1,null,"c82c526a",null);t["default"]=h.exports},"71a5":function(e,t,a){"use strict";a("c6ab")},7232:function(e,t,a){},7254:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"json-box"},[a("el-input",{ref:"myEditor",staticStyle:{"min-height":"300px",height:"300px"},attrs:{rows:15,readonly:"",type:"textarea",value:e.editorJson}})],1),a("div",{staticClass:"copy-btn-box"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleExportJson}},[e._v(" 导出代码 ")])],1)])},r=[],s={name:"PreviewCode",components:{},props:{fileFormat:{type:String,default:"json"},editorJson:{type:String,default:""}},data:function(){return{visible:!1}},methods:{exportData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"demo.".concat(this.fileFormat),a="data:text/csv;charset=utf-8,";a+=e;var i=encodeURI(a),r=document.createElement("a");r.setAttribute("href",i),r.setAttribute("download",t),r.click()},handleExportJson:function(){this.exportData(this.editorJson)}}},n=s,l=a("2877"),o=Object(l["a"])(n,i,r,!1,null,null,null);t["default"]=o.exports},7259:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return!0===e.record.options.hidden||!["input","textarea","date","time","number","radio","checkbox","select","rate","switch","slider","uploadImg","uploadFile","cascader"].includes(e.record.type)||!e.dynamicVisibleItem||"select"==e.record.type&&e.renderPreview&&e.record.options.previewHidden?"batch"!==e.record.type&&"editor"!==e.record.type||!e.dynamicVisibleItem?"button"===e.record.type&&e.dynamicVisibleItem?a("el-form-item",[a("el-button",{attrs:{disabled:e.disabled||e.record.options.disabled,type:e.record.options.type},domProps:{textContent:e._s(e.record.label)}})],1):"text"===e.record.type&&e.dynamicVisibleItem?a("div",{staticClass:"form-label",style:{textAlign:e.record.options.textAlign}},[a("label",{class:{"is-required":e.record.options.showRequiredMark||e.showRequiredMark},domProps:{textContent:e._s(e.record.label)}})]):"html"===e.record.type&&e.dynamicVisibleItem?a("div",{domProps:{innerHTML:e._s(e.record.options.defaultValue)}}):e.dynamicVisibleItem?a("div",["divider"===e.record.type&&""!==e.record.label&&e.record.options.orientation?a("el-divider",{attrs:{"content-position":e.record.options.orientation}},[e._v(e._s(e.record.label))]):"divider"===e.record.type&&""!==e.record.label?a("el-divider",[e._v(e._s(e.record.label))]):"divider"===e.record.type&&""===e.record.label?a("el-divider"):e._e()],1):e._e():a("el-form-item",{attrs:{label:e.record.options.showLabel?e.record.label:""}},["batch"===e.record.type?a("TableBatch",{ref:"TableBatch",style:"width:"+e.record.options.width,attrs:{"render-preview":e.renderPreview,models:e.models,record:e.record,config:e.formConfig,"parent-disabled":e.disabled},on:{change:function(t){return e.handleChange(t,e.record.model)}},model:{value:e.models[e.record.model],callback:function(t){e.$set(e.models,e.record.model,t)},expression:"models[record.model]"}}):e._e()],1):a("el-form-item",{staticStyle:{"margin-top":"9px"},attrs:{label:e.formConfig.labelWidth>0?e.record.label:null,rules:e.recordRules,prop:e.itemProp?e.itemProp:e.record.rules&&e.record.rules.length>0?e.record.model:null}},[a("BaseItem",{attrs:{models:e.models,"form-config":e.formConfig,"render-preview":e.renderPreview,data:e.data,record:e.record,disabled:e.disabled||e.record.options.disabled},on:{change:e.handleChange}})],1)},r=[],s=(a("d81d"),a("4d63"),a("ac1f"),a("25f0"),a("4c33")),n=a("1e63"),l=a("0482"),o={name:"FormItem",components:{TableBatch:s["default"],BaseItem:n["default"]},props:{record:{type:Object,required:!0},formConfig:{type:Object,required:!0},models:{type:Object,required:!0},disabled:{type:Boolean,default:!1},itemProp:{type:String,default:null},renderPreview:{type:Boolean,default:!1},isDragPanel:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}}},data:function(){return{checkList:[]}},computed:{customList:function(){return window.$customComponentList?window.$customComponentList.map((function(e){return e.type})):[]},showRequiredMark:function(){var e=this.record.options.showRequiredMarkScript;if(!e)return!1;var t=Object(l["a"])(e,this.models);return t},dynamicVisibleItem:function(){if(this.isDragPanel)return!0;if(!this.record.options||!this.record.options.dynamicVisible)return!0;if(!this.record.options.dynamicVisibleValue)return!0;var e=this.record.options.dynamicVisibleValue,t=Object(l["a"])(e,this.models);return t},recordRules:function(){if(this.renderPreview)return[];for(var e=this.record.rules,t=0;t<e.length;t++){var a=e[t];1!=a.vtype&&2!=a.vtype||(a.validator=this.validatorFiled),a.trigger||(a.trigger=["change","blur"])}return e}},watch:{checkList:{handler:function(e,t){this.$set(this.models,this.record.model,e)},deep:!0}},mounted:function(){if(!this.models[this.record.model]){var e=this.record.options.defaultValue;e&&("checkbox"==this.record.type?this.checkList=e:this.models[this.record.model]=e)}},methods:{validatorFiled:function(e,t,a){if(1!=e.vtype){if(2==e.vtype){var i=e.script,r=Object(l["a"])(i,this.models);r?a():a(new Error(e.message))}}else{if(!e.pattern)return void a();var s=new RegExp(e.pattern);s.test(t)?a():a(new Error(e.message))}},handleChange:function(e,t){this.$emit("change",e,t)}}},c=o,d=(a("9a47"),a("2877")),u=Object(d["a"])(c,i,r,!1,null,"484b6cad",null);t["default"]=u.exports},7354:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container tab-pane-box"},[a("el-tabs",{staticClass:"max-height flex-column",attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.formModelObject,(function(t,i){return a("el-tab-pane",{key:i,class:"cell "+i,attrs:{label:t.tabName,name:i,lazy:""}},[t.title?a("div",{staticClass:"form-title"},[e._v(" "+e._s(t.title)+" ")]):e._e(),a("div",{staticClass:"pane-box"},[a("div",{staticClass:"pane-left"},[i==e.activeName?a("basic-form",{ref:t.formName,refInFor:!0,attrs:{formModel:t.formModel,refName:t.formName+"RefName",halfFormFlag:t.halfFormFlag,defaultInputWidth:"200px",defaultTextareaWidth:"400px"},on:{submit:e.submitForm}}):e._e()],1),t.pdfReview?a("div",{staticClass:"pane-right"},[a("pdf-detail",{attrs:{pdf:e.previewPdf||e.defaultPdf}})],1):e._e()]),a("div",{staticClass:"btn-list"},[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"websiteSetting:add",expression:"'websiteSetting:add'"}],attrs:{type:"primary"},on:{click:function(a){return e.submit(t.submitType)}}},[e._v(" "+e._s(t.submitText?t.submitText:"提交")+" ")])],1)])})),1)],1)},r=[],s=a("1da1"),n=(a("159b"),a("b64b"),a("7db0"),a("ac1f"),a("1276"),a("ace4"),a("d3b7"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("3ca3"),a("ddb0"),a("2b3d"),a("96cf"),a("9962")),l=a("f4b1"),o=a("eccd"),c={name:"BasicSetting",mixins:[l["a"]],components:{BasicForm:n["default"],PdfDetail:o["default"]},props:{tabsName:{type:String,default:""}},data:function(){return{activeName:"archive-business",content:"",submitType:null,url:{edit:"/setting/addWebsiteSetting",list:"/websiteSetting",view:"/waterMarker/viewDemo/test.pdf"},previewPdf:""}},watch:{},computed:{defaultPdf:function(){return window._CONFIG["domainURL"]+this.url.view}},methods:{handleClick:function(e,t){},submit:function(e){this.submitType=e,this.$refs[this.formModelObject[this.activeName].formName][0].submit()},submitForm:function(e){var t=this,a=e.refName,i=e.formData,r=(this.active,this.url.edit),s="post";this.$api.httpAction(r,i,s).then((function(e){t.loading=!1,200==e.code?(t.$sweetAlert.successWithTimer(e.msg),"preview"==t.submitType&&t.waterMarker(),"siteSettingsRefName"==a&&t.changeSetting(i)):t.$sweetAlert.errorWithTimer(e.msg)}))},waterMarker:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={},t.prev=1,t.next=4,e.$api.getAction(e.url.view,a);case 4:t.sent,t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](1);case 9:e.previewPdf=window._CONFIG["domainURL"]+e.url.view+"?t="+(new Date).getTime();case 10:case"end":return t.stop()}}),t,null,[[1,7]])})))()},initData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={},t.next=3,e.$api.getAction(e.url.list,a);case 3:i=t.sent,r=i.data,Object.keys(e.formModelObject).forEach((function(t){var a=e.formModelObject[t].formModel;a.formList.forEach((function(e){e.value=e.prop&&r[e.prop]?r[e.prop]:null}))})),Object.keys(e.formModelObject).forEach((function(t){var a=e.formModelObject[t].formModel,i=!1;if(a.hideFormFlag){var r=a.formList.find((function(e){return void 0!=e.hideFormSwitch}));r&&r.value==r.hideFormSwitch&&(i=!0)}a.formList.forEach((function(e){e.hideFormItem&&i&&(a.hideFormFlag=!1)}))}));case 7:case"end":return t.stop()}}),t)})))()},changeSetting:function(e){var t=this,a=["copyright","websiteName","companyLogo","indexTitle"];a.forEach((function(a){t.$store.dispatch("settings/changeSetting",{key:a,value:e[a]})})),document.title=e["indexTitle"]},dataURItoBlob:function(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var a=e.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(t.length),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);var s=new Blob([i],{type:a});return s},showAgreementBook:function(e){var t=this.dataURItoBlob(e);if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t);else{var a=URL.createObjectURL(t);window.open(a)}}},created:function(){this.tabsName&&(this.activeName=this.tabsName),this.initData()},mounted:function(){}},d=c,u=(a("5dee"),a("2877")),p=Object(u["a"])(d,i,r,!1,null,"687dd0a2",null);t["default"]=p.exports},"735a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container max-height flex-column"},[e.showListFlag?a("div",{staticClass:"max-height flex-column"},[a("div",{staticClass:"operate-box nowrap flex justify-end"},[a("div"),a("div",{staticClass:"flex padding-right-10"},[a("div",{staticClass:"search-item-label"},[e._v("文件夹名称：")]),a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{placeholder:"文件夹名称",size:"mini",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryList(t)}},model:{value:e.searchParams.name,callback:function(t){e.$set(e.searchParams,"name",t)},expression:"searchParams.name"}})],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(t){return e.queryList(1)}}},[e._v(" 搜索 ")]),a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.btnClick("add")}}},[e._v(" 新建文件夹 ")]),a("el-button",{attrs:{type:"default",size:"mini"},on:{click:function(t){return e.btnClick("back")}}},[e._v(" 返回上一层 ")])],1),a("div",{staticClass:"table-box max-height"},[a("div",{staticClass:"path-list flex justify-start"},e._l(e.pathList,(function(t,i){return a("div",{key:i,staticClass:"path-list-item flex",on:{click:function(a){return e.pathItemClick(t,i)}}},[a("div",{staticClass:"name",class:{"animated slideInLeft":i>0}},[e._v(" "+e._s(t.name||t.label||"")+" ")]),i<e.pathList.length-1?a("div",[e._v("/")]):e._e()])})),0),a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,"row-style":{cursor:"pointer"}},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1)]):e._e(),e.showListFlag?e._e():a("div",{staticClass:"max-height"},[a("cate-panel",{attrs:{cateId:e.cateId},on:{click:e.catePanelClick}})],1),e.edit.show?a("edit-modal",{ref:"edit",attrs:{pathItem:e.pathItem},on:{ok:e.queryList,close:function(t){e.edit.show=!1}}}):e._e()],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("a15b"),a("d81d"),a("caad"),a("2532"),a("b64b"),a("a434"),a("b0c0"),a("f7c4")),o=a("3f19"),c=a("70ef"),d=a("faca"),u=a("2e5f"),p=a("f336"),m={name:"FolderManage",mixins:[o["a"],d["a"]],components:{foxTable:l["a"],BtnList:u["default"],EditModal:p["default"],CatePanel:c["default"]},props:{},data:function(){return{edit:{show:!1,loading:!1},loading:!1,url:{list:"/sysElectronicFolder/list",delete:"/sysElectronicFolder/delete"},searchParams:{name:""},pathList:[{label:"全部",name:"",pid:"",isTop:!0}],pathItem:{isTop:!0,pid:"",rootDirId:"",levelCode:""}}},watch:{},computed:{},methods:{setTableColumn:function(){var e=this;this.$createElement;this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{show:!1,column:[{label:"操作",prop:"oper",width:120,align:"left",headerAlign:"center",fixed:"right",render:function(t,a){var i=a.row,r=[{content:"编辑",type:"text",icon:"edit",event:function(){e.operate(i,"edit")}},{content:"删除",type:"text",color:"#F56C6C",icon:"delete-solid",event:function(){e.operate(i,"delete")}}];return t(u["default"],{attrs:{btnInfo:r}})}},{type:"index",label:"序号"},{label:"文件夹名称",prop:"folderName"},{label:"密级",prop:"sercCode_dictText"}]}),this.$nextTick((function(){e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{show:!0})}))},btnClick:function(e){var t=this.table.selection.map((function(e){return e.ID})).join(",");this.operate(t,e)},selectionMsg:function(){var e="",t=this.table.selection.length;return 0==t&&(e="至少选择一条记录"),e},operate:function(e,t){var a=this;switch(t){case"add":this.edit.show=!0,this.$nextTick((function(){a.$refs.edit.init()}));break;case"edit":this.edit.show=!0,this.$nextTick((function(){a.$refs.edit.init(e)}));break;case"back":if(this.pathList.length>1){if(this.table.loading)return;this.pathList.pop(),this.pathItem=this.pathList[this.pathList.length-1],this.queryList()}else this.$sweetAlert.warnWithTimer("已经是最顶级！");break;case"delete":break;default:break}var i={delete:{name:"立即执行",msg:"确定删除?",url:this.url.delete,params:{rootDirId:e.rootDirId,levelCode:e.levelCode}}};if(Object.keys(i).includes(t)){var r=i[t],s=r["msg"];this.$confirm(s,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=r.url,t=r.params,i="post";a.$api.httpAction(e,t,i).then((function(e){200==e.code?(a.$sweetAlert.successWithTimer(e.msg),a.queryList()):a.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))}},pathItemClick:function(e,t){this.pathList=this.pathList.splice(0,t+1),this.pathItem=e,this.queryList()},queryList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={pid:e.pathItem.pid,folderName:e.searchParams.name,page:e.page.pageNum,limit:e.page.pageSize},e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{loading:!0}),t.next=4,e.$api.getAction(e.url.list,a);case 4:i=t.sent,r=i.count,s=i.data,s.map((function(e){var t="";1==e.sercCode?t="公开":2==e.sercCode&&(t="内部"),e.sercCode_dictText=t})),e.page=Object(n["a"])(Object(n["a"])({},e.page),{},{total:1*r}),e.$nextTick((function(){e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{data:s})})),e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{loading:!1});case 11:case"end":return t.stop()}}),t)})))()},cellClick:function(e,t,a,i){this.table.loading||t.property&&"oper"==t.property||(this.pathItem={label:e.folderName,name:e.folderName,pid:e.id,levelCode:e.levelCode,rootDirId:e.rootDirId},this.pathList.push(Object(n["a"])({},this.pathItem)),this.queryList())},treeNodeClick:function(e){var t=e.id;this.pathList=[{label:"全部",name:"",pid:t,isTop:!0}],this.pathItem={isTop:!0,pid:t,rootDirId:"",levelCode:""},this.queryList()}},created:function(){this.setTableColumn()},mounted:function(){}},h=m,f=(a("525d"),a("2877")),b=Object(f["a"])(h,i,r,!1,null,"67c9c133",null);t["default"]=b.exports},"73d4":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"role-maintenance"},[a("el-row",{staticClass:"my-3 pt-3"},[a("el-button",{attrs:{plain:"",type:"primary",icon:"el-icon-plus"},on:{click:e.addUser}},[e._v("用户录入")]),a("el-button",{attrs:{plain:"",icon:"iconfont icon-wy-upload"},on:{click:e.addUserHas}},[e._v("添加已有用户")]),a("el-dropdown",{directives:[{name:"show",rawName:"v-show",value:e.show.batch,expression:"show.batch"}],staticClass:"dropdown",attrs:{placement:"bottom"}},[a("el-button",{attrs:{plain:""}},[e._v(" 批量操作"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{directives:[{name:"has",rawName:"v-has",value:"roleMaintenance:delete",expression:"'roleMaintenance:delete'"}],nativeOn:{click:function(t){return e.deleteBatch(t)}}},[a("i",{staticClass:"el-icon-delete"}),e._v("删除 ")])],1)],1)],1),a("el-row",[a("collapse",{attrs:{"collapse-props":e.collapse}},[a("div",{attrs:{slot:"collapse-title"},slot:"collapse-title"},[a("span",[e._v("角色人员信息")])]),a("div",{attrs:{slot:"collapse-content"},slot:"collapse-content"},[a("fox-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],attrs:{column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selectionChange}})],1)])],1),a("slide-out",{attrs:{visible:e.drawer.show,dock:e.drawer.direction,title:e.drawer.title,size:e.drawer.width,"close-on-mask-click":!1,"allow-resize":""},on:{"update:visible":function(t){return e.$set(e.drawer,"show",t)}}},[a(e.component.type,{ref:e.component.ref,tag:"component",attrs:{data:e.component.data},on:{closeFlush:e.closeFlush}}),e.drawer.showFooter?a("div",{attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"flex justify-end"},[a("popover-confirm",{staticClass:"mx-2",on:{confirm:e.popoverConfirm}},[a("div",{attrs:{slot:"popover-title"},slot:"popover-title"},[e._v(e._s(e.$t("common_sure_to_close_popover")))]),a("div",{attrs:{slot:"popover-content"},slot:"popover-content"},[a("el-button",{attrs:{plain:""}},[e._v(e._s(e.$t("common_cancel")))])],1)]),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.drawer.loading,expression:"drawer.loading"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(e._s(e.$t("common_submit")))])],1)]):e._e()],1),a("drag-dialog",{attrs:{"drag-dialog":e.dialog},on:{confirm:e.confirmAdd}},[a("add-user",{ref:e.user.ref,attrs:{data:e.user.data},on:{handleSuccess:e.handleSuccess}})],1)],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("b0c0"),a("a15b"),a("d81d"),a("2f62")),o=a("ed08"),c=a("c000"),d=a("8cc4"),u=a("eddf"),p=a("f7c4"),m=a("f541"),h=a("9a81"),f=a("1edd"),b=a("8b2e"),g=a("5d6f9"),v={name:"RoleMaintenance",props:{data:{type:Object}},components:{Collapse:c["default"],DragDrawer:d["a"],DragDialog:u["a"],foxTable:p["a"],AddUser:f["default"],PopoverConfirm:b["a"]},data:function(){var e=this;this.$createElement;return{collapse:{name:"userRole"},table:{data:[],column:[{type:"selection",fixed:!0},{label:"操作",prop:"oper",width:80,render:function(t,a){var i=a.row,r=(a.$index,[{content:"修改",className:"fa fa-fw fa-pencil",permission:"roleMaintenance:update",event:function(){e.edit(i)}},{content:"删除",className:"iconfont icon-wy-delete2",popover:!0,popText:"确定要删除吗",permission:"roleMaintenance:delete",event:function(t,a){e.confirmDelete(i.id,t,a)}}]);return t(m["default"],{attrs:{btnInfo:r}})}},{label:"用户账号",prop:"username"},{label:"用户名称",prop:"realname"},{label:"工号",prop:"workNo"},{label:"部门",prop:"orgCode"},{label:"状态",prop:"status_dictText"}],loading:!1,selection:[]},page:{pageNum:1,pageSize:10,total:0},show:{batch:!1},drawer:{show:!1,direction:"right",loading:!1,showFooter:!0},component:{type:h["default"],ref:"",data:{}},dialog:{width:300,height:300,name:"addUserHas",showFooter:!0},user:{ref:"user",data:{}}}},watch:{data:{handler:function(e){Object(g["isEmpty"])(e)||this.queryList()},immediate:!0},"$i18n.locale":function(){this.queryList(),this.setI18n()}},methods:Object(n["a"])(Object(n["a"])({},Object(l["b"])({getSex:"GET_SEX",getUserStatus:"GET_USER_STATUS",getAllRoles:"GET_ALL_ROLES",getAllDept:"GET_ALL_DEPT",getActivitySync:"GET_ACTIVITY_SYNC"})),{},{addUser:function(){this.drawer=Object(n["a"])(Object(n["a"])({},this.drawer),{},{title:"添加用户",width:"500px",show:!0}),this.component=Object(n["a"])(Object(n["a"])({},this.component),{},{type:h["default"],data:{}})},edit:function(e){this.drawer=Object(n["a"])(Object(n["a"])({},this.drawer),{},{title:this.$t("common_edit"),width:"500px",show:!0}),this.component=Object(n["a"])(Object(n["a"])({},this.component),{},{type:h["default"],ref:"edit",data:e})},addUserHas:function(){var e=this.dialog.name;this.$modal.show(e),this.dialog=Object(n["a"])(Object(n["a"])({},this.dialog),{},{width:90,height:96,title:"添加已有用户"})},confirmAdd:function(){var e=this.user.ref,t=this.data.id;this.$refs[e].saveData(t),this.dialog=Object(n["a"])(Object(n["a"])({},this.dialog),{},{loading:!1})},popoverConfirm:function(){this.drawer=Object(n["a"])(Object(n["a"])({},this.drawer),{},{show:!1})},submit:function(){var e=this,t=this.component.ref,a=this.$refs[t];a.$refs.modify.validate((function(t){t&&(e.drawer=Object(n["a"])(Object(n["a"])({},e.drawer),{},{loading:!0}),a.commitData())}))},selectionChange:function(e){e.length?this.show=Object(n["a"])(Object(n["a"])({},this.show),{},{batch:!0}):this.show=Object(n["a"])(Object(n["a"])({},this.show),{},{batch:!1}),this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{selection:e})},deleteBatch:function(){var e=this.table.selection,t=e.map((function(e){return e.id})).join(",");o["e"].confirm("删除","确认要删除吗",this.confirmDeleteBatch,t)},confirmDeleteBatch:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s,n,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.data.id,r={userIds:e,roleId:i},a.next=4,o["d"].delete(o["a"].sys_role_delete_batch_user_role,r);case 4:s=a.sent,n=s.success,l=s.message,n?(o["e"].successWithTimer(l),t.queryList()):o["e"].error(l);case 8:case"end":return a.stop()}}),a)})))()},confirmDelete:function(e,t,a){var i=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var s,n,l,c,d;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=i.data.id,n={userId:e,roleId:s},r.next=4,o["d"].delete(o["a"].sys_role_delete_user_role,n);case 4:l=r.sent,c=l.success,d=l.message,c?(o["e"].successWithTimer(d),t(a),i.queryList()):o["e"].error(d);case 8:case"end":return r.stop()}}),r)})))()},closeFlush:function(){this.drawer=Object(n["a"])(Object(n["a"])({},this.drawer),{},{show:!1}),this.queryList()},handleSuccess:function(){var e=this.dialog.name;this.$modal.hide(e),this.queryList()},currentChange:function(e){this.page=Object(n["a"])(Object(n["a"])({},this.page),{},{pageNum:e}),this.queryList()},sizeChange:function(e){this.page=Object(n["a"])(Object(n["a"])({},this.page),{},{pageSize:e}),this.queryList()},queryList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,l,c,d,u,p,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.page,i=a.pageNum,r=a.pageSize,s=e.data.id,e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{loading:!0}),l={pageNo:i,pageSize:r,roleId:s},t.next=6,o["d"].get(o["a"].sys_user_query_user_by_role,l);case 6:c=t.sent,d=c.success,u=c.result,d&&(p=u.total,m=u.records,e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{data:m}),e.page=Object(n["a"])(Object(n["a"])({},e.page),{},{total:p}),e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{loading:!1}));case 10:case"end":return t.stop()}}),t)})))()}}),mounted:function(){this.getSex(),this.getUserStatus(),this.getAllRoles(),this.getAllDept(),this.getActivitySync(),this.queryList()}},y=v,x=a("2877"),w=Object(x["a"])(y,i,r,!1,null,"2f3f4a8c",null);t["default"]=w.exports},"747f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:" license-panel"},[a("el-row",[a("el-col",{staticStyle:{"font-weight":"600","font-size":"18px"},attrs:{md:12,lg:12}},[e.licData.valid?a("i",{staticClass:"el-icon-circle-check",staticStyle:{color:"green"}}):e._e(),e.licData.valid?e._e():a("i",{staticClass:"el-icon-circle-close",staticStyle:{color:"red"}}),a("span",{staticStyle:{"margin-left":"5px"}},[e._v("软件授权")])])],1),a("div",{staticStyle:{"font-size":"10px",color:"red"}},[e.licData.valid?e._e():a("span",[e._v("请使用下面显示的【机器码】重新申请授权！")])]),a("hr",{staticStyle:{width:"1px",color:"blue"}}),a("el-row",[a("el-col",{attrs:{md:12,lg:12}},[a("span",[a("b",[e._v("用户名:")])])]),a("el-col",{attrs:{md:12,lg:12}},[a("span",[e._v(e._s(e.licData.customName))])])],1),a("el-row",[a("el-col",{attrs:{md:12,lg:12}},[a("span",[a("b",[e._v("维保时间:")])])]),a("el-col",{attrs:{md:12,lg:12}},[a("span",[e._v(e._s(e.licData.expireDate))]),e.licData.valid?e._e():a("span",{staticStyle:{color:"red","margin-left":"10px"}},[e._v(e._s(e.licData.message))])])],1),a("el-row",[a("el-col",{attrs:{md:12,lg:12}},[a("span",[a("b",[e._v("版本编号:")])])]),a("el-col",{attrs:{md:12,lg:12}},[a("span",[e._v(e._s(e.licData.productName))])])],1),a("el-row",[a("el-col",{attrs:{md:12,lg:12}},[a("span",[a("b",[e._v("机器码:")])])]),a("el-col",{attrs:{md:12,lg:12}},[a("span",[e._v(e._s(e.licData.machineCode))])])],1),a("el-row",[a("el-col",{attrs:{md:12,lg:12}},[a("span",[a("b",[e._v("网站:")])])])],1)],1)},r=[],s=(a("d3b7"),a("0fea")),n={components:{},data:function(){return{loading:!1,licData:{},url:{sysInfo:"/common/sys_info/info"}}},mounted:function(){this.init()},methods:{init:function(){var e=this;this.loading=!0,Object(s["e"])(this.url.sysInfo).then((function(t){"200"==t.code&&(e.licData=t.data)})).finally((function(){e.loading=!1}))}}},l=n,o=(a("3c15"),a("2877")),c=Object(o["a"])(l,i,r,!1,null,"19e901fc",null);t["default"]=c.exports},"74dca":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"extract-box flex flex-column max-height"},[a("extract-box",{ref:"extract",attrs:{typeFlag:"myFile"}})],1)},r=[],s=a("1edc"),n={name:"ExtractFile",components:{ExtractBox:s["default"]},props:{},data:function(){return{}},watch:{},computed:{},methods:{},created:function(){var e=this,t=this.$route.query;if(t&&t.key){var a=t.key;this.$nextTick((function(){e.$refs.extract.init(a)}))}},mounted:function(){}},l=n,o=a("2877"),c=Object(o["a"])(l,i,r,!1,null,"2e99c7ea",null);t["default"]=c.exports},75243:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"auto-scroll"},[a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],ref:"tree",attrs:{data:e.treeData,"default-expanded-keys":e.defaultExpandedKeys,showCheckbox:!0,singleCheck:!0,checkStrictly:!0},on:{keys:e.getCheckedKeys}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},r=[],s=a("1da1"),n=(a("4de4"),a("d81d"),a("b0c0"),a("159b"),a("d3b7"),a("ddb0"),a("7db0"),a("96cf"),a("60f9")),l=(a("ed08"),{name:"SortModule",components:{BasicTree:n["default"]},props:{title:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,selectedTreeId:"",activeName:"all",treeData:[],baseData:null,defaultCheckedKeys:[],defaultExpandedKeys:[],url:{tree:"/category/archCateTree"},ids:"",templateId:"",keys:[]}},computed:{},methods:{init:function(e){this.visible=!0,this.ids=e,this.getTreeData()},getTreeData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$api.getAction(e.url.tree,{});case 4:a=t.sent,i=a.treeData,e.baseData=i,e.treeData=e.setTreeData(i),e.loading=!1,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),e.loading=!1;case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))()},setTreeData:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));e.map((function(e){return e.label=e.name,e}));var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length?(a.elIcon="folder",t(a.children)):a.elIcon="document-copy"}))};return a(t),t},getCheckedKeys:function(e){this.keys=e},submit:function(){if(this.$refs.tree.getCheckedKeys(),this.keys[0]){var e=this.keys[0];this.baseData.find((function(t){return t.id=e}));this.$emit("ok")}else this.$sweetAlert.warnWithTimer("请选择目标文件夹！")},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}}),o=l,c=(a("3590"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"de14b89c",null);t["default"]=d.exports},"75b77":function(e,t,a){"use strict";a("daf0")},"75ef":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container tab-pane-box"},[a("el-tabs",{staticClass:"max-height",attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"库房定义",name:"list",lazy:""}},["list"==e.activeName?a("storeroom-list"):e._e()],1),a("el-tab-pane",{attrs:{label:"3D库房展示",name:"view",lazy:""}},["view"==e.activeName?a("storeroom-view"):e._e()],1)],1)],1)},r=[],s=a("8cd8"),n=a("ddb5"),l={name:"StoreroomManage",components:{StoreroomList:s["default"],StoreroomView:n["default"]},props:{},data:function(){return{activeName:"list"}},watch:{},computed:{},methods:{handleClick:function(e,t){}},created:function(){},mounted:function(){}},o=l,c=(a("e21c"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"d27ec3b2",null);t["default"]=d.exports},"764f":function(e,t,a){"use strict";a("96cb")},7666:function(e,t,a){"use strict";a("479f")},"771c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("FormPanel",{ref:"KFCP",attrs:{data:e.data,"select-item":e.selectItem,filedList:e.filedList,"no-model":e.noModel,"hide-model":e.hideModel,"select-form":e.selectForm,"start-type":e.startType,requiredList:e.requiredList},on:{handleSetSelectItem:e.handleSetSelectItem}})},r=[],s=a("179f"),n={components:{FormPanel:s["default"]},props:{data:{type:Object,required:!0},selectForm:{type:Object},filedList:{type:Array},requiredList:{type:Array}},data:function(){return{updateTime:0,hideModel:!1,noModel:["button","divider","card","grid","table","alert","text","html"],startType:"",selectItem:{}}},methods:{handleSetSelectItem:function(e){var t=(new Date).getTime();if(t-this.updateTime<100)return!1;this.updateTime=t,this.selectItem=e,this.$emit("changeSelectItem",this.selectItem),e.key&&(this.startType=e.type)}}},l=n,o=(a("1a80"),a("2877")),c=Object(o["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},"774e":function(e,t,a){"use strict";a("c57d6")},7761:function(e,t,a){"use strict";a("9651")},"798a0":function(e,t,a){},"79c1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"archives-box"},[a("div",{staticClass:"bg box-container",style:{"background-image":"url(static/img/visual/bg.png)","background-size":"100% 99.99%"}},[a("el-row",{staticClass:"form-row max-height",staticStyle:{height:"55vh"}},[a("el-col",{staticClass:"flex-column max-height",attrs:{span:8}},[a("com-card",{staticClass:"max-height",attrs:{title:"档案采集情况"}},[a("div",{attrs:{slot:"body"},slot:"body"},[e.indexStatData?a("collection-form",{attrs:{data:e.indexStatData}}):e._e()],1)]),a("com-card",{staticClass:"max-height",attrs:{title:"档案分布情况"}},[a("div",{attrs:{slot:"body"},slot:"body"},[e.statArchiveInfo?a("pie-chart",{attrs:{dataInfo:e.statArchiveInfo}}):e._e()],1)])],1),a("el-col",{staticClass:"max-height",attrs:{span:8}},[a("com-card",{attrs:{title:"档案热词分布",type:"keywords"}},[a("div",{attrs:{slot:"body"},slot:"body"},[e.hotwordsList&&e.hotwordsList.length>0?a("word-cloud-chart",{attrs:{id:"echarts05",title:"词云",data:e.hotwordsList}}):e._e()],1)])],1),a("el-col",{staticClass:"flex-column max-height",attrs:{span:8}},[a("com-card",{staticClass:"max-height",attrs:{title:"档案分类占比TOP5"}},[a("div",{attrs:{slot:"body"},slot:"body"},[e.categoryList&&e.categoryList.length>0?a("category-list",{attrs:{list:e.categoryList}}):e._e()],1)]),a("com-card",{staticClass:"max-height",attrs:{title:"档案数字化比例"}},[a("div",{attrs:{slot:"body"},slot:"body"},[e.statArchiveInfo?a("doughnut-chart",{attrs:{dataInfo:e.statArchiveInfo}}):e._e()],1)])],1)],1),a("el-row",{staticClass:"form-row",staticStyle:{height:"35vh"}},[a("el-col",{staticClass:"flex-column max-height",attrs:{span:12}},[a("com-card",{staticClass:"max-height",attrs:{title:"档案电子文件占比"}},[a("div",{attrs:{slot:"body"},slot:"body"},[e.statFilesInfo?a("rose-chart",{attrs:{dataInfo:e.statFilesInfo}}):e._e()],1)])],1),a("el-col",{staticClass:"flex-column max-height",attrs:{span:12}},[a("com-card",{staticClass:"max-height",attrs:{title:"档案保管期限占比"}},[a("div",{attrs:{slot:"body"},slot:"body"},[e.statKeepTimeForSpreadData?a("bar-label-chart",{attrs:{dataInfo:e.statKeepTimeForSpreadData}}):e._e()],1)])],1)],1)],1)])},r=[],s=a("1da1"),n=(a("96cf"),a("159b"),a("b0c0"),a("8952")),l=a("5798"),o=a("b74a"),c=a("83f8"),d=a("9ded"),u=a("99df"),p=a("8eab"),m=a("1fdf"),h={name:"ArchivesBox",components:{WordCloudChart:n["default"],ComCard:l["default"],CollectionForm:o["default"],CategoryList:c["default"],PieChart:d["default"],DoughnutChart:u["default"],RoseChart:p["default"],BarLabelChart:m["default"]},props:{},data:function(){return{hotwordsList:[],indexStatData:null,categoryList:[],statArchiveInfo:null,statFilesInfo:null,statKeepTimeForSpreadData:null}},watch:{},computed:{},methods:{listForHotwords:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="/listForHotwords",i={},r="post",t.next=5,e.$api.httpAction(a,i,r);case 5:s=t.sent,s.forEach((function(e){e.name=e.KEYWORD})),e.hotwordsList=s;case 8:case"end":return t.stop()}}),t)})))()},indexStat:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="/indexStat",i={},r="post",t.next=5,e.$api.httpAction(a,i,r);case 5:s=t.sent,n=s.data,e.indexStatData=n;case 8:case"end":return t.stop()}}),t)})))()},listForCategory:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="/listForCategory",i={},r="post",t.next=5,e.$api.httpAction(a,i,r);case 5:s=t.sent,e.categoryList=s;case 7:case"end":return t.stop()}}),t)})))()},statArchiveForSpread:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="/statArchiveForSpread",i={},r="post",t.next=5,e.$api.httpAction(a,i,r);case 5:s=t.sent,n=s.data,e.statArchiveInfo=n;case 8:case"end":return t.stop()}}),t)})))()},statFilesForSpread:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="/statFilesForSpread",i={},r="post",t.next=5,e.$api.httpAction(a,i,r);case 5:s=t.sent,n=s.data,e.statFilesInfo=n;case 8:case"end":return t.stop()}}),t)})))()},statKeepTimeForSpread:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="/statKeepTimeForSpread",i={},r="post",t.next=5,e.$api.httpAction(a,i,r);case 5:s=t.sent,n=s.data,e.statKeepTimeForSpreadData=n;case 8:case"end":return t.stop()}}),t)})))()}},created:function(){this.listForHotwords(),this.indexStat(),this.listForCategory(),this.statArchiveForSpread(),this.statFilesForSpread(),this.statKeepTimeForSpread()},mounted:function(){}},f=h,b=(a("a1ab"),a("2877")),g=Object(b["a"])(f,i,r,!1,null,"7a685480",null);t["default"]=g.exports},"79f5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"400",border:""}},[e._l(e.column,(function(t,i){return[t.slot?a("el-table-column",{key:i,attrs:{label:t.label,"header-align":"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:basicfld:update",expression:"'sys:basicfld:update'"}],attrs:{type:"text",size:"small",icon:"el-icon-edit"},on:{click:function(a){return e.handelClick(t.row)}}},[e._v("编辑")])]}}],null,!0)}):a("el-table-column",{key:i,attrs:{prop:t.prop,label:t.label,"header-align":"center"}})]}))],2)},r=[],s={name:"FiledTable",props:{tableData:{type:Array}},data:function(){return{column:[{label:"字段名称",prop:"fldName",width:"180"},{label:"字段描述",prop:"fldDesc",width:"180"},{label:"编辑风格",prop:"editStyle_dictText",width:"180"},{label:"基本字段",prop:"ifBasic_dictText",width:"180"},{label:"字段数据源",prop:"colFormat",width:"180"},{label:"字段类型",prop:"colType_dictText",width:"180"},{label:"只读",prop:"ifBusinessCol_dictText",width:"180"},{label:"字段长度",prop:"colLen",width:"180"},{label:"必须输入",prop:"ifMustConf_dictText",width:"180"},{label:"操作",slot:!0,width:"180"}]}},methods:{handelClick:function(e){this.$emit("edit",e)}}},n=s,l=a("2877"),o=Object(l["a"])(n,i,r,!1,null,"5d0dd3aa",null);t["default"]=o.exports},"7a0a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("el-form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":"9rem","auto-complete":"off","label-position":"right",disabled:e.disabledForm}},[a("el-form-item",{attrs:{label:"报表名称",prop:"rtName"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入报表名称",clearable:""},model:{value:e.model.rtName,callback:function(t){e.$set(e.model,"rtName",t)},expression:"model.rtName"}})],1),"1"==e.model.menuType?a("el-form-item",{attrs:{label:"报表类型",prop:"rtType"}},[a("el-select",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:"请选择"},on:{change:e.rtTypeChange},model:{value:e.model.rtType,callback:function(t){e.$set(e.model,"rtType",t)},expression:"model.rtType"}},e._l(e.rtTypeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label||e.name,value:e.value}})})),1)],1):e._e(),a("el-form-item",{attrs:{label:"显示位置",prop:"menuType"}},[a("el-radio-group",{model:{value:e.model.menuType,callback:function(t){e.$set(e.model,"menuType",t)},expression:"model.menuType"}},[a("el-radio",{attrs:{label:0}},[e._v("所有位置")]),a("el-radio",{attrs:{label:1}},[e._v("所有库")]),a("el-radio",{attrs:{label:2}},[e._v("借阅车")]),a("el-radio",{attrs:{label:3}},[e._v("借阅审批流程")]),a("el-radio",{attrs:{label:4}},[e._v("归档")]),a("el-radio",{attrs:{label:5}},[e._v("其他")])],1)],1),a("el-form-item",{attrs:{label:"描述",prop:"rtDesc"}},[a("el-input",{attrs:{type:"textarea",maxlength:"200",rows:5,placeholder:"请输入描述",clearable:""},model:{value:e.model.rtDesc,callback:function(t){e.$set(e.model,"rtDesc",t)},expression:"model.rtDesc"}})],1)],1)],1),"create"==e.status||"update"==e.status?a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v(" 提交 ")]),a("el-button",{attrs:{type:"default"},on:{click:e.cancelModal}},[e._v("取消")])],1):e._e()]):e._e()},r=[],s=a("1da1"),n=(a("a9e3"),a("d3b7"),a("25f0"),a("159b"),a("b64b"),a("96cf"),a("2f62"),a("0fea"),a("0779")),l=(a("61f7"),a("3cee")),o={components:{DictSelectTag:n["default"],TinymceEditor:l["default"]},props:{title:{type:String,default:""},baseSelect:{type:Object,default:function(){return{}}},status:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,loading1:!1,baseData:null,model:{rtName:"",rtType:"1",rtMode:"1",templateId:"1482485701125267592",tableName:"t_w1_volumbox",tableField:"*",rtDesc:"",menuType:""},rules:{rtName:[{required:!0,trigger:"change",message:"请输入报表名称"}],rtType:[{required:!0,trigger:"change",message:"请选择报表类型"}],rtMode:[{required:!0,trigger:"change",message:"请选择报表模式"}],templateId:[{required:!0,trigger:"change",message:"请选择档案模板"}],tableName:[{required:!0,trigger:"change",message:"请输入报表表名"}],tableField:[{required:!0,trigger:"change",message:"请输入报表字段"}],menuType:[{required:!1,trigger:"change",message:"请选择显示位置"}],rtDesc:[{required:!1,trigger:"change",message:"请输入备注"}]},rtTypeList:[],rtModeList:[{value:"1",name:"基于SQL"},{value:"2",name:"基于JavaBean"}],templateList:[],url:{loadCodeForSelect:"/sys/code/loadCodeForSelect",tempSelect:"/templates/tempSelect",add:"/reports/add",update:"/reports/update"}}},computed:{disabledForm:function(){return"check"==this.status}},created:function(){this.loadCodeForSelect()},methods:{loadCodeForSelect:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.url.loadCodeForSelect,i={mark:"reports_type"},r="post",t.prev=3,t.next=6,e.$api.httpAction(a,i,r);case 6:s=t.sent,n=s.data,e.rtTypeList=n,t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](3);case 13:case"end":return t.stop()}}),t,null,[[3,11]])})))()},tempSelect:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s,n,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.url.tempSelect,r={rtType:e},s="post",a.prev=3,a.next=6,t.$api.httpAction(i,r,s);case 6:n=a.sent,l=n.data,t.templateList=l,a.next=13;break;case 11:a.prev=11,a.t0=a["catch"](3);case 13:case"end":return a.stop()}}),a,null,[[3,11]])})))()},rtTypeChange:function(e){this.model.templateId="",this.templateList=[],this.tempSelect(e)},initForm:function(e){var t=this;this.baseData=e,e&&(this.model=Object.assign(this.model,e)),this.model.menuType=Number(this.model.menuType),this.model.id&&(this.tempSelect(this.model.rtType),this.model.rtType=this.model.rtType.toString(),this.model.rtMode=this.model.rtMode.toString()),this.visible=!0,this.$nextTick((function(){t.$refs["form"].resetFields()}))},resetForm:function(e){var t=this;this.$nextTick((function(){t.$refs[e].resetFields()}))},submit:function(){var e=this;this.$refs.form.validate((function(t){if(t){e.loading=!0;var a=Object.assign({},e.model),i=e.url.add;a.id&&(i=e.url.update);var r="post";e.$api.httpAction(i,a,r).then((function(t){e.loading=!1,200==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.$emit("ok"),e.cancelModal()):e.$sweetAlert.errorWithTimer(t.msg)}))}}))},reset:function(){var e=this;Object.keys(this.model).forEach((function(t){return e.model[t]=""})),this.initForm(this.baseData)},cancelModal:function(){this.visible=!1,this.$emit("close")}}},c=o,d=(a("4fcf"),a("2877")),u=Object(d["a"])(c,i,r,!1,null,"6f774f5c",null);t["default"]=u.exports},"7a3d":function(e,t,a){"use strict";a("a2c51")},"7a66":function(e,t,a){"use strict";a("3270")},"7b17":function(e,t,a){},"7b7c":function(e,t,a){},"7ca2":function(e,t,a){},"7d4c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container tab-pane-box"},[a("div",{staticClass:"search-box"},[a("div",{staticClass:"search-item-label"},[e._v("选择检测库：")]),a("el-input",{staticClass:"padding-right-10",staticStyle:{width:"250px"},attrs:{placeholder:"",size:"mini",disabled:""},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.selectLibrary}},[e._v("选择")])],1),a("el-tabs",{staticClass:"max-height flex-column",attrs:{type:"border-card"},model:{value:e.editableTabsValue,callback:function(t){e.editableTabsValue=t},expression:"editableTabsValue"}},e._l(e.editableTabs,(function(t,i){return a("el-tab-pane",{key:t.name,attrs:{label:t.title,name:t.name}},[e.showSettingFlag?a("setting-panel"):e._e(),e.showSettingFlag?e._e():a("detection-panel",{attrs:{markerFlag:e.markerFlag,code:e.code,editableTabsValue:e.editableTabsValue,rightBtnFlag:e.rightBtnFlag,selectLibraryFlag:e.selectLibraryFlag,showTestResultFlag:e.showTestResultFlag,title:t.title+t.name}})],1)})),1),e.library.show?a("library-modal",{ref:"library",attrs:{title:e.library.title},on:{close:function(t){e.library.show=!1},ok:e.getLibraryText}}):e._e()],1)},r=[],s=(a("b0c0"),a("67ba")),n=a("a1f8"),l=a("01f7"),o={name:"FourTest",components:{DetectionPanel:s["default"],LibraryModal:n["default"],SettingPanel:l["default"]},props:{},data:function(){return{library:{show:!1,title:"选择著录目录"},code:"",searchText:"",markerFlag:0,editableTabsValue:"oneKey",editableTabs:[{title:"一键检测",name:"oneKey"},{title:"真实性检测",name:"authenticity"},{title:"完整性检测",name:"integrity"},{title:"可用性检测",name:"usability"},{title:"安全性检测",name:"safety"},{title:"系统配置",name:"system"}]}},watch:{},computed:{unreadMessage:function(){return this.$store.state.user.unreadMessage},rightBtnFlag:function(){var e=!1;return"usability"==this.editableTabsValue&&(this.markerFlag=4,e=!0),"safety"==this.editableTabsValue&&(this.markerFlag=3,e=!0),"integrity"==this.editableTabsValue&&(this.markerFlag=2,e=!0),"authenticity"==this.editableTabsValue&&(this.markerFlag=1,e=!0),"oneKey"==this.editableTabsValue&&(this.markerFlag=0,e=!0),e},selectLibraryFlag:function(){var e=!1;return this.searchText||"oneKey"==this.editableTabsValue||(e=!0),e},showTestResultFlag:function(){var e=!1;return"oneKey"==this.editableTabsValue&&(e=!0),e},showSettingFlag:function(){var e=!1;return"system"==this.editableTabsValue&&(e=!0),e}},methods:{selectLibrary:function(){var e=this;this.library.show=!0,this.$nextTick((function(){e.$refs.library.init()}))},getLibraryText:function(e){this.searchText=e.name,this.code=e.cateCode},handleClick:function(e,t){},getNotReadTotal:function(e){this.$store.commit("SET_UNREAD_MESSAGE",e)}},created:function(){},mounted:function(){}},c=o,d=(a("f210"),a("2877")),u=Object(d["a"])(c,i,r,!1,null,"c52f3306",null);t["default"]=u.exports},"7eda":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"data-rule"},[a("el-row",[a("el-form",{attrs:{model:e.form,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"规则名称",prop:"ruleName"}},[a("el-input",{attrs:{placeholder:"规则名称",clearable:""},model:{value:e.form.ruleName,callback:function(t){e.$set(e.form,"ruleName",t)},expression:"form.ruleName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"规则值",prop:"ruleValue"}},[a("el-input",{attrs:{placeholder:"规则值",clearable:""},model:{value:e.form.ruleValue,callback:function(t){e.$set(e.form,"ruleValue",t)},expression:"form.ruleValue"}})],1)],1)],1),a("el-row",{staticClass:"text-center"},[a("el-form-item",{attrs:{"label-width":"0px"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")]),a("el-button",{attrs:{plain:"",icon:"el-icon-refresh-left"},on:{click:e.reset}},[e._v("重置")])],1)],1)],1)],1),a("el-row",{staticClass:"mb-3"},[a("el-button",{attrs:{plain:"",type:"primary",icon:"el-icon-plus"},on:{click:e.addRule}},[e._v("新增")])],1),a("el-row",[a("fox-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],attrs:{border:"",stripe:"",fit:"",align:"center",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange}})],1),a("drag-dialog",{attrs:{"drag-dialog":e.dialog},on:{confirm:e.confirmAdd}},[a("modify",{ref:"modify",attrs:{data:e.modify.data,name:"modify"},on:{modifySuccess:e.modifySuccess}})],1)],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("b0c0"),a("2f62")),o=a("4ec3"),c=a("ed08"),d=a("eddf"),u=a("c000"),p=a("f7c4"),m=a("f541"),h=a("0b81"),f=a("0fea"),b={name:"DataRule",props:{data:{type:Object}},components:{DragDialog:d["a"],Modify:h["default"],foxTable:p["a"],Collapse:u["default"]},data:function(){var e=this;this.$createElement;return{collapse:{name:"dataRule"},form:{},table:{data:[],column:[{label:"操作",prop:"oper",width:80,render:function(t,a){var i=a.row,r=(a.$index,[{content:"修改",className:"fa fa-fw fa-pencil",permission:"dataRule:edit",event:function(){e.edit(i)}},{content:"删除",className:"iconfont icon-wy-delete2",popover:!0,popText:"确定要删除吗",permission:"dataRule:delete",event:function(){e.confirmDeleteBatch(i.id)}}]);return t(m["default"],{attrs:{btnInfo:r}})}},{label:"规则名称",prop:"ruleName",showOverflowTooltip:!0},{label:"规则字段",prop:"ruleColumn",showOverflowTooltip:!0},{label:"规则值",prop:"ruleValue",showOverflowTooltip:!0}]},page:{pageNum:1,pageSize:10,total:0},dialog:{width:400,height:450,showFooter:!0},modify:{data:{}},url:{list:"/sys/permission/getPermRuleListByPermId",delete:"/sys/permission/deletePermissionRule"}}},watch:{data:{handler:function(e){this.queryList()},immediate:!0}},methods:Object(n["a"])(Object(n["a"])({},Object(l["b"])({getRuleConditions:"GET_RULE_CONDITIONS"})),{},{search:function(){this.page=Object(n["a"])(Object(n["a"])({},this.page),{},{pageNum:1}),this.queryList()},reset:function(){this.$refs.form.resetFields()},currentChange:function(e){this.page=Object(n["a"])(Object(n["a"])({},this.page),{},{pageNum:e}),this.queryList()},sizeChange:function(e){this.page=Object(n["a"])(Object(n["a"])({},this.page),{},{pageSize:e}),this.queryList()},closePopover:function(e){this.$refs[e].doClose()},addRule:function(){var e=this,t=this.data.id;this.dialog=Object(n["a"])(Object(n["a"])({},this.dialog),{},{title:"新增",name:"addRule"}),this.modify=Object(n["a"])(Object(n["a"])({},this.modify),{},{data:{permissionId:t}});var a=this.dialog.name;this.$nextTick((function(){e.$modal.show(a)}))},edit:function(e){var t=this,a=this.data.id;this.dialog=Object(n["a"])(Object(n["a"])({},this.dialog),{},{title:"修改",name:"updateRule"}),this.modify=Object(n["a"])(Object(n["a"])({},this.modify),{},{data:Object(n["a"])({permissionId:a},e)});var i=this.dialog.name;this.$nextTick((function(){t.$modal.show(i)}))},confirmAdd:function(){var e=this,t=this.$refs.modify;t.$refs.form.validate((function(a){a&&(e.dialog=Object(n["a"])(Object(n["a"])({},e.dialog),{},{loading:!0}),t.saveData()),e.dialog=Object(n["a"])(Object(n["a"])({},e.dialog),{},{loading:!1})}))},modifySuccess:function(){var e=this.dialog.name;this.$modal.hide(e),this.queryList()},confirmDeleteBatch:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:Object(f["b"])(t.url.delete,{id:e}).then((function(e){var a=e.success,i=e.message;a?(c["e"].successWithTimer(i),t.queryList()):c["e"].error(i)}));case 1:case"end":return a.stop()}}),a)})))()},queryList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.page,i=a.pageNum,r=a.pageSize,s=e.data.id,e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{loading:!0}),l=Object(n["a"])(Object(n["a"])({pageNo:i,pageSize:r},e.form),{},{permissionId:s}),Object(o["f"])(l).then((function(t){var a=t.success,i=t.result;a&&(e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{data:i}),e.page=Object(n["a"])(Object(n["a"])({},e.page),{},{total:i.length}),e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{loading:!1}))}));case 5:case"end":return t.stop()}}),t)})))()}}),mounted:function(){this.getRuleConditions()}},g=b,v=a("2877"),y=Object(v["a"])(g,i,r,!1,null,"d0ed2222",null);t["default"]=y.exports},"80b3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,width:"800px","before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary"},on:{click:e.addUser}},[e._v(" 添加用户 ")]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"auto-scroll"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-class-name":e.rowClassName,"cell-class-name":e.cellClassName,"header-align":"center","max-height":"380px"}},[a("el-table-column",{attrs:{prop:"name",label:"选择对象"}}),0==e.type?a("el-table-column",{attrs:{prop:"permissionList",label:"操作权限",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox-group",{model:{value:t.row.permissionList,callback:function(a){e.$set(t.row,"permissionList",a)},expression:"scope.row.permissionList"}},e._l(e.operationList,(function(t){return a("el-checkbox",{key:t.label,attrs:{label:t.label}},[e._v(" "+e._s(t.name)+" ")])})),1)]}}],null,!1,2180953446)}):e._e(),0==e.type?a("el-table-column",{attrs:{prop:"date",label:"分享有效期",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",{attrs:{"picker-options":e.pickerOptions,type:"date",size:"mini",align:"right",placeholder:"选择日期"},model:{value:t.row.deadline,callback:function(a){e.$set(t.row,"deadline",a)},expression:"scope.row.deadline"}})]}}],null,!1,2531256883)}):e._e(),a("el-table-column",{attrs:{label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"el-icon-delete",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteRow(t.$index,e.tableData)}}},[e._v(" 移除 ")])]}}],null,!1,2334389533)})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)],1):e._e(),e.user.show?a("select-user",{ref:"user",attrs:{title:e.user.title},on:{close:function(t){e.user.show=!1},ok:e.setUserList}}):e._e()],1)},r=[],s=a("5530"),n=(a("a9e3"),a("159b"),a("b0c0"),a("99af"),a("a434"),a("a15b"),a("d81d"),a("ed08"),a("b294")),l={name:"ShareUser",components:{SelectUser:n["default"]},props:{title:{type:String,default:""},type:{type:Number,default:0},workid:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,user:{show:!1,title:"分享到用户",loading:!1},tableData:[],manData:[],operationList:[{label:2,name:"查看"},{label:3,name:"下载"},{label:5,name:"打印"}],url:{getMan:"/teamWork/getWorkMan",setMan:"/teamWork/setWorkMan"},rowClassName:"rowClass",cellClassName:"cellClass",pickerOptions:{disabledDate:this.disabledDate}}},computed:{},methods:{init:function(){this.visible=!0,this.list()},list:function(){var e=this;1==this.type&&this.$api.httpAction(this.url.getMan,{id:this.workid},"post").then((function(t){"200"==t.code&&(t.data.forEach((function(t,a){var i=Object(s["a"])(Object(s["a"])({},t),{},{date:"",name:t,operation:["1"]});e.tableData.push(i)})),e.manData=e.tableData)}))},disabledDate:function(e){return e.getTime()<Date.now()-864e5},setUserList:function(e){var t=this;this.tableData=[],e.list.forEach((function(e){var a=Object(s["a"])(Object(s["a"])({},e),{},{deadline:"",objId:e.id,objName:e.name,permissionList:[2]});t.tableData.push(a)}));var a={};this.tableData=this.tableData.reduce((function(e,t){return!a[t.id]&&(a[t.id]=e.push(t)),e}),[]),this.tableData=this.tableData.concat(this.manData)},deleteRow:function(e,t){t.splice(e,1)},addUser:function(){var e=this;this.user.show=!0,this.$nextTick((function(){e.$refs.user.init()}))},submit:function(){var e=this,t="";if(1!=this.type){if(0==this.tableData.length)t="请选择想要分享的对象！";else{var a=this.tableData.some((function(e){return!e.deadline}));a&&(t="有效期不能为空！")}if(t)return void this.$sweetAlert.warnWithTimer(t);var i=[];this.tableData.forEach((function(e){var t=e.objId,a=e.objName,r=e.deadline,s=e.permissionList.join(","),n={objId:t,objName:a,permission:s,deadline:r};i.push(n)})),this.$emit("ok",{list:i}),this.cancelModal()}else{var r=[];this.tableData.map((function(e){r.push(e.name)}));var s={names:r.join(","),id:this.workid};this.$api.getAction(this.url.setMan,s).then((function(t){200==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.cancelModal()):e.$sweetAlert.errorWithTimer(t.msg)}))}},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}},o=l,c=(a("50a8"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"4d8fe5cb",null);t["default"]=d.exports},"813e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"form-design",staticStyle:{margin:"0px",padding:"0px"}},[a("el-aside",{attrs:{width:"260px"}},[e._t("drag"),a("DragItem",{attrs:{recode:e.recode,"filed-listl":e.filedList}})],2),a("el-main",{staticStyle:{padding:"0px"}},[a("el-row",{staticClass:"form-design",staticStyle:{margin:"0px"},attrs:{gutter:20}},[a("el-col",{staticClass:"height-all",staticStyle:{padding:"0px"},attrs:{span:18}},[a("el-card",{staticClass:"box-card form-contains"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{color:"red",float:"left","margin-top":"12px"}},[e._v("红色字体表单字段为该档案的必填字段，如若未选择可能会造成数据的不完整")]),a("span",{staticClass:"el-card__header"},[e._t("formName")],2),a("span",{staticStyle:{float:"right"}},[e._t("controlButton"),a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-delete"},on:{click:e.handleClear}},[e._v("清空")]),a("el-button",{attrs:{type:"text",size:"medium",icon:"el-icon-view"},on:{click:e.handlePreview}},[e._v("预览")]),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.handleSaveT}},[e._v("保存")])],2)]),a("DragPanel",{ref:"dragPanel",attrs:{data:e.data,"select-form":e.selectForm,filedList:e.filedList,requiredList:e.requiredList},on:{changeSelectItem:e.changeSelectItem}})],1)],1),a("el-col",{staticClass:"height-all",staticStyle:{padding:"0px"},attrs:{span:6}},[a("el-card",{staticClass:"box-card form-properties",attrs:{header:"属性配置"}},[a("Properties",{attrs:{data:e.data,"select-item":e.selectItem}})],1)],1)],1)],1),e.previewVisible?a("Preview",{ref:"preview"}):e._e(),e.renderVisisble?a("renderPreview",{ref:"renderPreview"}):e._e(),a("el-dialog",{staticStyle:{top:"20px"},attrs:{title:"模板数据",visible:e.modelVisible,"append-to-body":!0,width:"850px"},on:{"update:visible":function(t){e.modelVisible=t}}},[a("previewCode",{attrs:{"editor-json":e.modelJson}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.modelVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.modelVisible=!1}}},[e._v("确 定")])],1)],1),a("el-dialog",{staticStyle:{top:"20px"},attrs:{title:"模板数据",visible:e.importVisible,"append-to-body":!0,width:"850px"},on:{"update:visible":function(t){e.importVisible=t}}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.importText,callback:function(t){e.importText=t},expression:"importText"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.importVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.importModel}},[e._v("确 定")])],1)],1),a("el-dialog",{staticStyle:{top:"20px"},attrs:{title:"保存模板",visible:e.saveCode,"append-to-body":!0,width:"850px"},on:{"update:visible":function(t){e.saveCode=t}}},[a("span",{staticStyle:{"margin-bottom":"8px","font-size":"18px"}},[e._v("有必填字段没有选择，会导致保存不了数据。确定保存模板？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.saveCode=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("确 定")])],1)])],1)},r=[],s=a("1da1"),n=a("53ca"),l=(a("159b"),a("96cf"),a("0644")),o=a.n(l),c=a("6d40"),d=a("771c"),u=a("b563"),p=a("2443"),m=a("7254"),h=a("d136"),f=a("d0b9");a("0fea");a("8baa");var b={name:"VueDragFormdesign",components:{DragItem:c["default"],DragPanel:d["default"],Properties:u["default"],Preview:p["default"],previewCode:m["default"],renderPreview:h["default"]},props:{selectForm:{type:Object},recode:{type:Object}},data:function(){return{previewVisible:!1,modelJson:{},modelVisible:!1,importVisible:!1,saveCode:!1,requiredList:[],importText:"",loading:!1,filedList:[],filedData:[],renderVisisble:!1,data:{list:[],config:{labelPosition:"left",labelWidth:100,size:"mini",hideRequiredMark:!0,customStyle:""}},previewOptions:{width:850},selectItem:{}}},watch:{data:{handler:function(e,t){if(this.selectForm&&this.selectForm.id){var a=JSON.stringify(this.selectForm.htmlModel),i=JSON.stringify(this.data);a!==i&&(this.$set(this.selectForm,"change",!0),this.$set(this.selectForm,"htmlModel",o()(this.data)))}},deep:!0},selectForm:{handler:function(e,t){if(e&&e.id!=(t?t.id:"")){var a=e.htmlModel;a&&("object"===Object(n["a"])(a)||JSON.parse(a));this.initModel(o()(a))}},deep:!0}},created:function(){this.queryList()},methods:{handleSaveT:function(){this.requiredList.length>0?this.saveCode=!0:this.handleSave()},handleSave:function(){var e=this,t={};t.templateId=this.recode.id,t.vue=JSON.stringify(this.data,null,"\t"),t.othType=this.recode.othType,this.saveCode=!1,this.$api.httpAction("/templates/saveTempView",t,"post").then((function(t){"200"===t.code?e.$sweetAlert.success("保存成功"):e.$sweetAlert.errorWithTimer("保存失败")}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(void 0==t.recode.id){e.next=4;break}return t.loading=!0,e.next=4,t.$api.getAction("/templates/getTempView",{templateId:t.recode.id,othType:t.recode.othType}).then((function(e){var a;"200"===e.code?(t.filedData=e.data.list,t.$emit("handelFiledData",t.filedData),e.data.vue&&(t.data=JSON.parse(e.data.vue),a=JSON.parse(e.data.vue).list),t.filedList=[],t.handelFiled(t.filedData,a)):(t.$sweetAlert.errorWithTimer("数据加载失败"),t.loading=!1)}));case 4:case"end":return e.stop()}}),e)})))()},handelFiled:function(e,t){var a,i=this,r=f["a"];e.forEach((function(e){0==parseInt(e.editStyle)&&2==parseInt(e.colType)?a="date":0==parseInt(e.editStyle)?a="input":1==parseInt(e.editStyle)||2==parseInt(e.editStyle)?a="select":3==parseInt(e.editStyle)?a="textarea":(4==parseInt(e.editStyle)||5==parseInt(e.editStyle)||6==parseInt(e.editStyle))&&(a="date"),r.forEach((function(r){if(r.type==a){var s=JSON.parse(JSON.stringify(r));s.options.dynamicHide=!1,s.options.dynamicHideValue="",s.label=e.fldDesc,s.model=e.fldName,"select"==a&&e.colFormat&&(s.options.dynamic=2,s.options.dictType=e.colFormat),t&&t.forEach((function(t){t.columns?t.columns.forEach((function(t){t.list.forEach((function(t){t.model==e.fldName&&(s.key=s.model,s.style="display:none")}))})):t.model==e.fldName&&(s.key=s.model,s.style="display:none")})),1==e.ifMustConf&&(s.rules[0].required=!0,s.style||i.requiredList.push(s.model),s.style=s.style+";color:red"),i.filedList.push(s)}}))})),this.loading=!1},changeSelectItem:function(e){this.selectItem=e},handlePreview:function(){this.previewVisible=!0;var e=this;this.$nextTick((function(){e.$refs.preview.jsonData=e.data,e.$refs.preview.previewWidth=e.previewOptions.width,e.$refs.preview.visible=!0}))},handleClear:function(){var e=this;this.$confirm("清空后无法恢复,请确认操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.data.list.length>0&&e.filedList.forEach((function(t){e.data.list.forEach((function(e){e.columns?e.columns.forEach((function(e){e.list.forEach((function(e){e.model==t.model&&(t.style="")}))})):e.key==t.key&&(t.style="")}))})),e.data.list=[]}))},handleImport:function(){this.importVisible=!0,this.importText=""},importModel:function(){if(this.importText){var e=JSON.parse(this.importText);e&&(this.data=e),this.importVisible=!1}else alert("文本不能为空")},initModel:function(e){e?this.data=e:this.data.list=[],this.selectItem={},this.$refs.dragPanel.selectItem={}},getModel:function(){return this.data},handleRender:function(){var e=this;this.renderVisisble=!0,this.$nextTick((function(){e.$refs.renderPreview.init(e.data)}))},handleGenerateJson:function(){this.modelJson=JSON.stringify(this.data,null,"\t"),this.modelVisible=!0}}},g=b,v=(a("32aa"),a("2877")),y=Object(v["a"])(g,i,r,!1,null,"2061e3f6",null);t["default"]=y.exports},"814e":function(e,t,a){"use strict";a("054c")},"814f":function(e,t,a){},8171:function(e,t,a){},"81cf":function(e,t,a){"use strict";a("a1af")},"82a3":function(e,t,a){"use strict";var i=a("cf45");t["a"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var e=this;this.$_resizeHandler=Object(i["b"])((function(){e.chart&&e.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}}},"83f5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container max-height flex-column"},[a("div",{staticClass:"operate-box nowrap flex justify-between"},[a("div",[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:schedule:update",expression:"'sys:schedule:update'"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.add}},[e._v(" 新增 ")]),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:schedule:run",expression:"'sys:schedule:run'"}],attrs:{type:"primary",icon:"el-icon-video-play",size:"mini"},on:{click:function(t){return e.btnClick("run")}}},[e._v(" 立即执行 ")]),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:schedule:pause",expression:"'sys:schedule:pause'"}],attrs:{type:"danger",icon:"el-icon-video-pause",size:"mini"},on:{click:function(t){return e.btnClick("pause")}}},[e._v(" 暂停 ")]),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:schedule:resume",expression:"'sys:schedule:resume'"}],attrs:{type:"primary",icon:"refresh-right",size:"mini"},on:{click:function(t){return e.btnClick("resume")}}},[e._v(" 恢复 ")])],1),a("div",{staticClass:"flex"},[a("el-select",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:"请选择",size:"mini"},on:{change:e.searchTypeChange},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},e._l(e.searchTypeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label||e.name,value:e.value}})})),1),"beanName"==e.searchType?a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"input-with-select",staticStyle:{width:"250px"},attrs:{placeholder:"请输入检索内容",size:"mini",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryList(1)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}):e._e(),"status"==e.searchType?a("div",{staticStyle:{width:"250px","margin-right":"10px"}},[a("dict-select-tag",{attrs:{"dict-code":"quartz_status",placeholder:"请选择",size:"mini"},on:{change:function(t){return e.queryList(1)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1):e._e(),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(t){return e.queryList(1)}}},[e._v(" 搜索 ")])],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"table-box max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),e.modify.show?a("modify",{ref:"modify",attrs:{title:e.modify.textMap[e.modify.status],status:e.modify.status},on:{ok:e.modifyLoad,close:function(t){e.modify.show=!1}}}):e._e(),e.jobLog.show?a("job-log",{ref:"jobLog",attrs:{title:e.jobLog.title},on:{close:function(t){e.jobLog.show=!1}}}):e._e()],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("a9e3"),a("a15b"),a("d81d"),a("f7c4")),o=a("3f19"),c=a("2e5f"),d=a("49ab7"),u=a("9092"),p=a("0779"),m={name:"NoticeList",mixins:[o["a"]],components:{foxTable:l["a"],BtnList:c["default"],Modify:d["default"],JobLog:u["default"],DictSelectTag:p["default"]},props:{showStatus:{type:String|Number,default:""}},data:function(){return{modify:{show:!1,status:"create",textMap:{update:"编辑",create:"添加",check:"查看"},loading:!1},url:{list:"/scheduleJob/pageList"},jobLog:{title:"执行日志",show:!1,loading:!1},model:null,pageIdx:0,columnList:[],searchTypeList:[{value:"beanName",name:"SpringBean名称"},{value:"status",name:"任务状态"}],searchType:"beanName",searchText:""}},watch:{},computed:{},methods:{init:function(e){this.model=e,this.queryList(1)},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{show:!1,column:[{type:"selection",fixed:!0},{label:"操作",prop:"oper",width:280,fixed:"right",render:function(t,a){var i=a.row,r=[{content:"查看",type:"text",icon:"info",popover:!1,permission:"sys:schedule:info",event:function(){e.check(i)}},{content:"编辑",type:"text",icon:"edit",popover:!1,permission:"sys:schedule:update",event:function(){e.update(i)}},{content:"执行日志",type:"text",icon:"time",popover:!1,permission:"sys:schedule:log",event:function(){e.jobLogInfo(i)}}];return t(c["default"],{attrs:{btnInfo:r}})}},{label:"spring bean名称",prop:"beanName"},{label:"方法名",prop:"methodName"},{label:"参数",prop:"params"},{label:"cron表达式",prop:"cronExpression"},{label:"任务状态",prop:"status_dictText"},{label:"备注",prop:"remark"},{label:"创建时间",prop:"createTime"}]}),this.$nextTick((function(){e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{show:!0})}))},add:function(){var e=this;this.modify.status="create",this.modify.show=!0,this.$nextTick((function(){e.$refs["modify"].initForm()}))},check:function(e){var t=this;this.modify.status="check",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)}))},update:function(e){var t=this;this.modify.status="update",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)}))},jobLogInfo:function(e){var t=this,a=e.id;this.jobLog.show=!0,this.$nextTick((function(){t.$refs["jobLog"].init(a)}))},modifyLoad:function(){this.queryList()},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s,l,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize,type:"all"},t.searchType&&(i[t.searchType]=t.searchText),t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{loading:!0}),r=t.url.list,a.next=7,t.$api.getAction(r,i);case 7:s=a.sent,l=s.count,o=s.data,t.page=Object(n["a"])(Object(n["a"])({},t.page),{},{total:1*l}),t.$nextTick((function(){t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{data:o})})),t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{loading:!1});case 13:case"end":return a.stop()}}),a)})))()},btnClick:function(e){var t=this.selectionMsg();if(t)this.$sweetAlert.warnWithTimer(t);else{var a=this.table.selection.map((function(e){return e.id})).join(",");this.operate(a,e)}},selectionMsg:function(){var e="",t=this.table.selection.length;return 0==t&&(e="至少选择一条记录"),e},operate:function(e,t){var a=this,i={run:{name:"立即执行",msg:"确认立即执行所选任务?"},pause:{name:"暂停",msg:"暂停所选任务?"},resume:{name:"恢复",msg:"恢复所选任务?"}},r=i[t]["msg"];this.$confirm(r,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i="/scheduleJob/"+t,r={ids:e},s="post";a.$api.httpAction(i,r,s).then((function(e){200==e.code?(a.$sweetAlert.successWithTimer(e.msg),a.queryList()):a.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))},searchTypeChange:function(e){this.searchText="",this.queryList(1)}},created:function(){this.setTableColumn(),this.queryList(1)},mounted:function(){}},h=m,f=(a("87a6"),a("2877")),b=Object(f["a"])(h,i,r,!1,null,"e7b8e6f4",null);t["default"]=b.exports},"83f8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("table",{staticClass:"category-list"},[e._m(0),e._l(e.list,(function(t,i){return a("tr",{key:t.index},[a("td",{staticClass:"padding-item"},[e._v(e._s(t.CATENAME))]),a("td",{staticClass:"padding-item"},[e._v(e._s(t.TOTAL))]),a("td",{staticStyle:{width:"100%"}},[a("div",[e._v(e._s(t.mix))]),a("div",{staticClass:"process-container"},[a("div",{style:{width:t.mix}})])])])}))],2)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",{staticClass:"list-item"},[a("td",{staticClass:"padding-item"},[e._v("分类")]),a("td",{staticClass:"padding-item"},[e._v("数量")]),a("td",[e._v("占比")])])}],s={name:"CategoryList",components:{},props:{list:{type:Array,default:function(){return[]}}},data:function(){return{}},watch:{},computed:{},methods:{},created:function(){},mounted:function(){}},n=s,l=(a("6608"),a("2877")),o=Object(l["a"])(n,i,r,!1,null,"aac6b028",null);t["default"]=o.exports},"84bf":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"recycle-bin max-height"},[a("div",{staticClass:"max-height flex-column"},[a("div",{staticClass:"flex btn-list"},e._l(e.btnList,(function(t){return a("div",{key:t.value},[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.btnClick(t)}}},[e._v(" "+e._s(t.label)+" ")])],1)})),0),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"table-box max-height"},[a("fox-table",{ref:"multipleTable",attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,"row-style":{cursor:"pointer"}},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection}})],1)])])},r=[],s=a("5530"),n=a("1da1"),l=(a("a15b"),a("d81d"),a("4de4"),a("caad"),a("2532"),a("96cf"),a("f7c4")),o=a("2e5f"),c=a("3f19"),d={name:"RecycleBin",mixins:[c["a"]],components:{foxTable:l["a"],BtnList:o["default"]},props:{},data:function(){return{btnList:[{value:"recovery",label:"恢复",alert:"请选中记录！"},{value:"delete",label:"删除",alert:"请选中记录！"},{value:"empty",label:"清空"},{value:"back",label:"返回",type:"back"}],url:{list:"/fileShar/recycleBucket",recovery:"/fileShar/recovery",delete:"/fileShar/delete",empty:"/fileShar/delete"}}},watch:{},computed:{},methods:{queryList:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,r,n,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize},t.table=Object(s["a"])(Object(s["a"])({},t.table),{},{loading:!0}),a.next=5,t.$api.getAction(t.url.list,i);case 5:r=a.sent,n=r.count,l=r.data,t.page=Object(s["a"])(Object(s["a"])({},t.page),{},{total:1*n}),t.$nextTick((function(){t.table=Object(s["a"])(Object(s["a"])({},t.table),{},{data:l})})),t.table=Object(s["a"])(Object(s["a"])({},t.table),{},{loading:!1});case 11:case"end":return a.stop()}}),a)})))()},btnClick:function(e){if("back"==e.type)return this.$emit("ok"),void this.$emit("back");var t=this.table.selection.length,a="";if(0==t&&e.alert&&(a=e.alert),a)this.$sweetAlert.warnWithTimer(a);else{var i=this.table.selection.map((function(e){return e.id})).join(",");this.operate(i,e.value)}},operate:function(e,t){switch(t){case"recovery":this.recoveryOperate(e,t);break;case"delete":this.batchOperate(e,t);break;case"empty":var a="注意是否清空回收站，清空后所有数据不可恢复！";this.operateBeforeConfirm(e,t,a);break;default:break}},operateBeforeConfirm:function(e,t,a){var i=this;this.$confirm(a,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i.batchOperate(e,t)})).catch((function(){}))},setTableColumn:function(){var e=this;this.table=Object(s["a"])(Object(s["a"])({},this.table),{},{show:!1,column:[{type:"selection"},{label:"名称",prop:"name"},{label:"上传时间",prop:"createTime"}]}),this.$nextTick((function(){e.table=Object(s["a"])(Object(s["a"])({},e.table),{},{show:!0})}))},recoveryOperate:function(e,t){var a=this.url[t],i={ids:e},r="post";this.interfaceRequest(a,i,r)},batchOperate:function(e,t){var a=this.table.data.filter((function(t){return e.includes(t.id)})),i=a.map((function(e){return e.rootDirId})).join(","),r=a.map((function(e){return e.levelCode})).join(","),s=this.url[t],n={rootDirIds:i,levelCodes:r},l="post";"empty"==t&&(n={rootDirIds:"",levelCodes:""}),this.interfaceRequest(s,n,l)},interfaceRequest:function(e,t,a){var i=this;this.$api.httpAction(e,t,a).then((function(e){200==e.code?(i.$sweetAlert.successWithTimer(e.msg),i.queryList(1)):i.$sweetAlert.errorWithTimer(e.msg)}))}},created:function(){this.setTableColumn(),this.queryList()},mounted:function(){}},u=d,p=(a("5b4e"),a("2877")),m=Object(p["a"])(u,i,r,!1,null,"4dfdb9fc",null);t["default"]=m.exports},8673:function(e,t,a){},"878f":function(e,t,a){"use strict";a("5363")},"87a6":function(e,t,a){"use strict";a("c484")},"88d4":function(e,t,a){"use strict";a("00c3")},8952:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"word-cloud"},[a("div",{staticClass:"cloud-box"},e._l(e.tags,(function(t){return a("div",{staticClass:"tag-text",class:[t.bgClassName],style:{position:"absolute",left:t.x+"px",top:t.y+"px",opacity:e.opacityParam(t),display:e.opacityParam(t)<.5?"none":"block"}},[e._v(" "+e._s(t.text)+" ")])})),0)])},r=[],s=a("b85c"),n=(a("a9e3"),a("b0c0"),{props:{className:{type:String,default:"chart"},id:{type:String,default:"chart"},width:{type:Number|String,default:"325"},height:{type:Number|String,default:"425"},data:{type:Array,default:function(){return[]}},title:{type:String,default:""}},data:function(){return{chart:null,tagsNum:0,RADIUS:150,speedX:Math.PI/360/1.5,speedY:Math.PI/360/1.5,tags:[]}},computed:{CX:function(){return this.width/2},CY:function(){return this.height/2}},created:function(){var e=[];this.tagsNum=this.data.length;for(var t=0;t<this.data.length;t++){var a={},i=(2*(t+1)-1)/this.tagsNum-1,r=Math.acos(i),s=r*Math.sqrt(this.tagsNum*Math.PI);a.text=this.data[t].name,a.x=this.CX+this.RADIUS*Math.sin(r)*Math.cos(s),a.y=this.CY+this.RADIUS*Math.sin(r)*Math.sin(s),a.z=this.RADIUS*Math.cos(r);var n=t%3+1;a.bgClassName="tag"+n,e.push(a)}this.tags=e},mounted:function(){var e=this;setInterval((function(){e.rotateX(e.speedX),e.rotateY(e.speedY)}),34)},methods:{opacityParam:function(e){var t=JSON.parse(JSON.stringify(e)),a=(500+t.z)/600;return a},rotateX:function(e){var t,a=Math.cos(e),i=Math.sin(e),r=Object(s["a"])(this.tags);try{for(r.s();!(t=r.n()).done;){var n=t.value,l=(n.y-this.CY)*a-n.z*i+this.CY,o=n.z*a+(n.y-this.CY)*i;n.y=l,n.z=o}}catch(c){r.e(c)}finally{r.f()}},rotateY:function(e){var t,a=Math.cos(e),i=Math.sin(e),r=Object(s["a"])(this.tags);try{for(r.s();!(t=r.n()).done;){var n=t.value,l=(n.x-this.CX)*a-n.z*i+this.CX,o=n.z*a+(n.x-this.CX)*i;n.x=l,n.z=o}}catch(c){r.e(c)}finally{r.f()}},listener:function(e){}}}),l=n,o=(a("e0d8e"),a("2877")),c=Object(o["a"])(l,i,r,!1,null,"912459a0",null);t["default"]=c.exports},"89ef":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container flex-column"},[a("div",{staticClass:"flex btn-list"},e._l(e.btnList,(function(t){return a("div",{key:t.value},[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.btnClick(t)}}},[e._v(" "+e._s(t.label)+" ")])],1)})),0),a("div",{staticClass:"flex justify-end"},[a("div",{staticClass:"search-item-label"},[e._v("文件名称：")]),a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticStyle:{"margin-right":"10px",width:"120px"},attrs:{placeholder:"文件名称",size:"mini",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryList()}},model:{value:e.searchParams.name,callback:function(t){e.$set(e.searchParams,"name",t)},expression:"searchParams.name"}}),a("div",{staticClass:"search-item-label"},[e._v("时间：")]),a("el-date-picker",{staticStyle:{"margin-right":"10px"},attrs:{type:"daterange","value-format":"yyyy-MM-dd HH:mm:ss",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"mini"},on:{change:e.queryList},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.queryList()}}},[e._v(" 搜索 ")])],1),a("div",{staticClass:"table-box max-height"},[a("div",{staticClass:"path-list flex justify-start"},e._l(e.pathList,(function(t,i){return a("div",{key:i,staticClass:"path-list-item flex",on:{click:function(a){return e.pathItemClick(t,i)}}},[a("div",{staticClass:"name",class:{"animated slideInLeft":i>0}},[e._v(" "+e._s(t.name||t.label||"")+" ")]),i<e.pathList.length-1?a("div",[e._v("/")]):e._e()])})),0),a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,"row-style":{cursor:"pointer"}},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"submit-edit":e.submitEdit,"cancel-edit":e.cancelEdit,"cell-click":e.cellClick}})],1),e._m(0),e.folder.show?a("folder-modal",{ref:"folder",attrs:{title:e.folder.title},on:{ok:e.moveFolder,close:function(t){e.folder.show=!1}}}):e._e(),e.archive.show?a("archive-modal",{ref:"archive",attrs:{title:e.archive.title},on:{ok:function(t){return e.queryList()},close:function(t){e.archive.show=!1}}}):e._e(),e.fileType.show?a("file-type-modal",{ref:"fileType",attrs:{title:e.fileType.title},on:{ok:e.setElFolder,close:function(t){e.fileType.show=!1}}}):e._e(),e.organ.show?a("organ-modal",{ref:"organ",attrs:{title:e.organ.title},on:{ok:e.shareOperate,close:function(t){e.organ.show=!1}}}):e._e(),e.user.show?a("share-user",{ref:"user",attrs:{title:e.user.title},on:{ok:e.shareOperate,close:function(t){e.user.show=!1}}}):e._e(),e.team.show?a("send-team",{ref:"team",attrs:{title:e.team.title},on:{ok:e.sendTeamWork,close:function(t){e.team.show=!1}}}):e._e(),e.filesUpload.show?a("files-upload-modal",{ref:"filesUpload",on:{ok:function(t){return e.queryList()},close:function(t){e.filesUpload.show=!1}}}):e._e(),e.outerChain.show?a("outer-chain",{ref:"outerChain",attrs:{title:e.outerChain.title},on:{ok:function(t){return e.queryList()},close:function(t){e.outerChain.show=!1}}}):e._e(),e.records.show?a("history-records",{ref:"records",attrs:{title:e.records.title},on:{ok:function(t){return e.queryList()},close:function(t){e.records.show=!1}}}):e._e(),a("el-upload",{ref:"upload",staticClass:"re-upload-box",attrs:{data:e.reUploadData,action:e.reUploadUrl,"on-success":e.handleSuccess,"on-remove":e.handleRemove,"before-upload":e.beforeAvatarUpload,"auto-upload":!0,accept:"","on-change":function(t,a){e.handleChangeFile(t,a)}}},[a("div",{ref:"reUploadBtn",staticClass:"uploader-tips"},[e._v("点击上传文件")])])],1)},r=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"prestrain-img"},[i("img",{attrs:{src:"static/img/table/folder.svg",alt:""}}),i("img",{attrs:{src:"static/img/table/file.svg",alt:""}}),i("img",{attrs:{src:a("1f3f"),alt:""}}),i("img",{attrs:{src:a("00ed"),alt:""}})])}],s=a("2909"),n=a("5530"),l=a("1da1"),o=(a("96cf"),a("a434"),a("b0c0"),a("a15b"),a("d81d"),a("4de4"),a("caad"),a("2532"),a("99af"),a("a9e3"),a("7db0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("159b"),a("7c1a")),c=a("f7c4"),d=a("2e5f"),u=a("3d09"),p=a("3f19"),m=a("d215"),h=a("75243"),f=a("e895"),b=a("80b3"),g=a("245f"),v=a("25fb"),y=a("befb"),x=a("520e"),w=a("cf45"),k={name:"MyFile",mixins:[p["a"]],components:{FilesUploadModal:o["default"],foxTable:c["a"],BtnList:d["default"],LogoText:u["default"],FolderModal:m["default"],ArchiveModal:h["default"],OrganModal:f["default"],ShareUser:b["default"],SendTeam:g["default"],OuterChain:v["default"],FileTypeModal:y["default"],HistoryRecords:x["default"]},props:{},data:function(){return{filesUpload:{show:!1,loading:!1},folder:{show:!1,title:"请选择文件夹",loading:!1},archive:{show:!1,title:"归档",loading:!1},fileType:{show:!1,title:"请选择文件类型",loading:!1},organ:{show:!1,title:"分享到部门",loading:!1},user:{show:!1,title:"分享到用户",loading:!1},team:{show:!1,title:"发起协同",loading:!1},outerChain:{show:!1,title:"外链分享",loading:!1},records:{show:!1,title:"文件历史记录",loading:!1},searchParams:{name:"",sort:""},sortList:[],baseData:null,date:"",btnList:[{value:"upload",label:"上传"},{value:"create",label:"新建文件夹"},{value:"download",label:"下载",alert:"请选择要下载的文件（夹）"},{value:"delete",label:"删除",alert:"请选择要删除的文件（夹）"},{value:"move",label:"移动",alert:"请选择要移动的文件（夹）"},{value:"anew",label:"重新上传",alert:"请选中一条文件再重新上传！"},{value:"fileType",label:"文件类型",alert:"请选择一个或多个文件"}],basicLineFlag:!1,newFolderFlag:!1,pathList:[{label:"全部",name:"",pid:0,rootDirId:""}],pathItem:{pid:0,rootDirId:"",levelCode:""},shareObject:null,dir:"",url:{list:"/sysPers/list",add:"/sysPers/add",rename:"/sysPers/rename",delete:"/sysPers/delete",download:"/sysPers/download",move:"/sysPers/move",setElFolder:"/sysPers/setElFolder",share:"/sysPers/share",sendTeamWork:"/sysPers/sendTeamWork",upload:"/sysPers/upload",getViewUrl:"/sysPers/getViewUrl",fileDetails:"/sysOss/fileDetails"},reUploadObject:null}},watch:{},computed:{reUploadUrl:function(){return window._CONFIG["domainURL"]+"/sysPers/reUpload"},reUploadData:function(){return this.reUploadObject}},methods:{pathItemClick:function(e,t){this.pathList=this.pathList.splice(0,t+1),this.pathItem=e,this.queryList(1)},queryList:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var i,r,s,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),t.newFolderFlag=!1,i={pid:t.pathItem.pid,name:t.searchParams.name,page:t.page.pageNum,limit:t.page.pageSize},t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{loading:!0}),t.date&&t.date.length>0&&(i=Object(n["a"])(Object(n["a"])({},i),{},{startTime:t.date[0],finishTime:t.date[1]})),a.next=7,t.$api.getAction(t.url.list,i);case 7:r=a.sent,s=r.count,l=r.data,t.page=Object(n["a"])(Object(n["a"])({},t.page),{},{total:1*s}),t.$nextTick((function(){t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{data:l})})),t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{loading:!1});case 13:case"end":return a.stop()}}),a)})))()},btnClick:function(e){var t=this.table.selection.length,a="";if(0==t&&e.alert&&(a=e.alert),a)this.$sweetAlert.warnWithTimer(a);else{var i=this.table.selection.map((function(e){return e.ID})).join(",");this.operate(i,e.value)}},operate:function(e,t){var a=this,i=e,r=[],s=!1;switch("string"==typeof e&&(r=this.table.data.filter((function(t){return e.includes(t.ID)})),s=r.some((function(e){return 1==e.FILE_TYPE}))),t){case"upload":this.filesUpload.show=!0;this.pathList.map((function(e){return e.label})).join("/");var n=null;0!=this.pathItem.pid&&(n={nowDirId:this.pathItem.pid,rootDirId:this.pathItem.rootDirId}),this.$nextTick((function(){a.$refs.filesUpload.init({data:n,url:a.url.upload})}));break;case"create":this.newFolder();break;case"download":this.batchOperate(e,t);break;case"delete":this.batchOperate(e,t);break;case"move":this.folder.show=!0,this.$nextTick((function(){a.$refs.folder.init(e)}));break;case"anew":if(s)return void this.$sweetAlert.warnWithTimer("文件夹不可以重新上传！");if(this.table.selection.length>1)return void this.$sweetAlert.warnWithTimer("只能选中一条文件重新上传！");this.reUploadObject={nowDirId:e},this.$refs.reUploadBtn.click();break;case"archive":if(s)return void this.$sweetAlert.warnWithTimer("文件夹无法移交！");this.archive.show=!0,this.$nextTick((function(){a.$refs.archive.init(e)}));break;case"fileType":if(s)return void this.$sweetAlert.warnWithTimer("请不要选择文件夹");this.fileType.show=!0,this.$nextTick((function(){a.$refs.fileType.init(e)}));break;case"shareWithUsers":this.shareObject={type:"1",id:i.ID,rootDirId:i.ROOT_DIR_ID},this.user.show=!0,this.$nextTick((function(){a.$refs.user.init()}));break;case"shareWithDepartment":this.shareObject={type:"0",id:i.ID,rootDirId:i.ROOT_DIR_ID},this.organ.title="分享到部门",this.organ.show=!0,this.$nextTick((function(){a.$refs.organ.init(e)}));break;case"shareOuterChain":this.outerChain.show=!0,this.$nextTick((function(){a.$refs.outerChain.init({id:i.ID,rootDirId:i.ROOT_DIR_ID})}));break;case"synergy":var l=this.checkUnSupported(i);if(l)return void this.$sweetAlert.warnWithTimer("未被支持格式文件！");this.shareObject={id:i.ID},this.team.show=!0,this.$nextTick((function(){a.$refs.team.init()}));break;case"history":this.records.show=!0,this.$nextTick((function(){a.$refs.records.init(i.ID)}));break;default:break}},checkUnSupported:function(e){var t=e.FILE_FORMAT,a=!1;switch(t){case"doc":case"docx":case"xls":case"xlsx":case"ppt":case"pptx":a=!0;break;default:break}return a},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{show:!1,column:[{type:"selection"},{label:"",type:"text",width:"50",render:function(e,t){var a=t.row,i="static/img/table/folder.svg";"0"==a.FILE_TYPE&&(i="static/img/table/file.svg");var r={logo:i};return e(u["default"],{attrs:{logoInfo:r}})}},{label:"名称",width:200,prop:"NAME",type:"edit"},{label:"编辑",prop:"oper",width:320,fixed:"right",render:function(t,a){var i=a.row,r=[{content:"重命名",type:"text",icon:"edit-outline",popover:!0,event:function(){e.rename(i)}},{content:"分享",type:"dropDown",icon:"share",dropDownItems:[{content:"分享到用户",event:function(){e.operate(i,"shareWithUsers")}},{content:"分享到部门",event:function(){e.operate(i,"shareWithDepartment")}},{content:"外链分享",event:function(){e.operate(i,"shareOuterChain")}}]}];if(0==i.FILE_TYPE){var n=[{content:"发起协同",type:"text",icon:"edit-outline",event:function(){e.operate(i,"synergy")}},{content:"文件历史记录",type:"text",event:function(){e.operate(i,"history")}}];r=[].concat(Object(s["a"])(r),n)}return i.hideOperate&&(r=[]),t(d["default"],{attrs:{btnInfo:r}})}},{label:"大小",prop:"FILE_SIZE",render:function(e,t){var a=t.row,i=[];if(a.FILE_SIZE){var r=Object(w["o"])(Number(a.FILE_SIZE||0));i.push({content:r,color:"#E6A23C",type:"text",cursor:"default",event:function(){}})}return e(d["default"],{attrs:{btnInfo:i}})}},{label:"上传时间",width:160,prop:"CREATE_TIME"},{label:"归档状态",prop:"ARCH_STATUS",render:function(e,t){var a=t.row,i=[],r=null;return 0==a.ARCH_STATUS?r={content:"未归档",color:"#E6A23C",type:"text",cursor:"default",event:function(){}}:1==a.ARCH_STATUS&&(r={content:"已归档",color:"#67C23A",type:"text",cursor:"default",event:function(){}}),r&&i.push(r),e(d["default"],{attrs:{btnInfo:i}})}},{label:"文件类型",prop:"FOLDER_NAME"}]}),this.$nextTick((function(){e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{show:!0})}))},cellClick:function(e,t,a,i){1!=e.edit&&(t.property&&"oper"==t.property||"default"==t.type&&(1==e.FILE_TYPE?(this.pathItem={label:e.NAME,name:e.NAME,pid:e.ID,rootDirId:e.ROOT_DIR_ID,levelCode:e.LEVEL_CODE},this.pathList.push(Object(n["a"])({},this.pathItem)),this.queryList(1)):0==e.FILE_TYPE&&this.getViewUrl(e)))},getViewUrl:function(e){var t=this,a={filePath:e.FILE_PATH,fileScene:e.FILE_SCENE,fileName:e.FILE_FNAME},i=e.FILE_FORMAT,r=e.CONVERT_STATUS,s=e.ID;this.$api.getAction(this.url.getViewUrl,a).then((function(e){if(200==e.code){var a=e.data;switch(i){case"png":case"jpg":case"mp4":case"mp3":t.viewSourceByPdfUrl(a,i,s);break;case"pdf":case"doc":case"docx":case"xls":case"xlsx":case"ppt":case"pptx":1==r||"pdf"==i?t.viewSourceByPdfUrl(a,i,s):t.$sweetAlert.errorWithTimer("文件转换失败，未能打开!");break;default:t.$sweetAlert.errorWithTimer("未被支持格式文件！");break}}else t.$sweetAlert.errorWithTimer(e.message)}))},viewSourceByPdfUrl:function(e,t,a){var i={fileUrl:e,fileType:t,fileId:a,fileFrom:"MyFile"},r=this.$router.resolve({path:"/originalPage",query:i});window.open(r.href,"_blank")},submitEdit:function(e){e.NAME?e.ID?this.setRename(e):(this.setNewFolder(e),this.newFolderFlag=!1):this.$sweetAlert.warnWithTimer("请输入文件夹名称！")},setNewFolder:function(e){var t=this.url.add,a=this.pathItem,i=a.pid,r=a.rootDirId,s=a.levelCode,l=e.NAME,o={name:l,pid:i,rootDirId:r};0!=i&&(o=Object(n["a"])(Object(n["a"])({},o),{},{levelCode:s}));var c="post";this.cancelEdit(e),this.interfaceRequest(t,o,c)},setRename:function(e){var t=this.url.rename,a={name:e.NAME,id:e.ID},i="post";this.cancelEdit(e),this.interfaceRequest(t,a,i)},interfaceRequest:function(e,t,a){var i=this;this.$api.httpAction(e,t,a).then((function(e){200==e.code?(i.$sweetAlert.successWithTimer(e.msg),i.queryList(1)):i.$sweetAlert.errorWithTimer(e.msg)}))},cancelEdit:function(e){var t=this;if(!e.ID)return this.table.data.shift(e),this.newFolderFlag=!1,this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{loading:!0}),void this.$nextTick((function(){t.table.loading=!1}));this.table.data.find((function(t){return t.ID==e.ID})).edit=!1,this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{loading:!0}),this.$nextTick((function(){t.table.loading=!1}))},newFolder:function(){var e=this;if(!this.newFolderFlag){this.newFolderFlag=!0;var t={NAME:"",edit:!0,hideOperate:!0};this.table.data.unshift(t),this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{loading:!0}),this.$nextTick((function(){e.table.loading=!1}))}},rename:function(e){var t=this;this.table.data.find((function(t){return t.ID==e.ID})).edit=!0,this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{loading:!0}),this.$nextTick((function(){t.table.loading=!1}))},batchOperate:function(e,t){var a=this,i=this.table.data.filter((function(t){return e.includes(t.ID)})),r=i.map((function(e){return e.ROOT_DIR_ID})).join(","),s=i.map((function(e){return e.LEVEL_CODE})).join(","),n=this.url[t],l={rootDirIds:r,levelCodes:s},o="post";if("download"==t){var c=Object(w["h"])(new Date,"{y}-{m}-{d}");this.$api.downFile(n,l).then((function(e){if(e)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([e]),c+".zip");else{var t=window.URL.createObjectURL(new Blob([e])),i=document.createElement("a");i.style.display="none",i.href=t,i.setAttribute("download",c+".zip"),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(t)}else a.$sweetAlert.errorWithTimer("文件下载失败！")}))}else this.interfaceRequest(n,l,o)},moveFolder:function(e){var t=this.table.selection.map((function(e){return e.ID})).join(","),a=this.table.data.filter((function(e){return t.includes(e.ID)})),i=a.map((function(e){return e.ID})).join(","),r=this.url.move,s={sourceIds:i,targetId:e.targetId,targetLevelCode:e.targetLevelCode},n="post";this.interfaceRequest(r,s,n)},shareOperate:function(e){var t="",a=Object(w["c"])(this.pathList);a.splice(0,1),a.forEach((function(e){t+=e.label+"/"}));var i=this.url.share,r=Object(n["a"])(Object(n["a"])({},this.shareObject),{},{nowPath:t.substring(0,t.lastIndexOf("/")),list:JSON.stringify(e.list)}),s=JSON.stringify(r),l={jsonStr:s},o="post";this.interfaceRequest(i,l,o)},sendTeamWork:function(e){var t=this.url.sendTeamWork,a=Object(n["a"])(Object(n["a"])({},this.shareObject),{},{objIds:e.objIds,objLoginNames:e.objLoginNames}),i="post";this.interfaceRequest(t,a,i)},setElFolder:function(e){var t=this.url.setElFolder,a=Object(n["a"])({},e),i="post";this.interfaceRequest(t,a,i)},handleSuccess:function(e){this.queryList()},handleRemove:function(e,t){},beforeAvatarUpload:function(){var e=this;return new Promise((function(t,a){e.$nextTick((function(){return t()}))}))},handleChangeFile:function(e,t){var a=e.size/1024/1024<10;if(!a)return this.$message.error("文件大小不能超过 10MB!"),void(this.$refs["upload"].uploadFiles=[]);t.length>1&&t.splice(0,1)}},created:function(){this.setTableColumn(),this.queryList()},mounted:function(){}},C=k,_=(a("070a"),a("2877")),T=Object(_["a"])(C,i,r,!1,null,"62db9a17",null);t["default"]=T.exports},"8a77":function(e,t,a){"use strict";a("ee5c")},"8af4":function(e,t,a){"use strict";a("d534")},"8b53":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],s=a("ade3"),n=a("313e"),l=a.n(n),o=a("82a3");a("817d");var c={name:"",mixins:[o["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"200px"},dataInfo:{type:Object}},data:function(){return{chart:null}},computed:{title:function(){if(this.dataInfo)return this.dataInfo.title},legend:function(){if(this.dataInfo)return this.dataInfo.legend},subTitle:function(){if(this.dataInfo)return this.dataInfo.subTitle},seriesColor:function(){if(this.dataInfo)return this.dataInfo.seriesColor}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=l.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.expectedData,t.actualData;this.chart.setOption({text:"标题文本",title:{text:this.title,textStyle:(e={color:"#fff",fontWeight:"bold",fontStyle:"normal"},Object(s["a"])(e,"fontWeight","bold"),Object(s["a"])(e,"fontFamily","sans-serif"),Object(s["a"])(e,"fontSize",13),e),subtext:this.subTitle},tooltip:{trigger:"axis"},legend:{data:[this.legend],textStyle:{color:"#fff"}},xAxis:{type:"category",boundaryGap:!1,axisLine:{lineStyle:{color:"#4488BB",width:1}},axisLabel:{textStyle:{color:"#fff"},interval:0,rotate:40},data:this.dataInfo.xAxisArr},yAxis:{type:"value",axisLine:{lineStyle:{color:"#4488BB",width:1}},axisLabel:{formatter:"{value}",textStyle:{color:"#fff"}}},series:[{name:this.legend,type:"line",color:[this.seriesColor],smooth:0,data:this.dataInfo.seriesArr,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}}]})}}},d=c,u=a("2877"),p=Object(u["a"])(d,i,r,!1,null,"fcf03f3e",null);t["default"]=p.exports},"8baa":function(e,t,a){},"8cd8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container none-shadow flex-column"},[a("div",{staticClass:"operate-box nowrap flex justify-start padding-right-10"},[a("div",[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:storeroom:add",expression:"'sys:storeroom:add'"}],attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.btnClick("add","room")}}},[e._v(" 添加库房 ")]),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:storeroom:add",expression:"'sys:storeroom:add'"}],attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.btnClick("add","area")}}},[e._v(" 添加库房区域 ")]),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:storeroom:del",expression:"'sys:storeroom:del'"}],attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.btnClick("delete")}}},[e._v(" 删除 ")])],1)]),a("el-row",{staticClass:"max-height smart-height"},[a("el-col",{staticClass:"max-height",attrs:{span:5}},[a("div",{staticClass:"max-height left-side"},[a("div",{staticClass:"tree-title"},[e._v("库房树")]),a("div",{staticClass:"overflow-auto"},[a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],attrs:{data:e.treeData,defaultExpandedKeys:e.defaultExpandedKeys},on:{click:e.treeNodeClick,expandedChange:e.expandedChange}})],1)])]),a("el-col",{staticClass:"max-height",attrs:{span:19}},[a("div",{staticClass:"max-height flex-column smart-height"},["form"==e.rightType?a("el-card",{staticClass:"box-card max-height"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.title.textMap[e.title.state][e.title.status]))])]),a("div",{staticClass:"form-class"},[a("el-form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":"7rem","auto-complete":"off","label-position":"right"}},["room"==e.title.state?a("div",[a("el-row",{staticClass:"form-row"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"库房名称",prop:"srName"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入库房名称",clearable:""},model:{value:e.model.srName,callback:function(t){e.$set(e.model,"srName",t)},expression:"model.srName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"库房编号",prop:"serialRoom"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入库房编号",clearable:""},model:{value:e.model.serialRoom,callback:function(t){e.$set(e.model,"serialRoom",t)},expression:"model.serialRoom"}})],1)],1)],1),a("el-row",{staticClass:"form-row"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"高度(m)",prop:"height"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{maxlength:"50",placeholder:"请输入",clearable:"",min:0,max:1e3},on:{change:e.setArea},model:{value:e.model.height,callback:function(t){e.$set(e.model,"height",t)},expression:"model.height"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"位置",prop:"location"}},[a("el-input",{attrs:{maxlength:"50",placeholder:"请输入位置",clearable:""},model:{value:e.model.location,callback:function(t){e.$set(e.model,"location",t)},expression:"model.location"}})],1)],1)],1),a("el-row",{staticClass:"form-row"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"宽度(m)",prop:"width"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{maxlength:"50",type:"text",placeholder:"请输入",clearable:"",min:0,max:1e3},on:{change:e.setArea},model:{value:e.model.width,callback:function(t){e.$set(e.model,"width",t)},expression:"model.width"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"面积(㎡)",prop:"srArea"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入面积",clearable:"",disabled:""},model:{value:e.model.srArea,callback:function(t){e.$set(e.model,"srArea",t)},expression:"model.srArea"}})],1)],1)],1),a("el-row",{staticClass:"form-row"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"位置连接符",prop:"connChar"}},[a("dict-select-tag",{attrs:{"dict-code":"conn_char",placeholder:"请选择位置连接符"},model:{value:e.model.connChar,callback:function(t){e.$set(e.model,"connChar",t)},expression:"model.connChar"}})],1)],1),a("el-col",{attrs:{span:12}})],1),a("el-row",{staticClass:"form-row"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"负责人",prop:"author"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入负责人",clearable:""},model:{value:e.model.author,callback:function(t){e.$set(e.model,"author",t)},expression:"model.author"}})],1)],1),a("el-col",{attrs:{span:12}})],1),a("el-row",{staticClass:"form-row"},[a("el-form-item",{attrs:{label:"库房描述",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",maxlength:"200",rows:5,placeholder:"请输入库房描述",clearable:""},model:{value:e.model.remark,callback:function(t){e.$set(e.model,"remark",t)},expression:"model.remark"}})],1)],1)],1):e._e(),"area"==e.title.state?a("div",[a("el-row",{staticClass:"form-row"},[a("el-col",{attrs:{span:12}},[!e.codeData||e.codeData.saParentId&&"-1"!=e.codeData.saParentId?e.codeData?a("el-form-item",{attrs:{label:"所属库房区域",prop:"saParentName"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入所属库房区域",clearable:"",disabled:""},model:{value:e.model.saParentName,callback:function(t){e.$set(e.model,"saParentName",t)},expression:"model.saParentName"}})],1):e._e():a("el-form-item",{attrs:{label:"所属库房",prop:"srName"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入所属库房",clearable:"",disabled:""},model:{value:e.model.srName,callback:function(t){e.$set(e.model,"srName",t)},expression:"model.srName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"区域名称",prop:"saName"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入区域名称",clearable:""},model:{value:e.model.saName,callback:function(t){e.$set(e.model,"saName",t)},expression:"model.saName"}})],1)],1)],1),a("el-row",{staticClass:"form-row"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"区域编号",prop:"serialArea"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入区域编号",clearable:""},model:{value:e.model.serialArea,callback:function(t){e.$set(e.model,"serialArea",t)},expression:"model.serialArea"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"管理模式",prop:"manageMode"}},[a("dict-select-tag",{attrs:{"dict-code":"manage_mode",placeholder:"请选择管理模式"},model:{value:e.model.manageMode,callback:function(t){e.$set(e.model,"manageMode",t)},expression:"model.manageMode"}})],1)],1)],1),a("el-row",{staticClass:"form-row"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"排列数",prop:"denseArray"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{maxlength:"50",type:"text",placeholder:"请输入排列数",min:0,max:600,clearable:""},model:{value:e.model.denseArray,callback:function(t){e.$set(e.model,"denseArray",t)},expression:"model.denseArray"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"柜节数",prop:"denseNode"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{maxlength:"50",type:"text",placeholder:"请输入柜节数",min:0,max:600,clearable:""},model:{value:e.model.denseNode,callback:function(t){e.$set(e.model,"denseNode",t)},expression:"model.denseNode"}})],1)],1)],1),a("el-row",{staticClass:"form-row"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"柜层数",prop:"denseLayer"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{maxlength:"50",type:"text",placeholder:"请输入柜层数",min:0,max:100,clearable:""},model:{value:e.model.denseLayer,callback:function(t){e.$set(e.model,"denseLayer",t)},expression:"model.denseLayer"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"容量",prop:"capacity"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{maxlength:"50",type:"text",placeholder:"请输入容量",min:0,max:100,clearable:""},model:{value:e.model.capacity,callback:function(t){e.$set(e.model,"capacity",t)},expression:"model.capacity"}})],1)],1)],1),a("el-row",{staticClass:"form-row"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"密集使用面",prop:"denseFace"}},[a("dict-select-tag",{attrs:{"dict-code":"dense_face",placeholder:"请选择密集使用面"},model:{value:e.model.denseFace,callback:function(t){e.$set(e.model,"denseFace",t)},expression:"model.denseFace"}})],1)],1),a("el-col",{attrs:{span:12}})],1),a("el-row",{staticClass:"form-row"},[a("el-form-item",{attrs:{label:"库房描述",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",maxlength:"200",rows:5,placeholder:"请输入库房描述",clearable:""},model:{value:e.model.remark,callback:function(t){e.$set(e.model,"remark",t)},expression:"model.remark"}})],1)],1)],1):e._e()])],1),a("div",{staticClass:"btn-list flex text-right"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"},{name:"has",rawName:"v-has",value:"sys:storeroom:update",expression:"'sys:storeroom:update'"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 提交 ")]),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:storeroom:update",expression:"'sys:storeroom:update'"}],attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")]),e.tableBtnShowFlag?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.changeRightType("table")}}},[e._v(" 查看密集架 ")]):e._e()],1)]):e._e(),"table"==e.rightType?a("div",{staticClass:"max-height"},[a("page-list",{ref:"pageList",on:{close:function(t){return e.changeRightType("form")}}})],1):e._e()],1)])],1)],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("b0c0"),a("159b"),a("b64b"),a("7db0"),a("a9e3"),a("d3b7"),a("25f0"),a("d81d"),a("4de4"),a("60f9")),o=(a("3f19"),a("0779")),c=a("065f"),d=(a("61f7"),{name:"",components:{BasicTree:l["default"],DictSelectTag:o["default"],PageList:c["default"]},props:{},data:function(){return{loading:!1,initLoadOver:!1,treeData:[],baseData:[],model:{id:"",srName:"",saParentName:"",serialArea:"",serialRoom:"",serial:"",height:0,location:"",width:0,srArea:0,connChar:"",status:"",author:"",remark:"",srId:"",saName:"",manageMode:null,denseArray:null,denseNode:null,denseLayer:null,capacity:null,denseFace:null},rules:{srName:[],saParentName:[{required:!0,trigger:"change",message:""}],serialRoom:[{required:!0,validator:this.checkOnly,trigger:"blur"}],serialArea:[{required:!0,validator:this.checkOnly,trigger:"blur"}],height:[{required:!0,trigger:"change",message:"请输入高度"}],location:[{required:!0,trigger:"change",message:"请输入位置"}],width:[{required:!0,trigger:"change",message:"请输入宽度"}],srArea:[{required:!0,trigger:"change",message:"请输入面积"}],connChar:[{required:!0,trigger:"change",message:"请选择位置连接符"}],author:[{required:!0,trigger:"change",message:"请输入负责人"}],remark:[{required:!1,trigger:"change",message:"请输入库房描述"}],saName:[{required:!0,validator:this.checkOnly,trigger:"blur"}],manageMode:[{required:!0,trigger:"change",message:"请选择管理模式"}],denseArray:[{required:!0,trigger:"change",message:"请输入排列数"}],denseNode:[{required:!0,trigger:"change",message:"请输入柜节数"}],denseLayer:[{required:!0,trigger:"change",message:"请输入柜层数"}],capacity:[{required:!0,trigger:"change",message:"请输入容量"}],denseFace:[{required:!0,trigger:"change",message:"请选择密集使用面"}]},defaultExpandAll:!1,defaultExpandedKeys:[],codeData:null,title:{status:"create",state:"room",textMap:{room:{update:"修改库房",create:"添加库房"},area:{update:"修改库房区域",create:"添加库房区域"}}},rightType:"form",url:{tree:"/storeRoom/viewTree",save:{room:"/storeRoom/add",area:"/storeArea/add"},delete:{room:"/storeRoom/delete",area:"/storeArea/delete"},update:{room:"/storeRoom/update",area:"/storeArea/update"},queryObject:{room:"/storeRoom/queryObject",area:"/storeArea/queryObject"},pageList:"/storeArray/pageList",checkOnly:"/storeRoom/checkOnly"}}},watch:{"title.state":{immediate:!0,handler:function(e){"room"===e?this.addRule("srName",[{required:!0,trigger:"change",message:"请输入库房名称"},{required:!1,trigger:"blur",validator:this.checkOnly}]):this.addRule("srName",[{required:!0,trigger:"change",message:"请输入库房名称"}])}}},computed:{tableBtnShowFlag:function(){return"update"==this.title.status&&"area"==this.title.state}},methods:{addRule:function(e,t){this.$set(this.rules,e,t)},expandedChange:function(e){this.defaultExpandedKeys=e},changeRightType:function(e){var t=this;this.rightType=e,"table"==e&&this.$nextTick((function(){t.$refs["pageList"].init(t.model)}))},btnClick:function(e,t){var a={add:{name:"添加",msg:"请选择库房或库房区域节点！"},delete:{name:"删除",msg:"请选择库房或库房区域节点！"}},i=a[e]["msg"];if(this.codeData||"delete"!=e)if(this.codeData||"add"!=e||"area"!=t)switch(this.codeData&&"add"==e&&"room"==t&&(this.codeData=null),e){case"add":this.title.state=t,this.title.status="create",this.initForm();break;case"delete":this.delete();break;default:break}else this.$sweetAlert.warnWithTimer(i);else this.$sweetAlert.warnWithTimer(i)},delete:function(){var e=this,t=this.codeData.name?this.codeData.name:this.codeData.saName,a="确定要删除【"+t+"】,以及子节点?";this.$confirm(a,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var t=e.url.delete[e.title.state],a=e.codeData.id,i={id:a},r="post";e.$api.httpAction(t,i,r).then((function(t){200==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.codeData=null,e.getTreeData()):e.$sweetAlert.errorWithTimer(t.msg)})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))},initForm:function(){var e=this;Object.keys(this.model).forEach((function(t){return e.model[t]=""})),this.$nextTick((function(){if(e.$refs["form"].resetFields(),e.codeData)if("create"==e.title.status){var t=JSON.parse(JSON.stringify(e.codeData));e.model.status="1","room"==e.title.state?(e.model.width=0,e.model.height=0,e.model.srArea=0,e.model.srId=t.id):"-1"!=t.parentId?(e.model.srId=t.srId,e.model.saParentId=t.id,e.model.saParentName=t.saName):e.model.srId=t.id,e.getParentNameById()}else"update"==e.title.status&&e.setCodeData()}))},getParentNameById:function(){var e=JSON.parse(JSON.stringify(this.baseData)),t=this.title.status,a=this.title.state;if("update"==t){if(this.model.srName=this.codeData.name,"area"==a){var i=this.model.srId,r=e.find((function(e){return e.id==i}));this.model.srName=r?r.name:""}}else if("create"==t&&"area"==a){var s=this.model.srId,n=e.find((function(e){return e.id==s}));this.model.srName=n?n.name:"",this.model.serialArea=""}},getSaParentNameById:function(){var e=JSON.parse(JSON.stringify(this.baseData)),t=this.title.status,a=this.title.state;if("update"==t){if("area"==a){var i=this.codeData.saParentId,r=e.find((function(e){return e.id==i}));this.model.saParentName=r?r.name:""}}else if("create"==t&&"area"==a){var s=this.codeData.saParentId,n=e.find((function(e){return e.id==s}));this.model.saParentName=n?n.name:""}},setArea:function(e){var t=this.model.width,a=this.model.height;this.model.srArea=t&&a?Number(t)*Number(a):0},submit:function(){var e=this;this.$refs.form.validate((function(t,a){if(t){e.loading=!0;var i=Object.assign({},e.model);"room"==e.title.state?(i.serial=i.serialRoom,delete i.serialRoom):"area"==e.title.state&&(i.serial=i.serialArea,delete i.serialArea);var r=e.url.save[e.title.state];i.id?r=e.url.update[e.title.state]:"area"==e.title.state&&(i.saParentId||(i.saParentId="-1"));var s="post";e.$api.httpAction(r,i,s).then((function(t){e.loading=!1,200==t.code?(e.$sweetAlert.successWithTimer(t.msg),i.id||e.defaultExpandedKeys.push(t.data.id),e.getTreeData()):e.$sweetAlert.errorWithTimer(t.msg)}))}else e.$validateMsg(a)}))},reset:function(){this.initForm()},treeNodeClick:function(e){var t=this;this.rightType="form",this.$nextTick((function(){"-1"==e.parentId?(t.title.state="room",e.serialRoom=e.serial,t.codeData=Object(n["a"])(Object(n["a"])({},e),{},{status:e.status?e.status.toString():e.status}),t.$refs["form"].resetFields(),t.setCodeData()):t.queryObject(e.id)}))},queryObject:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s,l,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.url.queryObject["area"],r={id:e},s="post",a.next=5,t.$api.httpAction(i,r,s);case 5:l=a.sent,o=l.data,o.serialArea=o.serial,t.codeData=Object(n["a"])({},o),t.$nextTick((function(){t.title.state="area",t.codeData=t.setDataToString(t.codeData),t.$refs["form"].resetFields(),t.setCodeData(),t.getSaParentNameById()}));case 10:case"end":return a.stop()}}),a)})))()},setDataToString:function(e){var t=["status","manageMode","denseFace"];return t.forEach((function(t){e[t]&&(e[t]=String(e[t]))})),e},setCodeData:function(){var e=this,t=JSON.parse(JSON.stringify(this.codeData));Object.keys(this.model).map((function(a){return e.model[a]=t[a]})),this.title.status="update",this.getParentNameById()},getTreeData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.getAction(e.url.tree,{});case 3:a=t.sent,i=a.treeData,i.forEach((function(e){})),e.baseData=i,e.treeData=e.setTreeData(i),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})))()},setTreeData:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));this.initLoadOver||(this.defaultExpandedKeys=t.map((function(e){return e.id})),this.initLoadOver=!0),e.map((function(e){return e.label=e.name,"-1"==e.parentId?e.elIcon="s-home":e.elIcon="office-building",e}));var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.saParentId&&"-1"!=e.saParentId?e.saParentId==a.id:e.parentId==a.id}));a.children=i,i.length&&t(a.children)}))};return a(t),t},checkOnly:function(e,t,a){var i=this,r=this.title.state,s=this.title.status,n="",l=e.field,o="请输入";switch(l){case"srName":n="库房名称";break;case"serialRoom":n="库房编号",l="serial";break;case"saName":n="区域名称";break;case"serialArea":n="区域编号",l="serial";break;default:break}if(""===t)a(new Error(o+n));else{var c=this.codeData,d={id:""};null!=c&&(d.id=void 0===c.id?"":c.id),"room"===r?(d.value=t,d.field=l,d.type=r):(d.value=t,d.field=l,d.saId=void 0===c.saParentId?"":c.saParentId,d.srId=void 0===c.srId?"":c.srId,d.type=r,d.status=s);var u=JSON.stringify(d),p={jsonStr:u};this.$api.httpAction(this.url.checkOnly,p,"post").then((function(e){200==e.code?a():3333==e.code?a(new Error(n+"：[ "+t+" ] 已存在!")):i.$sweetAlert.errorWithTimer(e.msg)}))}}},created:function(){this.getTreeData(),this.initForm()},mounted:function(){}}),u=d,p=(a("2cbf"),a("2877")),m=Object(p["a"])(u,i,r,!1,null,"398273d1",null);t["default"]=m.exports},"8d0e":function(e,t,a){"use strict";a("43be")},"8e20":function(e,t,a){},"8eab":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],s=(a("d81d"),a("b0c0"),a("313e")),n=a.n(s),l=a("82a3");a("817d");var o={name:"",mixins:[l["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"30vh"},dataInfo:{type:Object}},data:function(){return{chart:null}},computed:{seriesData:function(){}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.dataInfo.seriesArr.map((function(e){return e.name=e.NAME,e})),this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=n.a.init(this.$el,"pie-chart"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.expectedData,e.actualData;this.chart.setOption({title:{},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"面积模式",type:"pie",radius:[30,80],center:["50%","50%"],roseType:"area",itemStyle:{normal:{label:{show:!0,positiong:"top",formatter:"{b}:  【占比 {d}%】"}}},data:this.dataInfo.seriesArr,color:["#0072FF","#00EAFF","#01AAFF","#465F90","#00EAFF","#01AAFF"],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}}},c=o,d=a("2877"),u=Object(d["a"])(c,i,r,!1,null,"04ce3ac6",null);t["default"]=u.exports},"8f48":function(e,t,a){},9092:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,footer:null,width:"80%",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll flex-column"},[a("div",{staticClass:"operate-box nowrap flex justify-between"},[a("div"),a("div",{staticClass:"flex"},[a("div",{staticStyle:{"margin-right":"10px"}},[e._v(" 任务状态 ")]),a("div",{staticStyle:{width:"250px","margin-right":"10px"}},[a("dict-select-tag",{attrs:{"dict-code":"joblog_status",placeholder:"请选择"},on:{change:function(t){return e.queryList(1)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.queryList(1)}}},[e._v(" 搜索 ")])],1)]),a("div",{staticClass:"max-height"},[a("fox-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1)])]):e._e()},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("2f62"),a("f7c4")),o=a("0779"),c=a("3f19"),d=(a("cf45"),{mixins:[c["a"]],components:{foxTable:l["a"],DictSelectTag:o["default"]},props:{title:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,model:null,jobId:"",searchTypeList:[{value:"beanName",name:"SpringBean名称"},{value:"status",name:"任务状态"}],searchType:"beanName",searchText:"",url:{list:"/scheduleJob/jobLoglist"}}},computed:{},created:function(){this.setTableColumn()},methods:{init:function(e){this.visible=!0,this.jobId=e,this.queryList(1)},setTableColumn:function(){var e=this;this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{show:!1,column:[{label:"spring bean名称",prop:"beanName"},{label:"方法名",prop:"methodName"},{label:"参数",prop:"params"},{label:"执行状态",prop:"status_dictText"},{label:"耗时(毫秒)",prop:"times"},{label:"失败信息",prop:"error"},{label:"执行时间",prop:"createTime"}]}),this.$nextTick((function(){e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{show:!0})}))},searchTypeChange:function(e){this.searchText="",this.queryList(1)},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize,type:"all",jobId:t.jobId},i.status=t.searchText,a.next=5,t.$api.getAction(t.url.list,i);case 5:r=a.sent,s=r.count,l=r.data,t.page=Object(n["a"])(Object(n["a"])({},t.page),{},{total:1*s}),t.$nextTick((function(){t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{data:l})})),t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{loading:!1});case 11:case"end":return a.stop()}}),a)})))()},cancelModal:function(){this.visible=!1,this.$emit("close")}}}),u=d,p=(a("c154"),a("2877")),m=Object(p["a"])(u,i,r,!1,null,"19f79ec8",null);t["default"]=m.exports},"90b8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper max-height flex-column"},[a("div",{staticClass:"operate-box nowrap flex justify-between"},[a("div",[e.showAddFlag?a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:notice:add",expression:"'sys:notice:add'"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.add}},[e._v(" 新增 ")]):e._e()],1),a("div",{staticClass:"flex"},[a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"input-with-select",attrs:{placeholder:"输入标题",size:"mini",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryList(1)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(t){return e.queryList(1)}}},[e._v(" 搜索 ")])],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"table-box max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),e.modify.show?a("modify",{ref:"modify",attrs:{title:e.modify.textMap[e.modify.status],status:e.modify.status},on:{ok:e.modifyLoad,close:function(t){e.modify.show=!1}}}):e._e()],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("a9e3"),a("f7c4")),o=a("3f19"),c=a("2e5f"),d=a("bb0b"),u={name:"NoticeList",mixins:[o["a"]],components:{foxTable:l["a"],BtnList:c["default"],Modify:d["default"]},props:{showStatus:{type:String|Number,default:""}},data:function(){return{searchText:"",modify:{show:!1,status:"create",textMap:{update:"编辑",create:"添加",check:"查看"},loading:!1},url:{list:"/sys/notice/pageList",draft:"/sys/notice/getDraftTotal"},model:null,pageIdx:0,columnList:[]}},watch:{},computed:{showAddFlag:function(){var e=!0;return 0===this.showStatus&&(e=!1),e}},methods:{init:function(e){this.model=e,this.queryList(1)},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{show:!1,column:[{label:"操作",prop:"oper",width:280,fixed:"right",render:function(t,a){var i=a.row,r=[{content:"查看",type:"text",icon:"info",popover:!1,permission:"sys:notice:view",event:function(){e.check(i)}}];return"1"==i.status&&(r=[{content:"发布",type:"text",icon:"s-promotion",popover:!1,permission:"sys:notice:publish",event:function(){e.operate(i,"publish")}},{content:"编辑",type:"text",icon:"edit",popover:!1,permission:"sys:notice:update",event:function(){e.update(i)}},{content:"删除",type:"text",icon:"delete",color:"#F56C6C",popover:!1,permission:"sys:notice:delete",event:function(){e.operate(i,"delete")}}]),t(c["default"],{attrs:{btnInfo:r}})}},{label:"通知标题",prop:"title"},{label:"公告状态",prop:"status_dictText"},{label:"是否紧急",prop:"isUrgent_dictText"},{label:"发布时间",prop:"createTime"}]}),this.$nextTick((function(){e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{show:!0})}))},add:function(){var e=this;this.modify.status="create",this.modify.show=!0,this.$nextTick((function(){e.$refs["modify"].initForm()}))},check:function(e){var t=this;this.modify.status="check",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)}))},update:function(e){var t=this;this.modify.status="update",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)}))},modifyLoad:function(){this.getDraftTotal(),this.queryList()},getDraftTotal:function(){var e=this,t=this.url.draft,a={},i="post";this.$api.httpAction(t,a,i).then((function(t){t.data&&e.$emit("draft",t.data.draftTotal)}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s,l,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize,type:"all",showStatus:t.showStatus,title:t.searchText},t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{loading:!0}),r=t.url.list,a.next=6,t.$api.getAction(r,i);case 6:s=a.sent,l=s.count,o=s.data,t.page=Object(n["a"])(Object(n["a"])({},t.page),{},{total:1*l}),t.$nextTick((function(){t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{data:o})})),t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{loading:!1});case 12:case"end":return a.stop()}}),a)})))()},operate:function(e,t){var a=this,i={publish:{name:"发布",msg:"确定发布?",url:"/sys/notice/update",params:{id:e.id,status:"0"}},delete:{name:"删除",msg:"确定删除?",url:"/sys/notice/delete",params:{id:e.id}}},r=i[t]["msg"],s=i[t].url,n="post",l=i[t].params;this.$confirm(r,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$api.httpAction(s,l,n).then((function(e){var t=200;e.code==t?(a.$sweetAlert.successWithTimer(e.msg),a.getDraftTotal(),a.queryList()):a.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))}},created:function(){this.setTableColumn(),this.getDraftTotal(),this.queryList(1)},mounted:function(){}},p=u,m=(a("5390"),a("2877")),h=Object(m["a"])(p,i,r,!1,null,"4b88dbe9",null);t["default"]=h.exports},"90fe":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"table",staticClass:"app-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,height:e.Height,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"ID",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index)+" ")]}}])}),a("el-table-column",{attrs:{label:"Title"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.title)+" ")]}}])}),a("el-table-column",{attrs:{label:"Author",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.author))])]}}])}),a("el-table-column",{attrs:{label:"Pageviews",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.pageviews)+" ")]}}])}),a("el-table-column",{attrs:{"class-name":"status-col",label:"Status",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e._f("statusFilter")(t.row.status)}},[e._v(e._s(t.row.status))])]}}])}),a("el-table-column",{attrs:{align:"center",prop:"created_at",label:"Display_time",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-time"}),a("span",[e._v(e._s(t.row.display_time))])]}}])})],1)],1)},r=[],s=a("ad8f"),n={filters:{statusFilter:function(e){var t={published:"success",draft:"gray",deleted:"danger"};return t[e]}},data:function(){return{list:null,listLoading:!0,Height:250}},created:function(){var e=this,t=e.$refs.table.offsetHeight;e.Height=t,this.fetchData()},mounted:function(){var e=this,t=e.$refs.table.offsetHeight;this.Height=t,window.onresize=function(){return function(){var t=e.$refs.table.offsetHeight;e.Height=t}()}},methods:{fetchData:function(){var e=this;this.listLoading=!0,Object(s["a"])().then((function(t){e.list=t.data.items,e.listLoading=!1}))}}},l=n,o=a("2877"),c=Object(o["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},"930c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"max-height"},[a("el-card",{staticStyle:{height:"100%"}},[a("el-row",{staticStyle:{"margin-top":"21px"}},[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:menu:update",expression:"'sys:menu:update'"}],attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addClick}},[e._v("添加")]),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:menu:root",expression:"'sys:menu:root'"}],attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addRootClick}},[e._v("添加根分类")]),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:menu:sort",expression:"'sys:menu:sort'"}],attrs:{type:"danger"},on:{click:e.sortClick}},[e._v("处理分类排序")]),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:menu:del",expression:"'sys:menu:del'"}],attrs:{type:"danger",icon:"el-icon-delete"},on:{click:e.deleteClick}},[e._v("删除")])],1),a("el-row",{staticClass:"max-height",staticStyle:{"margin-top":"14px",height:"calc(100% - 200px)"}},[a("el-col",{staticClass:"max-height",attrs:{span:5}},[a("div",{staticStyle:{height:"40px"}},[a("div",{staticStyle:{float:"left"}},[a("img",{staticStyle:{height:"34px",display:"inline"},attrs:{src:"static/img/tree.png"}})]),a("div",{staticStyle:{float:"left","margin-top":"10px"}},[a("span",{staticStyle:{"font-size":"16px"}},[e._v("分类树")])])]),a("div",{staticStyle:{width:"80%"}},[a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.dictChange},model:{value:e.moduleType,callback:function(t){e.moduleType=t},expression:"moduleType"}},[a("el-option",{attrs:{label:"档案分类",value:1}}),a("el-option",{attrs:{label:"编研分类",value:2}})],1)],1),a("div",{staticClass:"max-height left-side border-solid-right",staticStyle:{overflow:"auto","margin-top":"24px"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],staticStyle:{height:"100%"}},[a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],staticStyle:{overflow:"auto"},attrs:{data:e.treeData,defaultExpandedKeys:e.defaultExpandedKeys,defaultExpandAll:e.defaultExpandAll},on:{click:e.treeNodeClick}})],1)])]),a("el-col",{attrs:{span:18}},[a("div",{staticStyle:{"border-style":"solid","border-width":"1px","border-color":"#CFCFCF",overflow:"auto"}},[a("div",{staticStyle:{"background-color":"#E8E8E8",height:"50Px",padding:"12px"}},[a("i",{staticClass:"el-icon-s-order",staticStyle:{"font-size":"22px",color:"#BCD2EE"}}),a("span",{staticStyle:{"font-size":"20px"}},[e._v(e._s(e.cateTitle))])]),e.formCode?a("div",{staticStyle:{"margin-top":"8px"}},[a("el-form",{ref:"form",attrs:{model:e.model,"label-width":"7rem","auto-complete":"off","label-position":"right"}},[e.classCode?a("el-form-item",{attrs:{label:"系统分类号",prop:"cateCode"}},[a("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入系统分类号",disabled:!0},model:{value:e.model.cateCode,callback:function(t){e.$set(e.model,"cateCode",t)},expression:"model.cateCode"}})],1):e._e(),a("el-form-item",{attrs:{label:"分类名称",prop:"cateName",rules:{required:!0,message:"请输入分类名称",trigger:"blur"}}},[a("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入分类名称"},on:{change:function(t){return e.checkChange("cateName")}},model:{value:e.model.cateName,callback:function(t){e.$set(e.model,"cateName",t)},expression:"model.cateName"}})],1),a("el-form-item",{attrs:{label:"业务分类号",prop:"folderCode",rules:{required:!0,message:"请输入业务分类号",trigger:"blur"}}},[a("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入业务分类号"},model:{value:e.model.folderCode,callback:function(t){e.$set(e.model,"folderCode",t)},expression:"model.folderCode"}})],1),a("el-form-item",{attrs:{label:"上级分类",prop:"parentName",rules:{required:!0,message:"请输入上级分类",trigger:"blur"}}},[a("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入描述",disabled:!0},model:{value:e.model.parentName,callback:function(t){e.$set(e.model,"parentName",t)},expression:"model.parentName"}})],1),2==e.position||1==e.addCode||2==e.addCode?a("el-form-item",{attrs:{label:"聚合层次",prop:"cateType"}},[a("el-radio",{attrs:{label:1,disabled:e.disabledCode},on:{change:e.handelRadioChange},model:{value:e.model.cateType,callback:function(t){e.$set(e.model,"cateType",t)},expression:"model.cateType"}},[e._v("案卷")]),a("el-radio",{attrs:{label:2,disabled:e.disabledCode},on:{change:e.handelRadioChange},model:{value:e.model.cateType,callback:function(t){e.$set(e.model,"cateType",t)},expression:"model.cateType"}},[e._v("单件")])],1):e._e(),a("el-form-item",{attrs:{label:"是否选择模板",prop:"ifTemp"}},[a("el-radio",{attrs:{label:1,disabled:e.disabledCode},on:{change:function(t){return e.radioChange()}},model:{value:e.model.ifTemp,callback:function(t){e.$set(e.model,"ifTemp",t)},expression:"model.ifTemp"}},[e._v("是")]),a("el-radio",{attrs:{label:0,disabled:e.disabledCode},on:{change:function(t){return e.radioChange()}},model:{value:e.model.ifTemp,callback:function(t){e.$set(e.model,"ifTemp",t)},expression:"model.ifTemp"}},[e._v("否")])],1),e.tempCode?a("el-form-item",{attrs:{label:"绑定模板",prop:"templateId",rules:{required:!0,message:"请选择绑定模板",trigger:"blur"}}},[a("el-select",{attrs:{placeholder:"请选择","popper-append-to-body":!1,disabled:e.bindModelCode},on:{change:function(t){return e.tempChange("templateId")}},model:{value:e.model.templateId,callback:function(t){e.$set(e.model,"templateId",t)},expression:"model.templateId"}},e._l(e.tempData,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1):e._e(),e.tempCode?a("el-form-item",{attrs:{label:"档号规则",prop:"ruleVolDesc",rules:{required:!0,message:"请设置档号",trigger:"blur"}}},[a("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请先选择模板",disabled:!0},on:{input:function(t){return e.checkChange("ruleVolDesc")},change:e.checkChange},model:{value:e.model.ruleVolDesc,callback:function(t){e.$set(e.model,"ruleVolDesc",t)},expression:"model.ruleVolDesc"}}),a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",size:"small"},on:{click:e.handelSetting}},[e._v("设置")])],1):e._e(),e.tempCode&&1==e.model.cateType?a("el-form-item",{attrs:{label:"卷内规则",prop:"ruleDocMark",rules:{required:!0,message:"请配置卷内规则",trigger:"blur"}}},[a("el-select",{staticStyle:{width:"15%",height:"30px"},attrs:{placeholder:"连接符",rules:{required:!0,message:"请选择连接符",trigger:"blur"},"popper-append-to-body":!1},on:{change:function(t){return e.checkChange("ruleDocMark")}},model:{value:e.model.ruleDocMark,callback:function(t){e.$set(e.model,"ruleDocMark",t)},expression:"model.ruleDocMark"}},e._l(e.ruleDocMark,(function(e){return a("el-option",{key:e.ID,attrs:{label:e.FLD_NAME,value:e.VALUE}})})),1),a("el-select",{staticStyle:{width:"15%",height:"30px","margin-left":"10px"},attrs:{placeholder:"件号长度",rules:{required:!0,message:"请选择件号长度",trigger:"blur"},"popper-append-to-body":!1},model:{value:e.model.ruleDocLength,callback:function(t){e.$set(e.model,"ruleDocLength",t)},expression:"model.ruleDocLength"}},e._l(e.ruleDocLength,(function(e){return a("el-option",{key:e.ID,attrs:{label:e.FLD_NAME,value:e.VALUE}})})),1)],1):e._e(),e.tempCode?a("el-form-item",{attrs:{label:"分组字段",prop:"groupName"}},[a("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请先选择模板",disabled:!0},model:{value:e.groupName,callback:function(t){e.groupName=t},expression:"groupName"}}),a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary",size:"small"},on:{click:e.fildclick}},[e._v("选择")])],1):e._e(),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio",{attrs:{label:0},model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}},[e._v("可用")]),a("el-radio",{attrs:{label:1},model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}},[e._v("禁用")])],1),a("el-form-item",{attrs:{label:"排序号",prop:"sortNum",rules:{required:!0,message:"请输入排序号",trigger:"blur"}}},[a("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入排序号"},model:{value:e.model.sortNum,callback:function(t){e.$set(e.model,"sortNum",t)},expression:"model.sortNum"}})],1),a("el-form-item",{attrs:{label:"说明",prop:"remark"}},[a("el-input",{staticStyle:{width:"35%"},attrs:{placeholder:"请输入说明"},model:{value:e.model.remark,callback:function(t){e.$set(e.model,"remark",t)},expression:"model.remark"}})],1)],1)],1):e._e(),a("div",{staticStyle:{width:"50%",height:"50px","margin-top":"8px"}},[a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleSave}},[e._v(" 提交 ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")])],1)])])])],1)],1),e.archivesModify.show?a("group-fild",{ref:"groupfild",attrs:{title:"字段选择",data1:e.filedData,data2:e.data2},on:{close:function(t){e.archivesModify.show=!1},ok:e.changeFldGroup}}):e._e(),e.referenceModify?a("reference-setting",{ref:"referenceSetting",attrs:{title:"绑定档号规则",data1:e.referenceFiled,data2:e.ruleFiled,data3:e.mosaicSymbol,id:this.NodeData.archRuleId,ruleVolDigittt:e.ruleVolDigit},on:{close:function(t){e.referenceModify=!1},ok:e.changeReference}}):e._e()],1)},r=[],s=a("1da1"),n=a("ade3"),l=(a("96cf"),a("159b"),a("a434"),a("b0c0"),a("d3b7"),a("25f0"),a("4de4"),a("d81d"),a("60f9")),o=a("0779"),c=a("9524"),d=a("99ef"),u={name:"",components:{BasicTree:l["default"],DictSelectTag:o["default"],groupFild:c["default"],referenceSetting:d["default"]},data:function(){var e;return e={cateTitle:"修改分类",referenceModify:!1,referenceFiled:[],mosaicSymbol:[],ruleFiled:[],ruleData:[],ruleVolDigit:"",ruleVolname:""},Object(n["a"])(e,"ruleVolDigit",""),Object(n["a"])(e,"ruleDocMark",[]),Object(n["a"])(e,"ruleDocLength",[]),Object(n["a"])(e,"archivesModify",{show:!1,status:"create",textMap:{update:"编辑",create:"添加"},loading:!1}),Object(n["a"])(e,"data2",[]),Object(n["a"])(e,"groupName",""),Object(n["a"])(e,"treeData",[]),Object(n["a"])(e,"tempCode",!1),Object(n["a"])(e,"defaultExpandAll",!1),Object(n["a"])(e,"defaultExpandedKeys",[]),Object(n["a"])(e,"moduleType",1),Object(n["a"])(e,"filedData",[]),Object(n["a"])(e,"NodeData",{}),Object(n["a"])(e,"treeLoading",!1),Object(n["a"])(e,"formCode",!0),Object(n["a"])(e,"disabledCode",!1),Object(n["a"])(e,"bindModelCode",!1),Object(n["a"])(e,"addCode",0),Object(n["a"])(e,"classCode",!1),Object(n["a"])(e,"SortNum",0),Object(n["a"])(e,"tempData",[]),Object(n["a"])(e,"ReportsData",[]),Object(n["a"])(e,"ArchData",[]),Object(n["a"])(e,"cataData",{}),Object(n["a"])(e,"keepTimesData",[]),Object(n["a"])(e,"position",2),Object(n["a"])(e,"model",{cateCode:"",cateName:"",cateType:1,ifTemp:0,folderCode:"",templateId:"",keepTimes:"",parentId:"",reportId:"",sortNum:"",status:0,remark:"",archRuleId:"",moduleType:"",parentName:"",ruleDocMark:"",ruleDocLength:"",ruleVolDesc:""}),Object(n["a"])(e,"url",{loadTemp:"/templates/loadTemp",loadReports:"/category/loadReports",queryReports:"/category/queryReports",queryByArch:"/archRule/queryByArch",loadCodeForSelect:"/category/loadCodeForSelect"}),e},created:function(){this.getTreeData(),this.queryByArchData(),this.queryRuleDocMark(),this.queryRuleDocLength()},methods:{checkChange:function(e){this.$refs.form.clearValidate(e)},queryRuleDocMark:function(){var e=this;this.$api.getAction("/category/queryRuleDocMark",{}).then((function(t){"200"==t.code&&(e.ruleDocMark=t.data)}))},queryRuleDocLength:function(){var e=this;this.$api.getAction("/category/queryRuleDocLength",{}).then((function(t){"200"==t.code&&(e.ruleDocLength=t.data)}))},fildclick:function(){var e=this;this.archivesModify.status="create",this.archivesModify.show=!0,this.model.templateId?this.$nextTick((function(){e.$api.getAction("/templates/getTempView",{templateId:e.model.templateId,othType:e.model.cateType}).then((function(t){"200"===t.code?(void 0==e.data2&&e.queryGroupFld(),e.filedData=t.data.list):(e.$sweetAlert.errorWithTimer("数据加载失败"),e.loading=!1)})),e.$refs["groupfild"].initForm()})):this.$sweetAlert.warnWithTimer("请选择模板")},handleCateType:function(e){return 2==e?3:e},handelSetting:function(){var e=this;this.referenceModify=!0,this.model.templateId?this.$nextTick((function(){e.queryMosaicSymbol(),e.$api.getAction("/templates/queryTempViewFild",{templateId:e.model.templateId,othType:e.handleCateType(e.model.cateType)}).then((function(t){"200"===t.code?(e.referenceFiled=t.data,e.changeRuleData()):(e.$sweetAlert.errorWithTimer("数据加载失败"),e.loading=!1)})),e.$refs["referenceSetting"].initForm()})):this.$sweetAlert.warnWithTimer("请选择模板")},queryMosaicSymbol:function(){var e=this;this.$api.getAction("/templates/queryMosaicSymbol",{}).then((function(t){"200"===t.code&&(e.mosaicSymbol=t.data)}))},changeData:function(){var e=this;JSON.parse(JSON.stringify(this.filedData));this.data2.forEach((function(t){e.filedData.forEach((function(a,i){a.id==t.id&&e.filedData.splice(i,1)}))}))},changeRuleData:function(){var e=this;JSON.parse(JSON.stringify(this.referenceFiled));this.ruleFiled.forEach((function(t){1!=t.TYPE&&e.referenceFiled.forEach((function(a,i){a.ID==t.ID&&e.referenceFiled.splice(i,1)}))}))},queryGroupFld:function(){var e=this;this.$api.getAction("/category/querygroupFld",{templateId:this.model.templateId,cateId:this.model.id,othType:1}).then((function(t){"200"===t.code&&(e.data2=t.data,e.changeData())}))},changeFldGroup:function(e,t){this.model.groupFldId=JSON.stringify(e),this.groupName=t},changeReference:function(e,t,a){this.ruleVolname=t,this.ruleData=e,this.ruleVolDigit=a,this.model.ruleVolDesc=t,this.checkChange("ruleVolDesc")},SelectsChange:function(){this.$forceUpdate()},tempChange:function(e){this.$forceUpdate(),this.checkChange(e)},FileClick:function(){var e=this;this.$api.getAction("/flowable/processDefinition/listMyself",{current:1,size:10,processDefinitionId:void 0,processDefinitionName:void 0,processDefinitionKey:void 0,latestVersion:!0,suspended:void 0}).then((function(t){var a=t.data;e.records=a.records,e.total=a.total,0==a.total&&Message.info("查无可发起的流程")}))},FileClickl:function(){this.$api.getAction("/dataSource/deleteJob",{id:"a9a149bf07824eb29368ef69d0a0beb9"})},sortClick:function(){var e=this;this.$api.httpAction("/category/sort",{},"post").then((function(t){"200"==t.code?e.$sweetAlert.successWithTimer(t.msg):e.$sweetAlert.errorWithTimer(t.msg)}))},deleteClick:function(){this.model.id?this.ifhasData():this.$sweetAlert.warnWithTimer("请选择删除的菜单")},ifhasData:function(){var e=this,t={cateCode:this.cataData.cateCode,cateType:this.cataData.cateType,templateId:this.cataData.templateId};this.$api.httpAction("/category/ifhasData",t,"post").then((function(t){200==t.code?e.$confirm("确定要删除【"+e.cataData.cateName+"】，以及子级菜单？","操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$api.httpAction("/category/delete",{id:e.cataData.id},"post").then((function(t){"200"==t.code?(e.$sweetAlert.successWithTimer("删除成功"),e.reset(),e.getTreeData(),e.NodeData={}):e.$sweetAlert.errorWithTimer(t.msg)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})})):e.$sweetAlert.errorWithTimer(t.msg)}))},addRootClick:function(){this.cateTitle="添加分类",this.classCode=!1,this.bindModelCode=!1,this.tempCode=!1,this.disabledCode=!1,this.$refs["form"].resetFields(),this.NodeData=[],this.ruleData=[],this.ruleFiled=[],this.ruleVolname="",this.model.archRuleId=void 0,this.queryCodeForSelect(),this.queryTemp(),this.reset(),this.getSortNum(),this.model.parentName=-1,this.addCode=3,this.position=0,this.model.moduleType=this.moduleType,this.model.parentId=-1},changeModelData:function(){this.model.parentName=this.NodeData.name,this.model.reportId=this.cataData.reportId,this.model.moduleType=this.moduleType,this.model.parentId=this.NodeData.id,this.position=0},addClick:function(){this.cateTitle="添加分类",this.ruleData=[],this.ruleFiled=[],this.model.archRuleId=void 0,this.reset(),void 0==this.NodeData.parentId?this.$sweetAlert.warnWithTimer("请选择父节点"):this.NodeData.templateId?this.$sweetAlert.warnWithTimer("该节点无法添加子节点"):(this.$refs["form"].resetFields(),this.classCode=!1,this.bindModelCode=!1,this.disabledCode=!1,this.tempCode=!1,this.ruleData=[],this.ruleFiled=[],this.model.archRuleId=void 0,1==this.NodeData.position?(this.queryByArchData(),this.queryReports(),this.reset(),this.getSortNum(),this.addCode=1,this.changeModelData()):2==this.NodeData.position?(this.addCode=2,this.queryReports(),this.reset(),this.getSortNum(),this.changeModelData()):(this.addCode=0,this.NodeData.children.length>0?(this.queryReports(),this.reset(),this.getSortNum(),this.changeModelData()):this.NodeData.templateId?this.checkIfData():(this.queryReports(),this.reset(),this.getSortNum(),this.changeModelData())))},checkIfData:function(){var e=this,t={cateType:this.cataData.cateType,templateId:this.cataData.templateId,cateCode:this.NodeData.cateCode};this.$api.httpAction("/category/checkIfData",t,"post").then((function(t){t.data?(e.queryReports(),e.reset(),e.getSortNum(),e.changeModelData()):(e.$sweetAlert.errorWithTimer(t.msg),e.addCode=0)}))},radioChange:function(){0==this.model.ifTemp?this.tempCode=!1:this.tempCode=!0},handleSave:function(){var e=this;if(1==this.model.ifTemp){if(this.model.cateName.length>30||this.model.folderCode.length>30)return void this.$sweetAlert.errorWithTimer("分类名称太长,请控制30字以内");if(this.model.folderCode.length>30)return void this.$sweetAlert.errorWithTimer("分类名称太长,请控制30字以内");this.model.ruleVolDesc=this.ruleVolname,this.$refs.form.validate((function(t){t&&(e.model.archRuleId?e.$api.httpAction("/archRule/ruleUpdate",{arName:e.ruleVolname,ruleData:e.ruleData,arType:e.model.cateType,ruleVolDigit:e.ruleVolDigit,id:e.model.archRuleId},"post").then((function(t){"200"==t.code&&(e.model.ruleVolDesc=e.ruleVolname,e.submit())})):e.$api.httpAction("/archRule/ruleAdd",{arName:e.ruleVolname,ruleData:e.ruleData,arType:e.model.cateType,ruleVolDigit:e.ruleVolDigit},"post").then((function(t){"200"==t.code&&(e.model.archRuleId=t.data,e.model.ruleVolDesc=e.ruleVolname,e.submit())})))}))}else{if(this.model.cateName.length>30||this.model.folderCode.length>30)return void this.$sweetAlert.errorWithTimer("分类名称太长,请控制30字以内");this.submit()}},submit:function(){var e=this,t=this.model.keepTimes,a=this.model.reportId;delete this.model.keepTimes,this.model.reportId=this.model.reportId.toString(),this.$refs.form.validate((function(i){if(i){var r=Object.assign({},e.model),s="/category/addTest";r.id&&(s="/category/update");var n="post";e.$api.httpAction(s,r,n).then((function(i){"200"===i.code?(e.disabledCode=!0,e.getTreeData(),e.classCode=!0,e.model=i.data,e.model.ifTemp=parseInt(i.data.ifTemp),e.NodeData.name?e.model.parentName=e.NodeData.name:e.model.parentName="-1",e.model.keepTimes=t,e.model.reportId=a,e.$sweetAlert.successWithTimer(i.msg)):e.$sweetAlert.errorWithTimer(i.msg)}))}}))},reset:function(){this.model={cateCode:"",cateName:"",cateType:1,ifTemp:0,folderCode:"",templateId:"",keepTimes:"",parentId:"",reportId:"",sortNum:"",status:0,remark:"",archRuleId:"",moduleType:"",parentName:"",ruleDocLength:"",ruleDocMark:"",ruleVolDesc:""}},resetData:function(){this.ruleFiled=[],this.ruleVolDigit="",this.ruleVolname="",this.ruleVolDigit="",this.model.ruleDocMark="",this.model.ruleDocLength="",this.model.ruleVolDesc=""},dictChange:function(){this.addCode=0,this.getTreeData()},getSortNum:function(){var e=this,t={moduleType:this.moduleType,parentCateCode:this.NodeData.cateCode};this.$api.httpAction("/category/getSortNum",t,"post").then((function(t){"200"==t.code&&(e.SortNum=t.data,e.model.sortNum=e.SortNum)}))},queryTemp:function(){var e=this,t={moduleType:this.moduleType,cateId:this.NodeData.id};this.$api.httpAction(this.url.loadTemp,t,"post").then((function(t){"200"==t.code&&(e.tempData=t.data)}))},queryReports:function(){var e=this,t={moduleType:this.moduleType,cateId:this.NodeData.id,reportId:""};this.$api.httpAction(this.url.loadReports,t,"post").then((function(t){if("200"==t.code){e.ReportsData=t.data;var a=[];e.ReportsData.forEach((function(e){e.selected&&a.push(e.value)})),e.model.reportId=a}}))},loadReports:function(e){var t=this,a={rtType:this.moduleType,templateId:e};this.$api.httpAction(this.url.queryReports,a,"post").then((function(e){"200"==e.code&&e.data.forEach((function(e){var a={};a.value=e.id,a.name=e.rtName,t.ReportsData.push(a)}))}))},queryCodeForSelect:function(){var e=this,t={mark:"KEEP_TIME",cateId:this.NodeData.id};this.$api.httpAction("/category/loadCodeForSelect",t,"post").then((function(a){"0"==a.code&&(e.keepTimesData=a.data,t.cateId&&e.queryNodeData())}))},queryByArchData:function(){var e=this,t={type:this.NodeData.cateType||1,archRuleId:this.NodeData.archRuleId};this.$api.httpAction(this.url.queryByArch,t,"post").then((function(t){"200"==t.code&&(e.ArchData=t.data)}))},queryNodeData:function(){var e=this,t="/category/info/";t+=this.NodeData.id,this.$api.httpAction(t,{},"post").then((function(t){if("0"==t.code){for(var a in e.cataData={},t.cate)e.cataData[a]=t.cate[a];e.model=JSON.parse(JSON.stringify(e.cataData)),e.queryReports(),e.model.parentName=e.NodeData.parentName,e.model.ifTemp=parseInt(t.cate.ifTemp),e.ruleVolname=e.model.ruleVolDesc,1==e.model.ifTemp&&e.$api.getAction("/category/querygroupFld",{templateId:e.model.templateId,cateId:e.model.id,othType:1}).then((function(t){if("200"===t.code){var a="";t.data.forEach((function(e){a+=e.fldDesc+"-"})),e.groupName=a.substr(0,a.length-1)}})),e.model.archRuleId&&e.$api.getAction("/category/queryRuleFiled",{arId:e.model.archRuleId}).then((function(t){200==t.code&&(e.ruleFiled=t.data,e.ruleData=t.data)})),t.cate.templateId||(e.model.templateId=void 0),1==parseInt(t.cate.ifTemp)?e.tempCode=!0:e.tempCode=!1;var i=[];e.keepTimesData.forEach((function(e){e.selected&&i.push(e.value)})),e.model.keepTimes=i}}))},treeNodeClick:function(e){this.cateTitle="修改分类",this.ruleVolDigit="",this.testGroup(e.id),this.classCode=!0,this.disabledCode=!0,this.tempCode=!1,this.groupName="",this.data2=void 0,this.ruleData=[],this.bindModelCode=!0,this.$refs["form"].resetFields(),this.NodeData=e,this.position=e.position,1==e.position?(this.formCode=!1,this.queryTemp(),this.queryCodeForSelect(),this.queryByArchData(),this.formCode=!0):(this.formCode=!1,this.queryTemp(),this.queryByArchData(),this.queryNodeData(),this.formCode=!0)},testGroup:function(e){this.$api.httpAction("/dynamic/queryGroupTree",{cateId:e},"post")},getTreeData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={moduleType:e.moduleType},t.prev=1,e.treeLoading=!0,t.next=5,e.$api.getAction("/category/categoryTree",a);case 5:i=t.sent,r=i.treeData,1==e.moduleType&&localStorage.setItem("archCateTreeArray",JSON.stringify(r)),2==e.moduleType&&localStorage.setItem("cateTreeArray",JSON.stringify(r)),e.treeData=e.setTreeData(r),e.treeLoading=!1,t.next=16;break;case 14:t.prev=14,t.t0=t["catch"](1);case 16:case"end":return t.stop()}}),t,null,[[1,14]])})))()},setTreeData:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));this.initLoadOver||(this.initLoadOver=!0),e.map((function(e){return e.label=e.name,"-1"==e.parentId&&(e.elIcon="s-home"),"1"==e.parentId&&(e.elIcon="office-building"),"-1"==e.parentId&&(e.elIcon="folder"),e}));var a=0,i=function t(a,i,r){i+=1,a.forEach((function(a){var s=e.filter((function(e){return e.parentId==a.id}));a.children=s,a.position=i,s.length?(a.elIcon="folder",t(a.children,i,a.name)):a.elIcon="document","-1"!=a.pId||r?a.parentName=r:a.parentName="-1"}))};return i(t,a),t}}},p=u,m=(a("f3385"),a("2877")),h=Object(m["a"])(p,i,r,!1,null,"13c2e1ef",null);t["default"]=h.exports},9418:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.title,visible:e.visible,modal:!1,center:"","before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticStyle:{height:"345px",overflow:"auto"}},[a("el-form",{ref:"form",attrs:{model:e.model,"label-width":"7rem","auto-complete":"off","label-position":"right"}},[a("el-form-item",{attrs:{label:"字段名称",prop:"fieldName",rules:{required:!0,message:"请输入字段名称",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"请输入字段名称"},model:{value:e.model.fieldName,callback:function(t){e.$set(e.model,"fieldName",t)},expression:"model.fieldName"}})],1),a("el-form-item",{attrs:{label:"字段描述",prop:"fieldDesc",rules:{required:!0,message:"请输入字段描述",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"请输入字段描述"},model:{value:e.model.fieldDesc,callback:function(t){e.$set(e.model,"fieldDesc",t)},expression:"model.fieldDesc"}})],1),a("el-form-item",{attrs:{label:"字段标签"}},[a("el-input",{attrs:{placeholder:"字段标签"},model:{value:e.model.fieldLable,callback:function(t){e.$set(e.model,"fieldLable",t)},expression:"model.fieldLable"}})],1)],1)],1),a("div",{staticStyle:{width:"100%",height:"30px"}},[a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 提交 ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")])],1)])])},r=[],s=a("0779"),n={name:"referenceFiledModel",components:{DictSelectTag:s["default"]},props:{title:{type:String,default:""}},data:function(){return{visible:!1,artype:1,model:{fieldName:"",fieldDesc:"",fieldLable:""}}},methods:{handleClose:function(){this.visible=!1,this.$emit("close")},initForm:function(e,t){this.artype=t,e&&(this.model=e),this.visible=!0},submit:function(){var e=this;this.$refs.form.validate((function(t){if(t){var a=Object.assign({},e.model);a.ruleType=e.artype;var i="/archField/add";a.id&&(i="/archField/update");var r="post";e.$api.httpAction(i,a,r).then((function(t){"200"===t.code?(e.$sweetAlert.successWithTimer(t.msg),e.$emit("Refresh"),e.handleClose()):e.$sweetAlert.errorWithTimer(t.msg)}))}}))},reset:function(){this.model={},this.model.arType=this.artype}}},l=n,o=a("2877"),c=Object(o["a"])(l,i,r,!1,null,"6ed6787f",null);t["default"]=c.exports},"949e":function(e,t,a){"use strict";a("b838")},9524:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.title,visible:e.visible,modal:!0,width:"68%",center:"","before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("div",{staticStyle:{"border-style":"dashed",padding:"4px","border-color":"#EEEEE0"}},[a("div",{staticStyle:{"line-height":"34px","background-color":"#DCDCDC","border-radius":"5px",padding:"8px"}},[a("img",{staticStyle:{height:"22px",float:"left","margin-top":"7px","margin-right":"2px"},attrs:{src:"static/img/md-panorama.png"}}),a("span",[e._v("全部字段")])]),a("div",{staticStyle:{height:"410px",overflow:"auto",padding:"4px"}},e._l(e.data1,(function(t,i){return a("div",{key:i,staticStyle:{"border-radius":"10px","line-height":"22px","background-color":"#DCDCDC",padding:"9px","margin-top":"5px"}},[a("span",[e._v(e._s(t.fldName)+"【"+e._s(t.fldDesc)+"】")]),a("a",{on:{click:function(a){return e.handleAdd(t,i)}}},[a("i",{staticClass:"el-icon-plus",staticStyle:{float:"right","margin-top":"4px","font-size":"14px","font-weight":"bold"}})])])})),0)])]),a("el-col",{attrs:{span:12}},[a("div",{staticStyle:{"border-style":"dashed",padding:"4px","border-color":"#EEEEE0"}},[a("div",{staticStyle:{"line-height":"34px","background-color":"#DCDCDC","border-radius":"5px",padding:"8px"}},[a("img",{staticStyle:{height:"24px",float:"left","margin-top":"5px","margin-right":"2px"},attrs:{src:"static/img/md-adjust.png"}}),a("span",[e._v("已选字段")]),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("确定")])],1),a("div",{staticStyle:{height:"410px",overflow:"auto",padding:"4px"}},e._l(e.data2,(function(t,i){return a("div",{key:i,staticStyle:{"border-radius":"10px","line-height":"22px","background-color":"#DCDCDC",padding:"9px","margin-top":"5px"},on:{click:function(a){return e.handelClick(t)}}},[a("span",[e._v(e._s(t.fldName)+"【"+e._s(t.fldDesc)+"】")]),a("a",{on:{click:function(a){return e.handleMove(t,i)}}},[a("i",{staticClass:"el-icon-close",staticStyle:{float:"right","margin-top":"4px","font-size":"17px","font-weight":"bold"}})]),a("a",{on:{click:function(t){return e.handleMoveDown(i)}}},[a("i",{staticClass:"el-icon-arrow-down",staticStyle:{float:"right","margin-top":"4px","margin-right":"14px","font-size":"17px","font-weight":"bold"}})]),a("a",{on:{click:function(t){return e.handleMoveUp(i)}}},[a("i",{staticClass:"el-icon-arrow-up",staticStyle:{float:"right","margin-top":"4px","margin-right":"14px","font-size":"17px","font-weight":"bold"}})])])})),0)])])],1)],1)},r=[],s=(a("159b"),a("a434"),{name:"GroupFild",props:{data1:{type:Array},recode:{type:Object},title:{type:String,default:""},data2:{type:Array}},data:function(){return{form:this.$refs.form,visible:!1,tt:"",rules:{fldName:[{required:!0,message:"请输入字段名称",trigger:"blur"}],fldDesc:[{required:!0,message:"请输入字段描述",trigger:"blur"}],colWidth:[{required:!0,message:"请输入显示列宽",trigger:"blur"}]},filedInfo:{fldName:"",fldDesc:"",colWidth:""},url:{updateBasicFldById:"/templates/updateBasicFldById",saveQueryField:"/queryFld/saveQueryField",saveSearchField:"/searchFld/saveSearchField",saveImportField:"/importFld/saveImportField"}}},methods:{initForm:function(){this.visible=!0},handleClose:function(){this.visible=!1,this.$emit("close")},handelClick:function(e){this.filedInfo=e},handleSave:function(){var e=[],t="";this.data2.forEach((function(a){var i={};i.id=a.id,i.fldName=a.fldName,e.push(i),t+=a.fldDesc+"-"})),this.$emit("ok",e,t.substr(0,t.length-1)),this.handleClose()},changeData:function(){var e=[];return this.data2.forEach((function(t){var a={};t.fldId?a.fieldId=t.fldId+"":a.fieldId=t.id+"",a.fieldName=t.fldName,a.fieldDesc=t.fldDesc,e.push(a)})),e},handleSubmit:function(){var e=this;this.$refs.form.validate((function(t){if(t){var a={};e.filedInfo.fldId?a.id=e.filedInfo.fldId:a.id=e.filedInfo.id,a.colWidth=e.filedInfo.colWidth,e.$api.getAction(e.url.updateBasicFldById,a).then((function(t){"200"===t.code?e.$sweetAlert.success("操作成功"):e.$sweetAlert.errorWithTimer("数据加载失败")}))}}))},handleAdd:function(e,t){this.data2.push(e),this.data1.splice(t,1)},handleMove:function(e,t){this.data1.push(e),this.data2.splice(t,1)},handleMoveUp:function(e){if(0!=e){var t=this.data2[e-1];this.data2.splice(e-1,1,this.data2[e]),this.data2.splice(e,1,t)}},handleMoveDown:function(e){if(e!=this.data2.length-1){var t=this.data2[e+1];this.data2.splice(e+1,1,this.data2[e]),this.data2.splice(e,1,t)}}}}),n=s,l=a("2877"),o=Object(l["a"])(n,i,r,!1,null,"15ad8680",null);t["default"]=o.exports},"95b6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"read"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"菜单类型"}},[e._v(" "+e._s(e.menuTypeList.find((function(t){return t.itemValue==e.form.menuType})).itemText)+" ")]),"2"===e.form.menuType?[a("el-form-item",{attrs:{label:"按钮/权限",prop:"name"}},[e._v(" "+e._s(e.form.name)+" ")]),a("el-form-item",{attrs:{label:"父级菜单"}},[e._v(" "+e._s(e.form.parentId)+" ")]),a("el-form-item",{attrs:{label:"菜单路径"}},[e._v(" "+e._s(e.form.url)+" ")]),a("el-form-item",{attrs:{label:"授权标识"}},[e._v(" "+e._s(e.form.perms)+" ")]),a("el-form-item",{attrs:{label:"授权策略"}},[e._v(" "+e._s(e.permissionTypeList.find((function(t){return t.itemValue==e.form.permsType})).itemText)+" ")]),a("el-form-item",{attrs:{label:"状态"}},[e._v(" "+e._s(e.validStatusList.find((function(t){return t.itemValue==e.form.status})).itemText)+" ")])]:[a("el-form-item",{attrs:{label:"菜单名称",prop:"name"}},[e._v(" "+e._s(e.form.name)+" ")]),"1"===e.form.menuType?[a("el-form-item",{attrs:{label:"父级菜单"}},[e._v(" "+e._s(e.handleParentId())+" ")])]:e._e(),a("el-form-item",{attrs:{label:"菜单路径"}},[e._v(" "+e._s(e.form.url)+" ")]),a("el-form-item",{attrs:{label:"前端组件"}},[e._v(" "+e._s(e.form.component)+" ")]),"0"===e.form.menuType?[a("el-form-item",{attrs:{label:"默认跳转地址"}},[e._v(" "+e._s(e.form.redirect)+" ")])]:e._e(),a("el-form-item",{attrs:{label:"菜单图标"}},[e._v(" "+e._s(e.form.icon)+" ")]),a("el-form-item",{attrs:{label:"排序"}},[e._v(" "+e._s(e.form.sortNo)+" ")]),a("el-form-item",{attrs:{label:"是否路由"}},[e.form.route?a("span",[e._v("是")]):a("span",[e._v("否")])]),a("el-form-item",{attrs:{label:"隐藏路由"}},[e.form.hide?a("span",[e._v("是")]):a("span",[e._v("否")])]),a("el-form-item",{attrs:{label:"聚合路由"}},[e.form.alwaysShow?a("span",[e._v("是")]):a("span",[e._v("否")])])]],2)],1)},r=[],s=a("5530"),n=(a("d3b7"),a("25f0"),a("159b"),a("b0c0"),a("2f62")),l=a("5d6f9"),o={flag:!0,menuName:""},c={name:"Read",props:{data:{type:Object}},data:function(){return{form:{menuType:"0",name:"",parentId:"",url:"",component:"",redirect:"",icon:"",sortNo:"",route:!0,hide:!1,alwaysShow:!1,permsType:"",perms:"",status:"1"},menuTypeList:[{itemValue:"0",itemText:"一级菜单"},{itemValue:"1",itemText:"子菜单"},{itemValue:"2",itemText:"按钮/权限"}],permissionTypeList:[{itemValue:"1",itemText:"可见/可访问(授权后可见/可访问)"},{itemValue:"2",itemText:"可编辑(未授权时禁用)"}],validStatusList:[{itemValue:"0",itemText:"无效"},{itemValue:"1",itemText:"有效"}]}},computed:Object(s["a"])({},Object(n["e"])({menus:function(e){var t=e.system;return t.menus}})),watch:{data:{handler:function(e){if(!Object(l["isEmpty"])(e)){var t=e.menuType;this.form=Object(s["a"])(Object(s["a"])(Object(s["a"])({},this.form),e),{},{menuType:t.toString()})}},immediate:!0}},methods:{queryMenuById:function(e){var t=this,a=this.form.parentId,i=o,r=i.flag,n=i.menuName;return r&&e.forEach((function(e){var i=e.id,r=e.children,n=e.name;a===i&&(o=Object(s["a"])(Object(s["a"])({},o),{},{flag:!1,menuName:n}),t.queryMenuById([])),r&&r.length&&t.queryMenuById(r)})),n},handleParentId:function(){return this.queryMenuById(this.menus),o=Object(s["a"])(Object(s["a"])({},o),{},{flag:!0}),o.menuName}}},d=c,u=a("2877"),p=Object(u["a"])(d,i,r,!1,null,"b349ad7a",null);t["default"]=p.exports},"95bd":function(e,t,a){},9651:function(e,t,a){},"96cb":function(e,t,a){},9818:function(e,t,a){"use strict";a("3b69")},"98f5":function(e,t,a){"use strict";a("9ea1")},"99df":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],s=a("313e"),n=a.n(s),l=a("82a3");a("817d");var o={name:"",mixins:[l["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"25vh"},dataInfo:{type:Object}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=n.a.init(this.$el,"doughnut-chart"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.expectedData,e.actualData;this.chart.setOption({title:{},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"horizontal",left:"center",top:"10%",data:["已数字化","未数字化"],textStyle:{color:"#fff"}},series:[{name:"档案数字化比列",type:"pie",radius:["30%","50%"],center:["50%","60%"],itemStyle:{fontSize:"12px",normal:{label:{show:!0,positiong:"top",formatter:"{b}:  【占比 {c}%】"}}},emphasis:{label:{show:!0,fontWeight:"bold"}},data:[{value:this.dataInfo.hasFileTotal,name:"已数字化",itemStyle:{color:"#0072FF"}},{value:this.dataInfo.noHasFileTotal,name:"未数字化",itemStyle:{color:"#00EAFF"}}]}]})}}},c=o,d=a("2877"),u=Object(d["a"])(c,i,r,!1,null,"7b81f210",null);t["default"]=u.exports},"99ef":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.title,visible:e.visible,modal:!0,width:"68%",center:"","before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticStyle:{height:"80px"}},[a("span",[e._v(e._s(e.archRule))]),a("el-select",{staticStyle:{width:"15%",height:"30px","margin-left":"10px",float:"right"},attrs:{placeholder:"案卷/单件位数"},model:{value:e.ruleVolDigit,callback:function(t){e.ruleVolDigit=t},expression:"ruleVolDigit"}},e._l(e.ruleVolDigits,(function(e){return a("el-option",{key:e.id,attrs:{label:e.FLD_NAME,value:e.VALUE}})})),1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:8}},[a("div",{staticStyle:{"border-style":"dashed",padding:"4px","border-color":"#EEEEE0"}},[a("div",{staticStyle:{"line-height":"34px","background-color":"#DCDCDC","border-radius":"5px",padding:"8px"}},[a("img",{staticStyle:{height:"22px",float:"left","margin-top":"7px","margin-right":"2px"},attrs:{src:"static/img/md-panorama.png"}}),a("span",[e._v("全部字段")])]),a("div",{staticStyle:{height:"410px",overflow:"auto",padding:"4px"}},e._l(e.data1,(function(t,i){return a("div",{key:i,staticStyle:{"border-radius":"10px","line-height":"22px","background-color":"#DCDCDC",padding:"9px","margin-top":"5px"}},[a("span",[e._v(e._s(t.FLD_NAME)+"【"+e._s(t.FLD_DESC)+"】")]),a("a",{on:{click:function(a){return e.handleAdd(t,i)}}},[a("i",{staticClass:"el-icon-plus",staticStyle:{float:"right","margin-top":"4px","font-size":"14px","font-weight":"bold"}})])])})),0)])]),a("el-col",{attrs:{span:8}},[a("div",{staticStyle:{"border-style":"dashed",padding:"4px","border-color":"#EEEEE0"}},[a("div",{staticStyle:{"line-height":"34px","background-color":"#DCDCDC","border-radius":"5px",padding:"8px"}},[a("img",{staticStyle:{height:"24px",float:"left","margin-top":"5px","margin-right":"2px"},attrs:{src:"static/img/md-adjust.png"}}),a("span",[e._v("已选字段")]),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("确定")])],1),a("div",{staticStyle:{height:"410px",overflow:"auto",padding:"4px"}},e._l(e.data2,(function(t,i){return a("div",{key:i,staticStyle:{"border-radius":"10px","line-height":"22px","background-color":"#DCDCDC",padding:"9px","margin-top":"5px"},on:{click:function(a){return e.handelClick(t)}}},[a("span",[e._v(e._s(t.FLD_NAME))]),t.FLD_DESC?a("span",[e._v("【"+e._s(t.FLD_DESC)+"】")]):e._e(),a("a",{on:{click:function(a){return e.handleMove(t,i)}}},[a("i",{staticClass:"el-icon-close",staticStyle:{float:"right","margin-top":"4px","font-size":"17px","font-weight":"bold"}})]),a("a",{on:{click:function(t){return e.handleMoveDown(i)}}},[a("i",{staticClass:"el-icon-arrow-down",staticStyle:{float:"right","margin-top":"4px","margin-right":"14px","font-size":"17px","font-weight":"bold"}})]),a("a",{on:{click:function(t){return e.handleMoveUp(i)}}},[a("i",{staticClass:"el-icon-arrow-up",staticStyle:{float:"right","margin-top":"4px","margin-right":"14px","font-size":"17px","font-weight":"bold"}})])])})),0)])]),a("el-col",{attrs:{span:8}},[a("div",{staticStyle:{"border-style":"dashed",padding:"4px","border-color":"#EEEEE0"}},[a("div",{staticStyle:{"line-height":"34px","background-color":"#DCDCDC","border-radius":"5px",padding:"8px"}},[a("img",{staticStyle:{height:"22px",float:"left","margin-top":"7px","margin-right":"2px"},attrs:{src:"static/img/md-panorama.png"}}),a("span",[e._v("拼接符号")])]),a("div",{staticStyle:{height:"410px",overflow:"auto",padding:"4px"}},e._l(e.data3,(function(t,i){return a("div",{key:i,staticStyle:{"border-radius":"10px","line-height":"22px","background-color":"#DCDCDC",padding:"9px","margin-top":"5px"}},[a("span",[e._v(e._s(t.FLD_NAME))]),a("a",{on:{click:function(a){return e.handleAddSymbol(t,i)}}},[a("i",{staticClass:"el-icon-plus",staticStyle:{float:"right","margin-top":"4px","font-size":"14px","font-weight":"bold"}})])])})),0)])])],1)],1)},r=[],s=(a("159b"),a("a434"),{name:"GroupFild",props:{data1:{type:Array},recode:{type:Object},id:{type:String},title:{type:String,default:""},data2:{type:Array},data3:{type:Array},ruleVolDigittt:{type:String}},data:function(){return{form:this.$refs.form,visible:!1,archRule:"",ruleVolDigit:"",ruleVolDigits:[],tt:"",rules:{fldName:[{required:!0,message:"请输入字段名称",trigger:"blur"}],fldDesc:[{required:!0,message:"请输入字段描述",trigger:"blur"}],colWidth:[{required:!0,message:"请输入显示列宽",trigger:"blur"}]},filedInfo:{fldName:"",fldDesc:"",colWidth:""},url:{updateBasicFldById:"/templates/updateBasicFldById",saveQueryField:"/queryFld/saveQueryField",saveSearchField:"/searchFld/saveSearchField",saveImportField:"/importFld/saveImportField"}}},methods:{initForm:function(){this.visible=!0,this.changeArchRule(this.data2),this.queryRuleVolDigit(),this.ruleVolDigittt&&""!=this.ruleVolDigittt?this.ruleVolDigit=this.ruleVolDigittt:this.queryVolDigit()},queryVolDigit:function(){var e=this;this.$api.getAction("/archRule/queryVolDigit",{id:this.id}).then((function(t){"200"===t.code&&t.data&&(e.ruleVolDigit=t.data)}))},queryRuleVolDigit:function(){var e=this;this.$api.getAction("/templates/queryRuleVolDigit",{}).then((function(t){"200"===t.code&&(e.ruleVolDigits=t.data)}))},handleClose:function(){this.visible=!1,this.$emit("close")},handelClick:function(e){this.filedInfo=e},handleSave:function(){this.$emit("ok",this.data2,this.archRule,this.ruleVolDigit),this.handleClose()},changeData:function(){var e=[];return this.data2.forEach((function(t){var a={};t.fldId?a.fieldId=t.fldId+"":a.fieldId=t.id+"",a.fieldName=t.fldName,a.fieldDesc=t.fldDesc,e.push(a)})),e},handleSubmit:function(){var e=this;this.$refs.form.validate((function(t){if(t){var a={};e.filedInfo.fldId?a.id=e.filedInfo.fldId:a.id=e.filedInfo.id,a.colWidth=e.filedInfo.colWidth,e.$api.getAction(e.url.updateBasicFldById,a).then((function(t){"200"===t.code?e.$sweetAlert.success("操作成功"):e.$sweetAlert.errorWithTimer("数据加载失败")}))}}))},handleAdd:function(e,t){e.type=0,this.data2.push(e),this.data1.splice(t,1),this.changeArchRule(this.data2)},handleAddSymbol:function(e,t){e.type=1,this.data2.push(e),this.changeArchRule(this.data2)},handleMove:function(e,t){0==e.type&&this.data1.push(e),this.data2.splice(t,1),this.changeArchRule(this.data2)},handleMoveUp:function(e){if(0!=e){var t=this.data2[e-1];this.data2.splice(e-1,1,this.data2[e]),this.data2.splice(e,1,t),this.changeArchRule(this.data2)}},handleMoveDown:function(e){if(e!=this.data2.length-1){var t=this.data2[e+1];this.data2.splice(e+1,1,this.data2[e]),this.data2.splice(e,1,t),this.changeArchRule(this.data2)}},changeArchRule:function(e){var t=this;this.archRule="",e.forEach((function(e){1==e.type||1==e.TYPE?t.archRule+=e.FLD_NAME:t.archRule+=e.FLD_DESC}))}}}),n=s,l=a("2877"),o=Object(l["a"])(n,i,r,!1,null,"90a4d370",null);t["default"]=o.exports},"99f4":function(e,t,a){},"9a47":function(e,t,a){"use strict";a("d231")},"9a81":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("el-form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":"6rem","auto-complete":"off","label-position":"right"}},[a("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入用户名",clearable:""},model:{value:e.model.userName,callback:function(t){e.$set(e.model,"userName",t)},expression:"model.userName"}})],1),a("el-form-item",{attrs:{label:"登陆帐户",prop:"loginName"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入登陆帐户",clearable:""},model:{value:e.model.loginName,callback:function(t){e.$set(e.model,"loginName",t)},expression:"model.loginName"}})],1),e.model.id?e._e():a("el-form-item",{attrs:{label:"密码",prop:"passWord"}},[a("el-input",{attrs:{type:"password",maxlength:"50","auto-complete":"new-password",placeholder:"请输入密码","show-password":"",clearable:""},model:{value:e.model.passWord,callback:function(t){e.$set(e.model,"passWord",t)},expression:"model.passWord"}})],1),e.model.id?e._e():a("el-form-item",{attrs:{label:"确认密码",prop:"checkNewPassWord"}},[a("el-input",{attrs:{type:"password",maxlength:"50","auto-complete":"new-password",placeholder:"请确认密码","show-password":"",clearable:""},model:{value:e.model.checkNewPassWord,callback:function(t){e.$set(e.model,"checkNewPassWord",t)},expression:"model.checkNewPassWord"}})],1),a("el-form-item",{attrs:{label:"部门",prop:"userName"}},[a("select-tree",{attrs:{maxWidth:!0,treeData:e.treeData,labelName:e.model.baText,defaultExpandAll:!0},on:{labeNameChange:e.labeNameChange,treeNodeClick:e.treeNodeClick},model:{value:e.model.baid,callback:function(t){e.$set(e.model,"baid",t)},expression:"model.baid"}})],1),a("el-form-item",{attrs:{label:"角色",prop:"roleIdList"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.model.roleIdList,callback:function(t){e.$set(e.model,"roleIdList",t)},expression:"model.roleIdList"}},e._l(e.select.role,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label||e.name,name:"roleIdList"+e.value,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"数据权限",prop:"dataType"}},[a("dict-select-tag",{attrs:{"dict-code":"SYS_CODE,NAME,VALUE,1=1 AND PARENT_ID='1127569122062897152' AND ID NOT IN ('1127569677883674624') ORDER BY VALUE DESC",placeholder:"请选择"},model:{value:e.model.dataType,callback:function(t){e.$set(e.model,"dataType",t)},expression:"model.dataType"}})],1),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-radio-group",{model:{value:e.model.sex,callback:function(t){e.$set(e.model,"sex",t)},expression:"model.sex"}},e._l(e.select.sex,(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label||t.name))])})),1)],1),a("el-form-item",{attrs:{label:"电话",prop:"phone"}},[a("el-input",{attrs:{maxlength:"11",type:"text",placeholder:"请输入电话",clearable:""},model:{value:e.model.phone,callback:function(t){e.$set(e.model,"phone",t)},expression:"model.phone"}})],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入邮箱",clearable:""},model:{value:e.model.email,callback:function(t){e.$set(e.model,"email",t)},expression:"model.email"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("dict-select-tag",{attrs:{type:"radio","dict-code":"USER_STATUS",placeholder:"请选择"},model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}})],1),a("el-form-item",{attrs:{label:"有效时间",prop:"invalidDate"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"不填为长期有效","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.model.invalidDate,callback:function(t){e.$set(e.model,"invalidDate",t)},expression:"model.invalidDate"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"请输入备注"},model:{value:e.model.remark,callback:function(t){e.$set(e.model,"remark",t)},expression:"model.remark"}})],1)],1)],1),a("div",{directives:[{name:"has",rawName:"v-has",value:"sys:user:update",expression:"'sys:user:update'"}],staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 提交 ")]),a("el-button",{attrs:{type:"default"},on:{click:e.cancelModal}},[e._v("取消")])],1)]):e._e()},r=[],s=a("1da1"),n=(a("96cf"),a("7db0"),a("b0c0"),a("4de4"),a("d81d"),a("d3b7"),a("25f0"),a("159b"),a("b64b"),a("2f62"),a("0fea"),a("61f7")),l=a("0779"),o=a("fb36"),c={components:{DictSelectTag:l["default"],SelectTree:o["default"]},props:{title:{type:String,default:""},treeData:{type:Array,default:function(){return[]}},organData:{type:Object,default:function(){return null}},organTreeData:{type:Array,default:function(){return[]}},baseSelect:{type:Object,default:function(){return{}}}},data:function(){return{visible:!1,loading:!1,select:{sex:[{value:"0",name:"男"},{value:"1",name:"女"}],role:[],dataType:[],status:[]},baseData:null,model:{userName:"",loginName:"",passWord:"",checkNewPassWord:"",baText:"",bapid:"",baid:"",roleIdList:"",dataType:null,sex:0,phone:null,email:null,status:null,invalidDate:null,remark:null,dataDept:null,deptIdList:null},rules:{userName:[{required:!0,trigger:"blur",message:"请输入用户名"}],loginName:[{required:!0,trigger:"blur",message:"请输入登陆帐户"}],passWord:[{required:!0,trigger:"blur",validator:n["e"]}],checkNewPassWord:[{required:!0,validator:this.validateRePassword,trigger:"blur"}],baid:[{required:!0,trigger:"blur",message:"请选择部门"}],roleIdList:[{required:!0,trigger:"blur",message:"请选择角色"}],dataType:[{required:!0,trigger:"blur",message:"请选择数据权限"}],phone:[{required:!1,trigger:"blur",validator:n["d"]}],email:[{required:!1,trigger:"blur",validator:n["c"]}]},pwdForm:{oldpassword:"",password:"",confirmpassword:""},url:{roleSelected:"sys/role/select"}}},computed:{username:function(){return this.$store.state.user.username}},created:function(){},methods:{labeNameChange:function(e){this.model.baText=e},treeNodeClick:function(e){2!=e.type&&(this.$sweetAlert.errorWithTimer("请选择组织部门，否则无法保存！"),this.model.baText="")},initOrganData:function(){var e=this;if(this.organTreeData&&this.model.id){var t=this.organTreeData.find((function(t){return t.id==e.model.baid}));t&&(this.model.baText=t.name),this.model.baid=this.organTreeData.baid}else{var a=this.organData;a&&(this.model.baText=a.name,this.model.bapid=a.bapid,this.model.baid=a.id)}},getRoleSelected:function(){var e={opertion:"add"};this.model.id&&(e={userId:this.model.id,opertion:"update"}),this.roleSelected(e)},roleSelected:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$api.httpActionByQuery(t.url.roleSelected,e,{},"get");case 2:i=a.sent,r=i.data,t.select.role=r,r=r.filter((function(e){return"selected"==e.selected})),s=r.map((function(e){return e.value})),t.model.roleIdList=s[0];case 8:case"end":return a.stop()}}),a)})))()},initForm:function(e){var t=this;this.visible=!0,this.baseData=e,e?(this.model=Object.assign(this.model,e),this.model.sex=this.model.sex.toString()):(this.model.sex="0",this.model.status="0"),this.$nextTick((function(){t.$refs["form"].resetFields()})),this.model.id&&(this.model.dataType=this.model.dataType.toString()),this.getRoleSelected(),this.$nextTick((function(){t.initOrganData()}))},resetForm:function(e){var t=this;this.$nextTick((function(){t.$refs[e].resetFields()}))},submit:function(){var e=this;this.$refs.form.validate((function(t,a){if(t){e.loading=!0;var i=Object.assign({},e.model),r="/sys/user/add";i.id&&(r="/sys/user/update"),delete i.baText,i.roleList&&delete i.roleList;var s="post";e.$api.httpAction(r,i,s).then((function(t){e.loading=!1,200==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.$emit("ok"),e.cancelModal()):e.$sweetAlert.errorWithTimer(t.msg)}))}else e.$validateMsg(a)}))},reset:function(){var e=this;Object.keys(this.model).forEach((function(t){return e.model[t]=""})),this.initForm(this.baseData)},validateRePassword:function(e,t,a){var i=this.model.passWord;""===t?a(new Error("请再次输入密码")):t!==i?a(new Error("两次输入密码不一致!")):a()},cancelModal:function(){this.visible=!1,this.$emit("close")}}},d=c,u=(a("011f"),a("2877")),p=Object(u["a"])(d,i,r,!1,null,"92a5969c",null);t["default"]=p.exports},"9b0e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"panel-box"},[a("div",{class:{"right-layout":e.rightBtnFlag}},[a("div",{staticClass:"rotate-circle"},[a("div",{staticClass:"disc",style:{background:"url(static/img/detection/disc.svg) no-repeat"}},[a("div",{staticClass:"circle",style:{background:"url(static/img/detection/circle.png) no-repeat"}},[e.score?e._e():a("div",{staticClass:"search",class:{"animated-pulse":e.onSearchFlag},style:{background:"url(static/img/detection/search.svg) no-repeat",backgroundSize:"100% 99.99% "}}),e.score?a("div",{staticClass:"score-box"},[a("div",{staticClass:"score-title animated fadeIn"},[e._v("评分")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":e.score,duration:3e3}})],1):e._e()])]),e.onSearchFlag?a("div",{staticClass:"rotate",style:{background:"url(static/img/detection/rotate.gif)"}}):e._e()]),a("div",{staticClass:"flex flex-column"},[e.rightBtnFlag?a("div",{staticClass:"flex",staticStyle:{"margin-bottom":"20px"}},[a("div",[e._v(e._s(e.labelText))]),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:e.upLoadUrl,data:e.data,"on-success":e.handleSuccess,"before-upload":e.beforeAvatarUpload,"auto-upload":!0,"show-file-list":!1,accept:"","file-list":e.fileList,"on-change":function(t,a){e.handleChangeFile(t,a)}}},[a("el-button",{attrs:{type:"default",size:"mini"}},[e._v(" 选择文件 ")])],1)],1):e._e(),a("div",{staticClass:"flex justify-center",class:{"flex-column":e.rightBtnFlag}},[a("div",{staticClass:"operator-btn",style:{background:e.theme},on:{click:e.startClick}},[e._v(" 开始检测 ")]),a("div",{staticClass:"operator-btn",style:{color:e.theme,border:"2px solid "+e.theme},on:{click:e.downloadClick}},[e._v(" 下载报告 ")])])])]),e.showTestResultFlag&&e.score?a("test-result",{attrs:{resultList:e.resultList}}):e._e()],1)},r=[],s=(a("a9e3"),a("a15b"),a("d3b7"),a("a434"),a("b0c0"),a("ec1b")),n=a.n(s),l=a("cf45"),o=a("fe6e"),c={name:"RotateCircle",components:{CountTo:n.a,TestResult:o["default"]},props:{selectLibraryFlag:{type:Boolean,default:!1},showTestResultFlag:{type:Boolean,default:!1},rightBtnFlag:{type:Boolean,default:!1},labelText:{type:String,default:"选择电子离线文件："},code:{type:String},markerFlag:{type:Number},params:{type:Array}},data:function(){return{onSearchFlag:!1,score:"",resultList:[],fileName:"",type:"",downloadUrl:"",wsData:{},data:{categoryId:"",marker:"",num:""},sercCode:"",fileList:[],fileData:null}},watch:{},computed:{theme:function(){return this.$store.state.settings.theme},upLoadUrl:function(){return window._CONFIG["domainURL"]+"/detection/checkFile?__sid="+Object(l["e"])("ARCAMEL-JESSIONID")}},methods:{startClick:function(){var e=this;if(this.selectLibraryFlag)this.$sweetAlert.warnWithTimer("请选择一个库进行检测！");else{this.score=null,this.onSearchFlag=!0;var t=this.params.join(",");""==this.params&&(1==this.markerFlag&&(t="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17"),2==this.markerFlag&&(t="1,2,3,4,5,6,7,8,9"),3==this.markerFlag&&(t="1,2,3,4,5"),4==this.markerFlag&&(t="1,2,3,4,5,6,7"));var a={code:this.code,marker:this.markerFlag,num:t};this.$api.getAction("/detection/check",a).then((function(t){"200"==t.code?0==e.markerFlag?(e.downloadUrl=t.data.url,setTimeout((function(){e.onSearchFlag=!1,e.resultList=[{title:"真实性",name:"authenticity",score:t.data.realness},{title:"完整性",name:"integrity",score:t.data.completeness},{title:"可用性",name:"usability",score:t.data.usability},{title:"安全性",name:"security",score:t.data.safety}];var a=parseInt(t.data.realness)+parseInt(t.data.completeness)+parseInt(t.data.usability)+parseInt(t.data.safety);e.score=Math.round(a/4)}),5e3)):(e.downloadUrl=t.data.data,setTimeout((function(){e.onSearchFlag=!1,e.resultList=[{title:"真实性",name:"authenticity",score:Object(l["f"])(90,100)},{title:"完整性",name:"integrity",score:Object(l["f"])(90,100)},{title:"可用性",name:"usability",score:Object(l["f"])(90,100)},{title:"安全性",name:"security",score:Object(l["f"])(90,100)}],e.score=t.msg}),5e3)):(e.onSearchFlag=!1,e.score=0)}))}},stopClick:function(){this.onSearchFlag=!1,this.score=100},downloadClick:function(){-1!=this.downloadUrl.indexOf("http")?window.open(this.downloadUrl):(this.$message.success("文件已经下载到指定位置"),this.$message.success(this.downloadUrl))},handleSuccess:function(e){var t=this;this.onSearchFlag=!0,"200"==e.code?(this.score=e.data.msg,this.downloadUrl=e.data.data,setTimeout((function(){t.onSearchFlag=!1,t.resultList=[{title:"完整性",name:"integrity",score:Object(l["f"])(90,100)},{title:"可用性",name:"usability",score:Object(l["f"])(90,100)},{title:"安全性",name:"security",score:Object(l["f"])(90,100)}],t.score=e.data.msg}),5e3)):(this.score=0,this.onSearchFlag=!1)},beforeAvatarUpload:function(){var e=this;return this.data.num=this.params.join(","),new Promise((function(t,a){e.$nextTick((function(){return t()}))}))},handleChangeFile:function(e,t){this.data.marker=this.markerFlag;var a=e.size/1024/1024<5;if(!a)return this.$message.error("文件大小不能超过 5MB!"),void(this.$refs["upload"].uploadFiles=[]);t.length>1&&t.splice(0,1),"success"!=e.status&&(this.fileName=e.name),this.fileData=e}},created:function(){},mounted:function(){}},d=c,u=(a("f7dc"),a("2877")),p=Object(u["a"])(d,i,r,!1,null,"4a0d4932",null);t["default"]=p.exports},"9cb6":function(e,t,a){},"9ded":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},r=[],s=a("313e"),n=a.n(s),l=a("82a3");a("817d");var o={name:"",mixins:[l["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"25vh"},dataInfo:{type:Object}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=n.a.init(this.$el,"pie-chart"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.expectedData,e.actualData;this.chart.setOption({title:{},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"horizontal",left:"center",top:"10%",data:["案卷","卷内","单件"],textStyle:{color:"#fff"}},series:[{name:"档案分布比例",type:"pie",radius:"50%",center:["50%","60%"],itemStyle:{normal:{label:{show:!0,positiong:"top",formatter:"{b}:  【占比 {c}%】"}}},data:[{value:this.dataInfo.volTotal,name:"案卷",itemStyle:{color:"#0072FF"}},{value:this.dataInfo.volInTotal,name:"卷内",itemStyle:{color:"#00EAFF"}},{value:this.dataInfo.docTotal,name:"单件",itemStyle:{color:"#01AAFF"}}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}}},c=o,d=a("2877"),u=Object(d["a"])(c,i,r,!1,null,"d3553f30",null);t["default"]=u.exports},"9e6e":function(e,t,a){"use strict";a("bcc8")},"9e83":function(e,t,a){},"9ea1":function(e,t,a){},"9f8f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container flex-column"},[a("div",{staticClass:"table-box max-height"},[a("div",{staticClass:"path-list flex justify-start"},e._l(e.pathList,(function(t,i){return a("div",{key:i,staticClass:"path-list-item flex",on:{click:function(a){return e.pathItemClick(t,i)}}},[a("div",{staticClass:"name",class:{"animated slideInLeft":i>0}},[e._v(" "+e._s(t.name||t.label||"")+" ")]),i<e.pathList.length-1?a("div",[e._v("/")]):e._e()])})),0),a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",pagination:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,"row-style":{cursor:"pointer"}},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),e._m(0)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"prestrain-img"},[a("img",{attrs:{src:"static/img/table/folder.svg",alt:""}}),a("img",{attrs:{src:"static/img/table/file.svg",alt:""}})])}],s=a("5530"),n=a("1da1"),l=(a("96cf"),a("a434"),a("a15b"),a("d81d"),a("b0c0"),a("ac1f"),a("5319"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("1276"),a("f7c4")),o=a("2e5f"),c=a("3d09"),d=a("3f19"),u=a("d215"),p=a("cf45"),m={name:"MyShare",mixins:[d["a"]],components:{foxTable:l["a"],BtnList:o["default"],LogoText:c["default"],FolderModal:u["default"]},props:{},data:function(){return{backLevel:[],baseData:null,date:"",basicLineFlag:!1,pid:null,pathList:[{label:"全部",name:""}],url:{list:"/myShare/GiveMelist",showFile:"/myShare/showFile",download:"/myShare/download",view:"sysPers/getViewUrl",queryPower:"/fileShar/queryPower"}}},watch:{},computed:{},methods:{pathItemClick:function(e,t){this.pid=this.backLevel[t-1],this.pathList=this.pathList.splice(0,t+1);var a=this.pathList.map((function(e){return e.name})).join("/");this.queryList(a)},queryList:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,r,n,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e&&0==e.indexOf("/")&&(e=e.replace("/","")),i={pid:t.pid,page:t.page.pageNum,limit:t.page.pageSize},t.table=Object(s["a"])(Object(s["a"])({},t.table),{},{loading:!0}),a.next=5,t.$api.httpAction(t.url.list,i,"post");case 5:r=a.sent,n=r.count,l=r.data,l.map((function(e,t){0==e.fileType?e.fileType="文件":e.fileType="文件夹"})),t.$nextTick((function(){t.table=Object(s["a"])(Object(s["a"])({},t.table),{},{data:l})})),t.page=Object(s["a"])(Object(s["a"])({},t.page),{},{total:1*n}),t.table=Object(s["a"])(Object(s["a"])({},t.table),{},{loading:!1});case 12:case"end":return a.stop()}}),a)})))()},btnClick:function(e){var t=this.table.selection.length,a="";if(0==t&&e.alert&&(a=e.alert),a)this.$sweetAlert.warnWithTimer(a);else{var i=this.table.selection.map((function(e){return e.id})).join(",");this.operate(i,e.value)}},operate:function(e,t){var a=this;switch(t){case"del":var i={id:e.id};this.$api.httpAction(this.url.del,i,"post").then((function(e){"200"==e.code?a.queryList():a.$sweetAlert.errorWithTimer("取消失败!")}));break;case"download":if(new Date(e.deadline)>new Date){var r=Object(p["h"])(new Date,"{y}-{m}-{d}"),s={id:e.id};this.$api.downFile(this.url.download,s).then((function(e){if(e)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([e]),r+".zip");else{var t=window.URL.createObjectURL(new Blob([e])),i=document.createElement("a");i.style.display="none",i.href=t,i.setAttribute("download",r+".zip"),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(t)}else a.$sweetAlert.errorWithTimer("文件下载失败！")}))}else this.$sweetAlert.errorWithTimer("超出分享有效时间！禁止下载！！!");break;default:break}},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(s["a"])(Object(s["a"])({},this.table),{},{show:!1,column:[{type:"selection"},{label:"序号",type:"index"},{label:"",type:"text",width:"50",render:function(e,t){var a=t.row,i="static/img/table/folder.svg";"文件"==a.fileType&&(i="static/img/table/file.svg");var r={logo:i};return e(c["default"],{attrs:{logoInfo:r}})}},{label:"名称",prop:"name",type:"edit"},{label:"编辑",prop:"oper",width:200,fixed:"right",render:function(t,a){var i=a.row,r=[];return new Date<new Date(i.deadline)&&-1!=i.permission.indexOf("3")&&(r=[{content:"下载",type:"text",event:function(){e.operate(i,"download")}}]),t(o["default"],{attrs:{btnInfo:r}})}},{label:"文件类型",prop:"fileType"},{label:"分享对象",prop:"shareObj"},{label:"分享时间",prop:"createTime"},{label:"有效期",prop:"deadline"}]}),this.$nextTick((function(){e.table=Object(s["a"])(Object(s["a"])({},e.table),{},{show:!0})}))},viewSourceByPdfUrl:function(e,t,a,i){var r={fileUrl:e,fileType:t,fileId:a,fileFrom:"ShareMy",shareType:i,queryPower:"fileShar",queryId:a},s=this.$router.resolve({path:"/originalPage",query:r});window.open(s.href,"_blank")},cellClick:function(e,t,a,i){var r=this;if("名称"==t.label)if(new Date>new Date(e.deadline))this.$sweetAlert.errorWithTimer("超出分享有效时间！禁止查看！！!");else if(-1!=e.permission.indexOf("2"))if("文件"==e.fileType){var s={filePath:e.filePath,fileScene:e.fileScene,fileName:e.name};this.$api.getAction(this.url.view,s).then((function(t){if(200==t.code){var a=t.data,i=e.filePath.split("."),s=i[i.length-1];switch(s){case"png":case"jpg":case"mp4":case"mp3":r.viewSourceByPdfUrl(a,s,e.id,e.shareType);break;case"pdf":case"doc":case"docx":case"xls":case"xlsx":case"ppt":case"pptx":1==e.convertStatus?r.viewSourceByPdfUrl(a,s,e.id,e.shareType):r.$sweetAlert.errorWithTimer("文件转换失败，未能打开!");break;default:r.$sweetAlert.errorWithTimer("未被支持格式文件！");break}}}))}else{this.pathList.push({name:e.name}),this.pid=e.id,this.backLevel.push(e.id);var n=this.pathList.map((function(e){return e.name})).join("/");this.queryList(n)}else this.$sweetAlert.errorWithTimer("没有查看权限!")}},created:function(){this.setTableColumn(),this.queryList()},mounted:function(){}},h=m,f=(a("c927"),a("2877")),b=Object(f["a"])(h,i,r,!1,null,"5d30aeb4",null);t["default"]=b.exports},a192:function(e,t,a){},a1ab:function(e,t,a){"use strict";a("61e2")},a1af:function(e,t,a){},a1f8:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"auto-scroll"},[a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],ref:"tree",attrs:{data:e.treeData,"default-expanded-keys":e.defaultExpandedKeys,singleCheck:!0,checkStrictly:!0},on:{keys:e.getCheckedKeys,click:e.treeNodeClick}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},r=[],s=a("1da1"),n=(a("4de4"),a("d81d"),a("b0c0"),a("159b"),a("d3b7"),a("ddb0"),a("7db0"),a("a15b"),a("96cf"),a("60f9")),l=(a("ed08"),{name:"SortModule",components:{BasicTree:n["default"]},props:{title:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,selectedTreeId:"",activeName:"all",treeListBaseData:[],treeData:[],selectedData:null,rowList:[],defaultCheckedKeys:[],defaultExpandedKeys:[],url:{tree:"/category/archCateTree"},ids:"",templateId:"",keys:[],optionList:[{label:"档案收集",id:"1"},{label:"档案整理",id:"2"},{label:"档案管理",id:"3"}]}},computed:{},methods:{init:function(){this.visible=!0;var e=localStorage.getItem("treeDataArray");if(e){var t=JSON.parse(e);this.setData(t)}else this.getTreeData()},getTreeData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$api.getAction(e.url.tree,{});case 4:a=t.sent,i=a.treeData,e.setData(i),e.loading=!1,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),e.loading=!1;case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},setData:function(e){this.treeListBaseData=this.setTreeDataResetParentId(e),this.treeData=this.setTreeData(this.treeListBaseData)},setTreeData:function(e){var t=this,a=e.filter((function(e){return"-1"==e.parentId}));e.map((function(e){return e.label=e.name,e}));var i=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));i.length?(a.elIcon="folder",t(a.children)):a.elIcon="document-copy"}))};i(a);var r=[];return this.optionList.forEach((function(e,i){var s={label:e.label,children:t.setTreeDataByOptionList(a,i)};r.push(s)})),this.optionList=r,r},setTreeDataByOptionList:function(e,t){var a=function e(a){a.forEach((function(a){a.id&&(a.id=t+"-"+a.id),a.children&&a.children.length>0&&e(a.children)}))},i=JSON.parse(JSON.stringify(e));return a(i),i},setTreeDataResetParentId:function(e){var t=[];return this.optionList.forEach((function(a,i){t=[];var r=JSON.parse(JSON.stringify(e));r.forEach((function(e,r){e.id=i+"-"+r+"-"+e.id,e.elementId=e.id,e.optionId=a.id,e.cateCode=e.cateCode,t.push(e)}))})),t},getCheckedKeys:function(e){this.keys=e},treeNodeClick:function(e){this.selectedData=e},submit:function(){var e=this;if(this.selectedData)if(this.selectedData.children&&this.selectedData.children.length>0)this.$sweetAlert.warnWithTimer("只能选择叶子节点！");else{var t=this.selectedData.parentId,a=[];a.push(this.selectedData.label);var i=this,r=function e(t){var r=i.treeListBaseData.find((function(e){return e.id==t}));r&&(a.push(r.label),e(r.parentId))};r(t);var s=this.optionList.find((function(t){return t.id==e.selectedData.optionId})).label;a.push(s);var n=a.reverse().join(" / ");this.$emit("ok",{name:n,cateCode:this.selectedData.cateCode}),this.cancelModal()}else this.$sweetAlert.warnWithTimer("请先选择！")},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}}),o=l,c=(a("6a8e"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"b7e5d16e",null);t["default"]=d.exports},a2c5:function(e,t,a){"use strict";a("a192")},a2c51:function(e,t,a){},a2cb:function(e,t,a){},a323:function(e,t,a){"use strict";a("21b3")},a4f8:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container tab-pane-box"},[a("el-tabs",{staticClass:"max-height flex-column",attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.tabsList,(function(t,i){return a("el-tab-pane",{key:i,attrs:{label:t.label,name:t.name,lazy:""}},[e.activeName==t.name?a("div",{staticClass:"max-height",class:{"manage-panel-box":"keys"==t.type}},["keys"==t.type?a("key-list",{attrs:{tabsType:t.name,manageType:!0}}):"signs"==t.type?a("signature-list",{attrs:{tabsType:t.name,manageType:!0}}):a("certificate-list",{attrs:{tabsType:t.name,label:t.label,manageType:!0}})],1):e._e()])})),1)],1)},r=[],s=a("eefc"),n=a("eb7b"),l=a("480c"),o={name:"SignCertList",components:{KeyList:s["default"],SignatureList:n["default"],CertificateList:l["default"]},props:{},data:function(){return{activeName:"keys",content:"",tabsList:[{label:"密钥",name:"keys",type:"keys"},{label:"签名",name:"signs",type:"signs"},{label:"证书",name:"certs"}]}},watch:{},computed:{},methods:{handleClick:function(e,t){}},created:function(){},mounted:function(){}},c=o,d=(a("12cc"),a("2877")),u=Object(d["a"])(c,i,r,!1,null,"063124dd",null);t["default"]=u.exports},a565:function(e,t,a){"use strict";a("adde")},a5cf:function(e,t,a){},a5dc:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modify"},[a("el-form",{ref:"form",attrs:{model:e.form,"status-icon":!0,"label-width":"80px",rules:e.rules}},[a("el-form-item",{attrs:{label:e.$t("sys_dict_item_name"),prop:"itemText"}},[a("el-input",{attrs:{placeholder:e.$t("sys_dict_item_name"),clearable:""},model:{value:e.form.itemText,callback:function(t){e.$set(e.form,"itemText",t)},expression:"form.itemText"}})],1),a("el-form-item",{attrs:{label:e.$t("sys_dict_item_value"),prop:"itemValue"}},[a("el-input",{attrs:{placeholder:e.$t("sys_dict_item_value"),clearable:""},model:{value:e.form.itemValue,callback:function(t){e.$set(e.form,"itemValue",t)},expression:"form.itemValue"}})],1),a("el-form-item",{attrs:{prop:"sortOrder"}},[a("div",{attrs:{slot:"label"},slot:"label"},[a("span",[e._v(e._s(e.$t("sys_dict_order_value"))+" ")]),a("el-tooltip",{attrs:{content:e.$t("sys_dict_order_value_tip"),placement:"top"}},[a("i",{staticClass:"el-icon-warning-outline"})])],1),a("el-input-number",{staticClass:"w-full",attrs:{min:1,placeholder:e.$t("sys_dict_order_value")},model:{value:e.form.sortOrder,callback:function(t){e.$set(e.form,"sortOrder",t)},expression:"form.sortOrder"}})],1),a("el-form-item",{attrs:{label:e.$t("sys_dict_description"),prop:"description"}},[a("el-input",{attrs:{type:"textarea",placeholder:e.$t("sys_dict_description"),maxlength:"100","show-word-limit":""},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),a("el-form-item",{attrs:{label:e.$t("sys_dict_is_open"),prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._l(e.dictItemStatus,(function(t){var i=t.itemValue,r=t.itemText;return[a("el-radio",{attrs:{label:i}},[e._v(e._s(r))])]}))],2)],1)],1)],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("2f62")),o=a("5d6f9"),c={name:"Modify",props:{data:{type:Object}},data:function(){return{form:{status:"1"},rules:{itemText:[{required:!0,message:"必填",trigger:"change"}],itemValue:[{required:!0,message:"必填",trigger:"change"}]}}},computed:Object(n["a"])({},Object(l["e"])({dictItemStatus:function(e){var t=e.dict;return t.dictItemStatus}})),watch:{data:{handler:function(e){Object(o["isEmpty"])(e)||(this.form=Object(n["a"])(Object(n["a"])({},this.form),e))},immediate:!0}},methods:{saveData:function(){var e=this.data,t=e.dictId,a=e.id,i=Object(n["a"])(Object(n["a"])({},this.form),{},{dictId:t});a?this.updateDictItem(i):this.addDictItem(i)},addDictItem:function(e){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},updateDictItem:function(e){return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}}},d=c,u=a("2877"),p=Object(u["a"])(d,i,r,!1,null,"28efe4d1",null);t["default"]=p.exports},a629:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container tab-pane-box"},[a("el-tabs",{staticClass:"max-height",on:{"tab-click":e.handleClick}},[a("el-tab-pane",{attrs:{label:"案卷"}},[e.referenceRules?a("archives-type",{ref:"archivesType"}):e._e()],1),a("el-tab-pane",{attrs:{label:"卷内"}},[e.referenceFiled?a("archives-type",{ref:"archivesType"}):e._e()],1)],1)],1)},r=[],s=a("2e3e"),n={name:"ReferenceDataList",components:{archivesType:s["default"]},data:function(){return{referenceRules:!0,referenceFiled:!1,tabsCode:0,queryUrl:"/archRule/pageList",url:{queryArchRules:"/archRule/pageList",queryArchFiled:"/archField/pageList"}}},methods:{handleClick:function(e){var t=this;this.referenceRules=!1,this.referenceFiled=!1,0==this.tabsCode?0==parseInt(e.index)?(this.referenceRules=!0,this.$nextTick((function(){t.$refs["archivesType"].initForm(t.tabsCode,1,t.url.queryArchRules)}))):1==parseInt(e.index)&&(this.referenceFiled=!0,this.$nextTick((function(){t.$refs["archivesType"].initForm(t.tabsCode,2,t.url.queryArchRules)}))):0==parseInt(e.index)?(this.referenceRules=!0,this.$nextTick((function(){t.$refs["archivesType"].initForm(t.tabsCode,1,t.url.queryArchFiled)}))):1==parseInt(e.index)&&(this.referenceFiled=!0,this.$nextTick((function(){t.$refs["archivesType"].initForm(t.tabsCode,2,t.url.queryArchFiled)})))},initForm:function(e){var t=this;this.referenceRules=!1,this.referenceFiled=!1,this.tabsCode=e,0==this.tabsCode?(this.referenceRules=!0,this.$nextTick((function(){t.$refs["archivesType"].initForm(t.tabsCode,1,t.url.queryArchRules)}))):(this.referenceRules=!0,this.$nextTick((function(){t.$refs["archivesType"].initForm(t.tabsCode,1,t.url.queryArchFiled)})))}}},l=n,o=(a("d1f2"),a("2877")),c=Object(o["a"])(l,i,r,!1,null,"5c85edf4",null);t["default"]=c.exports},a7cf:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"recycle-bin max-height"},[a("div",{staticClass:"max-height flex-column"},[a("div",{staticClass:"flex btn-list"},e._l(e.btnList,(function(t){return a("div",{key:t.value},[a("el-button",{attrs:{size:"mini",type:t.type,disabled:t.load&&e.tableLoading,loading:t.load&&e.loading},on:{click:function(a){return e.btnClick(t)}}},[e._v(" "+e._s(t.label)+" ")])],1)})),0),a("div",{staticClass:"table-box max-height"},[a("el-form",{ref:"ruleForm",attrs:{model:e.model,"status-icon":"",rules:e.rules,size:"mini","label-width":"120px"}},[a("el-row",{staticClass:"form-row"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"名称：",prop:"name"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"",clearable:""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"接收表:",prop:"receivingTablePath"}},[a("div",{staticClass:"flex"},[a("el-input",{attrs:{maxlength:"50",type:"text",disabled:"",placeholder:""},model:{value:e.model.receivingTablePath,callback:function(t){e.$set(e.model,"receivingTablePath",t)},expression:"model.receivingTablePath"}}),a("el-button",{staticClass:"input-btn",on:{click:e.selectionTable}},[e._v(" 选择表 ")])],1)])],1)],1),a("el-row",{staticClass:"form-row"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"数据源：",prop:"dataSourceId"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.model.dataSourceId,callback:function(t){e.$set(e.model,"dataSourceId",t)},expression:"model.dataSourceId"}},e._l(e.dataSourceList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.dataSourceName,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"来源表:",prop:"dataSourceTable"}},[a("div",{staticClass:"flex"},[a("el-input",{attrs:{maxlength:"200",type:"text",placeholder:"",clearable:""},model:{value:e.model.dataSourceTable,callback:function(t){e.$set(e.model,"dataSourceTable",t)},expression:"model.dataSourceTable"}}),a("el-button",{staticClass:"input-btn",on:{click:e.loadField}},[e._v(" 加载字段 ")])],1)])],1)],1),a("el-row",{staticClass:"form-row"},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"原文附件：",prop:"enclosureFrom"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.model.enclosureFrom,callback:function(t){e.$set(e.model,"enclosureFrom",t)},expression:"model.enclosureFrom"}},e._l(e.annexList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"定时:",prop:"cron"}},[a("div",{staticClass:"flex"},[a("el-input",{attrs:{maxlength:"200",type:"text",placeholder:"0 0 6/13 * * ?",clearable:""},model:{value:e.model.cron,callback:function(t){e.$set(e.model,"cron",t)},expression:"model.cron"}}),a("el-button",{staticClass:"input-btn",on:{click:e.cronExpression}},[e._v(" cron表达式 ")])],1)])],1)],1),a("el-form-item",{attrs:{label:"来源条件SQL：",prop:"tableCondition"}},[a("el-input",{attrs:{type:"textarea",rows:10,maxlength:"200",placeholder:"",clearable:""},model:{value:e.model.tableCondition,callback:function(t){e.$set(e.model,"tableCondition",t)},expression:"model.tableCondition"}})],1)],1),a("div",{staticClass:"table-title"},[e._v("字段对应关系：")]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"table-main"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"mini"}},[a("el-table-column",{attrs:{label:"数据接收列",width:"280","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"margin-left":"10px"}},[e._v(" "+e._s(t.row.receiveFeldDesc)+" ")])]}}])}),a("el-table-column",{attrs:{label:"数据来源列",width:"180","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini"},model:{value:t.row.dataSourceData,callback:function(a){e.$set(t.row,"dataSourceData",a)},expression:"scope.row.dataSourceData"}},e._l(e.sourceList,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)]}}])}),a("el-table-column",{attrs:{label:"转换SQL","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{maxlength:"200",size:"mini",type:"text",placeholder:"",clearable:""},model:{value:t.row.transformationSql,callback:function(a){e.$set(t.row,"transformationSql",a)},expression:"scope.row.transformationSql"}})]}}])})],1)],1)],1),e.tree.show?a("tree-modal",{ref:"tree",attrs:{title:e.tree.title},on:{ok:e.treeModalSubmit}}):e._e()],1)])},r=[],s=a("5530"),n=a("1da1"),l=(a("caad"),a("2532"),a("ac1f"),a("1276"),a("159b"),a("a15b"),a("d81d"),a("96cf"),a("f7c4")),o=a("2e5f"),c=a("3f19"),d=a("dec8"),u={name:"DataImportEdit",mixins:[c["a"]],components:{foxTable:l["a"],BtnList:o["default"],TreeModal:d["default"]},props:{dataSourceList:{type:Array,default:function(){return[]}}},data:function(){return{btnList:[{value:"back",label:"返回"},{value:"submit",label:"保存",load:!0,type:"primary"}],model:{name:"",receivingTableId:"",receivingTableType:"",receivingTablePath:"",receivingTableName:"",dataSourceId:"",dataSourceTable:"",enclosureFrom:"",cron:"",tableCondition:""},rules:{name:[{required:!0,trigger:"change",message:"请填写名称！"}],receivingTablePath:[{required:!0,trigger:"change",message:"请选择接收表！"}],dataSourceId:[{required:!0,trigger:"change",message:"请选择数据源！"}],dataSourceTable:[{required:!0,trigger:"change",message:"请填写来源表！"}],enclosureFrom:[{required:!0,trigger:"change",message:"请选择原文附件！"}]},annexList:[{value:"0",name:"复制文件"},{value:"1",name:"复制路径"}],loading:!1,tableLoading:!1,sourceList:[],tableData:[],tree:{show:!1,title:"选择接收表"},url:{add:"/dataSource/importAdd",edit:"/dataSource/importUpdate",queryField:"/dataSource/queryField",queryImportFeld:"/dataSource/queryImportFeld",loadFeld:"/dataSource/loadFeld"}}},watch:{},computed:{},methods:{init:function(e){e&&(this.model=e,this.loadField(),this.queryImportFeld(e))},queryImportFeld:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i={id:e.id},t.tableLoading=!0,a.next=4,t.$api.getAction(t.url.queryImportFeld,i);case 4:r=a.sent,t.tableData=r.data,t.tableLoading=!1;case 7:case"end":return a.stop()}}),a)})))()},selectionTable:function(){var e=this;this.tree.show=!0;var t=null;this.model.receivingTableId&&this.model.receivingTableType&&(t={id:this.model.receivingTableId,othType:this.model.receivingTableType}),this.$nextTick((function(){e.$refs.tree.init(t)}))},loadField:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.model.dataSourceId,i=e.model.dataSourceTable,r="",a?i||(r="请填写来源表！"):r="请选择数据源！",r&&e.$sweetAlert.warnWithTimer(r),s={id:a,tableName:i},e.sourceList=[],t.next=9,e.$api.getAction(e.url.loadFeld,s);case 9:n=t.sent,e.sourceList=n.data;case 11:case"end":return t.stop()}}),t)})))()},cronExpression:function(){var e="https://www.baidu.com/s?wd=cron表达式";window.open(e,"_blank")},treeModalSubmit:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var i,r,n,l,o,c,d,u,p,m,h;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e.objId,r=e.objName,n=e.othType,l=i,o=n,c=r,t.model=Object(s["a"])(Object(s["a"])({},t.model),{},{receivingTableId:l,receivingTableType:o,receivingTablePath:c}),d=t.model.receivingTableId,d.includes("-")&&(u=i.split("-"),d=u[1]),p={id:d,othType:n},t.tableLoading=!0,a.next=11,t.$api.getAction(t.url.queryField,p);case 11:m=a.sent,h=m.data,t.tableData=[],t.tableLoading=!1,h.forEach((function(e){var a=e.FIELD_NAME?e.FIELD_NAME:e.COLUMN_NAME,i=e.FIELD_DESC?e.FIELD_DESC:e.COLUMN_COMMENT,r={receiveFeld:a,receiveFeldDesc:i,dataSourceData:"",transformationSql:""};t.tableData.push(r)}));case 16:case"end":return a.stop()}}),a)})))()},submitForm:function(){var e=this;this.$refs["ruleForm"].validate((function(t,a){if(t){var i=e.url.add;e.model.id&&(i=e.url.edit);var r=Object.assign({},e.model),s={form:r,data:e.tableData},n=JSON.stringify(s),l={json:n},o="post";e.loading=!0,e.$api.httpAction(i,l,o).then((function(t){e.loading=!1,200==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.$emit("ok")):e.$sweetAlert.errorWithTimer(t.msg)}))}else e.$validateMsg(a)}))},btnClick:function(e){if("back"==e.value)return this.$emit("ok"),void this.$emit("back");var t=this.table.selection.length,a="";if(0==t&&e.alert&&(a=e.alert),a)this.$sweetAlert.warnWithTimer(a);else{var i=this.table.selection.map((function(e){return e.id})).join(",");this.operate(i,e.value)}},operate:function(e,t){switch(t){case"submit":this.submitForm();break;default:break}}},created:function(){},mounted:function(){}},p=u,m=(a("7666"),a("2877")),h=Object(m["a"])(p,i,r,!1,null,"5df7250d",null);t["default"]=h.exports},a856:function(e,t,a){},a8c2:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"system-info"},[a("div",{staticClass:"title-list"},[a("div",[e._v("安全运行天数")]),a("div",[e._v(" 启动时间 "),e.basicInfo?a("span",[e._v(e._s(e.basicInfo.StartTime))]):e._e()])]),a("div",{staticClass:"time-list"},e._l(e.timeList,(function(t,i){return a("div",{key:i},[a("div",{staticClass:"time-list-item"},[e._l(t.values,(function(t,i){return a("div",{key:i,staticClass:"badge"},[e._v(" "+e._s(t)+" ")])})),a("div",{staticClass:"unit"},[e._v(e._s(t.name))])],2)])})),0),a("el-row",{staticClass:"echart-list"},e._l(e.usageRateList,(function(e,t){return a("div",{key:t},[a("el-col",{attrs:{span:8}},[a("percentage-pie-chart",{attrs:{correctRate:e.value,titleName:e.text}})],1)],1)})),0),a("div",{staticClass:"system-list"},[a("system-list",{attrs:{list:e.systemList}})],1)],1)},r=[],s=(a("d3b7"),a("25f0"),a("159b"),a("ac1f"),a("1276"),a("b0c0"),a("5319"),a("4d63"),a("a9e3"),a("bd11"),a("4307")),n=a("c6ff"),l={name:"",components:{PercentagePieChart:s["default"],SystemList:n["default"]},props:{info:{type:Object,default:function(){return null}},basicInfo:{type:Object,default:function(){return null}}},data:function(){return{startTime:"",usageRateList:[],systemList:[],timer:-1,timeList:[]}},watch:{},computed:{},methods:{setTimeList:function(e){var t=this;e.hour<10&&(e.hour="0"+e.hour),e.day<10?e.day="00"+e.day:e.day<100&&(e.day="0"+e.day);var a=[{value:e.day.toString(),name:"天"},{value:e.hour.toString(),name:"时"},{value:e.min.toString(),name:"分"},{value:e.second.toString(),name:"秒"}];this.timeList=[],a.forEach((function(e){var a=e.value.split(""),i=e.name,r={values:a,name:i};t.timeList.push(r)}))},timeDiff:function(e,t){var a=new Date(e),i=new Date(t),r=a.getTime(),s=i.getTime(),n=(s-r)/1e3,l=parseInt(n/86400,10),o=n-24*l*60*60,c=parseInt(o/3600,10),d=n-24*l*60*60-60*c*60,u=parseInt(d/60,10),p=n-24*l*60*60-60*c*60-60*u,m=parseInt(p,10),h={day:l,hour:c,min:u,second:m};this.setTimeList(h)},getTimeDiff:function(){if(this.basicInfo&&this.basicInfo.StartTime){var e=this.basicInfo.StartTime;e=e.replace(new RegExp(/-/gm),"/");var t=new Date(e),a=new Date;this.timeDiff(t,a)}}},created:function(){var e=this;clearInterval(this.timer);var t=this.info;this.usageRateList=[{value:Number(0|t.cpuUsed),text:"CPU使用率"},{value:Number(t.memoryUsed),text:"内存使用率"},{value:Number(t.diskUsed),text:"磁盘使用率"}],this.systemList=[{value:t.osname,name:"操作系统"},{value:t.osversion,name:"产品版本"},{value:t.javaversion,name:"开发语言\t"},{value:t.jvmname,name:"jvm名称\t"}],this.timer=setInterval((function(){e.getTimeDiff()}),1e3)},beforeDestroy:function(){clearInterval(this.timer)},mounted:function(){}},o=l,c=(a("fec3"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"fd2daad8",null);t["default"]=d.exports},aa0a:function(e,t,a){},aafc:function(e,t,a){},ab69:function(e,t,a){},ad6f:function(e,t,a){},adde:function(e,t,a){},afd9:function(e,t,a){},b0eb:function(e,t,a){"use strict";a("ad6f")},b24d5:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"floor"},[a("img",{attrs:{src:"static/img/store/storearea/floor.png",alt:""}}),a("div",{staticStyle:{"margin-right":"160px","margin-top":"50px"}},e._l(e.list,(function(t,i){return a("div",{key:i,staticClass:"room-list",style:{marginTop:30+100*i+"px",marginLeft:150*i+"px"}},e._l(t,(function(t,i){return a("div",{key:i},[a("div",{staticClass:"room-item",style:{marginTop:80*(i+1)+"px",marginLeft:"-60px"},on:{click:function(a){return e.itemClick(t)}}},[a("img",{attrs:{src:"static/img/store/storearea/area.png",alt:""}}),a("div",{staticClass:"room-title"},[e._v(" "+e._s(t.saName)+" ")])])])})),0)})),0)])},r=[],s={name:"AreaModal",components:{},props:{list:{type:Array,default:function(){return[]}}},data:function(){return{}},watch:{},computed:{},methods:{itemClick:function(e){this.$emit("click",e)}},created:function(){},mounted:function(){}},n=s,l=(a("5fb3"),a("2877")),o=Object(l["a"])(n,i,r,!1,null,"23c981e4",null);t["default"]=o.exports},b294:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"main-list"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"list-item item-left"},[a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],ref:"tree",attrs:{data:e.treeData,defaultExpandedKeys:e.defaultExpandedKeys},on:{click:e.treeNodeClick,keys:e.getCheckedKeys}})],1),a("div",{staticClass:"list-item item-right"},[a("div",{staticClass:"checkbox-list"},[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v(" 全选 ")]),a("div",{staticClass:"group-list"},[a("el-checkbox-group",{on:{change:e.handleCheckedListChange},model:{value:e.checkedList,callback:function(t){e.checkedList=t},expression:"checkedList"}},e._l(e.userList,(function(t,i){return a("el-checkbox",{key:i,attrs:{label:t.label}},[a("div",{staticClass:"check-box"},[e._v(e._s(t.name))])])})),1)],1)],1)])]),a("div",{staticClass:"operate-list"},[a("div",[e._v("已选用户")]),a("div",{staticClass:"delete-box",on:{click:e.clearAll}},[e._v("清空已选用户")])]),a("div",{staticClass:"tag-list"},e._l(e.selectedList,(function(t,i){return a("el-tag",{key:i,staticClass:"tag-item",attrs:{closable:"","disable-transitions":!0,type:t.success},on:{close:function(a){return e.handleClose(t)}}},[e._v(" "+e._s(t.userName)+" ")])})),1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},r=[],s=a("1da1"),n=a("2909"),l=(a("96cf"),a("d81d"),a("4de4"),a("caad"),a("2532"),a("99af"),a("a434"),a("b0c0"),a("159b"),a("d3b7"),a("ddb0"),a("60f9")),o=(a("ed08"),{name:"SelectUser",components:{BasicTree:l["default"]},props:{title:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,checkAll:!1,checkedList:[],userList:[],baseList:[],isIndeterminate:!1,selectedList:[],selectedTreeId:"",activeName:"all",treeData:[],defaultCheckedKeys:[],defaultExpandedKeys:[],url:{tree:"/sys/organ/organTree",userList:"/sys/user/list"},ids:"",templateId:"",keys:[]}},computed:{},methods:{init:function(){this.visible=!0,this.getTreeData()},handleCheckAllChange:function(e){var t=this;this.checkedList=e?this.userList.map((function(e){return e.id})):[];var a=this.userList.filter((function(e){return t.checkedList.includes(e.id)}));this.selectedList=this.selectedList.filter((function(e){return!t.userList.some((function(t){return e.id==t.id}))})),this.selectedList=[].concat(Object(n["a"])(this.selectedList),Object(n["a"])(a)),this.isIndeterminate=!1},handleCheckedListChange:function(e){var t=this,a=e.length;this.checkAll=a===this.userList.length,this.isIndeterminate=a>0&&a<this.userList.length;var i=this.userList.filter((function(e){return t.checkedList.includes(e.id)}));this.selectedList=this.selectedList.filter((function(e){return!t.userList.some((function(t){return e.id==t.id}))})),this.selectedList=[].concat(Object(n["a"])(this.selectedList),Object(n["a"])(i))},handleClose:function(e){this.selectedList.splice(this.selectedList.indexOf(e),1),this.checkedList.splice(this.checkedList.indexOf(e.id),1);var t=this.checkedList.length;this.checkAll=t===this.userList.length&&t,this.isIndeterminate=t>0&&t<this.userList.length},clearAll:function(){this.checkedList=[],this.selectedList=[],this.isIndeterminate=!1},getTreeData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$api.getAction(e.url.tree,{});case 4:a=t.sent,i=a.treeData,e.treeData=e.setTreeData(i),e.loading=!1,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),e.loading=!1;case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},setTreeData:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));this.defaultExpandedKeys=t.map((function(e){return e.id})),e.map((function(e){return e.label=e.name,e}));var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length?(a.elIcon="folder",t(a.children)):a.elIcon="document-copy"}))};return a(t),t},getCheckedKeys:function(e){this.keys=e},treeNodeClick:function(e){this.queryList(e.id)},initCheckBox:function(){this.checkAll=!1,this.checkedList=[],this.userList=[],this.isIndeterminate=!1},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s,n,l,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i={baid:e},a.next=3,t.$api.getAction(t.url.userList,i);case 3:r=a.sent,s=r.data,t.initCheckBox(),s.forEach((function(e){var a={label:e.id,id:e.id,name:e.userName,userName:e.userName};t.userList.push(a)})),t.selectedList.length>0&&(n=t.selectedList.map((function(e){return e.id})),l=t.userList.filter((function(e){return n.includes(e.id)})),t.checkedList=l.map((function(e){return e.id})),o=t.checkedList.length,o>0&&(t.checkAll=o===t.userList.length),t.isIndeterminate=o>0&&o<t.userList.length);case 8:case"end":return a.stop()}}),a)})))()},submit:function(){this.$emit("ok",{list:this.selectedList}),this.cancelModal()},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}}),c=o,d=(a("8af4"),a("2877")),u=Object(d["a"])(c,i,r,!1,null,"765e2ad2",null);t["default"]=u.exports},b345:function(e,t,a){},b473:function(e,t,a){"use strict";a("e3f6")},b563:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{attrs:{type:"card"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("el-tab-pane",{attrs:{label:"控件属性",name:"item"}},[a("ItemProperties",{ref:"itemProperties",attrs:{"select-item":e.selectItem}})],1),a("el-tab-pane",{attrs:{label:"表单属性",name:"form"}},[a("FormProperties",{ref:"formProperties",attrs:{config:e.data.config,"preview-options":e.previewOptions}})],1)],1)},r=[],s=a("c49c"),n=a("31ff"),l=(a("2f62"),{components:{ItemProperties:s["default"],FormProperties:n["default"]},props:{data:{type:Object,default:function(){}},selectItem:{type:Object,default:function(){}}},data:function(){return{active:"item",previewOptions:{width:850}}},watch:{selectItem:function(e){this.active="item"}},methods:{}}),o=l,c=(a("8d0e"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,null,null);t["default"]=d.exports},b74a:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.data?a("div",{staticClass:"tips-list"},e._l(e.textMap,(function(t,i,r){return a("div",{key:r,staticClass:"tip",class:{"none-border":r%3==2}},[a("div",{staticClass:"tip-num"},[e._v(e._s(e.data[i]))]),a("div",{staticClass:"tip-desc"},[e._v(e._s(t))])])})),0):e._e()},r=[],s={name:"CollectionForm",components:{},props:{data:{type:Object,default:null}},data:function(){return{textMap:{indexVolTotal:"今日采集（案卷）",indexAllVolTotal:"采集总量（案卷）",onlineUserTotal:"送审档案（案卷）",indexDocTotal:"今日采集（单件/卷内）",indexAllDocTotal:"采集总量（单件/卷内）",allUsers:"送审档案（单件/卷内）"}}},watch:{},computed:{},methods:{},created:function(){},mounted:function(){}},n=s,l=(a("33f5"),a("2877")),o=Object(l["a"])(n,i,r,!1,null,"7f569b35",null);t["default"]=o.exports},b77c:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"reset-pwd"},[a("el-form",{ref:"resetPwd",attrs:{model:e.form,"label-width":"0px","status-icon":!0,rules:e.rules}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{placeholder:e.$t("sys_user_account"),"prefix-icon":"el-icon-user",readonly:""},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:e.$t("sys_user_pwd"),"prefix-icon":"el-icon-lock"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{prop:"confirmpassword"}},[a("el-input",{attrs:{type:"password",placeholder:e.$t("sys_user_confirm_pwd"),"prefix-icon":"el-icon-lock"},model:{value:e.form.confirmpassword,callback:function(t){e.$set(e.form,"confirmpassword",t)},expression:"form.confirmpassword"}})],1),a("el-form-item",[a("el-button",{staticClass:"w-full",attrs:{type:"primary",loading:e.loading},on:{click:e.submit}},[e._v(e._s(e.$t("common_confirm")))])],1)],1)],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("2f62")),o=a("ed08"),c=a("c3c2"),d={name:"ResetPwd",props:{resetPwd:{type:Object}},watch:{resetPwd:{handler:function(e){var t=e.username;this.form=Object(n["a"])(Object(n["a"])({},this.form),{},{username:t})},immediate:!0}},data:function(){var e=this;return{loading:!1,form:{},rules:{password:[{required:!0,message:"请输入登陆密码",trigger:"change"},{validator:function(t,a,i){return Object(c["c"])(t,a,i,e,"resetPwd")}}],confirmpassword:[{trigger:"change",validator:function(t,a,i){return Object(c["a"])(t,a,i,e)}}]}}},methods:Object(n["a"])(Object(n["a"])({},Object(l["d"])({dialogLoading:"DIALOG_LOADING"})),{},{changePwd:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,n,l,c,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dialogLoading(!0),a=e.form,i=a.username,r=a.password,s=a.confirmpassword,n={username:i,password:r,confirmpassword:s},t.next=5,o["d"].put(o["a"].sys_user_change_pwd,n);case 5:l=t.sent,c=l.success,d=l.message,u=l.result,c&&(o["e"].successWithTimer(d),e.$emit("change-pwd-ok",u)),e.dialogLoading(!1);case 11:case"end":return t.stop()}}),t)})))()},submit:function(){var e=this;this.$refs.resetPwd.validate((function(t){t&&e.changePwd()}))}})},u=d,p=a("2877"),m=Object(p["a"])(u,i,r,!1,null,"00eabf28",null);t["default"]=m.exports},b838:function(e,t,a){},babf:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container flex-column"},[a("div",{staticClass:"flex btn-list"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.release()}}},[e._v(" 文档发布 ")]),a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.UnRelease()}}},[e._v(" 取消发布 ")])],1),a("div",{staticClass:"table-box max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",pagination:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,"row-style":{cursor:"pointer"}},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),e._m(0),e.organ.show?a("organ-modal",{ref:"organ",attrs:{title:e.organ.title,teamWork:e.teamWork,type:e.type},on:{ok:e.getOrg,close:function(t){e.organ.show=!1}}}):e._e(),e.user.show?a("share-user",{ref:"user",attrs:{title:e.user.title,type:e.type,workid:e.workid},on:{ok:function(t){return e.queryList()},close:function(t){e.user.show=!1}}}):e._e(),e.records.show?a("history-records",{ref:"records",attrs:{title:e.records.title,type:e.type},on:{ok:function(t){return e.queryList()},close:e.closeRecords}}):e._e(),a("el-upload",{ref:"upload",staticClass:"re-upload-box",attrs:{data:e.reUploadData,action:e.reUploadUrl,"on-success":e.handleSuccess,"on-remove":e.handleRemove,"before-upload":e.beforeAvatarUpload,"auto-upload":!0,accept:"","on-change":function(t,a){e.handleChangeFile(t,a)}}},[a("div",{ref:"reUploadBtn",staticClass:"uploader-tips"},[e._v("点击上传文件")])])],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"prestrain-img"},[a("img",{attrs:{src:"static/img/table/folder.svg",alt:""}}),a("img",{attrs:{src:"static/img/table/file.svg",alt:""}})])}],s=a("5530"),n=a("1da1"),l=(a("96cf"),a("ac1f"),a("1276"),a("159b"),a("a15b"),a("d81d"),a("d3b7"),a("a434"),a("f7c4")),o=a("2e5f"),c=a("3d09"),d=a("3f19"),u=a("e895"),p=a("80b3"),m=a("520e"),h=a("7c1a"),f={name:"MySynergy",mixins:[d["a"]],components:{foxTable:l["a"],BtnList:o["default"],LogoText:c["default"],ShareUser:p["default"],OrganModal:u["default"],HistoryRecords:m["default"],FilesUploadModal:h["default"]},props:{},data:function(){return{records:{show:!1,title:"文件历史记录",loading:!1},user:{show:!1,title:"人员修改",loading:!1},organ:{show:!1,title:"请选择文件夹",loading:!1},teamWork:[],baseData:null,date:"",type:1,workid:"",marker:1,basicLineFlag:!1,selectionChangeHandle:[],pid:null,reUploadObject:null,url:{list:"/teamWork/getTeamWork",release:"/teamWork/release",UnRelease:"/teamWork/UnRelease",showFile:"/myShare/showFile",download:"/myShare/download",view:"sysPers/getViewUrl"}}},watch:{},computed:{reUploadUrl:function(){return window._CONFIG["domainURL"]+"/teamWork/up"},reUploadData:function(){return this.reUploadObject}},methods:{closeRecords:function(){this.records.show=!1,this.queryList()},getOrg:function(e){var t=this,a=e.list[0].objName.split("/"),i=a[a.length-1],r=e.list[0].objId,s=[];1==this.marker?this.teamWork.forEach((function(e){e.forEach((function(e){s.push(e.id)}))})):this.teamWork.forEach((function(e){s.push(e.id)}));var n={ids:s.join(","),pid:r,obj:i};this.$api.httpAction(this.url.release,n,"post").then((function(e){"200"==e.code?(t.$sweetAlert.successWithTimer(e.msg),t.queryList()):t.$sweetAlert.errorWithTimer(e.msg)}))},queryList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={pid:e.pid,page:e.page.pageNum,limit:e.page.pageSize},e.table=Object(s["a"])(Object(s["a"])({},e.table),{},{loading:!0}),t.next=4,e.$api.httpAction(e.url.list,a,"post");case 4:i=t.sent,r=i.count,n=i.data,n.map((function(e,t){e.releaseStatus?e.releaseStatus="已发布":e.releaseStatus="未发布"})),e.$nextTick((function(){e.table=Object(s["a"])(Object(s["a"])({},e.table),{},{data:n})})),e.page=Object(s["a"])(Object(s["a"])({},e.page),{},{total:1*r}),e.table=Object(s["a"])(Object(s["a"])({},e.table),{},{loading:!1});case 11:case"end":return t.stop()}}),t)})))()},btnClick:function(e){var t=this.table.selection.length,a="";if(0==t&&e.alert&&(a=e.alert),a)this.$sweetAlert.warnWithTimer(a);else{var i=this.table.selection.map((function(e){return e.id})).join(",");this.operate(i,e.value)}},operate:function(e,t){var a=this,i=e;switch(t){case"shareWithDepartment":"未发布"==i.releaseStatus?(this.organ.show=!0,this.teamWork=[],this.teamWork.push(e),this.$nextTick((function(){a.$refs.organ.init()}))):this.$api.httpAction(this.url.UnRelease,{ids:i.id},"post").then((function(e){"200"==e.code?(a.$sweetAlert.successWithTimer(e.msg),a.queryList()):a.$sweetAlert.errorWithTimer(e.msg)}));break;case"user":"未发布"==i.releaseStatus?(this.user.show=!0,this.workid=e.id,this.$nextTick((function(){a.$refs.user.init()}))):this.$sweetAlert.warnWithTimer("文档已发布！不可修改协同人员！");break;case"reload":if(1==i.FILE_TYPE)return void this.$sweetAlert.warnWithTimer("文件夹不可以重新上传！");if(this.table.selection.length>1)return void this.$sweetAlert.warnWithTimer("只能选中一条文件重新上传！");this.reUploadObject={version:i.fileVersion,puid:i.id,joinMan:i.joinMan},this.$refs.reUploadBtn.click();break;case"history":this.records.show=!0,this.$nextTick((function(){a.$refs.records.init(e.id)}));break;default:break}},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(s["a"])(Object(s["a"])({},this.table),{},{show:!1,column:[{type:"selection"},{label:"序号",type:"index"},{label:"",type:"text",width:"50",render:function(e,t){t.row;var a="static/img/table/file.svg",i={logo:a};return e(c["default"],{attrs:{logoInfo:i}})}},{label:"名称",type:"edit",prop:"name"},{label:"编辑",prop:"oper",width:360,fixed:"right",render:function(t,a){var i,r=a.row;return i="已发布"==r.releaseStatus?[{content:"取消发布",type:"text",icon:"edit-outline",event:function(){e.marker=0,e.operate(r,"shareWithDepartment")}},{content:"重新上传",type:"text",event:function(){e.operate(r,"reload")}},{content:"文件历史记录",type:"text",event:function(){e.operate(r,"history")}}]:[{content:"发布文档",type:"text",icon:"edit-outline",event:function(){e.marker=0,e.operate(r,"shareWithDepartment")}},{content:"重新上传",type:"text",event:function(){e.operate(r,"reload")}},{content:"协同人员修改记录",type:"text",event:function(){e.operate(r,"user")}},{content:"文件历史记录",type:"text",event:function(){e.operate(r,"history")}}],t(o["default"],{attrs:{btnInfo:i}})}},{label:"所有者",prop:"createUser"},{label:"上传时间",prop:"createTime"},{label:"文件类型",width:80,prop:"fileType"},{label:"发布状态",width:80,prop:"releaseStatus"}]}),this.$nextTick((function(){e.table=Object(s["a"])(Object(s["a"])({},e.table),{},{show:!0})}))},handleSuccess:function(e){this.queryList()},handleRemove:function(e,t){},beforeAvatarUpload:function(){var e=this;return new Promise((function(t,a){e.$nextTick((function(){return t()}))}))},handleChangeFile:function(e,t){var a=e.size/1024/1024<10;if(!a)return this.$message.error("文件大小不能超过 10MB!"),void(this.$refs["upload"].uploadFiles=[]);t.length>1&&t.splice(0,1)},cellClick:function(e,t,a,i){var r=this;if("名称"==t.label){var s={filePath:e.pdfFilePath,fileScene:e.pdfFileScene,fileName:e.pdfFileFname};this.$api.getAction(this.url.view,s).then((function(t){if(200==t.code){var a=t.data;r.viewSourceByPdfUrl(a,e.fileType,e.id)}}))}},viewSourceByPdfUrl:function(e,t,a){var i={fileUrl:e,fileType:t,fileId:a,fileFrom:"TeamWork"},r=this.$router.resolve({path:"/originalPage",query:i});window.open(r.href,"_blank")},release:function(){0==this.selectionChangeHandle.length?this.$sweetAlert.warnWithTimer("请勾选一条数据！"):(this.operate(this.selectionChangeHandle,"shareWithDepartment"),this.marker)},UnRelease:function(){var e=this;0==this.selectionChangeHandle.length&&this.$sweetAlert.warnWithTimer("请勾选一条数据！");var t=[];this.selectionChangeHandle.forEach((function(e){t.push(e.id)}));var a={ids:t.join(",")};this.$api.httpAction(this.url.UnRelease,a,"post").then((function(t){"200"==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.queryList()):e.$sweetAlert.errorWithTimer(t.msg)}))},selection:function(e){this.selectionChangeHandle=e}},created:function(){this.setTableColumn(),this.queryList()},mounted:function(){}},b=f,g=(a("7a3d"),a("2877")),v=Object(g["a"])(b,i,r,!1,null,"dc3f0f96",null);t["default"]=v.exports},bb5a:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],staticClass:"auto-scroll"},[a("div",{staticClass:"tree-title"},[e._v("分类树")]),a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],ref:"tree",attrs:{data:e.treeData,defaultExpandAll:e.defaultExpandAll,showCheckbox:e.showCheckbox,getHalfCheckedKeys:!0,checkStrictly:e.checkStrictly},on:{click:e.treeNodeClick,keys:e.getCheckedKeys}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},r=[],s=a("1da1"),n=(a("96cf"),a("d81d"),a("4de4"),a("b0c0"),a("159b"),a("d3b7"),a("ddb0"),a("a15b"),a("b64b"),a("60f9")),l=(a("2f62"),{components:{BasicTree:n["default"]},props:{title:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,userId:"",treeData:[],keys:[],treeLoading:!1,defaultExpandAll:!0,defaultCheckedKeys:[],showCheckbox:!0,checkStrictly:!1,url:{categoryTree:"/category/categoryTree",addCate:"/sys/user/addCate"}}},computed:{},created:function(){},methods:{init:function(e){this.visible=!0,this.categoryTree(e)},categoryTree:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.treeLoading=!0,t.userId=e,i={userId:e},a.prev=3,a.next=6,t.$api.getAction(t.url.categoryTree,i);case 6:r=a.sent,s=r.treeData,t.defaultCheckedKeys=s.filter((function(e){return e.checked})).map((function(e){return e.id})),t.treeData=t.setTreeData(s),t.checkStrictly=!0,t.$nextTick((function(){t.$refs.tree.setCheckedKeys(t.defaultCheckedKeys),t.checkStrictly=!1,t.treeLoading=!1})),a.next=16;break;case 14:a.prev=14,a.t0=a["catch"](3);case 16:case"end":return a.stop()}}),a,null,[[3,14]])})))()},setTreeData:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));e.map((function(e){return e.label=e.name,e}));var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length&&t(a.children)}))};return a(t),t},treeNodeClick:function(e){},initForm:function(){this.visible=!0},resetForm:function(e){var t=this;this.$nextTick((function(){t.$refs[e].resetFields()}))},getCheckedKeys:function(e){this.keys=e},submit:function(){var e=this;this.$refs.tree.getCheckedKeys();var t=this.keys;if(0!=t.length){var a=t.join(",");this.loading=!0;var i=this.url.addCate,r={id:this.userId,cateIds:a},s="post";this.$api.httpAction(i,r,s).then((function(t){e.loading=!1,200==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.$emit("ok"),e.cancelModal()):e.$sweetAlert.errorWithTimer(t.msg)}))}else{var n="请选择授权分类！";this.$sweetAlert.warnWithTimer(n)}},reset:function(){var e=this;Object.keys(this.model).forEach((function(t){return e.model[t]=""})),this.initForm()},cancelModal:function(){this.visible=!1,this.$emit("close")}}}),o=l,c=(a("053a"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"b0c19698",null);t["default"]=d.exports},bbaa:function(e,t,a){},bbca:function(e,t,a){"use strict";a("c3bb")},bcc8:function(e,t,a){},bd06:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("div",{staticClass:"info"},[e.tableList&&e.tableList.length>0?a("div",{staticClass:"info-content"},[a("table",{staticClass:"info-table",staticStyle:{"border-collapse":"separate","border-spacing":"0px 10px"},attrs:{width:"100%"}},e._l(e.tableList,(function(t,i){return a("tr",{key:i},e._l(t,(function(t,i){return a("td",{key:i,class:[i%2==0?"label":"text"]},[a("div",{class:[i%2==0?"right":"left"]},[e._v(" "+e._s(t)+" ")])])})),0)})),0)]):e._e()])]),a("div",{staticClass:"btn-list"},[a("el-button",{attrs:{type:"primary"},on:{click:e.btnClick}},[e._v("库房密集柜")]),"area"==e.modalType?a("el-button",{attrs:{type:"primary"},on:{click:e.childNodeClick}},[e._v("子库房区域")]):e._e()],1)]):e._e()},r=[],s=(a("2f62"),{props:{title:{type:String,default:""}},data:function(){return{tableList:[],visible:!0,loading:!1,modalType:null,model:null}},computed:{},created:function(){},methods:{init:function(e,t){this.visible=!0,this.modalType=e,this.model=t,this.tableList=this.initTableData(e,t)},initTableData:function(e,t){var a=[];switch(e){case"room":a=[["库房名: ",t.srName],["库房编号:",t.serial],["高度(m):",t.height],["宽度(m):",t.width],["面积(㎡):",t.srArea],["负责人:",t.author],["库房描述:",t.remark],["位置:",t.location]];break;case"area":a=[["区域名称:",t.saName],["区域编号:",t.serial],["管理模式:",t.manageMode_dictText],["密集排列:",t.denseArray],["密集柜节数:",t.denseNode],["密集柜层数:",t.denseLayer],["容量（个）:",t.capacity],["区域描述:",t.remark]];break;default:break}return a},btnClick:function(){var e=this.modalType,t=this.model;this.cancelModal(),this.$emit("click",{type:e,item:t})},cancelModal:function(){this.visible=!1,this.$emit("close")},childNodeClick:function(){this.$emit("childNode",this.model),this.cancelModal("close")}}}),n=s,l=(a("71a5"),a("2877")),o=Object(l["a"])(n,i,r,!1,null,"12b91c58",null);t["default"]=o.exports},bd35:function(e,t,a){"use strict";a("c20e")},be13:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"extract-box flex flex-column max-height"},[a("extract-box",{ref:"extract",attrs:{typeFlag:"fileShare"}})],1)},r=[],s=a("1edc"),n={name:"ExtractFile",components:{ExtractBox:s["default"]},props:{},data:function(){return{}},watch:{},computed:{},methods:{},created:function(){var e=this,t=this.$route.query;if(t&&t.key){var a=t.key;this.$nextTick((function(){e.$refs.extract.init(a)}))}},mounted:function(){}},l=n,o=a("2877"),c=Object(o["a"])(l,i,r,!1,null,"2d36a6fd",null);t["default"]=c.exports},befb:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"auto-scroll"},[a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],ref:"tree",attrs:{data:e.treeData,defaultProps:e.defaultProps,"default-expanded-keys":e.defaultExpandedKeys,showCheckbox:!0,singleCheck:!0,checkStrictly:!0,lazy:!0},on:{loadNode:e.loadNode,keys:e.getCheckedKeys}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},r=[],s=a("1da1"),n=(a("4de4"),a("d81d"),a("159b"),a("d3b7"),a("ddb0"),a("7db0"),a("96cf"),a("60f9")),l={name:"FileTypeModal",components:{BasicTree:n["default"]},props:{title:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,selectedTreeId:"",activeName:"all",treeData:[],baseData:null,defaultCheckedKeys:[],defaultExpandedKeys:[],url:{tree:"/sysPers/getFileTypeTree"},ids:"",templateId:"",keys:[],defaultProps:{children:"children",label:"label",isLeaf:"leaf"}}},computed:{},methods:{init:function(e){this.visible=!0,this.ids=e,this.getTreeData()},getTreeData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$api.getAction(e.url.tree,{});case 4:a=t.sent,i=a.data,e.baseData=i,e.treeData=e.setTreeData(i),e.loading=!1,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),e.loading=!1;case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))()},loadNode:function(e,t){var a=e.data.ID,i=[];this.baseData&&(i=this.baseData.filter((function(e){return e.PARENT_ID==a}))),setTimeout((function(){t(i)}),300)},setTreeData:function(e){var t=e.filter((function(e){return"-1"==e.PARENT_ID}));e.map((function(e){return e.label=e.NAME,e.id=e.ID,e}));var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length?(a.elIcon="folder",t(a.children)):a.elIcon="document-copy"}))};return a(t),t},getCheckedKeys:function(e){this.keys=e},submit:function(){if(this.$refs.tree.getCheckedKeys(),this.keys[0]){var e=this.keys[0],t=(this.baseData.find((function(t){return t.id=e})),{elFolderId:e,ids:this.ids});this.$emit("ok",t),this.cancelModal()}else this.$sweetAlert.warnWithTimer("请选择目标文件夹！")},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}},o=l,c=(a("119d"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"78bf38d6",null);t["default"]=d.exports},bf1c:function(e,t,a){},bff3:function(e,t,a){},c0a4:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container flex-column"},[a("div",{staticClass:"operate-box"},[a("search-form",{attrs:{"form-options":e.formOptions},on:{onSearch:e.onSearch}})],1),a("div",{staticClass:"table-box"},[a("div",{ref:"table",staticClass:"main-box"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,height:e.Height,fit:"","highlight-current-row":""},on:{"sort-change":e.sortChange}},[a("el-table-column",{attrs:{label:e.$t("table.id"),prop:"id",sortable:"custom",align:"center",width:"80","class-name":e.getSortClass("id")},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.id))])]}}])}),a("el-table-column",{attrs:{label:e.$t("table.title"),"min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{staticClass:"link-type",on:{click:function(t){return e.handleUpdate(i)}}},[e._v(e._s(i.title))]),a("el-tag",[e._v(e._s(e._f("typeFilter")(i.type)))])]}}])}),a("el-table-column",{attrs:{label:e.$t("table.author"),width:"110px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.author))])]}}])}),e.showReviewer?a("el-table-column",{attrs:{label:e.$t("table.reviewer"),width:"110px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",{staticStyle:{color:"red"}},[e._v(e._s(i.reviewer))])]}}],null,!1,3556614148)}):e._e(),a("el-table-column",{attrs:{label:e.$t("table.importance"),width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return e._l(+i.importance,(function(e){return a("svg-icon",{key:e,staticClass:"meta-item__icon",attrs:{"icon-class":"star"}})}))}}])}),a("el-table-column",{attrs:{label:e.$t("table.readings"),align:"center",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[i.pageviews?a("span",{staticClass:"link-type",on:{click:function(t){return e.handleFetchPv(i.pageviews)}}},[e._v(e._s(i.pageviews))]):a("span",[e._v("0")])]}}])}),a("el-table-column",{attrs:{label:e.$t("table.status"),"class-name":"status-col",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-tag",{attrs:{type:e._f("statusFilter")(i.status)}},[e._v(" "+e._s(i.status)+" ")])]}}])}),a("el-table-column",{attrs:{label:e.$t("table.actions"),align:"center",width:"230","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row,r=t.$index;return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleUpdate(i)}}},[e._v(" "+e._s(e.$t("table.edit"))+" ")]),"published"!=i.status?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.handleModifyStatus(i,"published")}}},[e._v(" "+e._s(e.$t("table.publish"))+" ")]):e._e(),"draft"!=i.status?a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handleModifyStatus(i,"draft")}}},[e._v(" "+e._s(e.$t("table.draft"))+" ")]):e._e(),"deleted"!=i.status?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDelete(i,r)}}},[e._v(" "+e._s(e.$t("table.delete"))+" ")]):e._e()]}}])})],1)],1),a("div",{staticClass:"footer-box"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}})],1)]),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:e.rules,model:e.temp,"label-position":"left","label-width":"70px"}},[a("el-form-item",{attrs:{label:e.$t("table.type"),prop:"type"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"Please select"},model:{value:e.temp.type,callback:function(t){e.$set(e.temp,"type",t)},expression:"temp.type"}},e._l(e.calendarTypeOptions,(function(e){return a("el-option",{key:e.key,attrs:{label:e.display_name,value:e.key}})})),1)],1),a("el-form-item",{attrs:{label:e.$t("table.date"),prop:"timestamp"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"Please pick a date","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.temp.timestamp,callback:function(t){e.$set(e.temp,"timestamp",t)},expression:"temp.timestamp"}})],1),a("el-form-item",{attrs:{label:e.$t("table.title"),prop:"title"}},[a("el-input",{model:{value:e.temp.title,callback:function(t){e.$set(e.temp,"title",t)},expression:"temp.title"}})],1),a("el-form-item",{attrs:{label:e.$t("table.status")}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"Please select"},model:{value:e.temp.status,callback:function(t){e.$set(e.temp,"status",t)},expression:"temp.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),a("el-form-item",{attrs:{label:e.$t("table.importance")}},[a("el-rate",{staticStyle:{"margin-top":"8px"},attrs:{colors:["#99A9BF","#F7BA2A","#FF9900"],max:3},model:{value:e.temp.importance,callback:function(t){e.$set(e.temp,"importance",t)},expression:"temp.importance"}})],1),a("el-form-item",{attrs:{label:e.$t("table.remark")}},[a("el-input",{attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"Please input"},model:{value:e.temp.remark,callback:function(t){e.$set(e.temp,"remark",t)},expression:"temp.remark"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(" "+e._s(e.$t("table.cancel"))+" ")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v(" "+e._s(e.$t("table.confirm"))+" ")])],1)],1),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.dialogPvVisible,title:"Reading statistics"},on:{"update:visible":function(t){e.dialogPvVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.pvData,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"key",label:"Channel"}}),a("el-table-column",{attrs:{prop:"pv",label:"Pv"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogPvVisible=!1}}},[e._v(e._s(e.$t("table.confirm")))])],1)],1)],1)},r=[],s=a("5530"),n=(a("b0c0"),a("4e82"),a("a434"),a("d81d"),a("cf45")),l=a("333d"),o=a("b65e"),c=a("0272"),d=[{key:"CN",display_name:"China"},{key:"US",display_name:"USA"},{key:"JP",display_name:"Japan"},{key:"EU",display_name:"Eurozone"}],u=d.reduce((function(e,t){return e[t.key]=t.display_name,e}),{}),p={name:"ComplexTable",components:{SearchForm:c["default"],Pagination:l["default"]},filters:{statusFilter:function(e){var t={published:"success",draft:"info",deleted:"danger"};return t[e]},typeFilter:function(e){return u[e]}},data:function(){return{tablelistdata:o["a"],Height:250,formOptions:[{label:"意见内容",prop:"content",element:"el-input"},{label:"类型",prop:"type",element:"el-select",options:[{label:"给点意见",value:"1"},{label:"售后问题",value:"2"}]},{label:"状态",prop:"status",element:"el-select",options:[{label:"给点意见",value:"1"},{label:"售后问题",value:"2"}]},{label:"提交时间",prop:"timeRange",element:"el-date-picker"}],tableKey:0,list:null,total:0,listLoading:!1,listQuery:{page:1,limit:20,importance:void 0,title:void 0,type:void 0,sort:"+id"},importanceOptions:[1,2,3],calendarTypeOptions:d,sortOptions:[{label:"ID Ascending",key:"+id"},{label:"ID Descending",key:"-id"}],statusOptions:["published","draft","deleted"],showReviewer:!1,temp:{id:void 0,importance:1,remark:"",timestamp:new Date,title:"",type:"",status:"published"},dialog:{width:"400",height:"450",showFooter:!0},modify:{data:{}},dialogFormVisible:!1,dialogStatus:"",textMap:{update:"Edit",create:"Create"},dialogPvVisible:!1,pvData:[],rules:{type:[{required:!0,message:"type is required",trigger:"change"}],timestamp:[{type:"date",required:!0,message:"timestamp is required",trigger:"change"}],title:[{required:!0,message:"title is required",trigger:"blur"}]},downloadLoading:!1}},created:function(){this.getList()},mounted:function(){var e=this,t=this;this.$nextTick((function(){var a=t.$refs.table.offsetHeight;e.Height=a})),window.onresize=function(){return function(){var e=t.$refs.table.offsetHeight;t.$nextTick((function(){t.Height=e}))}()}},methods:{modifySuccess:function(){},confirmAdd:function(){},addRule:function(){var e=this;this.dialog=Object(s["a"])(Object(s["a"])({},this.dialog),{},{title:this.$t("新增"),name:"addRule"}),this.modify=Object(s["a"])(Object(s["a"])({},this.modify),{},{data:{dictId:null}});var t=this.dialog.name;this.$nextTick((function(){e.$modal.show(t)}))},getList:function(){this.listLoading=!0,this.list=this.tablelistdata.data.items,this.total=this.tablelistdata.data.total,this.listLoading=!1},onSearch:function(){this.handleFilter()},handleFilter:function(){this.listQuery.page=1,this.getList()},handleModifyStatus:function(e,t){this.$message({message:"操作成功",type:"success"}),e.status=t},sortChange:function(e){var t=e.prop,a=e.order;"id"===t&&this.sortByID(a)},sortByID:function(e){this.listQuery.sort="ascending"===e?"+id":"-id",this.handleFilter()},resetTemp:function(){this.temp={id:void 0,importance:1,remark:"",timestamp:new Date,title:"",status:"published",type:""}},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&(e.temp.id=parseInt(100*Math.random())+1024,e.temp.author="vue-element-admin")}))},handleUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.temp.timestamp=new Date(this.temp.timestamp),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){var a=Object.assign({},e.temp);a.timestamp=+new Date(a.timestamp),e.dialogFormVisible=!1}}))},handleDelete:function(e,t){this.$notify({title:"成功",message:"删除成功",type:"success",duration:2e3}),this.list.splice(t,1)},handleFetchPv:function(e){var t=this;this.dialogPvVisible=!0;var a=this.dialog.name;this.$nextTick((function(){t.$modal.show(a)}))},formatJson:function(e){return this.list.map((function(t){return e.map((function(e){return"timestamp"===e?Object(n["h"])(t[e]):t[e]}))}))},getSortClass:function(e){var t=this.listQuery.sort;return t==="+".concat(e)?"ascending":"descending"}}},m=p,h=a("2877"),f=Object(h["a"])(m,i,r,!1,null,"7b485bda",null);t["default"]=f.exports},c108:function(e,t,a){"use strict";a("3723")},c154:function(e,t,a){"use strict";a("f1d8")},c20e:function(e,t,a){},c3bb:function(e,t,a){},c3d2:function(e,t,a){"use strict";a("8673")},c484:function(e,t,a){},c49c:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"properties-centent"},[a("div",{staticClass:"properties-body",staticStyle:{padding:"8px"}},[a("p",{directives:[{name:"show",rawName:"v-show",value:!e.selectItem.key,expression:"!selectItem.key"}],staticClass:"hint-box"},[e._v("未选择控件")]),a("el-form",{directives:[{name:"show",rawName:"v-show",value:e.selectItem.key,expression:"selectItem.key"}],attrs:{size:"mini",disabled:e.disabled}},[e.hideModel?e._e():a("el-form-item",{attrs:{label:"标签","label-width":"40px"}},[a("el-input",{attrs:{placeholder:"请输入",disabled:!0},model:{value:e.selectItem.label,callback:function(t){e.$set(e.selectItem,"label",t)},expression:"selectItem.label"}})],1),e.hideModel||["table","grid","divider","label","html","button"].includes(e.selectItem.type)?e._e():a("el-form-item",{attrs:{label:"数据字段","label-width":"70px"}},[a("el-input",{attrs:{placeholder:"请输入",disabled:!0},model:{value:e.selectItem.model,callback:function(t){e.$set(e.selectItem,"model",t)},expression:"selectItem.model"}})],1),"input"==e.selectItem.type||"textarea"==e.selectItem.type?[a("el-form-item",{attrs:{label:"占位内容","label-width":"70px"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.placeholder,callback:function(t){e.$set(e.options,"placeholder",t)},expression:"options.placeholder"}})],1),a("el-form-item",{attrs:{label:"宽度","label-width":"40px"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.width,callback:function(t){e.$set(e.options,"width",t)},expression:"options.width"}})],1),a("el-form-item",{attrs:{label:"默认值","label-width":"60px"}},[a("el-input",{attrs:{placeholder:"undefined"===typeof e.options.format?"请输入":e.options.format},model:{value:e.options.defaultValue,callback:function(t){e.$set(e.options,"defaultValue",t)},expression:"options.defaultValue"}})],1),"input"===e.selectItem.type?a("el-form-item",{attrs:{label:"前后缀"}},[a("el-input",{attrs:{placeholder:"前缀标签"},model:{value:e.options.prepend,callback:function(t){e.$set(e.options,"prepend",t)},expression:"options.prepend"}},[a("template",{slot:"prepend"},[e._v("前缀")])],2),a("el-input",{attrs:{placeholder:"后缀标签"},model:{value:e.options.append,callback:function(t){e.$set(e.options,"append",t)},expression:"options.append"}},[a("template",{slot:"append"},[e._v("后缀")])],2)],1):e._e(),"textarea"===e.selectItem.type?a("el-form-item",{attrs:{label:"输入框行数"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"输入框行数"},model:{value:e.options.rows,callback:function(t){e.$set(e.options,"rows",t)},expression:"options.rows"}})],1):e._e(),a("el-form-item",{attrs:{label:"操作属性"}},[a("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),a("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}}),a("el-checkbox",{attrs:{label:"可清除"},model:{value:e.options.clearable,callback:function(t){e.$set(e.options,"clearable",t)},expression:"options.clearable"}})],1)]:e._e(),"number"==e.selectItem.type?[a("el-form-item",{attrs:{label:"占位内容","label-width":"70px"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.placeholder,callback:function(t){e.$set(e.options,"placeholder",t)},expression:"options.placeholder"}})],1),a("el-form-item",{attrs:{label:"宽度","label-width":"40px"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.width,callback:function(t){e.$set(e.options,"width",t)},expression:"options.width"}})],1),a("el-form-item",{attrs:{label:"步长","label-width":"40px"}},[a("el-input-number",{attrs:{placeholder:"请输入"},model:{value:e.options.step,callback:function(t){e.$set(e.options,"step",t)},expression:"options.step"}})],1),a("el-form-item",{attrs:{label:"最小值","label-width":"60px"}},[a("el-input-number",{attrs:{placeholder:"请输入"},model:{value:e.options.min,callback:function(t){e.$set(e.options,"min",t)},expression:"options.min"}})],1),a("el-form-item",{attrs:{label:"最大值","label-width":"60px"}},[a("el-input-number",{attrs:{placeholder:"请输入"},model:{value:e.options.max,callback:function(t){e.$set(e.options,"max",t)},expression:"options.max"}})],1),a("el-form-item",{attrs:{label:"数值精度","label-width":"70px"}},[a("el-input-number",{attrs:{min:0,max:5,placeholder:"请输入"},model:{value:e.options.precision,callback:function(t){e.$set(e.options,"precision",t)},expression:"options.precision"}})],1),a("el-form-item",{attrs:{label:"默认值","label-width":"60px"}},[a("el-input-number",{attrs:{step:e.options.step,min:e.options.min||-1/0,max:e.options.max||1/0},model:{value:e.options.defaultValue,callback:function(t){e.$set(e.options,"defaultValue",t)},expression:"options.defaultValue"}})],1),a("el-form-item",{attrs:{label:"后缀"}},[a("el-input",{attrs:{placeholder:"后缀标签"},model:{value:e.options.append,callback:function(t){e.$set(e.options,"append",t)},expression:"options.append"}},[a("template",{slot:"append"},[e._v("后缀")])],2)],1),a("el-form-item",{attrs:{label:"操作属性"}},[a("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),a("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}})],1)]:e._e(),"select"==e.selectItem.type?[a("el-form-item",{attrs:{label:"占位内容","label-width":"70px"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.placeholder,callback:function(t){e.$set(e.options,"placeholder",t)},expression:"options.placeholder"}})],1),a("el-form-item",{attrs:{label:"宽度","label-width":"40px"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.width,callback:function(t){e.$set(e.options,"width",t)},expression:"options.width"}})],1),a("el-form-item",{attrs:{label:"选项配置"}},[a("el-radio-group",{model:{value:e.options.dynamic,callback:function(t){e.$set(e.options,"dynamic",t)},expression:"options.dynamic"}},[a("el-radio-button",{attrs:{label:0}},[e._v("静态数据")]),a("el-radio-button",{attrs:{label:2}},[e._v("字典数据")])],1),1==e.options.dynamic?a("div",[a("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteFunc,callback:function(t){e.$set(e.options,"remoteFunc",t)},expression:"options.remoteFunc"}},[a("template",{slot:"prepend"},[e._v("远端方法")])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteValue,callback:function(t){e.$set(e.options,"remoteValue",t)},expression:"options.remoteValue"}},[a("template",{slot:"prepend"},[e._v("值字段")])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteLabel,callback:function(t){e.$set(e.options,"remoteLabel",t)},expression:"options.remoteLabel"}},[a("template",{slot:"prepend"},[e._v("标签字段")])],2)],1):e._e(),2==e.options.dynamic?a("div",[a("el-row",{attrs:{gutter:2}},[a("el-col",{attrs:{span:6}},[a("span",{staticStyle:{"font-size":"13px"}},[e._v("字典码:")])]),a("el-col",{attrs:{span:15}},[a("el-input",{staticStyle:{"margin-top":"4px"},attrs:{size:"mini",disabled:!0},model:{value:e.options.dictType,callback:function(t){e.$set(e.options,"dictType",t)},expression:"options.dictType"}})],1),a("el-col",{attrs:{span:3}},[a("div",{staticStyle:{"margin-top":"3px",background:"#E6E6FA",color:"#4169E1",width:"32px",height:"32px","line-height":"32px","text-align":"center","border-radius":"50%",overflow:"hidden",transition:"all 0.3s","&":"hover {background:\t#4169E1"},on:{click:function(t){return e.handleclick()}}},[a("i",{staticClass:"el-icon-s-order"})])])],1)],1):e._e(),a("ChangeOption",{directives:[{name:"show",rawName:"v-show",value:0==e.options.dynamic,expression:"options.dynamic == 0"}],attrs:{type:e.selectItem.type},model:{value:e.options.options,callback:function(t){e.$set(e.options,"options",t)},expression:"options.options"}})],1),0==e.options.dynamic?a("el-form-item",{attrs:{label:"默认值"}},[a("el-select",{attrs:{clearable:!0},model:{value:e.options.defaultValue,callback:function(t){e.$set(e.options,"defaultValue",t)},expression:"options.defaultValue"}},e._l(e.options.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),a("el-form-item",{attrs:{label:"操作属性"}},[a("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),a("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}}),a("el-checkbox",{attrs:{label:"可清除"},model:{value:e.options.clearable,callback:function(t){e.$set(e.options,"clearable",t)},expression:"options.clearable"}}),a("el-checkbox",{attrs:{label:"多选"},model:{value:e.options.multiple,callback:function(t){e.$set(e.options,"multiple",t)},expression:"options.multiple"}}),a("el-checkbox",{attrs:{label:"可搜索"},on:{change:function(t){t||(e.options.onlineSearch=!1)}},model:{value:e.options.showSearch,callback:function(t){e.$set(e.options,"showSearch",t)},expression:"options.showSearch"}}),e.options.showSearch?a("el-checkbox",{attrs:{label:"实时搜索"},model:{value:e.options.onlineSearch,callback:function(t){e.$set(e.options,"onlineSearch",t)},expression:"options.onlineSearch"}}):e._e()],1),e.options.showSearch&&e.options.onlineSearch?a("el-form-item",{attrs:{label:"实时搜索回调"}},[a("el-input",{attrs:{type:"textarea",placeholder:"搜索带参,eg: name=$, $表示当前输入关键字"},model:{value:e.options.onlineParams,callback:function(t){e.$set(e.options,"onlineParams",t)},expression:"options.onlineParams"}})],1):e._e()]:e._e(),"checkbox"==e.selectItem.type?[a("el-form-item",{attrs:{label:"选项配置"}},[a("el-radio-group",{model:{value:e.options.dynamic,callback:function(t){e.$set(e.options,"dynamic",t)},expression:"options.dynamic"}},[a("el-radio-button",{attrs:{label:0}},[e._v("静态数据")]),a("el-radio-button",{attrs:{label:1}},[e._v("动态数据")])],1),1==e.options.dynamic?a("div",[a("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteFunc,callback:function(t){e.$set(e.options,"remoteFunc",t)},expression:"options.remoteFunc"}},[a("template",{slot:"prepend"},[e._v("远端方法")])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteValue,callback:function(t){e.$set(e.options,"remoteValue",t)},expression:"options.remoteValue"}},[a("template",{slot:"prepend"},[e._v("值字段")])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteLabel,callback:function(t){e.$set(e.options,"remoteLabel",t)},expression:"options.remoteLabel"}},[a("template",{slot:"prepend"},[e._v("标签字段")])],2)],1):e._e(),a("ChangeOption",{directives:[{name:"show",rawName:"v-show",value:0==e.options.dynamic,expression:"options.dynamic == 0"}],attrs:{type:e.selectItem.type},model:{value:e.options.options,callback:function(t){e.$set(e.options,"options",t)},expression:"options.options"}})],1),0==e.options.dynamic?a("el-form-item",{attrs:{label:"默认值"}},[a("el-checkbox-group",{attrs:{options:e.options.options},model:{value:e.options.defaultValue,callback:function(t){e.$set(e.options,"defaultValue",t)},expression:"options.defaultValue"}},e._l([].concat(e.options.options),(function(t){return a("el-checkbox",{key:t.value,attrs:{label:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1):e._e(),a("el-form-item",{attrs:{label:"操作属性"}},[a("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),a("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}})],1)]:e._e(),"radio"==e.selectItem.type?[a("el-form-item",{attrs:{label:"选项配置"}},[a("el-radio-group",{model:{value:e.options.dynamic,callback:function(t){e.$set(e.options,"dynamic",t)},expression:"options.dynamic"}},[a("el-radio-button",{attrs:{label:0}},[e._v("静态数据")]),a("el-radio-button",{attrs:{label:1}},[e._v("动态数据")])],1),1==e.options.dynamic?a("div",[a("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteFunc,callback:function(t){e.$set(e.options,"remoteFunc",t)},expression:"options.remoteFunc"}},[a("template",{slot:"prepend"},[e._v("远端方法")])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteValue,callback:function(t){e.$set(e.options,"remoteValue",t)},expression:"options.remoteValue"}},[a("template",{slot:"prepend"},[e._v("值字段")])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteLabel,callback:function(t){e.$set(e.options,"remoteLabel",t)},expression:"options.remoteLabel"}},[a("template",{slot:"prepend"},[e._v("标签字段")])],2)],1):e._e(),a("ChangeOption",{directives:[{name:"show",rawName:"v-show",value:0==e.options.dynamic,expression:"options.dynamic == 0"}],attrs:{type:e.selectItem.type},model:{value:e.options.options,callback:function(t){e.$set(e.options,"options",t)},expression:"options.options"}})],1),0==e.options.dynamic?a("el-form-item",{attrs:{label:"默认值"}},[a("el-radio-group",{attrs:{options:e.options.options},model:{value:e.options.defaultValue,callback:function(t){e.$set(e.options,"defaultValue",t)},expression:"options.defaultValue"}},e._l([].concat(e.options.options),(function(t){return a("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(" "+e._s(t.label)+" ")])})),1)],1):e._e(),a("el-form-item",{attrs:{label:"操作属性"}},[a("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),a("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}})],1)]:e._e(),"date"==e.selectItem.type||"time"==e.selectItem.type?["date"==e.selectItem.type&&e.options.range?a("el-form-item",{attrs:{label:"占位内容","label-width":"70px"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.rangeStartPlaceholder,callback:function(t){e.$set(e.options,"rangeStartPlaceholder",t)},expression:"options.rangeStartPlaceholder"}}),a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.rangeEndPlaceholder,callback:function(t){e.$set(e.options,"rangeEndPlaceholder",t)},expression:"options.rangeEndPlaceholder"}})],1):a("el-form-item",{attrs:{label:"占位内容","label-width":"70px"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.placeholder,callback:function(t){e.$set(e.options,"placeholder",t)},expression:"options.placeholder"}})],1),a("el-form-item",{attrs:{label:"宽度","label-width":"40px"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.width,callback:function(t){e.$set(e.options,"width",t)},expression:"options.width"}})],1),a("el-form-item",{attrs:{label:"默认值","label-width":"60px"}},["time"!=e.selectItem.type&&e.options.range?e._e():a("el-input",{attrs:{placeholder:"undefined"===typeof e.options.format?"":e.options.format},model:{value:e.options.defaultValue,callback:function(t){e.$set(e.options,"defaultValue",t)},expression:"options.defaultValue"}}),"date"==e.selectItem.type&&e.options.range?a("el-input",{attrs:{placeholder:"undefined"===typeof e.options.format?"":e.options.format},model:{value:e.options.rangeDefaultValue[0],callback:function(t){e.$set(e.options.rangeDefaultValue,0,t)},expression:"options.rangeDefaultValue[0]"}}):e._e(),"date"==e.selectItem.type&&e.options.range?a("el-input",{attrs:{placeholder:"undefined"===typeof e.options.format?"":e.options.format},model:{value:e.options.rangeDefaultValue[1],callback:function(t){e.$set(e.options.rangeDefaultValue,1,t)},expression:"options.rangeDefaultValue[1]"}}):e._e()],1),a("el-form-item",{attrs:{label:"时间格式","label-width":"70px"}},[a("el-input",{attrs:{placeholder:"date"==e.selectItem.type?"YYYY-MM-DD":"HH:mm:ss"},model:{value:e.options.format,callback:function(t){e.$set(e.options,"format",t)},expression:"options.format"}})],1),a("el-form-item",{attrs:{label:"操作属性"}},[a("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),a("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}}),a("el-checkbox",{attrs:{label:"可清除"},model:{value:e.options.clearable,callback:function(t){e.$set(e.options,"clearable",t)},expression:"options.clearable"}}),"date"==e.selectItem.type?a("el-checkbox",{attrs:{label:"范围选择"},model:{value:e.options.range,callback:function(t){e.$set(e.options,"range",t)},expression:"options.range"}}):e._e()],1)]:e._e(),"rate"==e.selectItem.type?["undefined"!==typeof e.options.max?a("el-form-item",{attrs:{label:"最大值"}},[a("el-input-number",{attrs:{placeholder:"请输入"},on:{change:function(t){e.options.defaultValue>t&&(e.options.defaultValue=t)}},model:{value:e.options.max,callback:function(t){e.$set(e.options,"max",t)},expression:"options.max"}})],1):e._e(),a("el-form-item",{attrs:{label:"默认值"}},[a("el-rate",{attrs:{"allow-half":e.options.allowHalf,max:e.options.max},model:{value:e.options.defaultValue,callback:function(t){e.$set(e.options,"defaultValue",t)},expression:"options.defaultValue"}})],1),a("el-form-item",{attrs:{label:"操作属性"}},[a("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),a("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}}),a("el-checkbox",{attrs:{label:"允许半选"},model:{value:e.options.allowHalf,callback:function(t){e.$set(e.options,"allowHalf",t)},expression:"options.allowHalf"}})],1)]:e._e(),"slider"==e.selectItem.type?[a("el-form-item",{attrs:{label:"宽度"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.width,callback:function(t){e.$set(e.options,"width",t)},expression:"options.width"}})],1),a("el-form-item",{attrs:{label:"步长"}},[a("el-input-number",{attrs:{placeholder:"请输入"},model:{value:e.options.step,callback:function(t){e.$set(e.options,"step",t)},expression:"options.step"}})],1),a("el-form-item",{attrs:{label:"最小值"}},[a("el-input-number",{attrs:{placeholder:"请输入"},model:{value:e.options.min,callback:function(t){e.$set(e.options,"min",t)},expression:"options.min"}})],1),a("el-form-item",{attrs:{label:"最大值"}},[a("el-input-number",{attrs:{placeholder:"请输入"},model:{value:e.options.max,callback:function(t){e.$set(e.options,"max",t)},expression:"options.max"}})],1),a("el-form-item",{attrs:{label:"默认值"}},[a("el-input-number",{attrs:{step:e.options.step,min:e.options.min||-1/0,max:e.options.max||1/0},model:{value:e.options.defaultValue,callback:function(t){e.$set(e.options,"defaultValue",t)},expression:"options.defaultValue"}})],1),a("el-form-item",{attrs:{label:"操作属性"}},[a("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),a("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}}),a("el-checkbox",{attrs:{label:"显示输入框"},model:{value:e.options.showInput,callback:function(t){e.$set(e.options,"showInput",t)},expression:"options.showInput"}})],1)]:e._e(),"uploadFile"==e.selectItem.type?[a("el-form-item",{attrs:{label:"宽度"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.width,callback:function(t){e.$set(e.options,"width",t)},expression:"options.width"}})],1),a("el-form-item",{attrs:{label:"最大上传数量"}},[a("el-input-number",{attrs:{min:1},model:{value:e.options.limit,callback:function(t){e.$set(e.options,"limit",t)},expression:"options.limit"}})],1),a("el-form-item",{attrs:{label:"操作属性"}},[a("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),a("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}}),a("el-checkbox",{attrs:{label:"多选"},model:{value:e.options.multiple,callback:function(t){e.$set(e.options,"multiple",t)},expression:"options.multiple"}})],1)]:e._e(),"uploadImg"==e.selectItem.type?[a("el-form-item",{attrs:{label:"宽度"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.width,callback:function(t){e.$set(e.options,"width",t)},expression:"options.width"}})],1),a("el-form-item",{attrs:{label:"最大上传数量"}},[a("el-input-number",{attrs:{min:1},model:{value:e.options.limit,callback:function(t){e.$set(e.options,"limit",t)},expression:"options.limit"}})],1),a("el-form-item",{attrs:{label:"样式"}},[a("el-radio-group",{model:{value:e.options.listType,callback:function(t){e.$set(e.options,"listType",t)},expression:"options.listType"}},[a("el-radio-button",{attrs:{label:"text"}},[e._v("text")]),a("el-radio-button",{attrs:{label:"picture"}},[e._v("picture")]),a("el-radio-button",{attrs:{label:"picture-card"}},[e._v("card")])],1)],1),a("el-form-item",{attrs:{label:"操作属性"}},[a("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),a("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}}),a("el-checkbox",{attrs:{label:"多选"},model:{value:e.options.multiple,callback:function(t){e.$set(e.options,"multiple",t)},expression:"options.multiple"}})],1)]:e._e(),"cascader"==e.selectItem.type?[a("el-form-item",{attrs:{label:"选项配置"}},[a("el-radio-group",{model:{value:e.options.dynamic,callback:function(t){e.$set(e.options,"dynamic",t)},expression:"options.dynamic"}},[a("el-radio-button",{attrs:{label:0}},[e._v("静态数据")]),a("el-radio-button",{attrs:{label:1}},[e._v("动态数据")])],1),1==e.options.dynamic?a("div",[a("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteFunc,callback:function(t){e.$set(e.options,"remoteFunc",t)},expression:"options.remoteFunc"}},[a("template",{slot:"prepend"},[e._v("远端方法")])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteValue,callback:function(t){e.$set(e.options,"remoteValue",t)},expression:"options.remoteValue"}},[a("template",{slot:"prepend"},[e._v("值字段")])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteLabel,callback:function(t){e.$set(e.options,"remoteLabel",t)},expression:"options.remoteLabel"}},[a("template",{slot:"prepend"},[e._v("标签字段")])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.options.remoteChildren,callback:function(t){e.$set(e.options,"remoteChildren",t)},expression:"options.remoteChildren"}},[a("template",{slot:"prepend"},[e._v("下级字段")])],2)],1):e._e(),a("ChangeOption",{directives:[{name:"show",rawName:"v-show",value:0==e.options.dynamic,expression:"options.dynamic == 0"}],attrs:{type:e.selectItem.type},model:{value:e.options.options,callback:function(t){e.$set(e.options,"options",t)},expression:"options.options"}})],1),a("el-form-item",{attrs:{label:"操作属性"}},[a("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),a("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}}),a("el-checkbox",{attrs:{label:"可清除"},model:{value:e.options.clearable,callback:function(t){e.$set(e.options,"clearable",t)},expression:"options.clearable"}}),a("el-checkbox",{attrs:{label:"多选"},model:{value:e.options.multiple,callback:function(t){e.$set(e.options,"multiple",t)},expression:"options.multiple"}}),a("el-checkbox",{attrs:{label:"可搜索"},model:{value:e.options.showSearch,callback:function(t){e.$set(e.options,"showSearch",t)},expression:"options.showSearch"}})],1)]:e._e(),"batch"==e.selectItem.type?[a("el-form-item",{attrs:{label:"宽度"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.width,callback:function(t){e.$set(e.options,"width",t)},expression:"options.width"}})],1),a("el-form-item",{attrs:{label:"对话框标签宽度"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.labelWidth,callback:function(t){e.$set(e.options,"labelWidth",t)},expression:"options.labelWidth"}})],1),a("el-form-item",{attrs:{label:"标签对齐方式"}},[a("el-radio-group",{model:{value:e.options.labelPosition,callback:function(t){e.$set(e.options,"labelPosition",t)},expression:"options.labelPosition"}},[a("el-radio-button",{attrs:{label:"left"}},[e._v("左对齐")]),a("el-radio-button",{attrs:{label:"right"}},[e._v("右对齐")]),a("el-radio-button",{attrs:{label:"top"}},[e._v("顶部对齐")])],1)],1),a("el-form-item",{attrs:{label:"滚动高度"}},[a("el-input-number",{attrs:{min:0},model:{value:e.options.scrollY,callback:function(t){e.$set(e.options,"scrollY",t)},expression:"options.scrollY"}})],1),a("el-form-item",{attrs:{label:"表格样式Class名称"}},[a("el-input",{model:{value:e.selectItem.options.customClass,callback:function(t){e.$set(e.selectItem.options,"customClass",t)},expression:"selectItem.options.customClass"}})],1),a("el-form-item",{attrs:{label:"外部展示字段"}},[a("el-checkbox-group",{model:{value:e.selectItem.options.showItem,callback:function(t){e.$set(e.selectItem.options,"showItem",t)},expression:"selectItem.options.showItem"}},e._l(e.selectItem.list,(function(t){return a("el-checkbox",{key:t.model,attrs:{label:t.model}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"表格样式CSS"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.selectItem.options.customStyle,callback:function(t){e.$set(e.selectItem.options,"customStyle",t)},expression:"selectItem.options.customStyle"}})],1),a("el-form-item",{attrs:{label:"操作属性"}},[a("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),a("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}}),a("el-checkbox",{attrs:{label:"显示Label"},model:{value:e.options.showLabel,callback:function(t){e.$set(e.options,"showLabel",t)},expression:"options.showLabel"}}),a("el-checkbox",{attrs:{label:"隐藏序号"},model:{value:e.options.hideSequence,callback:function(t){e.$set(e.options,"hideSequence",t)},expression:"options.hideSequence"}})],1)]:e._e(),"switch"==e.selectItem.type?[a("el-form-item",{attrs:{label:"打开标签值"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.activeText,callback:function(t){e.$set(e.options,"activeText",t)},expression:"options.activeText"}})],1),a("el-form-item",{attrs:{label:"关闭标签值"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.inactiveText,callback:function(t){e.$set(e.options,"inactiveText",t)},expression:"options.inactiveText"}})],1),a("el-form-item",{attrs:{label:"默认值"}},[a("el-switch",{model:{value:e.options.defaultValue,callback:function(t){e.$set(e.options,"defaultValue",t)},expression:"options.defaultValue"}})],1),a("el-form-item",{attrs:{label:"操作属性"}},[a("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),a("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}})],1)]:e._e(),"button"==e.selectItem.type?[a("el-form-item",{attrs:{label:"类型"}},[a("el-radio-group",{model:{value:e.options.type,callback:function(t){e.$set(e.options,"type",t)},expression:"options.type"}},[a("el-radio",{attrs:{label:"primary"}},[e._v("Primary")]),a("el-radio",{attrs:{label:"default"}},[e._v("Default")]),a("el-radio",{attrs:{label:"dashed"}},[e._v("Dashed")]),a("el-radio",{attrs:{label:"danger"}},[e._v("Danger")])],1)],1),a("el-form-item",{attrs:{label:"按钮操作"}},[a("el-input",{attrs:{type:"textarea",placeholder:"动态JS,表单数据绑定值符号$"},model:{value:e.options.dynamicFun,callback:function(t){e.$set(e.options,"dynamicFun",t)},expression:"options.dynamicFun"}})],1),a("el-form-item",{attrs:{label:"操作属性"}},[a("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),a("el-checkbox",{attrs:{label:"禁用"},model:{value:e.options.disabled,callback:function(t){e.$set(e.options,"disabled",t)},expression:"options.disabled"}}),e._v(" > ")],1)]:e._e(),"text"==e.selectItem.type?[a("el-form-item",{attrs:{label:"文字对齐方式"}},[a("el-radio-group",{model:{value:e.options.textAlign,callback:function(t){e.$set(e.options,"textAlign",t)},expression:"options.textAlign"}},[a("el-radio-button",{attrs:{label:"left"}},[e._v("左")]),a("el-radio-button",{attrs:{label:"center"}},[e._v("居中")]),a("el-radio-button",{attrs:{label:"right"}},[e._v("右")])],1)],1),a("el-form-item",{attrs:{label:"操作属性"}},[a("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}}),a("el-checkbox",{attrs:{label:"显示必选标记"},model:{value:e.options.showRequiredMark,callback:function(t){e.$set(e.options,"showRequiredMark",t)},expression:"options.showRequiredMark"}})],1),a("el-form-item",{attrs:{label:"动态必选"}},[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入表达式或者动态函数,数据实体以$标识"},model:{value:e.options.showRequiredMarkScript,callback:function(t){e.$set(e.options,"showRequiredMarkScript",t)},expression:"options.showRequiredMarkScript"}})],1)]:e._e(),"html"==e.selectItem.type?[a("el-form-item",{attrs:{label:"默认值"}},[a("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.options.defaultValue,callback:function(t){e.$set(e.options,"defaultValue",t)},expression:"options.defaultValue"}})],1),a("el-form-item",{attrs:{label:"操作属性"}},[a("el-checkbox",{attrs:{label:"隐藏"},model:{value:e.options.hidden,callback:function(t){e.$set(e.options,"hidden",t)},expression:"options.hidden"}})],1)]:e._e(),"divider"==e.selectItem.type?[a("el-form-item",{attrs:{label:"标签位置"}},[a("el-radio-group",{model:{value:e.options.orientation,callback:function(t){e.$set(e.options,"orientation",t)},expression:"options.orientation"}},[a("el-radio-button",{attrs:{label:"left"}},[e._v("左")]),a("el-radio-button",{attrs:{label:""}},[e._v("居中")]),a("el-radio-button",{attrs:{label:"right"}},[e._v("右")])],1)],1)]:e._e(),"grid"==e.selectItem.type?[a("el-form-item",{attrs:{label:"栅格间距"}},[a("el-input-number",{attrs:{placeholder:"请输入"},model:{value:e.selectItem.options.gutter,callback:function(t){e.$set(e.selectItem.options,"gutter",t)},expression:"selectItem.options.gutter"}})],1),a("el-form-item",{attrs:{label:"列配置项"}},[a("ChangeOption",{attrs:{type:"colspan"},model:{value:e.selectItem.columns,callback:function(t){e.$set(e.selectItem,"columns",t)},expression:"selectItem.columns"}})],1)]:e._e(),"table"==e.selectItem.type?[a("el-form-item",{attrs:{label:"宽度"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.width,callback:function(t){e.$set(e.options,"width",t)},expression:"options.width"}})],1),a("el-form-item",{attrs:{label:"表格样式Class名称"}},[a("el-input",{model:{value:e.selectItem.options.customClass,callback:function(t){e.$set(e.selectItem.options,"customClass",t)},expression:"selectItem.options.customClass"}})],1),a("el-form-item",{attrs:{label:"表格样式CSS"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.selectItem.options.customStyle,callback:function(t){e.$set(e.selectItem.options,"customStyle",t)},expression:"selectItem.options.customStyle"}})],1),a("el-form-item",{attrs:{label:"操作属性"}},[a("el-checkbox",{attrs:{label:"显示边框"},model:{value:e.options.bordered,callback:function(t){e.$set(e.options,"bordered",t)},expression:"options.bordered"}}),a("el-checkbox",{attrs:{label:"鼠标经过点亮"},model:{value:e.options.bright,callback:function(t){e.$set(e.options,"bright",t)},expression:"options.bright"}}),a("el-checkbox",{attrs:{label:"紧凑型"},model:{value:e.options.small,callback:function(t){e.$set(e.options,"small",t)},expression:"options.small"}})],1)]:e._e(),"jgyb"==e.selectItem.type?[a("el-form-item",{attrs:{label:"宽度"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.options.width,callback:function(t){e.$set(e.options,"width",t)},expression:"options.width"}})],1)]:e._e(),["input","textarea","number","select","checkbox","radio","date","time","rate","slider","uploadFile","uploadImg","cascader","switch","button","text","html","divider"].includes(e.selectItem.type)?a("el-form-item",{attrs:{label:"tooptip提示"}},[a("el-input",{attrs:{type:"textarea",placeholder:"鼠标移动到组件上的提示信息"},model:{value:e.options.tooptip,callback:function(t){e.$set(e.options,"tooptip",t)},expression:"options.tooptip"}})],1):e._e(),e.selectItem.rules&&e.selectItem.rules.length>0?a("el-form-item",{attrs:{label:"校验"}},[a("el-checkbox",{attrs:{label:"必填"},model:{value:e.selectItem.rules[0].required,callback:function(t){e.$set(e.selectItem.rules[0],"required",t)},expression:"selectItem.rules[0].required"}}),a("el-input",{attrs:{placeholder:"必填校验提示信息"},model:{value:e.selectItem.rules[0].message,callback:function(t){e.$set(e.selectItem.rules[0],"message",t)},expression:"selectItem.rules[0].message"}}),a("ChangeOption",{attrs:{type:"rules",disabled:e.disabled},model:{value:e.selectItem.rules,callback:function(t){e.$set(e.selectItem,"rules",t)},expression:"selectItem.rules"}})],1):e._e(),!e.hideModel&&e.selectItem&&e.selectItem.options?[a("el-form-item",{attrs:{label:"动态显示"}},[a("el-switch",{attrs:{"active-text":"打开","inactive-text":"关闭"},model:{value:e.selectItem.options.dynamicVisible,callback:function(t){e.$set(e.selectItem.options,"dynamicVisible",t)},expression:"selectItem.options.dynamicVisible"}})],1),e.selectItem.options.dynamicVisible?a("el-form-item",{attrs:{label:"显示条件"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入显示条件,$标识当前整个表单的绑定数据"},model:{value:e.selectItem.options.dynamicVisibleValue,callback:function(t){e.$set(e.selectItem.options,"dynamicVisibleValue",t)},expression:"selectItem.options.dynamicVisibleValue"}})],1):e._e()]:e._e(),"table"===e.selectItem.type?a("el-form-item",{attrs:{label:"提示"}},[a("p",{staticStyle:{"line-height":"26px"}},[e._v(" 请点击右键增加行列，或者合并单元格 ")])]):e._e()],2)],1)])},r=[],s=a("6ad6"),n={name:"FormItemProperties",components:{ChangeOption:s["default"]},props:{selectItem:{type:Object,required:!0},hideModel:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{options:{}}},watch:{selectItem:function(e){this.options=e.options||{}}}},l=n,o=a("2877"),c=Object(o["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},c57d6:function(e,t,a){},c5a9:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"overview-div"},e._l(e.itemArr,(function(t,i){return a("div",{key:i,staticClass:"overview-item"},[a("div",{staticClass:"overview-item-icon",style:{backgroundColor:e.theme}},[a("div",{staticClass:"icons"})]),a("div",{staticClass:"overview-item-con"},[a("div",{staticClass:"con-count"},[e._v(e._s(t.count))]),a("div",{staticClass:"con-title"},[e._v(e._s(t.title))])])])})),0)},r=[],s={name:"StoreOverview",components:{},props:{},data:function(){return{itemArr:[{title:"可用",count:0,icon:""},{title:"已用",count:0,icon:""},{title:"错架",count:0,icon:""},{title:"异常下架",count:0,icon:""},{title:"借阅",count:0,icon:""}],url:{getOverviewData:"/storeCapacity/getOverviewData"}}},computed:{theme:function(){return this.$store.state.settings.theme}},methods:{getOverviewData:function(e){var t=this;this.$api.getAction(this.url.getOverviewData,{saId:e}).then((function(e){if("200"===e.code)for(var a=0;a<t.itemArr.length;a++)switch(a){case 0:t.itemArr[a].count=e.data.UNOCCUPIED;break;case 1:t.itemArr[a].count=e.data.CCCUPY;break;default:break}else t.$sweetAlert.errorWithTimer("数据加载失败")}))}},created:function(){}},n=s,l=(a("75b77"),a("2877")),o=Object(l["a"])(n,i,r,!1,null,"5cdf39ec",null);t["default"]=o.exports},c5c4:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"visual-center"},[a("header-box",{attrs:{tabType:e.tabType},on:{change:e.typeChange}}),"archives"==e.tabType?a("archives-box"):e._e(),"system"==e.tabType?a("system-box"):e._e()],1)},r=[],s=a("149a"),n=a("79c1"),l=a("099b"),o={name:"visualCenter",components:{HeaderBox:s["default"],ArchivesBox:n["default"],SystemBox:l["default"]},props:{},data:function(){return{tabType:"archives"}},watch:{},computed:{},methods:{typeChange:function(e){this.tabType=e}},created:function(){},mounted:function(){}},c=o,d=(a("f8b4"),a("2877")),u=Object(d["a"])(c,i,r,!1,null,"2759aaac",null);t["default"]=u.exports},c5ed:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return["input","textarea","date","time","number","radio","checkbox","select","rate","switch","slider","uploadImg","uploadFile","cascader"].includes(e.record.type)?a("div",{attrs:{align:"center"}},[a("BaseItem",{attrs:{models:e.domains,record:e.record,"render-preview":!0}})],1):"text"===e.record.type?a("div",{style:{textAlign:e.record.options.textAlign}},[a("label",{class:{"ant-form-item-required":e.record.options.showRequiredMark},domProps:{textContent:e._s(e.record.label)}})]):"html"===e.record.type?a("div",{domProps:{innerHTML:e._s(e.record.options.defaultValue)}}):a("div",[e._v(" dd ")])},r=[],s=a("1e63"),n={name:"TableItem",components:{BaseItem:s["default"]},props:["record","domains","renderPreview"],methods:{}},l=n,o=a("2877"),c=Object(o["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},c645:function(e,t,a){},c6ab:function(e,t,a){},c6ff:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("table",{staticClass:"system-list",attrs:{cellpadding:"0",cellspacing:"0"}},e._l(e.list,(function(t,i){return a("tr",{key:t.index},[a("td",{staticClass:"padding-item item-name"},[e._v(e._s(t.name))]),a("td",{staticClass:"padding-item item-value"},[e._v(e._s(t.value))])])})),0)},r=[],s={name:"CategoryList",components:{},props:{list:{type:Array,default:function(){return[]}}},data:function(){return{}},watch:{},computed:{},methods:{},created:function(){},mounted:function(){}},n=s,l=(a("10ec"),a("2877")),o=Object(l["a"])(n,i,r,!1,null,"35772424",null);t["default"]=o.exports},c6ff7:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,width:"500px",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"auto-scroll"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.model,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"签名名称：",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"on",maxlength:"50",type:"text",placeholder:"请输入签名名称",clearable:""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),a("el-form-item",{attrs:{label:"密钥：",prop:"key"}},[a("el-select",{staticStyle:{width:"100%"},on:{change:e.onKeyChange},model:{value:e.model.keysId,callback:function(t){e.$set(e.model,"keysId",t)},expression:"model.keysId"}},e._l(e.keyList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"密钥能力：",prop:"key"}},[a("div",{staticClass:"existence-box",style:{color:e.greenColor}},[e.keyObject.pubkey?a("span",{staticStyle:{"margin-right":"10px"}},[e._v("验证签名")]):e._e(),e.keyObject.prikey?a("span",[e._v("执行签名")]):e._e()])]),a("el-form-item",{attrs:{label:"算法标识：",prop:"algorithm"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.model.algorithm,callback:function(t){e.$set(e.model,"algorithm",t)},expression:"model.algorithm"}},e._l(e.algorithmList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name||e.value,value:e.value}})})),1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v(" 保存 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},r=[],s=(a("caad"),a("7db0"),a("4de4"),a("b0c0"),a("0779")),n=a("cf45"),l={name:"SignatureModal",components:{DictSelectTag:s["default"]},props:{modalType:{type:String,default:""},title:{type:String,default:""},keyList:{type:Array,default:function(){return[]}}},data:function(){return{greenColor:n["g"],visible:!1,loading:!1,fileList:[],model:{name:"",keysId:"",keysName:"",algorithm:""},algorithmType:"",algorithmAllList:[{type:"ECDSA",value:"RIPEMD160withECDSA"},{type:"ECDSA",value:"SHA1withECDSA"},{type:"ECDSA",value:"SHA224withECDSA"},{type:"ECDSA",value:"SHA256withECDSA"},{type:"ECDSA",value:"SHA384withECDSA"},{type:"ECDSA",value:"SHA512withECDSA"},{type:"RSA",value:"SHA1withRSA"},{type:"RSA",value:"SHA224withRSA"},{type:"RSA",value:"SHA256withRSA"},{type:"RSA",value:"SHA384withRSA"},{type:"RSA",value:"SHA512withRSA"},{type:"RSA",value:"MD2withRSA"},{type:"RSA",value:"MD5withRSA"},{type:"RSA",value:"RIPEMD128withRSA"},{type:"RSA",value:"RIPEMD160withRSA"},{type:"DSA",value:"SHA1withDSA"},{type:"DSA",value:"SHA224withDSA"},{type:"DSA",value:"SHA256withDSA"},{type:"DSA",value:"SHA384withDSA"},{type:"DSA",value:"SHA512withDSA"}],algorithmList:[],rules:{name:[{required:!0,trigger:"change",message:"签名名称不能为空！"}]},keyObject:{prikey:"",pubkey:""},url:{keyList:"/cert/keyList",add:"/cert/saveSign",edit:"/cert/saveSign"}}},computed:{showUploadFlag:function(){var e=!1,t=["add","edit"];return t.includes(this.modalType)&&(e=!0),e}},methods:{init:function(e){var t=this;this.algorithmType="DSA",e&&(this.model=e,this.algorithmType=e.algorithm,this.$nextTick((function(){var a=t.keyList.find((function(t){return t.id==e.keysId}));a&&(t.keyObject=a)}))),this.visible=!0,this.filterList()},onKeyChange:function(e){this.keyObject=this.keyList.find((function(t){return t.id==e})),this.algorithmType=this.keyObject.algorithm,this.filterList(),this.model.algorithm=""},filterList:function(){var e=this;this.algorithmList=this.algorithmAllList.filter((function(t){return t.type==e.algorithmType}))},getKeyName:function(){var e=this;if(this.model.keysId){var t=this.keyList.find((function(t){return t.id==e.model.keysId}));t&&(this.model.keysName=t.name)}},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var a=t.url[t.modalType];t.getKeyName();var i=Object.assign({},t.model),r="post";t.$api.httpAction(a,i,r).then((function(e){200==e.code?(t.$sweetAlert.successWithTimer(e.msg),t.$emit("ok"),t.cancelModal()):t.$sweetAlert.errorWithTimer(e.msg)}))}))},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}},o=l,c=(a("083f"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"77659d26",null);t["default"]=d.exports},c85a:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container max-height flex-column"},[a("div",{staticClass:"operate-box nowrap flex justify-between"},[a("div",{staticClass:"flex"},[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:reports:update",expression:"'sys:reports:update'"}],staticStyle:{"margin-right":"10px"},attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.add}},[e._v(" 添加 ")]),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{disabled:e.disabledUploadFlag,action:e.uploadUrl,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload,data:e.fileData}},[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:reports:upload",expression:"'sys:reports:upload'"}],staticStyle:{"margin-right":"10px"},attrs:{type:"primary",icon:"el-icon-upload",size:"mini"},on:{click:function(t){return e.btnClick()}}},[e._v(" 上传模板文件 ")])],1),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:reports:upload",expression:"'sys:reports:upload'"}],staticStyle:{"margin-right":"10px"},attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(t){return e.btnClick("deleteReportFile")}}},[e._v(" 删除模板文件 ")])],1),a("div",{staticClass:"flex"},[a("el-select",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:"请选择",size:"mini"},on:{change:e.searchTypeChange},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},e._l(e.searchTypeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label||e.name,value:e.value}})})),1),"rtName"==e.searchType?a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"input-with-select",staticStyle:{width:"250px"},attrs:{placeholder:"请输入检索内容",size:"mini",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryList(1)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}):e._e(),"rtType"==e.searchType?a("div",{staticStyle:{width:"250px","margin-right":"10px"}},[a("dict-select-tag",{attrs:{"dict-code":"reports_type",placeholder:"请选择",size:"mini"},on:{change:function(t){return e.queryList(1)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1):e._e(),"createTime"==e.searchType?a("div",{staticStyle:{width:"250px","margin-right":"10px"}},[a("el-date-picker",{staticStyle:{width:"250px"},attrs:{type:"date",placeholder:"选择日期时间","value-format":"yyyy-MM-dd",size:"mini"},on:{change:function(t){return e.queryList(1)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1):e._e(),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(t){return e.queryList(1)}}},[e._v(" 搜索 ")])],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"table-box max-height"},[a("fox-table",{ref:"foxTable",attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick,radioChange:e.radioChange}})],1),e.modify.show?a("modify",{ref:"modify",attrs:{title:e.modify.textMap[e.modify.status],status:e.modify.status},on:{ok:e.modifyLoad,close:function(t){e.modify.show=!1}}}):e._e()],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("a9e3"),a("cf45")),o=a("f7c4"),c=a("3f19"),d=a("2e5f"),u=a("7a0a"),p=a("0779"),m={name:"NoticeList",mixins:[c["a"]],components:{foxTable:o["a"],BtnList:d["default"],Modify:u["default"],DictSelectTag:p["default"]},props:{showStatus:{type:String|Number,default:""}},data:function(){return{modify:{show:!1,status:"create",textMap:{update:"编辑",create:"添加",check:"查看"},loading:!1},url:{list:"/reports/pageList"},jobLog:{title:"执行日志",show:!1,loading:!1},model:null,pageIdx:0,columnList:[],searchTypeList:[{value:"rtName",name:"报表名称"},{value:"rtType",name:"报表类型"},{value:"createTime",name:"创建时间"}],searchType:"rtName",searchText:"",data:{busiId:"",id:""}}},watch:{},computed:{uploadUrl:function(){return window._CONFIG["domainURL"]+"/reports/upload?__sid="+Object(l["e"])("ARCAMEL-JESSIONID")},fileData:function(){return this.data},disabledUploadFlag:function(){var e=!1;return this.table.radio||(e=!0),e}},methods:{init:function(e){this.model=e,this.queryList(1)},radioChange:function(e){this.table.radio=e.id;var t=e.id;this.data=Object(n["a"])(Object(n["a"])({},this.data),{},{id:t,busiId:t})},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{show:!1,column:[{type:"radio",fixed:!0},{label:"操作",prop:"oper",width:240,fixed:"right",render:function(t,a){var i=a.row,r=[{content:"编辑",type:"text",icon:"edit",popover:!1,permission:"sys:reports:update",event:function(){e.update(i)}},{content:"删除",type:"text",icon:"delete",color:"#F56C6C",popover:!1,permission:"sys:reports:del",event:function(){e.operate(i.id,"delete")}}];return t(d["default"],{attrs:{btnInfo:r}})}},{label:"报表名称",prop:"rtName"},{label:"报表模板文件",prop:"reportFileName"},{label:"显示位置",prop:"menuType_dictText"},{label:"描述",prop:"rtDesc"},{label:"创建时间",prop:"createTime"}]}),this.$nextTick((function(){e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{show:!0})}))},add:function(){var e=this;this.modify.status="create",this.modify.show=!0,this.$nextTick((function(){e.$refs["modify"].initForm()}))},update:function(e){var t=this;this.modify.status="update",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)}))},modifyLoad:function(){this.queryList()},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s,l,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.$nextTick((function(){t.$refs.foxTable.clearRadioSelect(),t.data={busiId:"",id:""}})),t.table.radio=null,1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize,type:"all"},t.searchType&&(i[t.searchType]=t.searchText),t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{loading:!0}),r=t.url.list,a.next=9,t.$api.getAction(r,i);case 9:s=a.sent,l=s.count,o=s.data,t.page=Object(n["a"])(Object(n["a"])({},t.page),{},{total:1*l}),t.$nextTick((function(){t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{data:o})})),t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{loading:!1});case 15:case"end":return a.stop()}}),a)})))()},btnClick:function(e){var t=this.table.radio;if(t)e&&this.operate(t,e);else{var a="至少选择一条记录";this.$sweetAlert.warnWithTimer(a)}},selectionMsg:function(){var e="",t=this.table.selection.length;return 0==t&&(e="至少选择一条记录"),e},operate:function(e,t){var a=this,i={deleteReportFile:{name:"删除模板文件",msg:"确定删除模板文件?",url:"/reports/deleteReportFile",params:{id:e}},delete:{name:"删除",msg:"确定删除?",url:"/reports/delete",params:{id:e}}},r=i[t]["msg"],s=i[t].url,n="post",l=i[t].params;this.$confirm(r,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$api.httpAction(s,l,n).then((function(e){200==e.code?(a.$sweetAlert.successWithTimer(e.msg),a.queryList()):a.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))},searchTypeChange:function(e){this.searchText="",this.queryList(1)},handleAvatarSuccess:function(e){"200"==e.code&&(this.$sweetAlert.successWithTimer("文件上传成功！"),this.queryList(1))},beforeAvatarUpload:function(e){var t=this.table.radio;if(t);else{var a="至少选择一条记录";this.$sweetAlert.warnWithTimer(a)}}},created:function(){this.setTableColumn(),this.queryList(1)},mounted:function(){}},h=m,f=(a("d26d"),a("2877")),b=Object(f["a"])(h,i,r,!1,null,"38651cda",null);t["default"]=b.exports},c927:function(e,t,a){"use strict";a("2e39")},c97f:function(e,t,a){},c995:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"绑定档号规则",visible:e.visible,modal:!1,center:"","before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[a("div",[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:11}},[a("div",{staticStyle:{"border-style":"dashed",padding:"4px","border-color":"#EEEEE0"}},[a("div",{staticStyle:{"line-height":"34px","background-color":"#DCDCDC","border-radius":"5px",padding:"8px"}},[a("img",{staticStyle:{height:"22px",float:"left","margin-top":"7px","margin-right":"2px"},attrs:{src:"static/img/md-panorama.png"}}),a("span",[e._v("可绑字段")])]),a("div",{staticStyle:{height:"310px",overflow:"auto",padding:"4px"}},e._l(e.data1,(function(t,i){return a("div",{key:i,staticStyle:{"border-radius":"10px","line-height":"22px","background-color":"#DCDCDC",padding:"9px","margin-top":"5px"}},[a("span",[e._v(e._s(t.fieldName)+"【"+e._s(t.fieldDesc)+"】")]),a("a",{on:{click:function(a){return e.handleAdd(t,i)}}},[a("i",{staticClass:"el-icon-plus",staticStyle:{float:"right","margin-top":"4px","font-size":"14px","font-weight":"bold"}})])])})),0)])]),a("el-col",{attrs:{span:13}},[a("div",{staticStyle:{"border-style":"dashed",padding:"4px","border-color":"#EEEEE0"}},[a("div",{staticStyle:{"line-height":"34px","background-color":"#DCDCDC","border-radius":"5px",padding:"8px"}},[a("img",{staticStyle:{height:"24px",float:"left","margin-top":"5px","margin-right":"2px"},attrs:{src:"static/img/md-adjust.png"}}),a("span",[e._v("已绑字段")])]),a("div",{staticStyle:{height:"310px",overflow:"auto",padding:"4px"}},e._l(e.data2,(function(t,i){return a("div",{key:i,staticStyle:{"border-radius":"10px","line-height":"22px","background-color":"#DCDCDC",padding:"9px","margin-top":"5px"},on:{click:function(a){return e.handelClick(t)}}},[a("span",[e._v(e._s(t.fieldName)+"【"+e._s(t.fieldDesc)+"】")]),a("a",{on:{click:function(a){return e.handleMove(t,i)}}},[a("i",{staticClass:"el-icon-close",staticStyle:{float:"right","margin-top":"4px","font-size":"17px","font-weight":"bold"}})]),a("a",{on:{click:function(t){return e.handleMoveDown(i)}}},[a("i",{staticClass:"el-icon-arrow-down",staticStyle:{float:"right","margin-top":"4px","margin-right":"14px","font-size":"17px","font-weight":"bold"}})]),a("a",{on:{click:function(t){return e.handleMoveUp(i)}}},[a("i",{staticClass:"el-icon-arrow-up",staticStyle:{float:"right","margin-top":"4px","margin-right":"14px","font-size":"17px","font-weight":"bold"}})])])})),0)])])],1)],1),a("div",{staticStyle:{width:"100%",height:"30px","margin-top":"8px"}},[a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 绑定 ")]),a("el-button",{on:{click:e.handleClose}},[e._v("取消")])],1)])])},r=[],s=(a("159b"),a("a434"),{name:"",data:function(){return{artype:1,rowData:{},data1:[],data2:[],visible:!1,url:"/archField/getAll"}},methods:{handleClose:function(){this.visible=!1,this.$emit("close")},submit:function(){var e=this,t="";0==this.data2.length?this.$sweetAlert.warnWithTimer("请绑定字段"):(this.data2.forEach((function(a){t+=a.id,a.id!=e.data2[e.data2.length-1].id&&(t+=",")})),this.$api.httpAction("/archRule/addRuleFidld",{arId:this.rowData.id,afIds:t},"post").then((function(t){"200"==t.code?(e.$sweetAlert.success(t.msg),e.handleClose()):e.$sweetAlert.errorWithTimer("操作失败")})))},queryList:function(e,t){var a=this,i={};i.ruleId=e,i.ruleType=t,this.$api.httpAction(this.url,i,"post").then((function(e){"200"==e.code?e.data.selectedList?a.changeData(e.data.selectedList,e.data.fieldList):a.$sweetAlert.errorWithTimer("请配置字段"):a.$sweetAlert.errorWithTimer("网络出错")}))},changeData:function(e,t){this.data2=e,this.data1=t},initForm:function(e,t){this.artype=t,this.rowData=e,this.visible=!0,this.queryList(e.id,t)},handleAdd:function(e,t){this.data2.push(e),this.data1.splice(t,1)},handleMove:function(e,t){this.data1.push(e),this.data2.splice(t,1)},handleMoveUp:function(e){if(0!=e){var t=this.data2[e-1];this.data2.splice(e-1,1,this.data2[e]),this.data2.splice(e,1,t)}},handleMoveDown:function(e){if(e!=this.data2.length-1){var t=this.data2[e+1];this.data2.splice(e+1,1,this.data2[e]),this.data2.splice(e,1,t)}}}}),n=s,l=a("2877"),o=Object(l["a"])(n,i,r,!1,null,"6784e5bf",null);t["default"]=o.exports},ca2d:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload-div"},[null==e.readOnly||0==e.readOnly?a("el-upload",{ref:"upload",attrs:{"list-type":e.listType,"with-credentials":!0,action:e.doUpload,"file-list":e.fileList,"on-remove":e.handleRemove,"on-preview":e.handlePreview,"before-remove":e.beforeRemove,"on-success":e.handleSuccess,"on-error":e.handerError,"before-upload":e.beforeAvatarUpload,accept:e.accept,multiple:e.multiple&&(1==e.multiple||"true"==e.multiple),limit:e.limit,"on-exceed":e.handleExceed}},[e.accept&&e.accept.indexOf("image")>=0&&e.listType&&e.listType.indexOf("picture")>=0?a("i",{staticClass:"el-icon-plus"}):a("div",[a("el-button",{attrs:{icon:"el-icon-plus"}},[e._v("请上传文件")])],1)]):e._e(),null==e.readOnly||0==e.readOnly?a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" "+e._s(e.accept&&e.accept.indexOf("image")>=0&&e.listType&&e.listType.indexOf("picture")>=0?"* 图片最大不能超过"+(void 0==this.fileSize?10:this.fileSize)+"Mb,图片格式支持(bmp,jpg,jpeg,png)":"* 文件最大不能超过"+(void 0==this.fileSize?10:this.fileSize)+"Mb,文件格式支持(bmp,jpg,jpeg,png,xls,xlsx,doc,docx,pdf,mp4,wmv,zip,txt,csv)")+" ")]):a("div",[e.accept&&e.accept.indexOf("image")>=0&&e.listType&&e.listType.indexOf("picture-card")>=0?a("div",[a("ul",{staticStyle:{"list-style":"none"}},e._l(e.fileList,(function(t,i){return a("li",{key:i,staticStyle:{float:"left","margin-right":"20px"}},[a("img",{class:[null==e.direction||0==e.direction?"avatar":"vertical"],style:e.imgDownBut?"float: left;":"",attrs:{src:t.url},on:{click:function(a){return e.reviewDown(t.id)}}}),e.imgDownBut?a("el-button",{staticStyle:{padding:"90px 0 16px 30px",float:"left"},attrs:{type:"text",size:"small"},on:{click:function(a){return e.imgDown(t.id)}}},[a("i",{staticClass:"el-icon-download"})]):e._e(),e.imgDownBut?a("div",{staticStyle:{clear:"both"}}):e._e()],1)})),0)]):a("ul",{staticClass:"el-upload-list el-upload-list--text"},e._l(e.fileList,(function(t,i){return a("li",{key:t.id,staticClass:"el-upload-list__item pointer",attrs:{tabindex:i},on:{click:function(a){return e.reviewDown(t.id,t.fileSuffix)}}},[a("a",{staticClass:"el-upload-list__item-name"},[a("i",{staticClass:"el-icon-document"}),e._v(" "+e._s(t.oldFileName)+" ")]),e._m(0,!0)])})),0)]),a("el-dialog",{attrs:{"append-to-body":!0,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{staticClass:"el-upload-list__item-status-label"},[a("i",{staticClass:"el-icon-upload-success el-icon-circle-check"})])}],s=(a("ac1f"),a("5319"),a("4de4"),a("b0c0"),a("a434"),a("1276"),a("a15b"),a("159b"),a("6ca8")),n=a("0482"),l={name:"FileUpload",props:["fileKey","fileForm","readOnly","accept","limit","listType","direction","notPhysicalDels","imgDownBut","updateNow","multiple","fileSize","action"],data:function(){return{fileList:[],files:[],doUpload:this.action,dialogVisible:!1,dialogImageUrl:""}},computed:{formFiles:function(){return this.fileForm[this.fileKey]}},watch:{formFiles:{handler:function(e,t){var a=e;JSON.stringify(a)!=JSON.stringify(this.files)&&(null!=a&&this.files.length!=a.length?(this.files=[],this.fileList=[],this.initFiles()):(this.files=[],this.fileList=[]))},deep:!0},updateNow:function(e){e&&(this.files=[],this.fileList=[],this.initFiles())}},mounted:function(){this.initFiles()},methods:{handleSuccess:function(e,t){if(401==e.code)return this.$message.error("当前账号已在其他地方登录,请重新登录!"),void this.$router.replace({name:"login"});if(!e||0!=e.code){var a=this.$refs["upload"].uploadFiles;return this.$refs["upload"].uploadFiles=a.filter((function(e){return e.uid!=t.uid})),void this.$message.error(e.msg?e.msg:"上传失败")}if(t.id=e.data.id,t.url=e.data.url,this.files.push(e.data.id),null==this.fileForm||null!=this.fileForm[this.fileKey]&&0!=this.fileForm[this.fileKey].length)this.fileForm[this.fileKey]=this.files;else{var i=this.fileKey;this.fileForm[i]=this.files}this.$message("上传成功"),this.$emit("uploadChange",{id:e.data.id,url:e.data.url,type:"add",fileForm:this.fileForm})},handerError:function(e,t,a){},beforeAvatarUpload:function(e){var t=e.name,a=e.size/1024/1024<(void 0==this.fileSize?10:this.fileSize),i=t.lastIndexOf("."),r=t.length,s=t.substring(i+1,r);e.type;return this.accept&&this.accept.indexOf("image")>=0&&!this.isAssetTypeAnImage(s)?(this.$message.error("当前图片格式只支持:[png,jpg,jpeg,bmp]"),!1):(a||this.$message.error("上传文件大小不能超过"+(void 0==this.fileSize?10:this.fileSize)+"MB!"),a)},isAssetTypeAnImage:function(e){return-1!==["png","jpg","jpeg","bmp"].indexOf(e.toLowerCase())},handleExceed:function(e,t){this.$message.error("最多只能上传 "+this.limit+" 个文件")},handleRemove:function(e,t){var a=e.id;null==a&&e.response&&(a=e.response.id);var i=e.url;null==i&&e.response&&(i=e.response.fileUrl);var r=e.itemId;if(null==r&&e.response&&(r=e.response.itemId),this.notPhysicalDels&&this.notPhysicalDels.indexOf(a)>=0){for(var s in this.files)if(this.files[s]==a){this.files.splice(s,1);break}this.fileForm[this.fileKey]=this.files,this.$emit("uploadChange",{id:a,url:i,type:"delete",itemId:r,fileForm:this.fileForm});var n=this.$refs["upload"].uploadFiles;return this.$refs["upload"].uploadFiles=n.filter((function(e){return e.response.id!=a})),void this.$message("删除成功")}if(null!=a&&""!=a){for(var l in this.files)if(this.files[l]==a){this.files.splice(l,1);break}this.fileForm[this.fileKey]=this.files}},initFiles:function(){if(this.fileForm&&this.fileForm[this.fileKey]){var e=this.fileForm[this.fileKey];if("string"===typeof e&&(e=e.split(",")),0!=e.length){var t=e.join(","),a=this;Object(s["a"])({url:n["c"]+"?ids="+t,method:"get",params:{}}).then((function(e){if(e&&0===e.code){var t=e.data,i=[];null!=t&&t.length>0&&t.forEach((function(e){e.name=e.oldFileName,e.url=e.fileUrl,i.push(e.id)})),a.fileList=t,a.files=i}}))}}},reviewDown:function(e,t){this.handlePreview({id:e,fileSuffix:t})},handlePreview:function(e){e&&e.id&&(this.accept&&this.accept.indexOf("image")>=0||e.fileSuffix&&this.isAssetTypeAnImage(e.fileSuffix)?(this.dialogImageUrl=n["b"]+"?uuid="+e.id,this.dialogVisible=!0):window.location.href=n["b"]+"?uuid="+e.id)},imgDown:function(e){window.location.href=n["b"]+"?uuid="+e},beforeRemove:function(e,t){return!e.id||this.$confirm("确定移除 ".concat(e.oldFileName,"？"))}}},o=l,c=(a("7761"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"16d3b932",null);t["default"]=d.exports},caf0:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("el-form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":"6rem","auto-complete":"off","label-position":"right",disabled:e.disabledForm}},[a("el-form-item",{attrs:{label:"通知标题",prop:"title"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入通知标题",clearable:""},model:{value:e.model.title,callback:function(t){e.$set(e.model,"title",t)},expression:"model.title"}})],1),a("el-form-item",{attrs:{label:"通知内容",prop:"msgContent"}},[0==e.status?a("div",{staticClass:"content-box",domProps:{innerHTML:e._s(e.model.msgContent)}}):a("TinymceEditor",{staticStyle:{"z-index":"10000"},model:{value:e.model.msgContent,callback:function(t){e.$set(e.model,"msgContent",t)},expression:"model.msgContent"}})],1),"check"==e.status?a("el-form-item",{attrs:{label:"通知状态",prop:"status"}},[a("dict-select-tag",{attrs:{type:"radio","dict-code":"notice_status",placeholder:"请选择"},model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}})],1):e._e(),a("el-form-item",{attrs:{label:"是否紧急",prop:"isUrgent"}},[a("dict-select-tag",{attrs:{type:"radio","dict-code":"YES_NO",placeholder:"请选择"},model:{value:e.model.isUrgent,callback:function(t){e.$set(e.model,"isUrgent",t)},expression:"model.isUrgent"}})],1),a("el-form-item",{attrs:{label:"发布时间",prop:"createTime"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"",clearable:""},model:{value:e.model.createTime,callback:function(t){e.$set(e.model,"createTime",t)},expression:"model.createTime"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"请输入备注"},model:{value:e.model.remark,callback:function(t){e.$set(e.model,"remark",t)},expression:"model.remark"}})],1)],1)],1),"create"==e.status||"update"==e.status?a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:function(t){return e.submit(0)}}},[e._v(" 发布 ")]),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading1,expression:"loading1"}],attrs:{type:"primary"},on:{click:function(t){return e.submit(1)}}},[e._v(" 保存为草稿 ")]),a("el-button",{attrs:{type:"default"},on:{click:e.cancelModal}},[e._v("取消")])],1):e._e()]):e._e()},r=[],s=(a("d3b7"),a("25f0"),a("159b"),a("b64b"),a("2f62"),a("0fea"),a("0779")),n=(a("61f7"),a("3cee")),l={components:{DictSelectTag:s["default"],TinymceEditor:n["default"]},props:{title:{type:String,default:""},baseSelect:{type:Object,default:function(){return{}}},status:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,loading1:!1,select:{sex:[{value:"0",name:"男"},{value:"1",name:"女"}],role:[],dataType:[],status:[]},baseData:null,model:{title:"",msgContent:"",isUrgent:"0",remark:"",createTime:"",status:""},rules:{title:[{required:!0,trigger:"blur",message:"请输入通知标题"}],msgContent:[{required:!0,trigger:"blur",message:"请输入通知内容"}],isUrgent:[{required:!0,trigger:"blur",message:"请选择是否紧急"}],remark:[{required:!1,trigger:"blur",message:"请输入备注"}]},url:{roleSelected:"sys/role/select"}}},computed:{username:function(){return this.$store.state.user.username},disabledForm:function(){return"check"==this.status}},created:function(){},methods:{initForm:function(e){var t=this;this.visible=!0,this.baseData=e,e&&(this.model=Object.assign(this.model,e),this.model.status=e.status.toString()),this.$nextTick((function(){t.$refs["form"].resetFields()}))},resetForm:function(e){var t=this;this.$nextTick((function(){t.$refs[e].resetFields()}))},submit:function(e){var t=this;this.$refs.form.validate((function(a){if(a){0==e?t.loading=!0:1==e&&(t.loading1=!0);var i=Object.assign({},t.model);i.status=e;var r="/sys/notice/add";i.id&&(r="/sys/notice/update");var s="post";t.$api.httpAction(r,i,s).then((function(a){0==e?t.loading=!1:1==e&&(t.loading1=!1),200==a.code?(t.$sweetAlert.successWithTimer(a.msg),t.$emit("ok"),t.cancelModal()):t.$sweetAlert.errorWithTimer(a.msg)}))}}))},reset:function(){var e=this;Object.keys(this.model).forEach((function(t){return e.model[t]=""})),this.initForm(this.baseData)},cancelModal:function(){this.visible=!1,this.$emit("close")}}},o=l,c=(a("089d"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"184b8143",null);t["default"]=d.exports},cb91:function(e,t,a){},cca3:function(e,t,a){},d0b9:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s}));var i=a("0482"),r=[{type:"input",label:"输入框",index:"A",style:"",options:{type:"text",width:"100%",defaultValue:"",placeholder:"请输入",clearable:!1,maxLength:null,prepend:"",append:"",tooptip:"",hidden:!1,disabled:!1},model:"",key:"",rules:[{required:!1,message:"必填项",trigger:["change","blur"]}]},{type:"textarea",label:"文本框",index:"B",style:"",options:{width:"100%",maxLength:null,defaultValue:"",rows:4,clearable:!1,tooptip:"",hidden:!1,disabled:!1,placeholder:"请输入"},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"number",label:"数字输入框",index:"C",style:"",options:{width:"100%",defaultValue:0,min:null,max:null,precision:null,tooptip:"",prepend:"",append:"",step:1,hidden:!1,disabled:!1,placeholder:"请输入"},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"select",label:"下拉选择器",index:"D",style:"",options:{width:"100%",defaultValue:void 0,multiple:!1,disabled:!1,clearable:!1,hidden:!1,placeholder:"请选择",valueKey:"value",tooptip:"",dictType:"",dynamic:0,options:[{value:"1",label:"下拉框1"}],showSearch:!1},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"checkbox",label:"多选框",index:"E",style:"",options:{disabled:!1,hidden:!1,defaultValue:[],dynamic:0,tooptip:"",options:[{value:"1",label:"选项1"},{value:"2",label:"选项2"}]},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"radio",label:"单选框",index:"F",style:"",options:{disabled:!1,hidden:!1,defaultValue:"",dynamic:0,tooptip:"",options:[{value:"1",label:"选项1"},{value:"2",label:"选项2"}]},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"date",label:"日期选择框",index:"G",style:"",options:{width:"100%",defaultValue:"",rangeDefaultValue:[],range:!1,disabled:!1,hidden:!1,clearable:!1,placeholder:"请选择",tooptip:"",rangeStartPlaceholder:"开始时间",rangeEndPlaceholder:"结束时间",format:"yyyy-MM-dd"},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"time",label:"时间选择框",index:"H",style:"",options:{width:"100%",defaultValue:"",disabled:!1,tooptip:"",hidden:!1,clearable:!1,placeholder:"请选择",format:"HH:mm:ss"},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"rate",label:"评分",index:"I",style:"",options:{defaultValue:0,max:5,tooptip:"",disabled:!1,hidden:!1,allowHalf:!1},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"slider",label:"滑动输入条",index:"J",style:"",options:{width:"100%",defaultValue:0,disabled:!1,hidden:!1,min:0,tooptip:"",max:100,step:1,showInput:!1},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"uploadFile",label:"上传文件",index:"K",style:"",options:{defaultValue:"[]",multiple:!1,disabled:!1,tooptip:"",hidden:!1,width:"100%",limit:3,headers:{},action:i["d"],placeholder:"上传"},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"uploadImg",label:"上传图片",index:"L",style:"",options:{defaultValue:"[]",multiple:!1,hidden:!1,disabled:!1,width:"100%",tooptip:"",limit:3,placeholder:"上传",headers:{},action:i["d"],listType:"picture-card"},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"cascader",label:"级联选择器",index:"M",style:"",options:{disabled:!1,hidden:!1,defaultValue:void 0,showSearch:!1,placeholder:"请选择",multiple:!1,clearable:!1,dynamic:0,tooptip:"",options:[{value:"1",label:"选项1",children:[{value:"11",label:"选项11"}]},{value:"2",label:"选项2",children:[{value:"22",label:"选项22"}]}]},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"switch",label:"开关",index:"N",style:"",options:{defaultValue:!1,activeText:"",inactiveText:"",tooptip:"",hidden:!1,disabled:!1},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"button",label:"按钮",index:"O",style:"",options:{type:"primary",handle:"submit",dynamicFun:"",tooptip:"",hidden:!1,disabled:!1},key:""},{type:"batch",label:"动态表格",index:"P",style:"",list:[],options:{scrollY:0,disabled:!1,hidden:!1,showLabel:!1,hideSequence:!1,labelWidth:"100",labelPosition:"left",customStyle:"",customClass:"",showItem:[],width:"100%"},model:"",key:""},{type:"text",label:"标签",style:"",options:{textAlign:"left",tooptip:"",hidden:!1,showRequiredMark:!1},key:""},{type:"html",label:"HTML",style:"",options:{tooptip:"",hidden:!1,defaultValue:"<strong>HTML</strong>"},key:""}],s=[{type:"divider",label:"分割线",options:{tooptip:"",orientation:"left"},key:"",model:""},{type:"grid",label:"栅格布局",columns:[{span:12,list:[]},{span:12,list:[]}],options:{gutter:0},key:"",model:""}]},d136:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticStyle:{top:"20px"},attrs:{title:"预览",visible:e.visible,"append-to-body":!0,width:e.previewWidth+"px"},on:{"update:visible":function(t){e.visible=t}}},[a("el-tabs",{staticClass:"form-render-preview form-design",attrs:{type:"card"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("el-tab-pane",{attrs:{label:"模板",name:"template"}},[a("el-input",{staticStyle:{height:"100%"},attrs:{rows:20,type:"textarea"},on:{change:e.changeTemplate},model:{value:e.templdateText,callback:function(t){e.templdateText=t},expression:"templdateText"}})],1),a("el-tab-pane",{attrs:{label:"数据",name:"second"}},[a("el-input",{staticStyle:{height:"100%"},attrs:{rows:20,type:"textarea"},on:{change:e.changeValue},model:{value:e.valueText,callback:function(t){e.valueText=t},expression:"valueText"}})],1),a("el-tab-pane",{attrs:{label:"表单",name:"third"}},[e.buildVisible?a("FormBuild",{ref:"buildPreview",attrs:{"form-template":e.formTemplate,models:e.models}}):e._e()],1),a("el-tab-pane",{attrs:{label:"渲染",name:"four"}},[e.formVisible?a("FormBuild",{ref:"formPreview",staticStyle:{height:"100%"},attrs:{"form-template":e.formTemplate,models:e.models,"render-preview":!0}}):e._e()],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),"third"==e.active?a("el-button",{attrs:{type:"primary"},on:{click:e.syncModel}},[e._v("同 步")]):e._e(),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.visible=!1}}},[e._v("确 定")])],1)],1)},r=[],s=a("6440"),n={name:"FormPreview",components:{FormBuild:s["default"]},data:function(){return{templdateText:"",valueText:"",active:"template",visible:!1,formVisible:!1,buildVisible:!1,previewWidth:850,formTemplate:{},models:{}}},methods:{init:function(e,t){var a=this;this.visible=!0,this.$nextTick((function(){e?(a.formTemplate=e,a.templdateText=JSON.stringify(a.formTemplate,null,"\t")):(a.formTemplate={},a.templdateText=""),t&&(a.models=t,a.valueText=JSON.stringify(a.models,null,"\t")),a.models&&a.handlerFormRender()}))},changeTemplate:function(e){this.formTemplate=JSON.parse(e)},changeValue:function(e){this.models=JSON.parse(e),this.handlerFormRender()},handlerFormRender:function(){var e=this;this.formVisible=!1,this.buildVisible=!1;var t=this.models;this.$nextTick((function(){e.formVisible=!0,e.buildVisible=!0,t&&e.$nextTick((function(){e.$refs.formPreview.setData(t),e.$refs.buildPreview.setData(t)}))}))},syncModel:function(){var e=this;this.$refs.buildPreview.getData().then((function(t){e.$nextTick((function(){e.models=t,e.valueText=JSON.stringify(t,null,"\t")}))})).catch((function(e){}))},handleCancel:function(){this.visible=!1}}},l=n,o=(a("5cf0"),a("2877")),c=Object(o["a"])(l,i,r,!1,null,"c60886e0",null);t["default"]=c.exports},d142:function(e,t,a){"use strict";a("1158")},d1f2:function(e,t,a){"use strict";a("3f83")},d215:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"filter-box"},[a("el-input",{attrs:{placeholder:"输入关键字进行过滤",clearable:""},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"auto-scroll"},[a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],ref:"tree",attrs:{data:e.treeData,filterText:e.filterText,"default-expanded-keys":e.defaultExpandedKeys,showCheckbox:!0,singleCheck:!0,checkStrictly:!0},on:{keys:e.getCheckedKeys}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},r=[],s=a("1da1"),n=(a("96cf"),a("4de4"),a("caad"),a("2532"),a("d81d"),a("b0c0"),a("159b"),a("d3b7"),a("ddb0"),a("7db0"),a("60f9")),l=(a("ed08"),{name:"SortModule",components:{BasicTree:n["default"]},props:{title:{type:String,default:""},type:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,selectedTreeId:"",activeName:"all",filterText:"",baseTreeData:null,treeData:[],defaultCheckedKeys:[],defaultExpandedKeys:[],url:{tree:"/sysPers/list",organTree:"/sys/organ/organTree"},ids:"",templateId:"",keys:[]}},computed:{},methods:{init:function(e){this.visible=!0,this.ids=e,"fileShare"==this.type?this.getOrganTreeData():this.getTreeData()},getOrganTreeData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.getAction(e.url.organTree,{});case 3:a=t.sent,i=a.treeData,i=i.filter((function(t){return!e.ids.includes(t.id)})),e.baseTreeData=i,e.treeData=e.setOrganTreeData(i),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](0);case 12:case"end":return t.stop()}}),t,null,[[0,10]])})))()},setOrganTreeData:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));e.map((function(e){return e.label=e.name,e}));var a=this,i=function t(i){i.forEach((function(i){var r=e.filter((function(e){return e.parentId==i.id}));i.children=r,r.length&&(a.defaultExpandedKeys.push(i.id),i.disabled=!0,t(i.children))}))};return i(t),t},getTreeData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a={fileType:1,page:1,limit:9999},t.prev=2,t.next=5,e.$api.getAction(e.url.tree,a);case 5:i=t.sent,r=i.data,s=r,e.baseTreeData=s,s=s.filter((function(t){return!e.ids.includes(t.ID)})),e.treeData=e.setTreeData(s),e.loading=!1,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](2),e.loading=!1;case 17:case"end":return t.stop()}}),t,null,[[2,14]])})))()},setTreeData:function(e){var t=e.filter((function(e){return 0==e.PID}));e.map((function(e){return e.label=e.NAME,e.id=e.ID,e}));var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.PID==a.ID}));a.children=i,i.length?(a.elIcon="folder",t(a.children)):a.elIcon="folder"}))};return a(t),t},getCheckedKeys:function(e){this.keys=e},submit:function(){if(this.$refs.tree.getCheckedKeys(),this.keys[0]){var e=this.keys[0],t=this.baseTreeData.find((function(t){return t.ID==e})),a={targetId:e};if(t){var i=t.LEVEL_CODE;i&&(a={targetId:e,targetLevelCode:i})}this.$emit("ok",a),this.cancelModal()}else this.$sweetAlert.warnWithTimer("请选择目标文件夹！")},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}}),o=l,c=(a("2d07"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"145330a4",null);t["default"]=d.exports},d231:function(e,t,a){},d26d:function(e,t,a){"use strict";a("b345")},d2a3:function(e,t,a){"use strict";a("7ca2")},d386:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{staticClass:"pr-2",attrs:{span:10}},[a("div",{staticClass:"mb-3"},[a("el-input",{attrs:{placeholder:e.$t("sys_user_input_dept"),clearable:"","suffix-icon":"el-icon-search"},on:{input:e.filterText},model:{value:e.tree.filterDept,callback:function(t){e.$set(e.tree,"filterDept",t)},expression:"tree.filterDept"}})],1),a("el-scrollbar",[a("el-tree",{ref:"tree",staticClass:"max-h-screen",attrs:{"default-expand-all":"","node-key":"id","highlight-current":"","expand-on-click-node":!1,data:e.tree.data,props:e.tree.defaultProps,"filter-node-method":e.filterNode},on:{"node-click":e.nodeClick}})],1)],1),a("el-col",{staticClass:"pl-2",attrs:{span:14}},[a("div",{staticClass:"mb-3"},[a("el-input",{attrs:{size:"medium",clearable:"",placeholder:e.$t("sys_user_input_account"),"suffix-icon":"el-icon-search"},on:{input:e.queryList},model:{value:e.table.userName,callback:function(t){e.$set(e.table,"userName",t)},expression:"table.userName"}})],1),a("el-row",[e.table.show?a("fox-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],attrs:{column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection},scopedSlots:e._u([{key:"avatar",fn:function(t){var i=t.scope;return[a("el-image",{attrs:{size:"26",src:e.getAvatarView(i),"preview-src-list":[e.getAvatarView(i)]}},[a("div",{staticClass:"cursor-pointer",attrs:{slot:"error"},slot:"error"},[a("i",{staticClass:"el-icon-picture-outline"})])])]}}],null,!1,2935153896)}):e._e()],1)],1)],1)],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("4de4"),a("2f62")),o=a("ed08"),c=a("f7c4"),d={name:"SelectUserByDept",components:{foxTable:c["a"]},data:function(){return{tree:{filterDept:"",data:[],clickedData:{},defaultProps:{children:"children",label:"departName"}},table:{data:[],column:[],userName:"",loading:!1,selection:[],show:!0},page:{pageNum:1,pageSize:10,total:0}}},computed:Object(n["a"])({},Object(l["e"])({dept:function(e){var t=e.system;return t.dept}})),watch:{dept:{handler:function(e){this.tree=Object(n["a"])(Object(n["a"])({},this.tree),{},{data:e,defaultCheckedkeys:[]})},immediate:!0},"$i18n.locale":function(){this.setI18n(),this.queryList()}},methods:Object(n["a"])(Object(n["a"])({},Object(l["b"])({getAllDept:"GET_ALL_DEPT"})),{},{filterText:function(e){this.$refs.tree.filter(e)},filterNode:function(e,t){return!e||-1!==t.departName.indexOf(e)},nodeClick:function(e,t,a){this.tree=Object(n["a"])(Object(n["a"])({},this.tree),{},{clickedData:e}),this.queryList()},selection:function(e){this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{selection:e})},currentChange:function(e){this.page=Object(n["a"])(Object(n["a"])({},this.page),{},{pageNum:e}),this.queryList()},sizeChange:function(e){this.page=Object(n["a"])(Object(n["a"])({},this.page),{},{pageSize:e}),this.queryList()},queryList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,l,c,d,u,p,m,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.page,i=a.pageNum,r=a.pageSize,s=e.tree.clickedData.id,l=e.table.userName,e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{loading:!0}),c={pageNo:i,pageSize:r,depId:s,username:l},t.next=7,o["d"].get(o["a"].sys_user_query_user_by_dept,c);case 7:d=t.sent,u=d.success,p=d.result,u&&(m=p.total,h=p.records,e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{data:h}),e.page=Object(n["a"])(Object(n["a"])({},e.page),{},{total:m}),e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{loading:!1}));case 11:case"end":return t.stop()}}),t)})))()},setI18n:function(){var e=this,t=[{type:"selection",fixed:!0},{label:this.$t("sys_user_account"),prop:"username"},{label:this.$t("sys_user_name"),prop:"realname"},{label:this.$t("sys_user_status"),prop:"status_dictText",width:"70"}];this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{show:!1,column:t}),this.$nextTick((function(){e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{show:!0})}))}}),created:function(){this.setI18n()}},u=d,p=(a("81cf"),a("2877")),m=Object(p["a"])(u,i,r,!1,null,"7697aea6",null);t["default"]=m.exports},d3c1:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"max-height"},[a("div",{staticClass:"max-height flex-column"},[a("div",{staticClass:"operate-box nowrap flex justify-between"},[a("div",[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:stamp:update",expression:"'sys:stamp:update'"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.add}},[e._v(" 添加 ")])],1),a("div",{staticClass:"flex"},[a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"input-with-select",attrs:{placeholder:"输入名称",size:"mini",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryList(1)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(t){return e.queryList(1)}}},[e._v(" 搜索 ")])],1)]),a("fox-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1)]),e.modify.show?a("modify",{ref:"modify",attrs:{title:e.modify.textMap[e.modify.status],"organ-data":e.organData},on:{ok:e.queryList,close:function(t){e.modify.show=!1}}}):e._e()],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("f7c4")),o=a("672f"),c=a("2e5f"),d=a("3f19"),u=(a("ed08"),{name:"StampList",components:{foxTable:l["a"],BtnList:c["default"],Modify:o["default"]},mixins:[d["a"]],props:{},data:function(){return{treeData:[],defaultExpandAll:!0,dialogFormVisible:!1,dialogStatus:"",select:{loadover:!1,sex:[{value:"0",name:"男"},{value:"1",name:"女"}],role:[],dataType:[],status:[],keepTime:[]},textMap:{update:"编辑",create:"添加"},modify:{show:!1,status:"create",textMap:{update:"编辑",create:"添加"},loading:!1},temp:{id:void 0,importance:1,remark:"",timestamp:new Date,title:"",type:"",status:"published"},dialog:{width:"400",height:"450",showFooter:!0},searchText:"",url:{list:"/sys/stamp/pageList"}}},computed:{},watch:{},created:function(){this.setTableColumn(),this.initSelectData()},mounted:function(){},methods:{treeNodeClick:function(e){this.organData=e,this.queryList(1)},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{show:!1,column:[{label:"操作",prop:"oper",width:280,fixed:"right",render:function(t,a){var i=a.row,r=[{content:"编辑",type:"text",icon:"edit",permission:"sys:stamp:update",event:function(){e.update(i)}},{content:"启用",type:"text",icon:"circle-check",permission:"sys:stamp:enable",event:function(){e.operate(i,"enable")}},{content:"禁用",type:"text",icon:"remove-outline",color:"#F56C6C",permission:"sys:stamp:disable",event:function(){e.operate(i,"disable")}},{content:"删除",type:"text",icon:"icon-delete",color:"#F56C6C",permission:"sys:stamp:delete",event:function(){e.operate(i,"delete")}}];return t(c["default"],{attrs:{btnInfo:r}})}},{label:"名称",prop:"name"},{label:"签章来源",prop:"source"},{label:"状态",prop:"status_dictText"}]}),this.$nextTick((function(){e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{show:!0})}))},add:function(){var e=this;this.modify.status="create",this.modify.show=!0,this.$nextTick((function(){e.$refs["modify"].initForm()}))},update:function(e){var t=this;this.modify.status="update",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={name:t.searchText,page:t.page.pageNum,limit:t.page.pageSize},t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{loading:!0}),a.next=5,t.$api.getAction(t.url.list,i);case 5:r=a.sent,s=r.count,l=r.data,t.page=Object(n["a"])(Object(n["a"])({},t.page),{},{total:1*s}),t.$nextTick((function(){t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{data:l})})),t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{loading:!1});case 11:case"end":return a.stop()}}),a)})))()},initSelectData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.queryList(1),e.select.loadover=!0;case 2:case"end":return t.stop()}}),t)})))()},selectListDataByDict:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$api.getDictItems({mark:e});case 2:return i=a.sent,r=i.data,a.abrupt("return",r);case 5:case"end":return a.stop()}}),a)})))()},btnClick:function(e,t){var a=this;switch(t){case"addCate":var i=e.id;this.addCate.show=!0,this.$nextTick((function(){a.$refs["addCate"].init(i)}));break;default:break}},selectionMsg:function(e){var t="",a=this.table.selection.length;return(0==a||e&&a>1)&&(t="请勾选一条数据！"),t},operate:function(e,t){var a=this,i={enable:{name:"启用",msg:"确定启用该用户?"},disable:{name:"禁用",msg:"确定禁用该用户?"},delete:{name:"删除",msg:"确定删除该用户?"}},r=i[t]["msg"];this.$confirm(r,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i="/sys/stamp/"+t,r={id:e.id},s="post";a.$api.httpAction(i,r,s).then((function(e){var i=200;"reset"==t&&(i=0),e.code==i?(a.$sweetAlert.successWithTimer(e.msg),a.queryList(),a.$emit("ok")):a.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))}}}),p=u,m=(a("bd35"),a("2877")),h=Object(m["a"])(p,i,r,!1,null,"7ab00fb4",null);t["default"]=h.exports},d447:function(e,t,a){"use strict";a("7b17")},d534:function(e,t,a){},d78a:function(e,t,a){},d89b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.title,visible:e.visible,modal:!0,center:"","before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[a("div",[a("el-form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":"6rem","auto-complete":"off","label-position":"right"}},[a("el-form-item",{attrs:{label:"模板名称",prop:"tempName"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入模板名称",clearable:""},model:{value:e.model.tempName,callback:function(t){e.$set(e.model,"tempName",t)},expression:"model.tempName"}})],1),a("el-form-item",{attrs:{label:"表名",prop:"tablePrefix"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入表名",clearable:"",disabled:e.disabledCode},on:{blur:e.focusChange},model:{value:e.model.tablePrefix,callback:function(t){e.$set(e.model,"tablePrefix",t)},expression:"model.tablePrefix"}})],1),a("el-form-item",{attrs:{label:"模板类型",prop:"tempType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.model.tempType,callback:function(t){e.$set(e.model,"tempType",t)},expression:"model.tempType"}},e._l(e.typeTemp,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"利用同步",prop:"ifSync"}},[a("el-radio-group",{model:{value:e.model.ifSync,callback:function(t){e.$set(e.model,"ifSync",t)},expression:"model.ifSync"}},e._l(e.ifSync,(function(t){return a("el-radio",{key:t.value,attrs:{label:parseInt(t.value)}},[e._v(e._s(t.label||t.name))])})),1)],1),e.model.id?e._e():a("el-form-item",{attrs:{label:"引入模板",prop:"fromId"}},[a("dict-select-tag",{attrs:{"dict-code":"t_templates,temp_name,id",placeholder:"请选择"},model:{value:e.model.fromId,callback:function(t){e.$set(e.model,"fromId",t)},expression:"model.fromId"}})],1),a("el-form-item",{attrs:{label:"模板描述",prop:"tempDesc"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入模板描述",clearable:""},model:{value:e.model.tempDesc,callback:function(t){e.$set(e.model,"tempDesc",t)},expression:"model.tempDesc"}})],1)],1)],1),a("div",{staticStyle:{width:"100%",height:"30px"}},[a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 提交 ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")])],1)])])},r=[],s=a("1da1"),n=(a("96cf"),a("4d63"),a("ac1f"),a("25f0"),a("159b"),a("b64b"),a("0779")),l={name:"ArchivesModify",components:{DictSelectTag:n["default"]},props:{title:{type:String,default:""}},data:function(){return{ifSync:[],visible:!1,submitCode:!0,disabledCode:!1,typeTemp:[{value:1,label:"档案类型"},{value:2,label:"编研类型"}],model:{ifSync:0,tablePrefix:"",tempDesc:"",tempName:"",fromId:"",tempType:1},rules:{tempName:[{required:!0,trigger:"blur",message:"请输入模板名称"}],tablePrefix:[{required:!0,trigger:"blur",message:"请输入表名"}],tempType:[{required:!0,trigger:"blur",message:"请选择模板类型"}],ifSync:[{required:!0,message:"请选择同步样式",trigger:"blur"}],fromId:[{required:!0,trigger:"blur",message:"请选择模板"}],tempDesc:[{required:!0,trigger:"blur",message:"请输入模板描述"}]}}},created:function(){this.initSelectData()},methods:{focusChange:function(){var e=this,t=new RegExp("^[A-z]*$");t.test(this.model.tablePrefix)?(this.submitCode=!0,this.$api.httpAction("/templates/checkTable",{tablePrefix:this.model.tablePrefix},"post").then((function(t){"200"===t.code?1===t.data&&e.$sweetAlert.warnWithTimer("表名已存在"):e.$sweetAlert.errorWithTimer("网络异常")}))):(this.$sweetAlert.warnWithTimer("表名请输入英文字母"),this.submitCode=!1)},handleClose:function(){this.visible=!1,this.$emit("close")},reset:function(){var e=this;Object.keys(this.model).forEach((function(t){return e.model[t]=""})),this.initForm()},submit:function(){var e=this;this.submitCode?this.$refs.form.validate((function(t){if(t){var a=Object.assign({},e.model),i="/templates/add";a.id&&(i="/templates/update");var r="post";e.$api.httpAction(i,a,r).then((function(t){"200"!==t.code||t.data?e.$sweetAlert.errorWithTimer(t.msg):(e.$sweetAlert.successWithTimer(t.msg),e.$emit("ok"),e.handleClose())}))}})):this.$sweetAlert.warnWithTimer("表名请输入英文字母")},initForm:function(e){e?(this.model=e,this.disabledCode=!0):this.disabledCode=!1,this.visible=!0},selectListData:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$api.getDictItems({mark:e});case 2:return i=a.sent,r=i.data,a.abrupt("return",r);case 5:case"end":return a.stop()}}),a)})))()},initSelectData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.selectListData("temp_if_sync");case 2:e.ifSync=t.sent;case 3:case"end":return t.stop()}}),t)})))()}}},o=l,c=a("2877"),d=Object(c["a"])(o,i,r,!1,null,"4f443e5a",null);t["default"]=d.exports},d8d4:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.title,visible:e.visible,modal:!1,center:"","before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticStyle:{height:"345px",overflow:"auto"}},[a("el-form",{ref:"form",attrs:{model:e.model,"label-width":"7rem","auto-complete":"off","label-position":"right"}},[a("el-form-item",{attrs:{label:"档号规则名称",prop:"arName",rules:{required:!0,message:"请输入档号规则名称",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"请输入档号规则名称"},model:{value:e.model.arName,callback:function(t){e.$set(e.model,"arName",t)},expression:"model.arName"}})],1),a("el-form-item",{attrs:{label:"档号规则类型",prop:"arType",rules:{required:!0,message:"请选择档号规则类型",trigger:"blur"}}},[a("dict-select-tag",{attrs:{"dict-code":"rule_type",disabled:!0},model:{value:e.model.arType,callback:function(t){e.$set(e.model,"arType",t)},expression:"model.arType"}})],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{placeholder:"请输入描述"},model:{value:e.model.arDesc,callback:function(t){e.$set(e.model,"arDesc",t)},expression:"model.arDesc"}})],1)],1)],1),a("div",{staticStyle:{width:"100%",height:"30px"}},[a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 提交 ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")])],1)])])},r=[],s=a("0779"),n={name:"referenceRulseModel",components:{DictSelectTag:s["default"]},props:{title:{type:String,default:""}},data:function(){return{visible:!1,artype:"1",model:{arName:"",arType:"1",arDesc:""}}},methods:{handleClose:function(){this.visible=!1,this.$emit("close")},initForm:function(e,t){this.model.arType=t+"",this.artype=t+"",e&&(this.model=e,this.model.arType=this.model.arType+""),this.visible=!0},submit:function(){var e=this;this.$refs.form.validate((function(t){if(t){var a=Object.assign({},e.model),i="/archRule/add";a.id&&(i="/archRule/update");var r="post";e.$api.httpAction(i,a,r).then((function(t){"200"===t.code?(e.$sweetAlert.successWithTimer(t.msg),e.$emit("Refresh"),e.handleClose()):e.$sweetAlert.errorWithTimer(t.msg)}))}}))},reset:function(){this.model={},this.model.arType=this.artype}}},l=n,o=a("2877"),c=Object(o["a"])(l,i,r,!1,null,"dbd2c352",null);t["default"]=c.exports},daf0:function(e,t,a){},daf5:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container tab-pane-box"},[a("el-tabs",{staticClass:"max-height flex-column",attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"全部公告",name:"all",lazy:""}},["all"==e.activeName?a("notice-list",{on:{draft:e.getDraftTotal}}):e._e()],1),a("el-tab-pane",{attrs:{name:"draft",lazy:""}},[a("div",{attrs:{slot:"label"},slot:"label"},[e._v(" 草稿 "),e.draftTotal&&0!=e.draftTotal?a("el-badge",{attrs:{value:e.draftTotal,max:99}}):e._e()],1),"draft"==e.activeName?a("notice-list",{attrs:{showStatus:1},on:{draft:e.getDraftTotal}}):e._e()],1),a("el-tab-pane",{attrs:{label:"已发布",name:"published",lazy:""}},["published"==e.activeName?a("notice-list",{attrs:{showStatus:0},on:{draft:e.getDraftTotal}}):e._e()],1)],1)],1)},r=[],s=a("90b8"),n=a("3cee"),l={name:"NoticeManage",components:{TinymceEditor:n["default"],NoticeList:s["default"]},props:{},data:function(){return{activeName:"all",content:"",draftTotal:null}},watch:{},computed:{},methods:{handleClick:function(e,t){},getDraftTotal:function(e){this.draftTotal=e}},created:function(){},mounted:function(){}},o=l,c=(a("32a1c"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"a01badf2",null);t["default"]=d.exports},dbfb:function(e,t,a){},dc6d:function(e,t,a){},ddb5:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container none-shadow room-box"},[a("div",{staticClass:"top-btn flex justify-between"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"room"!=e.detail.status,expression:"detail.status != 'room'"}],staticClass:"flex"},[a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.goBack}},[e._v("返回上一步")])],1),a("div",[a("span",{staticStyle:{"margin-left":"10px"}},[e._v("当前")]),e.srName?a("span",[e._v("【库房："+e._s(e.srName)+"】")]):e._e(),e.saName?a("span",[e._v("【区域："+e._s(e.saName)+"】")]):e._e()])]),"room"==e.detail.status&&e.room.pageTotal>1?a("div",[a("el-button",{attrs:{type:"primary",disabled:1==e.room.pageNum},on:{click:e.pre}},[e._v("上一页")]),a("el-button",{attrs:{type:"primary",disabled:e.room.pageNum==e.room.pageTotal},on:{click:e.next}},[e._v("下一页")])],1):e._e(),"area"==e.detail.status&&e.area.pageTotal>1?a("div",[a("el-button",{attrs:{type:"primary",disabled:1==e.area.pageNum},on:{click:e.pre}},[e._v("上一页")]),a("el-button",{attrs:{type:"primary",disabled:e.area.pageNum==e.area.pageTotal},on:{click:e.next}},[e._v("下一页")])],1):e._e()]),a("room-modal",{directives:[{name:"show",rawName:"v-show",value:"room"==e.detail.status,expression:"detail.status == 'room'"}],attrs:{list:e.storeRoomList},on:{click:e.itemClick}}),a("area-modal",{directives:[{name:"show",rawName:"v-show",value:"area"==e.detail.status,expression:"detail.status == 'area'"}],attrs:{list:e.storeAreaList},on:{click:e.itemClick}}),a("array-modal",{directives:[{name:"show",rawName:"v-show",value:"array"==e.detail.status,expression:"detail.status == 'array'"}],attrs:{list:e.storeArrayList}}),e.detail.show?a("detail-modal",{ref:"detail",attrs:{title:e.detail.textMap[e.detail.status]},on:{close:function(t){e.detail.show=!1},click:e.nextStep,childNode:e.childAreaNode}}):e._e()],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("fb6a"),a("2f62")),o=a("bd06"),c=a("328f"),d=a("b24d5"),u=a("ed22"),p=a("f102"),m={name:"StoreroomView",components:{DetailModal:o["default"],RoomModal:c["default"],AreaModal:d["default"],ArrayModal:u["default"],SearchLocation:p["default"]},props:{},data:function(){return{detail:{show:!1,status:"room",textMap:{room:"库房详情",area:"库房区域详情"},loading:!1},url:{pageList:"/storeRoom/pageList",queryBySrId:"/storeArea/pageList",storeArrayView:"/storeArray/storeArrayView"},srId:"",srName:"",saId:"",saName:"",room:{pageNum:1,pageSize:12,total:0,pageTotal:1},area:{pageNum:1,pageSize:12,total:0,pageTotal:1},storeRoomList:[],storeAreaList:[],storeArrayList:[]}},watch:{},computed:Object(n["a"])({},Object(l["c"])(["userInfo"])),methods:{nextStep:function(e){"room"==e.type?(this.srId=e.item.id,this.srName=e.item.srName,this.areaList(e.item.id,"-1"),this.detail.status="area"):"area"==e.type&&(this.saId=e.item.id,this.saName=e.item.saName,this.arrayList(),this.detail.status="array")},nextStatus:function(e){this.detail.status=e},goBack:function(){var e=this.detail.status;"array"==e?this.detail.status="area":"area"==e&&(this.detail.status="room")},itemClick:function(e){var t=this;this.detail.show=!0,this.$nextTick((function(){t.$refs.detail.init(t.detail.status,e)}))},pre:function(){var e=this.detail.status;switch(e){case"room":this.room.pageNum--,this.queryList();break;case"area":this.area.pageNum--,this.areaList(this.srId);break;default:break}},next:function(){var e=this.detail.status;switch(e){case"room":this.room.pageNum++,this.queryList();break;case"area":this.area.pageNum++,this.areaList(this.srId);break;default:break}},childAreaNode:function(e){this.areaList(this.srId,e.id)},queryList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,l,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={page:e.room.pageNum,limit:e.room.pageSize},i=e.url.pageList,t.next=4,e.$api.getAction(i,a);case 4:for(r=t.sent,s=r.count,l=r.data,e.room=Object(n["a"])(Object(n["a"])({},e.room),{},{total:1*s,pageTotal:Math.ceil(1*s/e.room.pageSize)}),e.storeRoomList=[],o=0;o<l.length;o+=6)e.storeRoomList.push(l.slice(o,o+6));case 10:case"end":return t.stop()}}),t)})))()},areaList:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var r,s,l,o,c,d,u,p;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a.storeAreaList=[],r={page:a.area.pageNum,limit:a.area.pageSize,srId:e,saParentId:t},s=a.url.queryBySrId,l=r,o="post",i.next=7,a.$api.httpAction(s,l,o);case 7:for(c=i.sent,d=c.count,u=c.data,a.area=Object(n["a"])(Object(n["a"])({},a.area),{},{total:1*d,pageTotal:Math.ceil(1*d/a.area.pageSize)}),p=0;p<u.length;p+=6)a.storeAreaList.push(u.slice(p,p+6));case 13:case"end":return i.stop()}}),i)})))()},arrayList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,n,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.storeArrayList=[],a={srId:e.srId,saId:e.saId},i=e.url.storeArrayView,r=a,s="post",t.next=7,e.$api.httpAction(i,r,s);case 7:n=t.sent,l=n.data,e.storeArrayList=l;case 10:case"end":return t.stop()}}),t)})))()}},created:function(){this.queryList()},mounted:function(){}},h=m,f=(a("eea9"),a("2877")),b=Object(f["a"])(h,i,r,!1,null,"c9f0ab10",null);t["default"]=b.exports},dec8:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"auto-scroll"},[a("div",{staticClass:"group-title flex justify-between"},[a("div",[a("el-input",{staticStyle:{width:"200px","margin-bottom":"10px"},attrs:{placeholder:"输入关键字进行过滤",clearable:""},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1),a("div",[a("el-radio-group",{model:{value:e.othType,callback:function(t){e.othType=t},expression:"othType"}},[a("el-radio",{attrs:{label:1}},[e._v("案卷目录")]),a("el-radio",{attrs:{label:2}},[e._v("卷内目录")])],1)],1)]),a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],ref:"tree",attrs:{data:e.treeData,"default-checked-keys":e.defaultCheckedKeys,"default-expanded-keys":e.defaultExpandedKeys,filterText:e.filterText,showCheckbox:!0,singleCheck:!0,checkStrictly:!0},on:{checkChange:e.checkChange,keys:e.getCheckedKeys}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},r=[],s=a("5530"),n=a("1da1"),l=a("ade3"),o=(a("96cf"),a("a9e3"),a("4de4"),a("d81d"),a("b0c0"),a("159b"),a("9911"),a("d3b7"),a("ddb0"),a("7db0"),a("ac1f"),a("1276"),a("a15b"),a("60f9")),c={name:"SortModule",components:{BasicTree:o["default"]},props:{title:{type:String,default:""},type:{type:Number,default:0}},data:function(){return Object(l["a"])({visible:!1,loading:!1,selectedTreeId:"",activeName:"all",treeData:[],baseTreeData:null,defaultCheckedKeys:[],defaultExpandedKeys:[],othType:1,filterText:"",url:{tree:"/sys/organ/organTree"},archivesList:[{label:"档案采集",child:!0,link:"/archives/collection/CollectionList",id:"1"},{label:"档案整理",child:!0,link:"/archives/arrange/ArchArrangeList",id:"2"},{label:"归档管理",child:!0,link:"/archives/keepArch/KeepArchList",id:"3"},{label:"部门",child:!1,id:"department-department"},{label:"用户",child:!1,id:"user-user"}],ids:"",templateId:"",keys:[],data:null},"url",{archCateTree:"/category/archCateTree"})},computed:{},methods:{init:function(e){this.defaultCheckedKeys=[],this.defaultExpandedKeys=[],e&&(this.othType=e.othType,this.defaultCheckedKeys.push(e.id),this.defaultExpandedKeys.push(e.id)),this.visible=!0,this.getArchivesTreeData()},getArchivesTreeData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.$api.getAction(e.url.archCateTree,{});case 4:a=t.sent,i=a.treeData,e.baseTreeData=i,e.treeData=e.setArchivesTreeData(i),e.loading=!1,t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](0);case 13:case"end":return t.stop()}}),t,null,[[0,11]])})))()},setArchivesTreeData:function(e){var t=this,a=e.filter((function(e){return"-1"==e.parentId}));e.map((function(e){return e.label=e.name,e}));var i=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length&&(a.disabled=!0,t(a.children))}))};i(a);var r=[];return this.archivesList.forEach((function(e,i){var n={label:e.label,name:e.label,id:e.id};e.child&&(n=Object(s["a"])(Object(s["a"])({},n),{},{disabled:!0,children:t.setTreeDataByArchivesOptionList(a,i)})),r.push(n)})),r},setTreeDataByArchivesOptionList:function(e,t){var a=this,i=function e(i){i.forEach((function(i){i.id&&(i.originalId=i.id,i.id=t+"-"+i.id),-1==i.parentId&&(i.parentId=a.archivesList[t].id),i.menuRouteId=a.archivesList[t].id,i.menuRouteLink=a.archivesList[t].link,i.children&&i.children.length>0&&e(i.children)}))},r=JSON.parse(JSON.stringify(e));return i(r),r},getCheckedKeys:function(e){this.keys=e},getParentList:function(e,t,a){var i=[],r=this,s=function e(a){var r=t.find((function(e){return e.originalId==a||e.id==a}));r&&(i.push(r.name),e(r.parentId))};s(e);var n=r.archivesList.find((function(e){return e.id==a}));return n&&i.push(n.label),i=i.reverse(),i},getObjName:function(e){var t=this.archivesList.find((function(t){return t.id==e}));if(t)return t.label;var a=e.split("-")[0],i=e.split("-")[1],r=this.getParentList(i,this.baseTreeData,a);return r.join("/")},submit:function(){if(this.$refs.tree.getCheckedKeys(),this.keys[0]){var e=this.keys[0],t=e.split("-")[1],a=this.baseTreeData.find((function(e){return e.id==t}));if(!a||a.templateId){var i={objId:e,objName:this.getObjName(e),othType:this.othType};this.$emit("ok",i),this.cancelModal()}else this.$sweetAlert.warnWithTimer("当前节点，暂未配置模板！")}else this.$sweetAlert.warnWithTimer("请先选择！")},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){this.getArchivesTreeData()}},d=c,u=(a("e9b8"),a("2877")),p=Object(u["a"])(d,i,r,!1,null,"222823d0",null);t["default"]=p.exports},e0d8e:function(e,t,a){"use strict";a("497e")},e21c:function(e,t,a){"use strict";a("bbaa")},e3f6:function(e,t,a){},e4ef:function(e,t,a){},e67b:function(e,t,a){},e888:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.title,visible:e.visible,modal:!1,center:"","before-close":e.handleClose},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticStyle:{height:"345px",overflow:"auto"}},[a("el-form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":"7rem","auto-complete":"off","label-position":"right"}},[a("el-form-item",{attrs:{label:"类型",prop:"othType"}},[a("dict-select-tag",{attrs:{"dict-code":"rule_type",placeholder:"请输入模板名称",disabled:!0},model:{value:e.model.othType,callback:function(t){e.$set(e.model,"othType",t)},expression:"model.othType"}})],1),a("el-form-item",{attrs:{label:"字段名称",prop:"fldName"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入字段名称",clearable:"",disabled:e.fldNameCode},on:{blur:e.focusChange},model:{value:e.model.fldName,callback:function(t){e.$set(e.model,"fldName",t)},expression:"model.fldName"}})],1),a("el-form-item",{attrs:{label:"字段描述",prop:"fldDesc"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入字段描述",clearable:""},model:{value:e.model.fldDesc,callback:function(t){e.$set(e.model,"fldDesc",t)},expression:"model.fldDesc"}})],1),a("el-form-item",{attrs:{label:"编辑风格",prop:"editStyle"}},[a("dict-select-tag",{attrs:{"dict-code":"edit_style",placeholder:"请选择模板名称"},model:{value:e.model.editStyle,callback:function(t){e.$set(e.model,"editStyle",t)},expression:"model.editStyle"}})],1),a("el-form-item",{attrs:{label:"是否基本字段",prop:"ifBasic"}},[a("dict-select-tag",{attrs:{"dict-code":"if_basic",placeholder:"请选择是否基本字段"},model:{value:e.model.ifBasic,callback:function(t){e.$set(e.model,"ifBasic",t)},expression:"model.ifBasic"}})],1),a("el-form-item",{attrs:{label:"字段数据源",prop:"colFormat"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入字段数据源",clearable:""},model:{value:e.model.colFormat,callback:function(t){e.$set(e.model,"colFormat",t)},expression:"model.colFormat"}})],1),a("el-form-item",{attrs:{label:"字段类型",prop:"colType"}},[a("dict-select-tag",{attrs:{"dict-code":"col_type",placeholder:"请选择字段类型"},model:{value:e.model.colType,callback:function(t){e.$set(e.model,"colType",t)},expression:"model.colType"}})],1),a("el-form-item",{attrs:{label:"是否只读",prop:"ifBusinessCol"}},[a("dict-select-tag",{attrs:{"dict-code":"if_business_col",placeholder:"请选择是否只读"},model:{value:e.model.ifBusinessCol,callback:function(t){e.$set(e.model,"ifBusinessCol",t)},expression:"model.ifBusinessCol"}})],1),a("el-form-item",{attrs:{label:"字段长度",prop:"colLen"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入字段长度",clearable:""},model:{value:e.model.colLen,callback:function(t){e.$set(e.model,"colLen",t)},expression:"model.colLen"}})],1),a("el-form-item",{attrs:{label:"排序号",prop:"sortNum"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"请输入排序号",clearable:""},model:{value:e.model.sortNum,callback:function(t){e.$set(e.model,"sortNum",t)},expression:"model.sortNum"}})],1),a("el-form-item",{attrs:{label:"是否必须输入",prop:"ifMustConf"}},[a("dict-select-tag",{attrs:{"dict-code":"if_must_conf",placeholder:"请选择是否必须输入"},model:{value:e.model.ifMustConf,callback:function(t){e.$set(e.model,"ifMustConf",t)},expression:"model.ifMustConf"}})],1)],1)],1),a("div",{staticStyle:{width:"100%",height:"30px"}},[a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 提交 ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.reset}},[e._v("重置")])],1)])])},r=[],s=(a("4d63"),a("ac1f"),a("25f0"),a("159b"),a("b64b"),a("0779")),n={name:"FiledAdd",components:{DictSelectTag:s["default"]},props:{title:{type:String,default:""}},data:function(){return{visible:!1,submitCode:!0,tempinfo:{},rowData:{},InterfaceJson:[],fldNameCode:!1,jsonData:{},model:{othType:"",fldName:"",fldDesc:"",editStyle:"",ifBasic:"0",colFormat:"",colType:"",ifBusinessCol:"0",colLen:"",sortNum:"",ifMustConf:"0"},editType:[{type:"input",label:"输入框",index:"A",style:"",options:{type:"text",width:"100%",defaultValue:"",placeholder:"请输入",clearable:!1,maxLength:null,prepend:"",append:"",tooptip:"",hidden:!1,disabled:!1},model:"",key:"",rules:[{required:!1,message:"必填项",trigger:["change","blur"]}]},{type:"textarea",label:"文本框",index:"B",style:"",options:{width:"100%",maxLength:null,defaultValue:"",rows:4,clearable:!1,tooptip:"",hidden:!1,disabled:!1,placeholder:"请输入"},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"select",label:"下拉选择器",index:"D",style:"",options:{width:"100%",defaultValue:void 0,multiple:!1,disabled:!1,clearable:!1,hidden:!1,placeholder:"请选择",valueKey:"value",tooptip:"",dictType:"",dynamic:0,options:[{value:"1",label:"下拉框1"}],showSearch:!1},model:"",key:"",rules:[{required:!1,message:"必填项"}]},{type:"date",label:"日期选择框",index:"G",style:"",options:{width:"100%",defaultValue:"",rangeDefaultValue:[],range:!1,disabled:!1,hidden:!1,clearable:!1,placeholder:"请选择",tooptip:"",rangeStartPlaceholder:"开始时间",rangeEndPlaceholder:"结束时间",format:"yyyy-MM-dd"},model:"",key:"",rules:[{required:!1,message:"必填项"}]}],rules:{othType:[{required:!0,trigger:"blur",message:"请选择类型"}],fldName:[{required:!0,trigger:"blur",message:"请输入字段名称"}],fldDesc:[{required:!0,trigger:"blur",message:"请输入字段描述"}],editStyle:[{required:!0,message:"请选择编辑风格",trigger:"blur"}],ifBasic:[{required:!0,trigger:"blur",message:"请选择是否基本字段"}],colType:[{required:!0,trigger:"blur",message:"请选择字段类型"}],ifBusinessCol:[{required:!0,trigger:"blur",message:"请选择是否只读"}],colLen:[{required:!0,trigger:"blur",message:"请输入字段长度"}],ifMustConf:[{required:!0,trigger:"blur",message:"请选择是否必须输入"}]}}},methods:{focusChange:function(){var e=new RegExp("^[A-z]*$");e.test(this.model.fldName)?this.submitCode=!0:(this.$sweetAlert.warnWithTimer("字段名称请输入英文字母"),this.submitCode=!1)},handleClose:function(){this.visible=!1,this.$emit("close")},reset:function(){var e=this;Object.keys(this.model).forEach((function(t){return e.model[t]=""})),this.initForm()},initForm:function(e,t){this.tempinfo=t,this.fldNameCode=!1,e?(this.rowData=JSON.parse(JSON.stringify(e)),this.queryJson(),this.fldNameCode=!0,this.model=JSON.parse(JSON.stringify(e)),this.model.editStyle=""+this.model.editStyle,this.model.colType=""+this.model.colType,this.model.othType=""+this.model.othType,this.model.ifBasic=""+this.model.ifBasic,this.model.ifBusinessCol=""+this.model.ifBusinessCol,this.model.ifMustConf=""+this.model.ifMustConf,this.model.templateId=t.id):(this.model.othType=""+t.othType,this.model.templateId=t.id),this.visible=!0},queryJson:function(){var e=this;this.InterfaceJson=[],1==this.tempinfo.othType?this.InterfaceJson.push({othType:this.tempinfo.othType}):(this.InterfaceJson.push({othType:2}),this.InterfaceJson.push({othType:3})),this.jsonData={};for(var t=function(t){var a={};a.templateId=e.tempinfo.id,a.othType=e.InterfaceJson[t].othType,e.$api.getAction("/templates/getTempView",a).then((function(t){"200"==t.code&&(e.jsonData[a.othType]=t.data.vue)}))},a=0;a<this.InterfaceJson.length;a++)t(a)},submit:function(){var e=this;this.submitCode?this.$refs.form.validate((function(t){if(t){var a=Object.assign({},e.model),i="/templates/addBasicFld";a.id&&(i="/templates/updateBasicFld");var r="post";e.changeJson(a),"0"===a.ifBasic?a.fldType=2:a.fldType=1,e.$api.httpAction(i,a,r).then((function(t){"200"===t.code?(e.$sweetAlert.successWithTimer(t.msg),e.$emit("Refresh"),e.handleClose()):e.$sweetAlert.errorWithTimer(t.msg)}))}else e.$sweetAlert.warnWithTimer("请完善必填项")})):this.$sweetAlert.warnWithTimer("字段名称请输入英文字母")},changeJson:function(e){for(var t=this,a=0;a<this.InterfaceJson.length;a++)this.jsonData[this.InterfaceJson[a].othType]&&function(){var i=JSON.parse(t.jsonData[t.InterfaceJson[a].othType]);i.list.forEach((function(a,r){if("divider"!=a.type)if("grid"==a.type)a.columns.forEach((function(a){a.list.forEach((function(i,r){if(i.model!=t.rowData.fldName);else{var s=t.judgeJson(e,i);s&&(a.list[r]=s)}}))}));else if(a.model==t.rowData.fldName){var s=t.judgeJson(e,a);return void(s&&(i.list[r]=s))}})),t.jsonData[t.InterfaceJson[a].othType]=JSON.stringify(i)}();this.submitJson()},judgeJson:function(e,t){if(this.rowData.fldName!=e.fldName||this.rowData.fldDesc!=e.fldDesc||this.rowData.editStyle!=parseInt(e.editStyle)||this.rowData.ifMustConf!=parseInt(e.ifMustConf))if(this.rowData.editStyle!=parseInt(e.editStyle)){var a;if(0==parseInt(e.editStyle)){a="input";var i=JSON.parse(JSON.stringify(this.editType[0])),r=this.assignmentJson(e,t,a,i);return r}if(1==parseInt(e.editStyle)){a="select";var s=JSON.parse(JSON.stringify(this.editType[2])),n=this.assignmentJson(e,t,a,s);return n}if(2==parseInt(e.editStyle)){a="select";var l=JSON.parse(JSON.stringify(this.editType[2])),o=this.assignmentJson(e,t,a,l);return o}if(3==parseInt(e.editStyle)){a="textarea";var c=JSON.parse(JSON.stringify(this.editType[1])),d=this.assignmentJson(e,t,a,c);return d}if(4==parseInt(e.editStyle)){a="date";var u=JSON.parse(JSON.stringify(this.editType[3])),p=this.assignmentJson(e,t,a,u);return p}if(5==parseInt(e.editStyle)){a="date";var m=JSON.parse(JSON.stringify(this.editType[3]));this.assignmentJson(e,t,a,m)}else if(6==parseInt(e.editStyle)){a="date";var h=JSON.parse(JSON.stringify(this.editType[3])),f=this.assignmentJson(e,t,a,h);return f}}else this.assignmentJson(e,t);else this.assignmentJson(e,t)},assignmentJson:function(e,t,a,i){if(a)return t=JSON.parse(JSON.stringify(i)),t.type=a,t.label=e.fldDesc,t.style="display:none",t.model=e.fldName,t.key=e.fldName,1==e.ifMustConf?t.rules[0].required=!0:t.rules[0].required=!1,"select"==a&&(t.options.dictType=e.colFormat,t.options.dynamic=2),t;t.label=e.fldDesc,t.model=e.fldName,t.key=e.fldName,1==e.ifMustConf?t.rules[0].required=!0:t.rules[0].required=!1,"select"==a&&(t.options.dictType=e.colFormat,t.options.dynamic=2)},submitJson:function(){for(var e=0;e<this.InterfaceJson.length;e++)if(this.jsonData[this.InterfaceJson[e].othType]){var t={};t.templateId=this.tempinfo.id,t.othType=this.InterfaceJson[e].othType,t.vue=this.jsonData[this.InterfaceJson[e].othType],this.$api.httpAction("/templates/saveTempView",t,"post")}}}},l=n,o=a("2877"),c=Object(o["a"])(l,i,r,!1,null,"00615640",null);t["default"]=c.exports},e895:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"auto-scroll"},[a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],ref:"tree",attrs:{data:e.treeData,"default-expanded-keys":e.defaultExpandedKeys,showCheckbox:!0,checkStrictly:!0},on:{keys:e.getCheckedKeys}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},r=[],s=a("1da1"),n=(a("96cf"),a("a9e3"),a("4de4"),a("d81d"),a("b0c0"),a("159b"),a("7db0"),a("a15b"),a("d3b7"),a("ddb0"),a("60f9")),l=(a("ed08"),{name:"SortModule",components:{BasicTree:n["default"]},props:{title:{type:String,default:""},type:{type:Number,default:0}},data:function(){return{visible:!1,loading:!1,selectedTreeId:"",activeName:"all",treeData:[],baseData:null,defaultCheckedKeys:[],defaultExpandedKeys:[],url:{tree:"/sys/organ/organTree"},ids:"",templateId:"",keys:[],data:null}},computed:{},methods:{init:function(e){this.data=e,this.visible=!0,this.getTreeData()},getTreeData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$api.getAction(e.url.tree,{});case 4:a=t.sent,i=a.treeData,e.baseData=i,e.treeData=e.setTreeData(i),e.loading=!1,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),e.loading=!1;case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))()},setTreeData:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));this.defaultExpandedKeys=t.map((function(e){return e.id})),e.map((function(e){return e.label=e.name,e}));var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length?(a.elIcon="folder",t(a.children)):a.elIcon="document-copy"}))};return a(t),t},getObjName:function(e){var t=[],a=this,i=function e(i){var r=a.baseData.find((function(e){return e.id==i}));r&&(t.push(r.name),"-1"!=r.parentId&&e(r.parentId))};i(e);var r=t.reverse().join("/");return r},getCheckedKeys:function(e){this.keys=e},submit:function(){var e=this;if(this.$refs.tree.getCheckedKeys(),this.keys[0]){var t=[];1!=this.keys.length&&1==this.type?this.$sweetAlert.warnWithTimer("只能选择一个子文件夹！"):(this.keys.map((function(a){var i={objId:a,objName:e.getObjName(a)};t.push(i)})),this.$emit("ok",{list:t}),this.cancelModal())}else 1==this.type?this.$sweetAlert.warnWithTimer("请选择目标文件夹！"):this.$sweetAlert.warnWithTimer("请选择部门！")},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}}),o=l,c=(a("6d830"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"84eef4f0",null);t["default"]=d.exports},e934:function(e,t,a){"use strict";a("7232")},e9b8:function(e,t,a){"use strict";a("f8d4")},eb7b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container flex-column"},[a("div",{staticClass:"operate-btn-list"},e._l(e.btnList,(function(t){return a("div",{key:t.value},[a("el-button",{attrs:{size:"mini",type:t.type},on:{click:function(a){return e.btnClick(t)}}},[e._v(" "+e._s(t.label)+" ")])],1)})),0),a("div",{staticClass:"table-box max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,"row-style":{cursor:"pointer"}},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),e.modal.show?a("signature-modal",{ref:"modal",attrs:{title:e.modal.title,modalType:e.modal.type,keyList:e.keyList},on:{ok:e.queryList,close:function(t){e.modal.show=!1}}}):e._e()],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("f7c4")),o=a("2e5f"),c=a("3f19"),d=a("8df0"),u=a("c6ff7"),p={name:"SignatureList",mixins:[c["a"],d["a"]],components:{foxTable:l["a"],BtnList:o["default"],SignatureModal:u["default"]},props:{},data:function(){return{modal:{show:!1,title:"",type:"",loading:!1},modalTitleObject:{add:"签名管理",edit:"签名管理"},selfLoadTableFlag:!0,btnList:[{value:"add",label:"新增"}],keyList:[],url:{list:"/cert/signList",keyList:"/cert/keyList",delete:"/cert/removeSign"}}},watch:{},computed:{},methods:{operate:function(e,t){var a=this,i=e,r={id:i.id};switch(t){case"add":case"edit":this.modal.title=this.modalTitleObject[t],this.modal.type=t,this.modal.show=!0,this.$nextTick((function(){a.$refs.modal.init(i)}));break;case"download":this.interfaceOperate(t,r);break;case"delete":var s="您确定要删除本签名吗？";this.operateBeforeConfirm(e,t,s,(function(){a.interfaceOperate(t,r)}));break;case"move":break;default:break}},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{show:!1,column:[{label:"签名名称",prop:"name"},{label:"算法标识",prop:"algorithm"},{label:"密钥名称",prop:"keysName"},{label:"操作",prop:"oper",width:200,fixed:"right",render:function(t,a){var i=a.row,r=[{content:"编辑",type:"text",icon:"edit",event:function(){e.operate(i,"edit")}},{content:"删除",color:e.deleteColor,type:"text",icon:"delete-solid",event:function(){e.operate(i,"delete")}}];return t(o["default"],{attrs:{btnInfo:r}})}}]}),this.$nextTick((function(){e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{show:!0})}))},interfaceOperate:function(e,t){var a=this,i=this.url[e],r="post";if("download"==e){var s="",n="zip";this.downloadByFileStream(i,t,s,n)}else this.interfaceRequest(i,t,r,(function(){a.queryList()}))},getKeyList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.getAction(e.url.keyList,{});case 2:a=t.sent,i=a.data,e.keyList=i.list;case 5:case"end":return t.stop()}}),t)})))()}},created:function(){this.getKeyList()},mounted:function(){}},m=p,h=a("2877"),f=Object(h["a"])(m,i,r,!1,null,"76f1be5c",null);t["default"]=f.exports},ec04:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"components-list",staticStyle:{height:"250px",overflow:"auto"}},[a("draggable",e._b({attrs:{tag:"ul",value:e.list},on:{start:function(t){return e.handleStart(t,e.list)}}},"draggable",{group:{name:"form-draggable",put:!1},sort:!1,animation:180,ghostClass:"moving"},!1),e._l(e.list,(function(t,i){return a("li",{key:i,staticClass:"form-edit-widget-label",style:t.style,on:{dragstart:function(t){return e.$emit("generateKey",e.list,i)},click:function(a){return e.$emit("handleListPush",t)}}},[a("a",[a("span",[e._v(e._s(t.label))])])])})),0)],1)},r=[],s=a("1980"),n=a.n(s),l={name:"DragItem",components:{draggable:n.a},props:{list:{type:Array,default:function(){return[]}}},methods:{handleStart:function(e,t){t[e.oldIndex].codeDel=1,this.$emit("start",t[e.oldIndex].type)}}},o=l,c=a("2877"),d=Object(c["a"])(o,i,r,!1,null,null,null);t["default"]=d.exports},ecae:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,width:"500px",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("basic-form",{ref:e.formModelObject.formName,attrs:{formModel:e.formModelObject.formModel,refName:e.formModelObject.formName+"RefName",defaultInputWidth:"200px"},on:{submit:e.submitForm}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submit}},[e._v(" 保存 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},r=[],s=(a("7db0"),a("159b"),a("b64b"),a("9962")),n={name:"InfoModal",components:{BasicForm:s["default"]},props:{modalType:{type:String,default:""},title:{type:String,default:"数据源设置"}},data:function(){return{visible:!1,loading:!1,model:null,formModelObject:{formName:"dataSource",formModel:{formList:[{value:"",prop:"dataSourceName",label:"数据源标识",placeHolder:"请输入数据源标识",tips:"",rules:{value:[{required:!0,message:"请输入数据源标识",trigger:"blur"}]}},{value:"",prop:"databaseType",label:"数据库类型",placeHolder:"",tips:"",type:"select",selectOptions:[{value:"SQLServer",text:"SQLServer"},{value:"ORACLE",text:"ORACLE"},{value:"MySQL",text:"MySQL"}],rules:{value:[{required:!0,message:"请选择数据库类型",trigger:"blur"}]}},{value:"",prop:"url",label:"url",placeHolder:"请输入url",tips:"",rules:{value:[{required:!0,message:"请输入url",trigger:"blur"}]}},{value:"",prop:"user",label:"用户名",placeHolder:"请输入用户名",tips:"",rules:{value:[{required:!0,message:"请输入用户名",trigger:"blur"}]}},{value:"",prop:"password",label:"密码",placeHolder:"请输入密码",tips:"",type:"password",rules:{value:[{required:!0,message:"请输入密码",trigger:"blur"}]}},{value:"",prop:"minNum",label:"最小连接数",placeHolder:"请输入最小连接数",tips:"",type:"integer",maxlength:99999,rules:{value:[{required:!0,message:"请输入最小连接数",trigger:"blur"}]}},{value:"",prop:"maxNum",label:"最大连接数",placeHolder:"请输入最大连接数",tips:"",type:"integer",maxlength:99999,rules:{value:[{required:!0,message:"请输入最大连接数",trigger:"blur"}]}}]}},url:{add:"/dataSource/add",edit:"/dataSource/update"}}},computed:{},methods:{init:function(e){if(e)this.initData(e),this.model=e;else{var t=this.formModelObject.formModel,a=t.formList.find((function(e){return"databaseType"==e.prop}));a&&a.selectOptions&&(a.value=a.selectOptions[0].value)}this.visible=!0},initData:function(e){var t=this;Object.keys(this.formModelObject).forEach((function(a){var i=t.formModelObject.formModel;i.formList.forEach((function(t){t.value=t.prop&&e[t.prop]?e[t.prop]:null}))}))},submit:function(){this.$refs[this.formModelObject.formName].submit()},submitForm:function(e){var t=this,a=e.formData,i=this.url.add;this.model&&this.model.id&&(i=this.url.edit,a.id=this.model.id);var r="post";this.loading=!0,this.$api.httpAction(i,a,r).then((function(e){t.loading=!1,200==e.code?(t.$emit("ok"),t.cancelModal(),t.$sweetAlert.successWithTimer(e.msg)):t.$sweetAlert.errorWithTimer(e.msg)}))},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}},l=n,o=(a("5e1d"),a("2877")),c=Object(o["a"])(l,i,r,!1,null,"89cc8e60",null);t["default"]=c.exports},ed22:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"wrapper"},[e._l(e.list,(function(t,i){return a("div",{key:i},[a("div",{staticClass:"flex justify-start"},[a("div",{staticClass:"room-title"},[e._v(e._s(t.SERIAL))]),a("div",{staticClass:"flex"},e._l(t.nodeArr,(function(i,r){return a("div",{key:r},[a("div",{staticClass:"flex flex-column"},[a("div",{staticClass:"area-title"},[e._v(" "+e._s(t.SERIAL)+" - "+e._s(i.SERIAL)+" ")]),a("div",e._l(i.layerArr,(function(t,i){return a("div",{key:i,staticClass:"arr-item pointer"},[a("a",{on:{click:function(a){return e.testClick(t)}}},[a("el-card",{attrs:{shadow:"hover"}},[e._v(" "+e._s(t.location)+" ")])],1)])})),0)])])})),0)])])})),a("el-dialog",{attrs:{title:"柜层信息",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("span",{staticStyle:{display:"block"}},[e._v("柜层总容量："+e._s(e.count))]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.arcList}},[a("el-table-column",{attrs:{prop:"arc",label:"已存放档案档号",align:"center"}})],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("确 定")])],1)],1)],2)},r=[],s={name:"ArrayModal",components:{},props:{list:{type:Array,default:function(){return[]}}},data:function(){return{dialogTableVisible:!1,count:0,arcList:[],block:"    |     ",loading:!1}},watch:{},computed:{},methods:{testClick:function(e){var t=this;this.loading=!0,this.$api.getAction("/storeLayer/queryArce",{id:e.id}).then((function(e){200==e.code?(t.count=e.data.count,t.arcList=e.data.list,t.dialogTableVisible=!0,t.loading=!1):t.loading=!1}))}},created:function(){},mounted:function(){}},n=s,l=(a("c108"),a("2877")),o=Object(l["a"])(n,i,r,!1,null,"44bf0f98",null);t["default"]=o.exports},edd7:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{"layout-width":["grid","table","card","divider","html"].includes(e.record.type)}},["batch"===e.record.type?[a("div",{class:["batch-box",e.record.options.customClass?e.record.options.customClass:"",e.record.key===e.selectItem.key?"active":""],style:e.record.options.customStyle,on:{click:function(t){return e.handleSelectItem(e.record)}}},[a("div",{staticClass:"batch-label"},[e._v("动态表格")]),a("draggable",e._b({staticClass:"draggable-box",attrs:{tag:"div"},on:{start:function(t){return e.$emit("dragStart",t,e.record.list)},add:function(t){return e.$emit("handleColAdd",t,e.record.list)}},model:{value:e.record.list,callback:function(t){e.$set(e.record,"list",t)},expression:"record.list"}},"draggable",{group:e.insertAllowed?"form-draggable":"",ghostClass:"moving",animation:180,handle:".drag-move"},!1),[a("transition-group",{staticClass:"list-main",attrs:{tag:"div",name:"list"}},e._l(e.record.list,(function(t){return a("formNode",{key:t.key,staticClass:"drag-move",attrs:{"select-item":e.selectItem,record:t,"hide-model":e.hideModel,config:e.config},on:{"update:selectItem":function(t){e.selectItem=t},"update:select-item":function(t){e.selectItem=t},handleSelectItem:e.handleSelectItem,handleColAdd:e.handleColAdd,handleCopy:function(t){return e.$emit("handleCopy")},handleShowRightMenu:e.handleShowRightMenu,handleDetele:function(t){return e.$emit("handleDetele")}}})})),1)],1),a("div",{staticClass:"delete",class:e.record.key===e.selectItem.key?"active":"unactivated",on:{click:function(t){return t.stopPropagation(),e.$emit("handleDetele")}}},[a("i",{staticClass:"el-icon-delete"})])],1)]:"grid"===e.record.type?[a("div",{staticClass:"grid-box",class:{active:e.record.key===e.selectItem.key},on:{click:function(t){return t.stopPropagation(),e.handleSelectItem(e.record)}}},[a("el-row",{staticClass:"grid-row",attrs:{gutter:e.record.options.gutter}},e._l(e.record.columns,(function(t,i){return a("el-col",{key:i,staticClass:"grid-col",attrs:{span:t.span||0}},[a("draggable",e._b({staticClass:"draggable-box",attrs:{tag:"div"},on:{start:function(a){return e.$emit("dragStart",a,t.list)},add:function(a){return e.$emit("handleColAdd",a,t.list)}},model:{value:t.list,callback:function(a){e.$set(t,"list",a)},expression:"colItem.list"}},"draggable",{group:"form-draggable",ghostClass:"moving",animation:180,handle:".drag-move"},!1),[a("transition-group",{staticClass:"list-main",attrs:{tag:"div",name:"list"}},e._l(t.list,(function(t){return a("layoutItem",{key:t.key,staticClass:"drag-move",attrs:{"select-item":e.selectItem,"start-type":e.startType,"insert-allowed-type":e.insertAllowedType,record:t,"hide-model":e.hideModel,config:e.config},on:{"update:selectItem":function(t){e.selectItem=t},"update:select-item":function(t){e.selectItem=t},handleSelectItem:e.handleSelectItem,handleColAdd:e.handleColAdd,handleCopy:function(t){return e.$emit("handleCopy")},handleShowRightMenu:e.handleShowRightMenu,handleDetele:function(t){return e.$emit("handleDetele")}}})})),1)],1)],1)})),1),a("div",{staticClass:"delete",class:e.record.key===e.selectItem.key?"active":"unactivated",on:{click:function(t){return t.stopPropagation(),e.$emit("handleDetele")}}},[a("i",{staticClass:"el-icon-delete"})])],1)]:"table"===e.record.type?[a("div",{staticClass:"table-box",class:{active:e.record.key===e.selectItem.key},on:{click:function(t){return t.stopPropagation(),e.handleSelectItem(e.record)}}},[a("table",{class:["table-layout","form-table",e.record.options.customClass?e.record.options.customClass:"",e.record.options.bright?"bright":"",e.record.options.small?"small":"",e.record.options.bordered?"bordered":""],style:e.record.options.customStyle},e._l(e.record.trs,(function(t,i){return a("tr",{key:i},e._l(t.tds,(function(t,r){return a("td",{key:r,class:["table-td",t.class],style:t.style,attrs:{colspan:t.colspan,rowspan:t.rowspan},on:{contextmenu:function(a){return a.preventDefault(),e.$emit("handleShowRightMenu",a,e.record,i,r,t.colspan>1||t.rowspan>1)}}},[a("draggable",e._b({staticClass:"draggable-box",attrs:{tag:"div"},on:{start:function(a){return e.$emit("dragStart",a,t.list)},add:function(a){return e.$emit("handleColAdd",a,t.list)}},model:{value:t.list,callback:function(a){e.$set(t,"list",a)},expression:"tdItem.list"}},"draggable",{group:"form-draggable",ghostClass:"moving",animation:180,handle:".drag-move"},!1),[a("transition-group",{staticClass:"list-main",attrs:{tag:"div",name:"list"}},e._l(t.list,(function(t){return a("layoutItem",{key:t.key,staticClass:"drag-move",attrs:{"select-item":e.selectItem,"start-type":e.startType,"insert-allowed-type":e.insertAllowedType,record:t,"hide-model":e.hideModel,config:e.config},on:{"update:selectItem":function(t){e.selectItem=t},"update:select-item":function(t){e.selectItem=t},handleSelectItem:e.handleSelectItem,handleColAdd:e.handleColAdd,handleCopy:function(t){return e.$emit("handleCopy")},handleShowRightMenu:e.handleShowRightMenu,handleDetele:function(t){return e.$emit("handleDetele")}}})})),1)],1)],1)})),0)})),0),a("div",{staticClass:"delete",class:e.record.key===e.selectItem.key?"active":"unactivated",on:{click:function(t){return t.stopPropagation(),e.$emit("handleDetele")}}},[a("i",{staticClass:"el-icon-delete"})])])]:[a("formNode",{key:e.record.key,attrs:{"select-item":e.selectItem,record:e.record,config:e.config,"hide-model":e.hideModel,"content-position":"left"},on:{"update:selectItem":function(t){e.selectItem=t},"update:select-item":function(t){e.selectItem=t},handleSelectItem:e.handleSelectItem,handleCopy:function(t){return e.$emit("handleCopy")},handleDetele:function(t){return e.$emit("handleDetele")},handleShowRightMenu:function(t){return e.$emit("handleShowRightMenu")}}})]],2)},r=[],s=(a("caad"),a("2532"),a("1980")),n=a.n(s),l=a("2eb2"),o={name:"LayoutItem",components:{formNode:l["default"],draggable:n.a},props:{record:{type:Object,required:!0},selectItem:{type:Object,required:!0},config:{type:Object,required:!0},startType:{type:String,required:!0},insertAllowedType:{type:Array,required:!0},hideModel:{type:Boolean,default:!1}},computed:{insertAllowed:function(){return this.insertAllowedType.includes(this.startType)}},methods:{handleShowRightMenu:function(e,t,a,i,r){this.$emit("handleShowRightMenu",e,t,a,i,r)},handleSelectItem:function(e){this.$emit("handleSelectItem",e)},handleColAdd:function(e,t){this.$emit("handleColAdd",e,t)}}},c=o,d=a("2877"),u=Object(d["a"])(c,i,r,!1,null,null,null);t["default"]=u.exports},ee28:function(e,t,a){"use strict";a("584e")},ee5c:function(e,t,a){},eea9:function(e,t,a){"use strict";a("798a0")},eec8:function(e,t,a){},eefc:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container flex-column"},[a("div",{staticClass:"operate-btn-list"},e._l(e.btnList,(function(t){return a("div",{key:t.value},[a("el-button",{attrs:{size:"mini",type:t.type},on:{click:function(a){return e.btnClick(t)}}},[e._v(" "+e._s(t.label)+" ")])],1)})),0),a("div",{staticClass:"table-box max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,"row-style":{cursor:"pointer"}},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),e.modal.show?a("key-modal",{ref:"modal",attrs:{title:e.modal.title,modalType:e.modal.type},on:{ok:e.queryList,close:function(t){e.modal.show=!1}}}):e._e()],1)},r=[],s=a("5530"),n=a("f7c4"),l=a("2e5f"),o=a("3f19"),c=a("8df0"),d=a("5288"),u={name:"KeyList",mixins:[o["a"],c["a"]],components:{foxTable:n["a"],BtnList:l["default"],KeyModal:d["default"]},props:{},data:function(){return{modal:{show:!1,title:"",type:"",loading:!1},modalTitleObject:{generate:"密钥生成",add:"密钥新增",edit:"密钥编辑"},selfLoadTableFlag:!0,btnList:[{value:"generate",label:"生成",type:"primary"},{value:"add",label:"新增"}],url:{list:"/cert/keyList",delete:"/cert/removeKeys",download:"/cert/down"}}},watch:{},computed:{},methods:{operate:function(e,t){var a=this,i=e,r={id:i.id};switch(t){case"generate":case"add":case"edit":this.modal.title=this.modalTitleObject[t],this.modal.type=t,this.modal.show=!0,this.$nextTick((function(){a.$refs.modal.init(i)}));break;case"download":var s=i.pubkey.lastIndexOf("."),n=i.pubkey.substring(s+1);this.interfaceOperate(t,r,n);break;case"delete":var l="您确定要删除本密钥吗？";this.operateBeforeConfirm(e,t,l,(function(){a.interfaceOperate(t,r)}));break;case"move":break;default:break}},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(s["a"])(Object(s["a"])({},this.table),{},{show:!1,column:[{label:"密钥名称",prop:"name"},{label:"算法标识",prop:"algorithm"},{label:"操作",prop:"oper",width:200,fixed:"right",render:function(t,a){var i=a.row,r=[{content:"编辑",type:"text",icon:"edit",event:function(){e.operate(i,"edit")}},{content:"下载公钥",type:"text",icon:"download",event:function(){e.operate(i,"download")}},{content:"删除",color:e.deleteColor,type:"text",icon:"delete-solid",event:function(){e.operate(i,"delete")}}];return t(l["default"],{attrs:{btnInfo:r}})}},{label:"公钥",prop:"FILE_SIZE",render:function(e,t){var a=t.row,i=[];if(a.pubkey){var r="存在";i.push({content:r,color:"#67C23A",type:"text",cursor:"default",event:function(){}})}return e(l["default"],{attrs:{btnInfo:i}})}},{label:"私钥",prop:"FILE_SIZE",render:function(e,t){var a=t.row,i=[];if(a.prikey){var r="存在";i.push({content:r,color:"#67C23A",type:"text",cursor:"default",event:function(){}})}return e(l["default"],{attrs:{btnInfo:i}})}}]}),this.$nextTick((function(){e.table=Object(s["a"])(Object(s["a"])({},e.table),{},{show:!0})}))},interfaceOperate:function(e,t,a){var i=this,r=this.url[e],s="post";if("download"==e){var n="",l=a;this.downloadByFileStream(r,t,n,l)}else this.interfaceRequest(r,t,s,(function(){i.queryList()}))}},created:function(){},mounted:function(){}},p=u,m=a("2877"),h=Object(m["a"])(p,i,r,!1,null,"21d51470",null);t["default"]=h.exports},ef0c:function(e,t,a){},ef78:function(e,t,a){},f0f2:function(e,t,a){},f102:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-location"},[a("div",{staticClass:"input-box flex"},[a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"input-with-select",attrs:{placeholder:"请输入档号",maxlength:"100"},model:{value:e.number,callback:function(t){e.number=t},expression:"number"}}),a("el-button",{staticClass:"load-btn",attrs:{type:"primary",loading:e.loading},on:{click:e.submit}},[e._v("搜索")])],1)])},r=[],s={name:"SearchLocation",components:{},props:{},data:function(){return{number:"",loading:!1}},watch:{},computed:{},methods:{submit:function(){var e=this;this.loading=!0,setTimeout((function(){e.loading=!1}),1e3)}},created:function(){},mounted:function(){}},n=s,l=(a("4d52"),a("2877")),o=Object(l["a"])(n,i,r,!1,null,"573b5a0a",null);t["default"]=o.exports},f1d8:function(e,t,a){},f210:function(e,t,a){"use strict";a("95bd")},f336:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,width:"500px",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"auto-scroll"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.model,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"文件夹名称",prop:"folderName"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"'/'隔开创建多级文件夹"},model:{value:e.model.folderName,callback:function(t){e.$set(e.model,"folderName",t)},expression:"model.folderName"}})],1),a("el-form-item",{attrs:{label:"命名规范",prop:"sercCode"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.model.sercCode,callback:function(t){e.$set(e.model,"sercCode",t)},expression:"model.sercCode"}},e._l(e.secretList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},r=[],s=a("5530"),n=(a("ac1f"),a("1276"),a("ed08"),a("cf45"),{name:"EvaluateModal",components:{},props:{pathItem:{type:Object,default:null}},data:function(){return{title:"新增文件夹",visible:!1,loading:!1,model:{folderName:"",sercCode:1},secretList:[{value:1,name:"公开"},{value:2,name:"内部"}],rules:{folderName:[{required:!0,trigger:"change",message:"请输入文件夹名称"}]}}},computed:{},methods:{init:function(e){this.visible=!0,e&&e.id&&(this.title="修改文件夹",this.model=e)},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var a=t.model.folderName.split("/"),i=a.some((function(e){return""==e}));if(i)t.$sweetAlert.warnWithTimer("多级文件夹用'/'隔开,并且文件夹名称不能为空！");else{var r="/sysElectronicFolder/add",n=Object.assign({},t.model);if(t.model.id)r="/sysElectronicFolder/update";else if(t.pathItem){var l=1,o=t.pathItem.pid,c="ATT_1",d=null;t.pathItem.isTop||(l=0,d=t.pathItem.rootDirId,c=t.pathItem.levelCode),n=Object(s["a"])(Object(s["a"])({},n),{},{isTop:l,pid:o,levelCode:c,rootDirId:d})}var u="post";t.$api.httpAction(r,n,u).then((function(e){200==e.code?(t.$sweetAlert.successWithTimer(e.msg),t.$emit("ok"),t.cancelModal()):t.$sweetAlert.errorWithTimer(e.msg)}))}}))},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}}),l=n,o=a("2877"),c=Object(o["a"])(l,i,r,!1,null,"2f057294",null);t["default"]=c.exports},f3385:function(e,t,a){"use strict";a("3d40")},f408:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"proxy"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:e.$t("sys_user_account"),prop:"userName"}},[a("el-input",{attrs:{readonly:""},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{staticClass:"slot-label",attrs:{label:e.$t("sys_user_proxy_man_name"),prop:"agentUserName"}},[a("div",{staticClass:"truncate",attrs:{slot:"label"},slot:"label"},[a("el-tooltip",{attrs:{content:e.$t("sys_user_proxy_man_name"),placement:"top"}},[a("span",[e._v(e._s(e.$t("sys_user_proxy_man_name")))])])],1),a("el-input",{attrs:{readonly:"","suffix-icon":"el-icon-more"},nativeOn:{click:function(t){return e.selectAgent(t)}},model:{value:e.form.agentUserName,callback:function(t){e.$set(e.form,"agentUserName",t)},expression:"form.agentUserName"}})],1),a("el-form-item",{attrs:{label:e.$t("sys_user_proxy_time"),prop:"proxyTime"}},[a("el-date-picker",{staticClass:"w-full",attrs:{type:"datetimerange","start-placeholder":e.$t("common_time_start"),"end-placeholder":e.$t("common_time_end"),"value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:e.form.proxyTime,callback:function(t){e.$set(e.form,"proxyTime",t)},expression:"form.proxyTime"}})],1),a("el-form-item",{attrs:{label:e.$t("sys_user_status"),prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[e._l(e.validStatus,(function(t){return[a("el-radio",{attrs:{label:t.itemValue}},[e._v(e._s(t.itemText))])]}))],2)],1)],1),a("drag-dialog",{attrs:{"drag-dialog":e.dialog},on:{confirm:e.confirm}},[a(e.component.is,{ref:e.component.ref,tag:"component",attrs:{data:e.component.data},on:{closeDialog:e.closeDialog}})],1)],1)},r=[],s=a("15fd"),n=a("3835"),l=a("1da1"),o=a("5530"),c=(a("96cf"),a("b0c0"),a("a15b"),a("d81d"),a("2f62")),d=a("ed08"),u=a("eddf"),p=a("d386"),m=["proxyTime"],h={name:"ProxyManConfig",props:{proxyMan:{type:Object}},components:{DragDialog:u["a"],SelectUserByDept:p["default"]},data:function(){return{form:{status:"1"},rules:{agentUserName:[{required:!0,message:"必填",trigger:"change"}],startTime:[{required:!0,message:"必填",trigger:"change"}],endTime:[{required:!0,message:"必填",trigger:"change"}]},dialog:{width:900,height:80,title:this.$t("sys_user_select_user"),name:"selectUser",showFooter:!0},component:{is:p["default"],ref:"selectUser",data:{}}}},computed:Object(o["a"])({},Object(c["e"])({validStatus:function(e){var t=e.dict;return t.validStatus}})),methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])({getValidStatus:"GET_VALID_STATUS"})),{},{selectAgent:function(){var e=this,t=this.dialog.name;this.$nextTick((function(){e.$modal.show(t)}))},closeDialog:function(){var e=this.dialog.name;this.$modal.hide(e)},confirm:function(){var e=this.component.ref,t=this.$refs[e].table.selection,a=this.dialog.name,i=t.map((function(e){return e.username})).join(",");this.form=Object(o["a"])(Object(o["a"])({},this.form),{},{agentUserName:i}),this.$modal.hide(a)},saveData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,i,r,l,c,u,p,h,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.form,i=Object(n["a"])(a.proxyTime,2),r=i[0],l=i[1],c=Object(s["a"])(a,m),u=Object(o["a"])(Object(o["a"])({},c),{},{startTime:r,endTime:l}),t.next=4,d["d"].put(d["a"].sys_user_agent_edit,u);case 4:p=t.sent,h=p.success,f=p.message,h?(d["e"].successWithTimer(f),e.$emit("successClose")):d["e"].errorWithTimer(f);case 8:case"end":return t.stop()}}),t)})))()},getProxyUserInfo:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.proxyMan.username,t.next=3,d["d"].get(d["a"].sys_user_agent_user_info_query,{userName:a});case 3:i=t.sent,r=i.success,s=i.result,r&&(e.form=Object(o["a"])(Object(o["a"])({},e.form),s));case 7:case"end":return t.stop()}}),t)})))()}}),mounted:function(){this.getProxyUserInfo(),this.getValidStatus()}},f=h,b=(a("3dfc"),a("2877")),g=Object(b["a"])(f,i,r,!1,null,"d7533eec",null);t["default"]=g.exports},f5ae:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"text-align":"center"}},[a("div",{attrs:{id:"storeDetailList"}},[a("div",{staticClass:"storeDetail-right"},[a("div",{staticClass:"storeDetail-rightlay"},e._l(e.viewData,(function(t,i){return a("div",{key:i,staticClass:"storeDetail-rightceng"},[a("span",{staticClass:"storeDetail-rightLaynum"},[e._v(e._s(e.cabSided)+e._s(i+1))]),e._l(t.GR_STR.split("&"),(function(i,r){return a("span",{key:r,staticClass:"storeDetail-rightCenter"},e._l(i.split(","),(function(i,s){return a("span",{key:s,staticClass:"storeDetail-layer"},[a("span",{staticClass:"storeDetail-layerhs",attrs:{title:t.GR_LOCATION.split("&")[r].split(",")[s]},on:{click:function(a){e.putaway(i,t.GR_LOCATION.split("&")[r].split(",")[s])}}},[3==i.split("|")[2]?a("span",{staticClass:"storeDetail-box"}):e._e()]),a("span",{staticClass:"storeDetail-layertext"},[e._v(e._s(i.split("|")[0]))])])})),0)}))],2)})),0)])]),e.showChange?a("div",{staticStyle:{width:"100%",height:"20px"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleChange}},[e._v("切换至 "+e._s("A"==e.cabSided?"B":"A")+" 面")])],1):e._e()])},r=[],s=(a("ac1f"),a("5319"),a("1276"),{name:"StoreCapacityView",components:{},props:{},data:function(){return{url:{getCapacityViewData:"/storeCapacity/getCapacityViewData"},viewData:[],cabSided:"",tempCabSided:"",tempSaId:"",showChange:!1}},computed:{},methods:{init:function(e){var t=this;this.tempSaId=e.saId,this.$api.getAction(this.url.getCapacityViewData,{saId:e.saId,cabSided:e.serial}).then((function(a){"200"===a.code?(t.viewData=[],t.viewData=a.data.viewData,t.cabSided=t.viewData[0].CAB_SIDED.substring(t.viewData[0].CAB_SIDED.length-1,t.viewData[0].CAB_SIDED.length),t.tempCabSided=t.viewData[0].CAB_SIDED,void 0==e.showChange?t.showChange=a.data.showChange:t.showChange=e.showChange):t.$sweetAlert.errorWithTimer("数据加载失败")}))},handleChange:function(){var e=this.tempCabSided;e=e.indexOf("A")>-1?e.replace("A","B"):e.replace("B","A");var t={saId:this.tempSaId,serial:e};this.init(t)},putaway:function(e,t){var a=e.split("|");this.$emit("putaway",a[1],t,a[2])}},created:function(){}}),n=s,l=(a("7a66"),a("2877")),o=Object(l["a"])(n,i,r,!1,null,"4bbb69f3",null);t["default"]=o.exports},f604:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticStyle:{top:"20px"},attrs:{title:"JSON数据",visible:e.visible,"append-to-body":!0,width:"850px"},on:{"update:visible":function(t){e.visible=t}}},[a("previewCode",{attrs:{"editor-json":e.editorJson}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.visible=!1}}},[e._v("确 定")])],1)],1)},r=[],s=a("7254"),n={name:"JsonModal",components:{previewCode:s["default"]},data:function(){return{visible:!1,editorJson:"",jsonData:{}}},watch:{visible:function(e){e&&(this.editorJson=JSON.stringify(this.jsonData,null,"\t"))}},methods:{handleCancel:function(){this.visible=!1}}},l=n,o=a("2877"),c=Object(o["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports},f68d:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container flex-column"},["list"==e.pageFlag?a("div",{staticClass:"max-height"},[e.showListFlag?a("div",{staticClass:"max-height flex-column"},[a("div",{staticClass:"flex btn-list"},e._l(e.btnList,(function(t){return a("div",{key:t.value},[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.btnClick(t)}}},[e._v(" "+e._s(t.label)+" ")])],1)})),0),a("div",{staticClass:"flex justify-end"},[a("div",{staticClass:"search-item-label"},[e._v("文件名称：")]),a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticStyle:{"margin-right":"10px",width:"120px"},attrs:{placeholder:"文件名称",size:"mini",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryList()}},model:{value:e.searchParams.name,callback:function(t){e.$set(e.searchParams,"name",t)},expression:"searchParams.name"}}),a("div",{staticClass:"search-item-label"},[e._v("时间：")]),a("el-date-picker",{staticStyle:{"margin-right":"10px"},attrs:{type:"daterange","value-format":"yyyy-MM-dd HH:mm:ss",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"mini","default-time":["00:00:00","23:59:59"]},on:{change:e.queryList},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.queryList()}}},[e._v(" 搜索 ")])],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"table-box max-height"},[a("div",{staticClass:"path-list flex justify-start"},e._l(e.pathList,(function(t,i){return a("div",{key:i,staticClass:"path-list-item flex",on:{click:function(a){return e.pathItemClick(t,i)}}},[a("div",{staticClass:"name",class:{"animated slideInLeft":i>0}},[e._v(" "+e._s(t.name||t.label||"")+" ")]),i<e.pathList.length-1?a("div",[e._v("/")]):e._e()])})),0),a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,"row-style":{cursor:"pointer"}},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1)]):e._e(),e.showListFlag?e._e():a("div",{staticClass:"max-height"},[a("cate-panel",{attrs:{cateId:e.cateId},on:{click:e.catePanelClick}})],1)]):e._e(),"recycle"==e.pageFlag?a("recycle-bin",{on:{back:function(t){return e.pageFlagChange("list")},ok:e.queryList}}):e._e(),e._m(0),e.folder.show?a("folder-modal",{ref:"folder",attrs:{title:e.folder.title,type:"fileShare"},on:{ok:e.moveFolder,close:function(t){e.folder.show=!1}}}):e._e(),e.archive.show?a("archive-modal",{ref:"archive",attrs:{title:e.archive.title},on:{ok:function(t){return e.queryList()},close:function(t){e.archive.show=!1}}}):e._e(),e.organ.show?a("organ-modal",{ref:"organ",attrs:{title:e.organ.title},on:{ok:e.shareOperate,close:function(t){e.organ.show=!1}}}):e._e(),e.user.show?a("share-user",{ref:"user",attrs:{title:e.user.title},on:{ok:e.shareOperate,close:function(t){e.user.show=!1}}}):e._e(),e.filesUpload.show?a("files-upload-modal",{ref:"filesUpload",on:{ok:function(t){return e.queryList()},close:function(t){e.filesUpload.show=!1}}}):e._e(),e.outerChain.show?a("outer-chain",{ref:"outerChain",attrs:{title:e.outerChain.title,type:e.type},on:{ok:function(t){return e.queryList()},close:function(t){e.outerChain.show=!1}}}):e._e(),e.records.show?a("history-records",{ref:"records",attrs:{title:e.records.title,type:e.type,shareType:e.shareType},on:{ok:function(t){return e.queryList()},close:function(t){e.records.show=!1}}}):e._e(),a("el-upload",{ref:"upload",staticClass:"re-upload-box",attrs:{data:e.reUploadData,action:e.reUploadUrl,"on-success":e.handleSuccess,"on-remove":e.handleRemove,"before-upload":e.beforeAvatarUpload,"auto-upload":!0,accept:"","on-change":function(t,a){e.handleChangeFile(t,a)}}},[a("div",{ref:"reUploadBtn",staticClass:"uploader-tips"},[e._v("点击上传文件")])])],1)},r=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"prestrain-img"},[i("img",{attrs:{src:"static/img/table/folder.svg",alt:""}}),i("img",{attrs:{src:"static/img/table/file.svg",alt:""}}),i("img",{attrs:{src:a("1f3f"),alt:""}}),i("img",{attrs:{src:a("00ed"),alt:""}})])}],s=a("2909"),n=a("53ca"),l=a("5530"),o=a("1da1"),c=(a("96cf"),a("a434"),a("b0c0"),a("a15b"),a("d81d"),a("4de4"),a("caad"),a("2532"),a("99af"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("70ef")),d=a("faca"),u=a("7c1a"),p=a("f7c4"),m=a("2e5f"),h=a("3d09"),f=a("3f19"),b=a("d215"),g=a("75243"),v=a("e895"),y=a("80b3"),x=a("245f"),w=a("25fb"),k=a("520e"),C=a("84bf"),_=a("cf45"),T={name:"MyFile",mixins:[f["a"],d["a"]],components:{CatePanel:c["default"],FilesUploadModal:u["default"],foxTable:p["a"],BtnList:m["default"],LogoText:h["default"],FolderModal:b["default"],ArchiveModal:g["default"],OrganModal:v["default"],ShareUser:y["default"],SendTeam:x["default"],OuterChain:w["default"],HistoryRecords:k["default"],RecycleBin:C["default"]},props:{},data:function(){return{filesUpload:{show:!1,loading:!1},folder:{show:!1,title:"请选择文件夹",loading:!1},archive:{show:!1,title:"归档",loading:!1},organ:{show:!1,title:"分享到部门",loading:!1},user:{show:!1,title:"分享到用户",loading:!1},outerChain:{show:!1,title:"外链分享",loading:!1},records:{show:!1,title:"文件历史记录",loading:!1},searchParams:{name:"",sort:""},sortList:[],baseData:null,date:"",type:2,btnList:[{value:"upload",label:"上传"},{value:"downloadBatch",label:"批量下载",alert:"请选择要下载的文件（夹）"},{value:"deleteBatch",label:"批量删除",alert:"请选择要删除的文件（夹）"},{value:"anew",label:"重新上传",alert:"请选中一条文件再重新上传！"},{value:"recycle",label:"回收站"}],pathList:[{label:"全部",name:"",pid:"",rootDirId:""}],pathItem:{pid:0,rootDirId:"",levelCode:""},shareObject:null,dir:"",url:{list:"/fileShar/listShare",add:"/sysPers/add",delete:"/fileShar/tombstone",download:"/fileShar/download",deleteBatch:"/fileShar/tombstone",downloadBatch:"/fileShar/download",move:"/fileShar/move",setElFolder:"/sysPers/setElFolder",share:"/fileShar/share",sendTeamWork:"/sysPers/sendTeamWork",upload:"/fileShar/upload",getViewUrl:"/sysPers/getViewUrl",fileDetails:"/sysOss/fileDetails"},reUploadObject:null,pageFlag:"list",listItemObject:null,menuTreeId:"",shareType:0}},watch:{},computed:{reUploadUrl:function(){return"/api/fileShar/reUpload"},reUploadData:function(){return this.reUploadObject}},methods:{pathItemClick:function(e,t){this.pathList=this.pathList.splice(0,t+1),this.pathItem=e,this.queryList(1)},queryList:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var i,r,s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={pid:t.pathItem.pid,name:t.searchParams.name,page:t.page.pageNum,limit:t.page.pageSize,t:(new Date).getTime()},t.table=Object(l["a"])(Object(l["a"])({},t.table),{},{loading:!0}),t.date&&t.date.length>0&&(i=Object(l["a"])(Object(l["a"])({},i),{},{start:t.date[0],end:t.date[1]})),a.next=7,t.$api.getAction(t.url.list,i);case 7:r=a.sent,s=r.count,n=r.data,t.page=Object(l["a"])(Object(l["a"])({},t.page),{},{total:1*s}),t.$nextTick((function(){t.table=Object(l["a"])(Object(l["a"])({},t.table),{},{data:n})})),t.table=Object(l["a"])(Object(l["a"])({},t.table),{},{loading:!1});case 13:case"end":return a.stop()}}),a)})))()},btnClick:function(e){var t=this.table.selection.length,a="";if(0==t&&e.alert&&(a=e.alert),a)this.$sweetAlert.warnWithTimer(a);else{var i=this.table.selection.map((function(e){return e.ID})).join(",");this.operate(i,e.value)}},operate:function(e,t){var a=this,i=e,r=[],s=!1;switch("string"==typeof e?(r=this.table.data.filter((function(t){return e.includes(t.ID)})),s=r.some((function(e){return 1==e.FILE_TYPE})),this.listItemObject=null):this.listItemObject=e,"object"==Object(n["a"])(e)&&(e=[e.ID]),t){case"recycle":this.pageFlag="recycle";break;case"upload":this.filesUpload.show=!0;var l=null;0!=this.pathItem.pid&&(l={nowDirId:this.pathItem.pid,rootDirId:this.pathItem.rootDirId}),this.$nextTick((function(){a.$refs.filesUpload.init({data:l,url:a.url.upload})}));break;case"download":this.batchOperate(e,t);break;case"delete":this.delOperate(e,t);break;case"downloadBatch":this.batchOperate(e,t);break;case"deleteBatch":this.delOperate(e,t);break;case"move":this.folder.show=!0,this.$nextTick((function(){a.$refs.folder.init(a.menuTreeId)}));break;case"anew":if(s)return void this.$sweetAlert.warnWithTimer("文件夹不可以重新上传！");if(this.table.selection.length>1)return void this.$sweetAlert.warnWithTimer("只能选中一条文件重新上传！");this.reUploadObject={nowDirId:e},this.$refs.reUploadBtn.click();break;case"archive":if(s)return void this.$sweetAlert.warnWithTimer("文件夹无法移交！");this.archive.show=!0,this.$nextTick((function(){a.$refs.archive.init(e)}));break;case"shareWithUsers":this.shareObject={type:"1",id:i.ID,rootDirId:i.ROOT_DIR_ID},this.user.show=!0,this.$nextTick((function(){a.$refs.user.init()}));break;case"shareOuterChain":this.outerChain.show=!0,this.$nextTick((function(){a.$refs.outerChain.init({id:i.ID,rootDirId:i.ROOT_DIR_ID})}));break;case"history":this.records.show=!0,this.$nextTick((function(){a.$refs.records.init(i.ID)}));break;default:break}},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(l["a"])(Object(l["a"])({},this.table),{},{show:!1,column:[{type:"selection"},{label:"",type:"text",width:"50",render:function(e,t){var a=t.row,i="static/img/table/folder.svg";"0"==a.FILE_TYPE&&(i="static/img/table/file.svg");var r={logo:i};return e(h["default"],{attrs:{logoInfo:r}})}},{label:"名称",width:200,prop:"NAME",type:"edit"},{label:"编辑",prop:"oper",width:320,fixed:"right",render:function(t,a){var i=a.row,r=[{content:"下载",type:"text",event:function(){e.operate(i,"download")}},{content:"删除",type:"text",event:function(){e.operate(i,"delete")}},{content:"移动",type:"text",event:function(){e.operate(i,"move")}},{content:"分享",type:"dropDown",icon:"share",dropDownItems:[{content:"分享到用户",event:function(){e.operate(i,"shareWithUsers")}},{content:"外链分享",event:function(){e.operate(i,"shareOuterChain")}}]}];if(0==i.FILE_TYPE){var n=[{content:"文件历史记录",type:"text",event:function(){e.operate(i,"history")}}];r=[].concat(Object(s["a"])(r),n)}return i.hideOperate&&(r=[]),t(m["default"],{attrs:{btnInfo:r}})}},{label:"分享者",width:160,prop:"CREATE_USER"},{label:"分享时间",width:160,prop:"CREATE_TIME"},{label:"归档状态",prop:"ARCH_STATUS",render:function(e,t){var a=t.row,i=[],r=null;return 0==a.ARCH_STATUS?r={content:"未归档",color:"#E6A23C",type:"text",cursor:"default",event:function(){}}:1==a.ARCH_STATUS&&(r={content:"已归档",color:"#67C23A",type:"text",cursor:"default",event:function(){}}),r&&i.push(r),e(m["default"],{attrs:{btnInfo:i}})}},{label:"文件类型",prop:"FILE_FORMAT"}]}),this.$nextTick((function(){e.table=Object(l["a"])(Object(l["a"])({},e.table),{},{show:!0})}))},cellClick:function(e,t,a,i){"名称"==t.label&&1!=e.edit&&(t.property&&"oper"==t.property||"default"==t.type&&(1==e.FILE_TYPE?(this.pathItem={label:e.NAME,name:e.NAME,pid:e.ID,rootDirId:e.ROOT_DIR_ID,levelCode:e.LEVEL_CODE},this.pathList.push(Object(l["a"])({},this.pathItem)),this.queryList(1)):0==e.FILE_TYPE&&this.getViewUrl(e)))},getViewUrl:function(e){var t=this,a={filePath:e.FILE_PATH,fileScene:e.FILE_SCENE,fileName:e.FILE_FNAME},i=e.FILE_FORMAT,r=e.CONVERT_STATUS,s=e.ID,n=e.SHARE_TYPE;this.$api.getAction(this.url.getViewUrl,a).then((function(e){if(200==e.code){var a=e.data;switch(i){case"png":case"jpg":case"mp4":case"mp3":t.viewSourceByPdfUrl(a,i,s,n);break;case"pdf":case"doc":case"docx":case"xls":case"xlsx":case"ppt":case"pptx":1==r?t.viewSourceByPdfUrl(a,i,s,n):t.$sweetAlert.errorWithTimer("文件转换失败，未能打开!");break;default:t.$sweetAlert.errorWithTimer("未被支持格式文件！");break}}else t.$sweetAlert.errorWithTimer(e.message)}))},viewSourceByPdfUrl:function(e,t,a,i){var r={fileUrl:e,fileType:t,fileId:a,fileFrom:"ElectronicFileShare",shareType:i},s=this.$router.resolve({path:"/originalPage",query:r});window.open(s.href,"_blank")},interfaceRequest:function(e,t,a){var i=this;this.$api.httpAction(e,t,a).then((function(e){200==e.code?(i.$sweetAlert.successWithTimer(e.msg),i.queryList(1)):i.$sweetAlert.errorWithTimer(e.msg)}))},batchOperate:function(e,t){var a=this.table.data.filter((function(t){return e.includes(t.ID)})),i=a.map((function(e){return e.ROOT_DIR_ID})).join(","),r=a.map((function(e){return e.LEVEL_CODE})).join(","),s={rootDirIds:i,levelCodes:r};this.interfaceOperate(t,s)},delOperate:function(e,t){var a=this.table.data.filter((function(t){return e.includes(t.ID)})),i=a.map((function(e){return e.ROOT_DIR_ID})).join(","),r=a.map((function(e){return e.LEVEL_CODE})).join(","),s={rootDirIds:i,levelCodes:r},n="post";this.interfaceRequest(this.url[t],s,n)},listOperate:function(e,t){var a=e.ROOT_DIR_ID,i=e.LEVEL_CODE,r={rootDirId:a,levelCode:i};this.interfaceOperate(r)},interfaceOperate:function(e,t){var a=this,i=this.url[e],r="post";if("download"==e||"downloadBatch"==e){var s=Object(_["h"])(new Date,"{y}-{m}-{d}");this.$api.downFile(i,t).then((function(e){if(e)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([e]),s+".zip");else{var t=window.URL.createObjectURL(new Blob([e])),i=document.createElement("a");i.style.display="none",i.href=t,i.setAttribute("download",s+".zip"),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(t)}else a.$sweetAlert.errorWithTimer("文件下载失败！")}))}else this.interfaceRequest(i,t,r)},moveFolder:function(e){var t=this.table.selection.map((function(e){return e.ID})).join(","),a=this.table.data.filter((function(e){return t.includes(e.ID)})),i=a.map((function(e){return e.ID})).join(",");a.map((function(e){return e.LEVEL_CODE})).join(",");this.listItemObject&&(i=this.listItemObject.ID);var r=this.url.move,s={sourceIds:i,targetId:e.targetId},n="post";this.interfaceRequest(r,s,n)},shareOperate:function(e){var t=this.url.share,a=Object(l["a"])(Object(l["a"])({},this.shareObject),{},{list:JSON.stringify(e.list)}),i=JSON.stringify(a),r={jsonStr:i},s="post";this.interfaceRequest(t,r,s)},handleSuccess:function(e){this.queryList()},handleRemove:function(e,t){},beforeAvatarUpload:function(){var e=this;return new Promise((function(t,a){e.$nextTick((function(){return t()}))}))},handleChangeFile:function(e,t){var a=e.size/1024/1024<10;if(!a)return this.$message.error("文件大小不能超过 10MB!"),void(this.$refs["upload"].uploadFiles=[]);t.length>1&&t.splice(0,1)},pageFlagChange:function(e){this.pageFlag=e},treeNodeClick:function(e){var t=e.id;this.menuTreeId=e.id,this.pathList=[{label:"全部",name:"",pid:t,rootDirId:""}],this.pathItem={pid:t,rootDirId:"",levelCode:""},this.queryList()}},created:function(){this.setTableColumn()},mounted:function(){}},$=T,S=(a("d447"),a("2877")),D=Object(S["a"])($,i,r,!1,null,"0d112fe6",null);t["default"]=D.exports},f735:function(e,t,a){},f7dc:function(e,t,a){"use strict";a("aafc")},f87e:function(e,t,a){"use strict";a("05db")},f8b4:function(e,t,a){"use strict";a("a2cb")},f8d4:function(e,t,a){},f8d8:function(e,t,a){"use strict";a("d78a")},f9b3:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container tab-pane-box"},[a("el-tabs",{staticClass:"max-height flex-column",attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"全部消息",name:"all",lazy:""}},["all"==e.activeName?a("message-list",{on:{unread:e.getNotReadTotal}}):e._e()],1),a("el-tab-pane",{attrs:{name:"unread",lazy:""}},[a("div",{attrs:{slot:"label"},slot:"label"},[e._v(" 未读消息 "),e.unreadMessage&&0!=e.unreadMessage?a("el-badge",{attrs:{value:e.unreadMessage,max:99}}):e._e()],1),"unread"==e.activeName?a("message-list",{attrs:{isRead:1},on:{unread:e.getNotReadTotal}}):e._e()],1),a("el-tab-pane",{attrs:{label:"已读消息",name:"read",lazy:""}},["read"==e.activeName?a("message-list",{attrs:{isRead:0},on:{unread:e.getNotReadTotal}}):e._e()],1)],1)],1)},r=[],s=a("feb2"),n=a("3cee"),l={name:"MessageCenter",components:{TinymceEditor:n["default"],MessageList:s["default"]},props:{},data:function(){return{activeName:"all",content:""}},watch:{},computed:{unreadMessage:function(){return this.$store.state.user.unreadMessage}},methods:{handleClick:function(e,t){},getNotReadTotal:function(e){this.$store.commit("SET_UNREAD_MESSAGE",e)}},created:function(){},mounted:function(){}},o=l,c=(a("764f"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"1f32250c",null);t["default"]=d.exports},fa83:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"archives-list"},e._l(e.list,(function(t,i){return a("div",{key:t.index,staticClass:"list-item"},[a("div",{staticClass:"padding-item"},[e._v(e._s(t.name))]),a("div",{staticStyle:{width:"100%"}},[a("div",{staticClass:"process-container"},[a("div",{style:{width:t.mix}},[a("div",{staticClass:"mix-text"},[e._v(e._s(t.mix))])])])])])})),0)},r=[],s={name:"CategoryList",components:{},props:{list:{type:Array,default:function(){return[]}}},data:function(){return{}},watch:{},computed:{},methods:{},created:function(){},mounted:function(){}},n=s,l=(a("1e77"),a("2877")),o=Object(l["a"])(n,i,r,!1,null,"6a7686e7",null);t["default"]=o.exports},fafb:function(e,t,a){},fbdd:function(e,t,a){"use strict";a("dc6d")},fe6e:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"test-result"},e._l(e.resultList,(function(t,i){return a("div",{key:i},[a("el-card",{staticClass:"box-card animated fadeInUp",style:{borderTop:"10px solid "+e.theme}},[a("div",{staticClass:"title",style:{color:e.theme}},[e._v(" "+e._s(t.title)+" ")]),a("div",{staticClass:"box"},[a("div",{staticClass:"label"},[e._v("评分")]),a("count-to",{staticClass:"score",attrs:{"start-val":0,"end-val":t.score,duration:4e3}})],1)])],1)})),0)},r=[],s=a("ec1b"),n=a.n(s),l={name:"TestResult",components:{CountTo:n.a},props:{resultList:{type:Array,default:function(){var e=[{title:"完整性",name:"integrity",score:0},{title:"可用性",name:"usability",score:0},{title:"安全性",name:"security",score:0}];return e}}},data:function(){return{}},watch:{},computed:{theme:function(){return this.$store.state.settings.theme}},methods:{},created:function(){},mounted:function(){}},o=l,c=(a("380e"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"555d87f8",null);t["default"]=d.exports},feb2:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper max-height flex-column"},[a("div",{staticClass:"operate-box nowrap flex justify-between"},[a("div",["1"==e.isRead?a("el-button",{attrs:{type:"primary",icon:"el-icon-check",size:"mini"},on:{click:e.addAllMarkRead}},[e._v(" 全部已读 ")]):e._e()],1),a("div",{staticClass:"flex"},[a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"input-with-select",attrs:{placeholder:"输入公告名称",size:"mini",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryList(1)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(t){return e.queryList(1)}}},[e._v(" 搜索 ")])],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,stripe:!1,"row-style":e.rowStyle},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),e.modify.show?a("modify",{ref:"modify",attrs:{title:e.modify.textMap[e.modify.status],status:e.modify.status},on:{ok:e.modifyLoad,close:function(t){e.modify.show=!1}}}):e._e()],1)},r=[],s=a("1da1"),n=a("5530"),l=(a("96cf"),a("a9e3"),a("d81d"),a("f7c4")),o=a("3f19"),c=a("2e5f"),d=a("caf0"),u={name:"NoticeList",mixins:[o["a"]],components:{foxTable:l["a"],BtnList:c["default"],Modify:d["default"]},props:{isRead:{type:String|Number,default:""}},data:function(){return{searchText:"",modify:{show:!1,status:"create",textMap:{update:"编辑",create:"添加",check:"查看"},loading:!1},url:{list:"/sys/notice/pageListMessage",addAllMarkRead:"/sys/notice/addAllMarkRead",addNoticeUser:"/sys/notice/addNoticeUser",getNotReadTotal:"/sys/notice/getNotReadTotal"},model:null,pageIdx:0,columnList:[]}},watch:{},computed:{},methods:{init:function(e){this.model=e,this.queryList(1)},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(n["a"])(Object(n["a"])({},this.table),{},{show:!1,column:[{type:"selection",fixed:!0},{label:"操作",prop:"oper",width:280,fixed:"right",render:function(t,a){var i=a.row,r=[{content:"查看",type:"text",icon:"info",popover:!1,event:function(){e.check(i)}}];return"1"==i.isRead&&(r=[{content:"查看",type:"text",icon:"info",popover:!1,event:function(){e.check(i)}},{content:"标记已读",type:"text",icon:"check",popover:!1,event:function(){e.addNoticeUser(i)}}]),t(c["default"],{attrs:{btnInfo:r}})}},{label:"标题",prop:"title"},{label:"是否紧急",prop:"isUrgent_dictText"},{label:"发布时间",prop:"createTime"},{label:"是否已读",prop:"isRead_dictText"}]}),this.$nextTick((function(){e.table=Object(n["a"])(Object(n["a"])({},e.table),{},{show:!0})}))},add:function(){var e=this;this.modify.status="create",this.modify.show=!0,this.$nextTick((function(){e.$refs["modify"].initForm()}))},addAllMarkRead:function(){var e=this,t=this.url.addAllMarkRead,a={},i="post";this.$api.httpAction(t,a,i).then((function(t){200==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.getNotReadTotal(),e.queryList()):e.$sweetAlert.errorWithTimer(t.msg)}))},check:function(e){var t=this;this.modify.status="check",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)})),1==e.isRead&&this.addNoticeUser(e)},update:function(e){var t=this;this.modify.status="update",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)}))},modifyLoad:function(){this.getNotReadTotal(),this.queryList()},getNotReadTotal:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={},i=e.url.getNotReadTotal,t.next=4,e.$api.getAction(i,a);case 4:r=t.sent,s=r.data,e.$emit("unread",s.notReadTotal);case 7:case"end":return t.stop()}}),t)})))()},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,r,s,l,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize,type:"all",isRead:t.isRead,title:t.searchText},t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{loading:!0}),r=t.url.list,a.next=6,t.$api.getAction(r,i);case 6:s=a.sent,l=s.count,o=s.data,o&&o.map((function(e){return e.isRead_dictText="1"==e.isRead?"未读":"已读"})),t.page=Object(n["a"])(Object(n["a"])({},t.page),{},{total:1*l}),t.$nextTick((function(){t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{data:o})})),t.table=Object(n["a"])(Object(n["a"])({},t.table),{},{loading:!1});case 13:case"end":return a.stop()}}),a)})))()},addNoticeUser:function(e){var t=this,a=this.url.addNoticeUser,i="post",r={noticeId:e.id};this.$api.httpAction(a,r,i).then((function(e){200==e.code&&(t.getNotReadTotal(),t.queryList())}))},rowStyle:function(e){var t=e.row,a=(e.rowIndex,{});return 0==t.isUrgent&&1==t.isRead?(a.background="#F56C6C",a):""}},created:function(){this.setTableColumn(),this.getNotReadTotal(),this.queryList(1)},mounted:function(){}},p=u,m=(a("f8d8"),a("2877")),h=Object(m["a"])(p,i,r,!1,null,"d5d1eaea",null);t["default"]=h.exports},fec3:function(e,t,a){"use strict";a("571b")}}]);