(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7bfdcfd5","chunk-1461479e"],{"0148":function(e,t,a){},"0206":function(e,t,a){},"02d4":function(e,t,a){},"0423":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},n=[],s=(a("159b"),a("d81d"),a("313e")),r=a.n(s),o=a("6e44");a("817d");var l={name:"",mixins:[o["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"60vh"},dataInfo:{type:Object}},data:function(){return{chart:null,legendData:"",textname:"",dataInfo1:[],legendData1:[]}},computed:{title:function(){if(this.dataInfo)return this.dataInfo.title},legend:function(){if(this.dataInfo)return this.dataInfo.legend},subTitle:function(){if(this.dataInfo)return this.dataInfo.subTitle}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){var e=this;this.chart=r.a.init(this.$el,"macarons"),this.dataInfo1=[],this.dataInfo.seriesArr.forEach((function(t){var a={itemStyle:{normal:{label:{show:!1,position:"right",textStyle:{color:"#000"}}}},barWidth:4,type:"bar"};a.name=t[0].username,a.data=t.map((function(e){return e.number})),e.legendData1.push(t[0].username),e.dataInfo1.push(a)})),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.expectedData,e.actualData;this.chart.setOption({color:["#7CB5EC"],title:{text:this.textname,left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:this.legendData1,top:30},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:this.dataInfo.xAxisArr}],yAxis:[{type:"value"}],series:this.dataInfo1})}}},c=l,u=a("2877"),d=Object(u["a"])(c,i,n,!1,null,"ee2e6ecc",null);t["default"]=d.exports},"04e5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container max-height flex-column"},[e.table.loading?e._e():a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"max-height"},[a("fox-table",{ref:"foxTable",attrs:{"highlight-current-row":"",rowKey:"ID",column:e.table.column,data:e.table.data,pagination:!1,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection}})],1)])},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("159b"),a("f7c4")),l=a("3f19"),c=a("2e5f"),u={name:"ExamineRecords",mixins:[l["a"]],components:{foxTable:o["a"],BtnList:c["default"]},props:{},data:function(){return{loading:!1,url:{list:"/MyFavorites/queryList",fileList:"/keepArch/list"}}},watch:{},computed:{},methods:{setTableColumn:function(){var e=this;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"审批环节",prop:"VOL_NUM"},{label:"审批人",prop:"ARCH_TITLE"},{label:"开始时间",prop:"ARCH_TITLE"},{label:"结束时间",prop:"ARCH_TITLE"},{label:"审批意见",prop:"ARCH_TITLE"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o,l,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),i=t.url.list,n={},s="post",a.next=7,t.$api.httpAction(i,n,s);case 7:o=a.sent,l=o.count,c=o.data,c.forEach((function(e){e.children=[]})),t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*l}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:c})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 14:case"end":return a.stop()}}),a)})))()}},created:function(){this.setTableColumn(),this.queryList(1)},mounted:function(){}},d=u,p=(a("ac415"),a("2877")),f=Object(p["a"])(d,i,n,!1,null,"08764187",null);t["default"]=f.exports},"0641":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"auto-scroll"},[a("table",{staticClass:"mini-table",staticStyle:{width:"100%"},attrs:{border:"2"}},[a("tr",[a("td",{staticClass:"label-item shadow",attrs:{rowspan:"2"}},[e._v("服务满意度评价")]),a("td",{staticClass:"label-item"},[e._v("满意度")]),a("td",{attrs:{colspan:"4"}},[a("el-radio-group",{model:{value:e.model.evaluation,callback:function(t){e.$set(e.model,"evaluation",t)},expression:"model.evaluation"}},e._l(e.evaluationList,(function(t,i){return a("el-radio",{key:i,attrs:{label:t.label}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),a("td",{staticClass:"label-item"},[e._v("时间")]),a("td",{attrs:{colspan:"4"}},[e._v(" "+e._s(e.model.time)+" ")])]),a("tr",[a("td",{staticClass:"label-item"},[e._v("意见与建议")]),a("td",{staticClass:"input-box",attrs:{colspan:"9"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入意见与建议",rows:5,autosize:{minRows:5,maxRows:10}},model:{value:e.model.remark,callback:function(t){e.$set(e.model,"remark",t)},expression:"model.remark"}})],1)])]),a("div",{staticClass:"btn-list flex max-widht"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确定")])],1)])},n=[],s=(a("ed08"),a("cf45")),r={name:"EvaluateForm",components:{},props:{title:{type:String,default:"服务满意度评价"}},data:function(){return{visible:!1,loading:!1,model:{evaluation:"",time:Object(s["h"])(new Date),remark:""},evaluationList:[{label:"1",name:"满意"},{label:"2",name:"一般"},{label:"3",name:"不满意"}],rules:{remark:[{required:!0,trigger:"change",message:"请输入意见与建议"}]}}},computed:{},methods:{init:function(){this.visible=!0},submit:function(){this.model.remark||this.$sweetAlert.warnWithTimer("请填写内容字数在0~300内！")}},created:function(){}},o=r,l=(a("e6e9"),a("2877")),c=Object(l["a"])(o,i,n,!1,null,"6fcc9dea",null);t["default"]=c.exports},"06c0":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"library-box"},[e.list.length>0?i("div",{staticClass:"list-box"},e._l(e.list,(function(t){return i("div",{key:t.id,staticClass:"list-item",on:{click:function(a){return e.itemClick(t)}}},[i("div",{staticClass:"logo webkit-transition"},["blue"==e.themeImg?i("img",{attrs:{src:a("be9d"),alt:""}}):e._e(),"red"==e.themeImg?i("img",{attrs:{src:a("c085"),alt:""}}):e._e()]),i("el-tooltip",{attrs:{effect:"light",content:t.NAME,placement:"top-start"}},[i("div",{staticClass:"text text-overflow"},[e._v(" "+e._s(t.NAME)+" ")])])],1)})),0):e._e(),0==e.list.length?i("div",{staticClass:"max-height"},[i("no-data")],1):e._e()])},n=[],s=a("1da1"),r=(a("96cf"),a("501e")),o={name:"ShareBox",components:{NoData:r["default"]},props:{},data:function(){return{url:{list:"/fileShar/listShare",getViewUrl:"/sysPers/getViewUrl"},list:[]}},watch:{},computed:{themeImg:function(){return this.$store.state.settings.themeImg}},methods:{queryList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={page:1,limit:10,fileType:0},t.next=3,e.$api.getAction(e.url.list,a);case 3:i=t.sent,n=i.data,e.list=n;case 6:case"end":return t.stop()}}),t)})))()},itemClick:function(e){this.getViewUrl(e)},getViewUrl:function(e){var t=this,a={filePath:e.FILE_PATH,fileScene:e.FILE_SCENE,fileName:e.FILE_FNAME},i=e.FILE_FORMAT,n=e.CONVERT_STATUS,s=e.ID,r=e.SHARE_TYPE;this.$api.getAction(this.url.getViewUrl,a).then((function(e){if(200==e.code){var a=e.data;switch(i){case"png":case"jpg":case"mp4":case"mp3":t.viewSourceByPdfUrl(a,i,s,r);break;case"pdf":case"doc":case"docx":case"xls":case"xlsx":case"ppt":case"pptx":1==n?t.viewSourceByPdfUrl(a,i,s,r):t.$sweetAlert.errorWithTimer("文件转换失败，未能打开!");break;default:t.$sweetAlert.errorWithTimer("未被支持格式文件！");break}}else t.$sweetAlert.errorWithTimer(e.message)}))},viewSourceByPdfUrl:function(e,t,a,i){var n={fileUrl:e,fileType:t,fileId:a,fileFrom:"ElectronicFileShare",shareType:i},s=this.$router.resolve({path:"/originalPage",query:n});window.open(s.href,"_blank")}},created:function(){this.queryList()},mounted:function(){}},l=o,c=(a("e8ecd"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"08c5da9c",null);t["default"]=u.exports},"0866":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,width:"1000px",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"main-list"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"list-item item-left"},[a("div",{staticClass:"operate-list"},[a("div",{staticClass:"flex"},[e._v(" 已选用户 "),a("div",[e._v("("+e._s(e.userNumber)+")")])]),a("div",{staticClass:"delete-box",on:{click:e.clearAll}},[e._v("清空")])]),a("div",{staticClass:"tag-list"},e._l(e.selectedList,(function(t,i){return a("el-tag",{key:i,staticClass:"tag-item",attrs:{closable:"","disable-transitions":!0,type:t.success},on:{close:function(a){return e.handleClose(t)}}},[e._v(" "+e._s(t.userName)+" ")])})),1)]),a("div",{staticClass:"list-item item-right"},[a("div",{staticClass:"flex"},[a("select-tree",{staticStyle:{"margin-right":"10px"},attrs:{treeData:e.treeData,labelName:e.organData.name,maxWidth:!0,clearable:!1,showCheckbox:!0,singleCheck:!0,checkStrictly:!0,defaultExpandAll:!1,expandOnClickNode:!0,defaultExpandedKeys:e.defaultExpandedKeys,nodeClickDisabledFlag:!0,setCheckDataFlag:!0},on:{labeNameChange:e.labeNameChange,keys:e.getCheckedKeys},model:{value:e.organData.id,callback:function(t){e.$set(e.organData,"id",t)},expression:"organData.id"}}),a("el-select",{staticStyle:{width:"250px","margin-right":"10px"},attrs:{placeholder:"请选择"},on:{change:e.searchTypeChange},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},e._l(e.searchTypeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label||e.name,value:e.value}})})),1),"userName"==e.searchType||"loginName"==e.searchType?a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"input-with-select",staticStyle:{width:"250px"},attrs:{placeholder:"",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryList(1)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}):e._e(),"status"==e.searchType?a("div",{staticStyle:{width:"250px","margin-right":"10px"}},[a("dict-select-tag",{attrs:{"dict-code":"USER_STATUS",placeholder:"请选择"},on:{change:function(t){return e.queryList(1)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1):e._e(),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.queryList(1)}}},[e._v(" 搜索 ")])],1),a("div",{staticClass:"checkbox-list"},[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v(" 全选 ")]),a("div",{staticClass:"group-list"},[a("el-checkbox-group",{on:{change:e.handleCheckedListChange},model:{value:e.checkedList,callback:function(t){e.checkedList=t},expression:"checkedList"}},e._l(e.userList,(function(t,i){return a("el-checkbox",{key:i,attrs:{label:t.label}},[a("div",{staticClass:"check-box"},[e._v(e._s(t.name))])])})),1)],1)],1),a("el-pagination",{staticClass:"table-pagination text-right my-2 page-bot",attrs:{"page-size":e.page.pageSize,"page-sizes":[10,20,30],"page-count":10,"current-page":e.page.pageNum,layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"update:pageSize":function(t){return e.$set(e.page,"pageSize",t)},"update:page-size":function(t){return e.$set(e.page,"pageSize",t)},"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},n=[],s=a("1da1"),r=a("2909"),o=a("5530"),l=(a("96cf"),a("a9e3"),a("b0c0"),a("d81d"),a("4de4"),a("caad"),a("2532"),a("99af"),a("a434"),a("159b"),a("d3b7"),a("ddb0"),a("60f9")),c=a("fb36"),u=a("0779"),d=(a("ed08"),{name:"SelectUser",components:{BasicTree:l["default"],SelectTree:c["default"],DictSelectTag:u["default"]},props:{title:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,checkAll:!1,checkedList:[],userList:[],baseList:[],isIndeterminate:!1,selectedList:[],selectedTreeId:"",activeName:"all",treeData:[],defaultCheckedKeys:[],defaultExpandedKeys:[],url:{tree:"/sys/organ/organTree",userList:"/sys/user/list"},ids:"",templateId:"",searchTypeList:[{value:"userName",name:"用户名"},{value:"loginName",name:"登陆帐户"},{value:"status",name:"状态"}],searchType:"userName",searchText:"",organData:{id:"",name:""},page:{pageNum:1,pageSize:Number(this.$store.state.settings.pageSize||"10"),total:0},keys:[]}},computed:{userNumber:function(){return this.selectedList.length}},watch:{keys:function(e,t){}},methods:{handleSizeChange:function(e){this.page=Object(o["a"])(Object(o["a"])({},this.page),{},{pageSize:e}),this.queryList()},handleCurrentChange:function(e){this.page=Object(o["a"])(Object(o["a"])({},this.page),{},{pageNum:e}),this.queryList()},init:function(){this.visible=!0,this.getTreeData(),this.queryList()},labeNameChange:function(e){this.organData.name=e,this.queryList(1)},handleCheckAllChange:function(e){var t=this;this.checkedList=e?this.userList.map((function(e){return e.id})):[];var a=this.userList.filter((function(e){return t.checkedList.includes(e.id)}));this.selectedList=this.selectedList.filter((function(e){return!t.userList.some((function(t){return e.id==t.id}))})),this.selectedList=[].concat(Object(r["a"])(this.selectedList),Object(r["a"])(a)),this.isIndeterminate=!1},handleCheckedListChange:function(e){var t=this,a=e.length;this.checkAll=a===this.userList.length,this.isIndeterminate=a>0&&a<this.userList.length;var i=this.userList.filter((function(e){return t.checkedList.includes(e.id)}));this.selectedList=this.selectedList.filter((function(e){return!t.userList.some((function(t){return e.id==t.id}))})),this.selectedList=[].concat(Object(r["a"])(this.selectedList),Object(r["a"])(i))},handleClose:function(e){this.selectedList.splice(this.selectedList.indexOf(e),1),this.checkedList.splice(this.checkedList.indexOf(e.id),1);var t=this.checkedList.length;this.checkAll=t===this.userList.length&&t,this.isIndeterminate=t>0&&t<this.userList.length},clearAll:function(){this.checkedList=[],this.selectedList=[],this.isIndeterminate=!1},getTreeData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$api.getAction(e.url.tree,{});case 4:a=t.sent,i=a.treeData,e.treeData=e.setTreeData(i),e.loading=!1,t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),e.loading=!1;case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},setTreeData:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));this.defaultExpandedKeys=t.map((function(e){return e.id})),e.map((function(e){return e.label=e.name,e}));var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length?(a.elIcon="folder",t(a.children),a.disabled=!0):(a.elIcon="document-copy",a.disabled=!1)}))};return a(t),t},getCheckedKeys:function(e){this.keys=e},initCheckBox:function(){this.checkAll=!1,this.checkedList=[],this.userList=[],this.isIndeterminate=!1},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,r,l,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={baid:t.organData.id,page:t.page.pageNum,limit:t.page.pageSize},t.searchType&&(i[t.searchType]=t.searchText),a.next=5,t.$api.getAction(t.url.userList,i);case 5:n=a.sent,s=n.count,r=n.data,t.initCheckBox(),r.forEach((function(e){var a={label:e.id,id:e.id,name:e.userName,userName:e.userName};t.userList.push(a)})),t.page=Object(o["a"])(Object(o["a"])({},t.page),{},{total:1*s}),t.selectedList.length>0&&(l=t.selectedList.map((function(e){return e.id})),c=t.userList.filter((function(e){return l.includes(e.id)})),t.checkedList=c.map((function(e){return e.id})),u=t.checkedList.length,u>0&&(t.checkAll=u===t.userList.length),t.isIndeterminate=u>0&&u<t.userList.length);case 12:case"end":return a.stop()}}),a)})))()},searchTypeChange:function(e){this.searchText="",this.queryList(1)},submit:function(){this.$emit("ok",{list:this.selectedList}),this.cancelModal()},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}}),p=d,f=(a("2c86"),a("2877")),m=Object(f["a"])(p,i,n,!1,null,"696bfdac",null);t["default"]=m.exports},"08e1":function(e,t,a){},"0a82":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"box-card-component",staticStyle:{"margin-left":"8px"}},[a("div",{staticClass:"box-card-header",attrs:{slot:"header"},slot:"header"},[a("img",{attrs:{src:"https://wpimg.wallstcn.com/e7d23d71-cf19-4b90-a1cc-f56af8c0903d.png"}})]),a("div",{staticStyle:{position:"relative"}},[a("pan-thumb",{staticClass:"panThumb",attrs:{image:e.avatar}}),a("mallki",{attrs:{"class-name":"mallki-text",text:"vue-element-admin"}}),a("div",{staticClass:"progress-item",staticStyle:{"padding-top":"35px"}},[a("span",[e._v("Vue")]),a("el-progress",{attrs:{percentage:70}})],1),a("div",{staticClass:"progress-item"},[a("span",[e._v("JavaScript")]),a("el-progress",{attrs:{percentage:18}})],1),a("div",{staticClass:"progress-item"},[a("span",[e._v("CSS")]),a("el-progress",{attrs:{percentage:12}})],1),a("div",{staticClass:"progress-item"},[a("span",[e._v("ESLint")]),a("el-progress",{attrs:{percentage:100,status:"success"}})],1)],1)])},n=[],s=a("5530"),r=a("2f62"),o=a("3cbc"),l=a("137c"),c={components:{PanThumb:o["default"],Mallki:l["default"]},filters:{statusFilter:function(e){var t={success:"success",pending:"danger"};return t[e]}},data:function(){return{statisticsData:{article_count:1024,pageviews_count:1024}}},computed:Object(s["a"])({},Object(r["c"])(["name","avatar","roles"]))},u=c,d=(a("ad80"),a("ba87"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"dbcf1734",null);t["default"]=p.exports},"0abf":function(e,t,a){"use strict";a("1e0e")},"0af7":function(e,t,a){"use strict";a("6f46")},"0c06":function(e,t,a){"use strict";a("3c81")},"0cfa":function(e,t,a){},"0d6d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container max-height flex-column"},[a("div",{staticClass:"operate-box nowrap flex justify-between"},[a("div",{staticClass:"datatype-list flex justify-start"},e._l(e.dataTypeList,(function(t,i){return a("div",{key:i,staticClass:"datatype-list-item flex",on:{click:function(a){return e.dataTypeItemClick(t)}}},[a("div",{staticClass:"name",class:{active:e.dataType==t.value}},[e._v(" "+e._s(t.name)+" ")]),i<e.dataTypeList.length-1?a("div",[e._v("/")]):e._e()])})),0),a("div",{staticClass:"flex"},[a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"input-with-select",staticStyle:{width:"250px"},attrs:{placeholder:"请输入用户名",clearable:"",size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryList(1)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(t){return e.queryList(1)}}},[e._v(" 搜索 ")])],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"table-box max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),e.modify.show?a("modify",{ref:"modify",attrs:{title:e.modify.textMap[e.modify.status],status:e.modify.status},on:{ok:e.modifyLoad,close:function(t){e.modify.show=!1}}}):e._e()],1)},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("a9e3"),a("f7c4")),l=a("3f19"),c=a("2e5f"),u=a("5661"),d={name:"LogAudit",mixins:[l["a"]],components:{foxTable:o["a"],BtnList:c["default"],Modify:u["default"]},props:{showStatus:{type:String|Number,default:""}},data:function(){return{modify:{show:!1,status:"check",textMap:{update:"编辑",create:"添加",check:"查看"},loading:!1},url:{list:"/sysLog/pageList"},model:null,dataTypeList:[{value:"",name:"全部"},{value:"1",name:"操作日志"},{value:"2",name:"登录日志"}],dataType:"",searchText:""}},watch:{},computed:{},methods:{init:function(e){this.model=e,this.queryList(1)},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"操作",prop:"oper",fixed:"right",render:function(t,a){var i=a.row,n=[{content:"查看",type:"text",icon:"info",popover:!1,event:function(){e.check(i)}}];return t(c["default"],{attrs:{btnInfo:n}})}},{label:"用户名",prop:"username"},{label:"用户操作",prop:"operation"},{label:"ip",prop:"ip"},{label:"ip地址",prop:"ipAddr"},{label:"访问来源",prop:"ipFrom"},{label:"终端名称",prop:"terminal"},{label:"浏览器",prop:"browser"},{label:"创建时间",prop:"createDate"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},check:function(e){var t=this;this.modify.status="check",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)}))},update:function(e){var t=this;this.modify.status="update",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)}))},dataTypeItemClick:function(e){this.dataType=e.value,this.queryList(1)},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize,dataType:t.dataType,type:"all",username:t.searchText},t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),n=t.url.list,a.next=6,t.$api.getAction(n,i);case 6:s=a.sent,o=s.count,l=s.data,t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*o}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:l})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 12:case"end":return a.stop()}}),a)})))()}},created:function(){this.setTableColumn(),this.queryList(1)},mounted:function(){}},p=d,f=(a("5b85"),a("2877")),m=Object(f["a"])(p,i,n,!1,null,"05d4da48",null);t["default"]=m.exports},"0d99":function(e,t,a){},"0ec9":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{width:"2000px"},attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"app-container none-shadow tab-pane-box"},[a("div",{staticClass:"tabs-box"},[a("el-tabs",{staticClass:"max-height flex-column",attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{staticClass:"auto-scroll",attrs:{label:"目录数据",name:"catalog",lazy:""}},[e.formBuildShow?a("FormBuild",{ref:"formBuild",attrs:{"form-template":e.formTemplate,models:e.model}}):e._e()],1),a("el-tab-pane",{attrs:{label:"元数据信息",name:"metadata",lazy:""}},[a("meta-data",{attrs:{fileData:e.fileData,initData:e.initData,cancelModal:e.cancelModal}})],1),a("el-tab-pane",{attrs:{label:"过程信息",name:"process",lazy:""}},[a("process-info",{attrs:{info:e.initData}})],1)],1)],1)])]):e._e()},n=[],s=a("eccd"),r=a("6440"),o=a("facc"),l=a("f87d"),c=a("3c7b"),u={components:{PdfDetail:s["default"],FormBuild:r["default"],ArchDynTable:o["default"],ProcessInfo:l["default"],MetaData:c["default"]},props:{title:{type:String,default:"查看详情"},fileData:{type:Object,default:null}},data:function(){return{formBuildShow:!1,initData:{},formTemplate:{},model:{},activeName:"catalog",visible:!1,loading:!1,url:{queryBackInfo:"dynamic/queryBackInfo",getBaseInfo:"templates/getTempView",getDefData:"dynamic/defaultData",getInfoData:"dynamic/info"},templateId:"",volId:"",cateCode:""}},computed:{buildPdf:function(){return window._CONFIG["domainURL"]+"/resource/common/help/operate.pdf"}},created:function(){},methods:{handleClick:function(e,t){var a=this;"instructions"==this.activeName&&this.$nextTick((function(){a.$refs["fileReel"]&&a.$refs["fileReel"].getFields(a.templateId,"2")}))},resetForm:function(e){var t=this;this.$nextTick((function(){t.$refs[e].resetFields()}))},init:function(e){this.initData=e,this.templateId=this.initData.templateId,this.volId=this.initData.VOL_ID,this.cateCode=this.initData.cate_code,this.othType=this.initData.othType,this.getInfoData(this.initData.row),this.getTemplate(),this.formBuildShow=!0,this.visible=!0},getInfoData:function(e){var t=this,a={othType:this.initData.othType,id:this.initData.id,templateId:this.initData.templateId};this.$api.httpAction(this.url.getInfoData,a,"post").then((function(e){"200"==e.code?t.model=e.data:t.$sweetAlert.errorWithTimer(e.msg)})).catch((function(e){}))},getTemplate:function(){var e=this,t={othType:this.initData.othType,templateId:this.initData.templateId};this.$api.getAction(this.url.getBaseInfo,t).then((function(t){"200"==t.code&&(e.formBuildShow=!0,e.$nextTick((function(){e.formTemplate=JSON.parse(t.data.vue)})))})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))},cancelModal:function(){this.visible=!1,this.$emit("close")}}},d=u,p=(a("1a34"),a("2877")),f=Object(p["a"])(d,i,n,!1,null,"b18df23e",null);t["default"]=f.exports},"10b8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container max-height flex-column task-info-box"},[a("div",{staticClass:"flex justify-between"},[a("div",{staticClass:"flex"},[a("el-button",{attrs:{type:"text",icon:"el-icon-arrow-left",size:"mini"},on:{click:e.goBack}},[e._v(" 返回 ")]),a("div",[e._v(" "+e._s(e.detailTitle)+" ")])],1),a("div",[a("el-button",{attrs:{type:"primary",icon:"el-icon-printer",size:"mini"},on:{click:e.print}},[e._v(" 打印 ")])],1)]),a("div",{staticClass:"flex"},[a("div",{staticClass:"search-item-label nowrap"},[e._v("说明：")]),a("div",{staticClass:"max-width"},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"",disabled:""},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1)]),a("div",{staticClass:"max-height"},[a("div",{staticClass:"half-height tab-pane-box"},[a("el-button",{staticClass:"record-btn",attrs:{type:"primary",size:"mini"},on:{click:e.recordBtn}},[e._v("审批记录")]),a("el-tabs",{staticClass:"max-height flex-column",model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"审批中",name:"underway",lazy:""}},["underway"==e.activeName?a("records-list",{on:{detail:e.showFileList}}):e._e()],1),a("el-tab-pane",{attrs:{label:"已拒绝",name:"refused",lazy:""}},["refused"==e.activeName?a("records-list",{on:{detail:e.showFileList}}):e._e()],1)],1)],1),a("div",{staticClass:"half-height tab-pane-box"},[e.showFileListFlag?a("el-tabs",{staticClass:"max-height flex-column",model:{value:e.activeFileName,callback:function(t){e.activeFileName=t},expression:"activeFileName"}},[a("el-tab-pane",{attrs:{label:"卷内目录",name:"file",lazy:""}},["file"==e.activeFileName?a("file-list"):e._e()],1)],1):e._e()],1)]),e.selectPrint.show?a("select-print",{ref:"selectPrint",on:{close:function(t){e.selectPrint.show=!1}}}):e._e(),e.history.show?a("history-list",{ref:"history",attrs:{title:e.history.title,list:e.history.list},on:{close:function(t){e.history.show=!1}}}):e._e()],1)},n=[],s=a("c5d4"),r=a("86b3"),o=a("5de6"),l=a("a3b2"),c={name:"TaskInfo",components:{SelectPrint:s["default"],RecordsList:r["default"],FileList:o["default"],HistoryList:l["default"]},props:{},data:function(){return{history:{title:"审批记录",show:!1,loading:!1},detailTitle:"",remark:"",activeName:"underway",activeFileName:"file",showFileListFlag:!1,selectPrint:{show:!1,title:"",loading:!1}}},watch:{},computed:{},methods:{goBack:function(){this.$emit("back")},recordBtn:function(){var e=this;this.history.show=!0;var t="";this.$nextTick((function(){e.$refs["history"].init(t)}))},showFileList:function(){this.showFileListFlag=!0},print:function(){var e=this;this.selectPrint.show=!0;var t="";this.$nextTick((function(){e.$refs.selectPrint.init(t)}))}},created:function(){},mounted:function(){}},u=c,d=(a("4397"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"3e705811",null);t["default"]=p.exports},"11de":function(e,t,a){},"128f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"data-info"},[a("el-tabs",{on:{"tab-click":e.handleListClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[0==e.docFlag?a("el-tab-pane",{attrs:{label:"案卷",name:"fileBox"}},[e.showFileBox?a("div",{staticClass:"list-auto-scroll"},["fileBox"==e.activeName&&e.showFileBox&&0==e.docFlag?a("arch-dyn-table",{ref:"fileBox",attrs:{"template-id":e.templateId,"oth-type":1,"cate-code":e.cateCode,"show-total":!0,"transfer-id":e.transferId}}):e._e()],1):e._e()]):e._e(),0==e.docFlag?a("el-tab-pane",{attrs:{label:"卷内",name:"fileReel"}},[e.showFileReel?a("div",{staticClass:"list-auto-scroll"},["fileReel"==e.activeName&&e.showFileReel&&0==e.docFlag?a("arch-dyn-table",{ref:"fileReel",attrs:{"template-id":e.templateId,"oth-type":2,"cate-code":e.cateCode,"transfer-id":e.transferId}}):e._e()],1):e._e()]):e._e(),1==e.docFlag?a("el-tab-pane",{attrs:{label:"单件",name:"single"}},[e.showSingle?a("div",{staticClass:"list-auto-scroll"},["single"==e.activeName&&e.showSingle&&1==e.docFlag?a("arch-dyn-table",{ref:"single",attrs:{"template-id":e.templateId,"oth-type":3,"cate-code":e.cateCode,"transfer-id":e.transferId}}):e._e()],1):e._e()]):e._e()],1)],1)},n=[],s=(a("b0c0"),a("facc")),r={name:"DataInfo",components:{ArchDynTable:s["default"]},props:{data:{type:Object,default:function(){return{}}},docFlag:{type:Boolean,default:void 0}},data:function(){return{showFileBox:!1,showFileReel:!1,showSingle:!1,activeName:"single"}},watch:{},computed:{cateCode:function(){return this.data.cateCode},deptCode:function(){return this.data.transferDeptCode?this.data.transferDeptCode:""},transferId:function(){return this.data.id?this.data.id:""},templateId:function(){return this.data.templateId?this.data.templateId:""}},methods:{handleListClick:function(e){var t=this;switch(e.name){case"fileBox":this.showFileBox=!0,this.$nextTick((function(){t.$refs["fileBox"].getFields(t.templateId,"1")}));break;case"fileReel":this.showFileReel=!0,this.$nextTick((function(){t.$refs["fileReel"].getFields(t.templateId,"2")}));break;case"single":this.showSingle=!0,this.$nextTick((function(){t.$refs["single"].getFields(t.templateId,"3")}));break;default:break}},getData:function(){var e=this;this.docFlag?(this.activeName="single",this.showSingle=!0,this.$nextTick((function(){e.$refs["single"].getFields(e.templateId,"3")}))):(this.activeName="fileBox",this.showFileBox=!0,this.$nextTick((function(){e.$refs["fileBox"].getFields(e.templateId,"1")})))}},created:function(){},mounted:function(){}},o=r,l=(a("93b2"),a("2877")),c=Object(l["a"])(o,i,n,!1,null,"76e3f261",null);t["default"]=c.exports},"12b5":function(e,t,a){},"13d2":function(e,t,a){},1463:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container flex-column"},[a("div",{staticClass:"operate-btn-list"},e._l(e.btnList,(function(t){return a("div",{key:t.value},[a("el-button",{attrs:{size:"mini",type:t.type},on:{click:function(a){return e.btnClick(t)}}},[e._v(" "+e._s(t.label)+" ")])],1)})),0),a("div",{staticClass:"table-box max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,"row-style":{cursor:"pointer"}},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1)])},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("f7c4")),l=a("2e5f"),c=a("3f19"),u=a("8df0"),d={name:"ConfigurationList",mixins:[c["a"],u["a"]],components:{foxTable:o["a"],BtnList:l["default"]},props:{},data:function(){return{modal:{show:!1,title:"",type:"",loading:!1},selfLoadTableFlag:!0,btnList:[{value:"index-reconstruction",label:"索引重建"},{value:"index-upgrade",label:"索引更新"}],url:{list:"/search/configList","refresh-config":"","index-reconstruction":"/search/indexCreate","index-upgrade":"/search/indexUpdate","electronic-reconstruction":"",reconstruction:"/search/indexCreate",update:"/search/indexUpdate",cancel:""}}},watch:{},computed:{},methods:{operate:function(e,t){var a=e,i={};switch(a&&(i={templateId:a.TEMPLATE_ID}),t){case"refresh-config":case"index-reconstruction":case"index-upgrade":case"electronic-reconstruction":case"reconstruction":case"update":case"cancel":this.interfaceOperate(t,i);break;default:break}},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"名称",prop:"CATE_NAME"},{label:"表名",prop:"TABLE_PREFIX"},{label:"描述",prop:"TEMP_DESC"},{label:"操作",prop:"oper",width:120,fixed:"right",render:function(t,a){var i=a.row,n=[{content:"重建",type:"text",icon:"circle-plus-outline",event:function(){e.operate(i,"reconstruction")}},{content:"更新",type:"text",icon:"refresh",event:function(){e.operate(i,"update")}}];return t(l["default"],{attrs:{btnInfo:n}})}}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,i,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),a=t.url.list,e.next=4,t.$api.getAction(a,{});case 4:i=e.sent,n=i.data,s=n,t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:s})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 9:case"end":return e.stop()}}),e)})))()},interfaceOperate:function(e,t,a){var i=this,n=this.url[e],s="post";this.interfaceRequest(n,t,s,(function(){i.queryList()}))}},created:function(){},mounted:function(){}},p=d,f=a("2877"),m=Object(f["a"])(p,i,n,!1,null,"3e7767ec",null);t["default"]=m.exports},"14aa":function(e,t,a){},"14de":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper max-height flex-column"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,"cell-style":e.cellStyle,stripe:!1},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1)])},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("f7c4")),l=a("3f19"),c=a("2e5f"),u={name:"BorrowContent",mixins:[l["a"]],components:{foxTable:o["a"],BtnList:c["default"]},props:{},data:function(){return{url:{list:"/sys/notice/pageListMessage"}}},watch:{},computed:{},methods:{init:function(){this.queryList(1)},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"原文",prop:"title",width:"50",render:function(t,a){var i=a.row,n=[{type:"text",icon:"collection",event:function(){e.operate(i,"source")}}];return t(c["default"],{attrs:{btnInfo:n}})}},{label:"档号",prop:"title",width:"80",render:function(t,a){var i=a.row,n=[{content:i.title,type:"text",color:"#F56C6C",event:function(){e.showFileList(i)}}];return t(c["default"],{attrs:{btnInfo:n}})}},{label:"件号",prop:"createTime"},{label:"题名",prop:"isUrgent_dictText"},{label:"归档单位",prop:"isRead_dictText"},{label:"状态",prop:"createTime"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},showFileList:function(e){},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize},t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),n=t.url.list,a.next=6,t.$api.getAction(n,i);case 6:s=a.sent,o=s.count,l=s.data,t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*o}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:l})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 12:case"end":return a.stop()}}),a)})))()},cellStyle:function(e){var t=e.row,a=(e.column,e.rowIndex,e.columnIndex);return"已发布"===t.status&&3===a?"color: #0CB618":"暂不发布"===t.status&&3===a?"color: #EA1B29":"color: #1a1a1b"}},created:function(){this.setTableColumn(),this.queryList(1)},mounted:function(){}},d=u,p=(a("4195"),a("2877")),f=Object(p["a"])(d,i,n,!1,null,"223a3e95",null);t["default"]=f.exports},"16a3":function(e,t,a){"use strict";a("b5a2")},"16c1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container flex-column"},[a("div",{staticClass:"operate-btn-list"},e._l(e.btnList,(function(t){return a("div",{key:t.value},[a("el-button",{attrs:{size:"mini",type:t.type},on:{click:function(a){return e.btnClick(t)}}},[e._v(" "+e._s(t.label)+" ")])],1)})),0),a("div",{staticClass:"table-box max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,"row-style":{cursor:"pointer"}},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),e.modal.show?a("picture-modal",{ref:"modal",attrs:{title:e.modal.title,modalType:e.modal.type},on:{ok:e.queryList,close:function(t){e.modal.show=!1}}}):e._e()],1)},n=[],s=a("5530"),r=(a("c740"),a("a434"),a("f7c4")),o=a("2e5f"),l=a("3f19"),c=a("8df0"),u=a("f0d5"),d={name:"PictureList",mixins:[l["a"],c["a"]],components:{foxTable:r["a"],BtnList:o["default"],PictureModal:u["default"]},props:{},data:function(){return{modal:{show:!1,title:"",type:"",loading:!1},modalTitleObject:{generate:"印章生成",add:"印章新增",edit:"印章编辑"},selfLoadTableFlag:!0,btnList:[{value:"add",label:"新增"}],url:{list:"/eleSign/sealList",download:"/eleSign/down",delete:"/eleSign/removeSeal"}}},watch:{},computed:{},methods:{operate:function(e,t){var a=this,i=e,n={id:i.id};switch(t){case"generate":case"add":case"edit":this.modal.title=this.modalTitleObject[t],this.modal.type=t,this.modal.show=!0,this.$nextTick((function(){a.$refs.modal.init(i)}));break;case"download":var s=i.sealPath.lastIndexOf("."),r=i.sealPath.substring(s+1);this.interfaceOperate(t,n,r);break;case"delete":var o="您确定要删除本密钥吗？";this.operateBeforeConfirm(e,t,o,(function(){a.interfaceOperate(t,n)}));break;case"move":break;default:break}},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(s["a"])(Object(s["a"])({},this.table),{},{show:!1,column:[{label:"印章名称",prop:"name"},{label:"操作",prop:"oper",width:200,fixed:"right",render:function(t,a){var i=a.row,n=[{content:"编辑",type:"text",icon:"edit",event:function(){e.operate(i,"edit")}},{content:"下载",type:"text",icon:"download",event:function(){e.operate(i,"download")}},{content:"删除",color:e.deleteColor,type:"text",icon:"delete-solid",event:function(){e.operate(i,"delete")}}],s=-1;i.sealPath&&(s=i.sealPath.lastIndexOf("."));var r="";if(s>-1&&(r=i.sealPath.substring(s+1)),!r){var l=n.findIndex((function(e){return"下载"==e.content}));n.splice(l,1)}return t(o["default"],{attrs:{btnInfo:n}})}}]}),this.$nextTick((function(){e.table=Object(s["a"])(Object(s["a"])({},e.table),{},{show:!0})}))},interfaceOperate:function(e,t,a){var i=this,n=this.url[e],s="post";if("download"==e){var r="",o=a;this.downloadByFileStream(n,t,r,o)}else this.interfaceRequest(n,t,s,(function(){i.queryList()}))}},created:function(){},mounted:function(){}},p=d,f=a("2877"),m=Object(f["a"])(p,i,n,!1,null,"81998e34",null);t["default"]=m.exports},"170d":function(e,t,a){"use strict";a("763d")},"17cd":function(e,t,a){},"196f":function(e,t,a){},1971:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},n=[],s=a("313e"),r=a.n(s),o=a("1e21");a("817d");var l=3e3,c={mixins:[o["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},radar:{radius:"66%",center:["50%","42%"],splitNumber:8,splitArea:{areaStyle:{color:"rgba(127,95,132,.3)",opacity:1,shadowBlur:45,shadowColor:"rgba(0,0,0,.5)",shadowOffsetX:0,shadowOffsetY:15}},indicator:[{name:"Sales",max:1e4},{name:"Administration",max:2e4},{name:"Information Technology",max:2e4},{name:"Customer Support",max:2e4},{name:"Development",max:2e4},{name:"Marketing",max:2e4}]},legend:{left:"center",bottom:"10",data:["Allocated Budget","Expected Spending","Actual Spending"]},series:[{type:"radar",symbolSize:0,areaStyle:{normal:{shadowBlur:13,shadowColor:"rgba(0,0,0,.2)",shadowOffsetX:0,shadowOffsetY:10,opacity:1}},data:[{value:[5e3,7e3,12e3,11e3,15e3,14e3],name:"Allocated Budget"},{value:[4e3,9e3,15e3,15e3,13e3,11e3],name:"Expected Spending"},{value:[5500,11e3,12e3,15e3,12e3,12e3],name:"Actual Spending"}],animationDuration:l}]})}}},u=c,d=a("2877"),p=Object(d["a"])(u,i,n,!1,null,null,null);t["default"]=p.exports},"1a34":function(e,t,a){"use strict";a("47d2")},"1aa4":function(e,t,a){},"1b37":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container max-height flex-column"},[a("div",{staticClass:"operate-box nowrap flex justify-start padding-right-10"},[a("div",{staticClass:"flex padding-right-10"},[a("div",{staticClass:"search-item-label"},[e._v("单位：")]),a("el-select",{staticStyle:{width:"160px","margin-right":"8px"},attrs:{placeholder:"请选择",clearable:"true",size:"mini"},model:{value:e.deptId,callback:function(t){e.deptId=t},expression:"deptId"}},e._l(e.deptData,(function(e){return a("el-option",{key:e.ID,attrs:{label:e.NAME,value:e.ID}})})),1),a("div",{staticClass:"search-item-label"},[e._v("用户名：")]),a("el-input",{staticStyle:{width:"160px","margin-right":"8px"},attrs:{placeholder:"请输入用户名",size:"mini"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),a("div",{staticClass:"search-item-label"},[e._v("操作时间：")]),a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd HH:mm:ss",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"mini"},on:{change:e.queryList},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.queryList(1)}}},[e._v(" 搜索 ")]),a("el-button",{attrs:{type:"default",icon:"el-icon-download",size:"mini"},on:{click:e.exportFile}},[e._v(" 导出 ")]),a("el-button",{attrs:{type:"default",size:"mini"},on:{click:function(t){return e.btnClick("line")}}},[e._v(" 折线统计图表 ")]),a("el-button",{attrs:{type:"default",size:"mini"},on:{click:function(t){return e.btnClick("bar")}}},[e._v(" 条形统计图表 ")])],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"table-box max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:!1,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),e.checkboxGroup.show?a("checkbox-modal",{ref:"checkboxGroup",attrs:{title:e.checkboxGroup.title,options:e.checkboxGroup.options[0]},on:{close:function(t){e.checkboxGroup.show=!1},ok:e.checkedResult}}):e._e(),e.graph.show?a("graph-list",{ref:"graph",attrs:{title:e.graph.title},on:{close:function(t){e.graph.show=!1}}}):e._e()],1)},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("a9e3"),a("159b"),a("4de4"),a("caad"),a("2532"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("d81d"),a("2f62")),l=a("f7c4"),c=a("3f19"),u=a("2e5f"),d=a("1998"),p=a("a3d8f"),f=a("cf45"),m={name:"WorkCondition",mixins:[c["a"]],components:{foxTable:l["a"],BtnList:u["default"],CheckboxModal:d["default"],GraphList:p["default"]},props:{showStatus:{type:String|Number,default:""}},data:function(){return{date:"",userName:void 0,deptId:void 0,deptData:[],checkboxGroup:{show:!1,title:"请选择要统计的字段",options:[],loading:!1},graph:{show:!1,title:"统计图表",loading:!1},url:{list:"/myFile/statisticsWork",queryDept:"/myFile/queryDept",exportFile:"/myFile/exportExcel"}}},watch:{},computed:Object(r["a"])({},Object(o["c"])(["userInfo"])),methods:{queryDept:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.httpActionByQuery(e.url.queryDept,{},{},"post");case 2:a=t.sent,e.deptData=a.data;case 4:case"end":return t.stop()}}),t)})))()},init:function(e){this.queryList(1)},checkedResult:function(e){var t=e.list,a=e.type;switch(a){case"export":break;case"line":case"bar":var i=[];this.checkboxGroup.options.forEach((function(e){var a=e.filter((function(e){return t.includes(e.value)&&null!=e.number}));i.push(a)}));var n=JSON.stringify(i),s=this.$router.resolve({path:"/work/GraphList",query:{type:a,allData:encodeURIComponent(n)}});window.open(s.href,"_blank");break;default:break}},setTableColumn:function(){var e=this;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"用户",prop:"用户"},{label:"登录次数",prop:"登录"},{label:"数据增加",prop:"添加"},{label:"数据修改",prop:"修改"},{label:"数据删除",prop:"数据删除"},{label:"数据导入",prop:"数据导入"},{label:"数据导出",prop:"数据导出"},{label:"档案归档",prop:"档案归档"},{label:"原文上传",prop:"原文上传"},{label:"原文删除",prop:"原文删除"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o,l,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize},t.date&&t.date.length>0&&(i=Object(r["a"])(Object(r["a"])({},i),{},{beginTime:t.date[0],endTime:t.date[1]})),t.userName&&t.userName.length>0&&(i.userName=t.userName),t.deptId&&(i.deptId=t.deptId),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),n=t.url.list,s="post",a.next=10,t.$api.httpActionByQuery(n,i,{},s);case 10:o=a.sent,l=o.count,c=o.data,u=[],c&&c.forEach((function(e){var a={};t.table.column.forEach((function(t){a[t.prop]=e[t.prop]||0})),u.push(a)})),c=u,t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*l}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:c})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 19:case"end":return a.stop()}}),a)})))()},exportFile:function(){var e=this,t={};this.date&&this.date.length>0&&(t=Object(r["a"])(Object(r["a"])({},t),{},{beginTime:this.date[0],endTime:this.date[1]})),this.userName&&this.userName.length>0&&(t.userName=this.userName),this.deptId&&(t.deptId=this.deptId);var a=Object(f["h"])(new Date,"{y}-{m}-{d}");this.$api.downFile(this.url.exportFile,t).then((function(t){if(t)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([t]),a+".xlsx");else{var i=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.style.display="none",n.href=i,n.setAttribute("download",a+".xlsx"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}else e.$sweetAlert.errorWithTimer("文件下载失败！")}))},btnClick:function(e){var t=this;switch(e){case"export":case"line":case"bar":this.checkboxGroup.show=!0,this.checkboxGroup.options=[],this.table.data.forEach((function(e){var a=[];t.table.column.map((function(t,i){var n={value:i,name:t.label,number:e[t.prop]||0,username:e["用户"]};"用户"==t.label?(n.required=!0,n.number=null):n.required=!1,a.push(n)})),t.checkboxGroup.options.push(a)})),this.$nextTick((function(){t.$refs.checkboxGroup.init(e)}));break;case"stats":var a="该操作会后台占用您的CPU资源并清空当前统计表，是否继续？";this.$confirm(a,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){})).catch((function(){}));break;default:break}}},created:function(){this.setTableColumn(),this.queryDept(),this.queryList(1)},mounted:function(){}},h=m,b=(a("3376"),a("2877")),g=Object(b["a"])(h,i,n,!1,null,"88acd492",null);t["default"]=g.exports},"1b8d":function(e,t,a){},"1bbf":function(e,t,a){},"1bc4":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"borrow-info-box"},[e.model?a("table",{staticClass:"mini-table",staticStyle:{width:"100%"},attrs:{border:"2"}},[a("tr",[a("td",{staticClass:"label-item shadow",attrs:{rowspan:"2"}},[e._v("申请人")]),a("td",{staticClass:"label-item"},[e._v("姓名")]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.APPLY_USER))]),a("td",{staticClass:"label-item"},[e._v("联系电话")]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.MOBILE))])]),a("tr",[a("td",{staticClass:"label-item"},[e._v("单位")]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.DEPT_NAME))]),a("td",{staticClass:"label-item"},[e._v(e._s(e.cardTypeText))]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.CARD_SERIAL))])]),a("tr",[a("td",{staticClass:"label-item shadow",attrs:{rowspan:"3"}},[e._v("借阅形式")]),a("td",{attrs:{colspan:"10"}},[e._v(e._s(e.label))])]),"electronic"==e.listType?a("tr",[a("td",{staticClass:"label-item"},[e._v("借阅天数")]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.BORROW_DAY))]),a("td",{staticClass:"label-item"},[e._v("归还时间")]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.END_TIME))])]):e._e(),"electronic"==e.listType?a("tr",[a("td",{staticClass:"label-item"},[e._v("利用形式")]),a("td",{attrs:{colspan:"9"}},[e._v(e._s(e.utilizeFormText))])]):e._e(),"physical"==e.listType?a("tr",[a("td",{staticClass:"label-item"},[e._v("到馆时间")]),a("td",{attrs:{colspan:"9"}},[e._v(e._s(e.model.ARRIVAL_TIME))])]):e._e(),"physical"==e.listType?a("tr",[a("td",{staticClass:"label-item"},[e._v("归还时间")]),a("td",{attrs:{colspan:"9"}},[e._v(e._s(e.model.END_TIME))])]):e._e(),"museum"==e.listType?a("tr",[a("td",{staticClass:"label-item"},[e._v("到馆时间")]),a("td",{attrs:{colspan:"9"}},[e._v(e._s(e.model.ARRIVAL_TIME))])]):e._e(),"museum"==e.listType?a("tr",[a("td",{staticClass:"label-item"},[e._v("利用形式")]),a("td",{attrs:{colspan:"9"}},[e._v(e._s(e.utilizeModeText))])]):e._e(),a("tr",[a("td",{staticClass:"label-item shadow"},[e._v("借阅数量")]),a("td",{staticClass:"label-item"},[e._v("总卷数")]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.VOL_COUNT))]),a("td",{staticClass:"label-item"},[e._v("总件数")]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.DOC_COUNT))])]),a("tr",[a("td",{staticClass:"label-item shadow"},[e._v("利用目的")]),a("td",{attrs:{colspan:"10"}},[e._v(e._s(e.reasonText))])]),a("tr",[a("td",{staticClass:"label-item shadow"},[e._v("备注")]),a("td",{attrs:{colspan:"10"}},[e._v(e._s(e.model.REMARKES))])])]):e._e()])},n=[],s=a("1da1"),r=(a("96cf"),a("4de4"),a("caad"),a("a15b"),a("d81d"),a("b0c0"),a("7db0"),{name:"BorrowInfo",components:{},props:{fileParamsObject:{type:Object,default:null},dictOptionsObject:{type:Object,default:null},listType:{type:String,default:""},label:{type:String,default:""}},data:function(){return{url:{info:"/borrowCar/queryBorrowUserInfo"},model:null,utilizeFormList:[{label:"1",name:"查看原文(有水印)"},{label:"2",name:"查看原文(无水印)"},{label:"3",name:"下载原文"},{label:"4",name:"打印原文(有水印)"},{label:"5",name:"打印原文(无水印)"}]}},watch:{},computed:{utilizeFormText:function(){var e="",t=[];if(this.model){var a=this.model,i=a.IFHAS_DOWNLOAD,n=a.IFHAS_PRINTING,s=a.IFHAS_WATERMARK;1==s?t.push("1"):0==s&&t.push("2"),1==n?t.push("4"):0==n&&t.push("5"),1==i&&t.push("3")}var r=this.utilizeFormList.filter((function(e){return t.includes(e.label)}));return e=r.map((function(e){return e.name})).join("、"),e},reasonText:function(){var e=this,t="";if(this.dictOptionsObject&&this.model){var a=this.dictOptionsObject["utilize_purpose"].find((function(t){return t.value==e.model.REASON}));a&&(t=a.name)}return t},utilizeModeText:function(){var e=this,t="";if(this.dictOptionsObject&&this.model){var a=this.dictOptionsObject["utilization_mode"].find((function(t){return t.value==e.model.UTILIZATION_MODE}));a&&(t=a.name)}return t},cardTypeText:function(){var e=this,t="";if(this.dictOptionsObject&&this.model){var a=this.dictOptionsObject["certificate_type"].find((function(t){return t.value==e.model.CARD_TYPE}));a&&(t=a.name)}return t}},methods:{getInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,n,s,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.url.info,i={},e.fileParamsObject&&(n=e.fileParamsObject.applyId,i={applyId:n}),s="post",t.next=6,e.$api.httpAction(a,i,s);case 6:r=t.sent,o=r.data,e.model=o;case 9:case"end":return t.stop()}}),t)})))()}},created:function(){this.getInfo()},mounted:function(){}}),o=r,l=(a("2ef4"),a("2877")),c=Object(l["a"])(o,i,n,!1,null,"109bc3db",null);t["default"]=c.exports},"1c18":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},n=[],s=a("313e"),r=a.n(s),o=a("1e21");a("817d");var l={name:"",mixins:[o["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},dataInfo:{type:Object}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.expectedData,e.actualData;this.chart.setOption({title:{},tooltip:{trigger:"axis"},legend:{data:["登录访问量"]},xAxis:{type:"category",boundaryGap:!1,data:this.dataInfo.xAxisArr},yAxis:{type:"value",axisLabel:{formatter:"{value}"}},series:[{name:"登录访问量",type:"line",color:["#C12E34"],smooth:0,data:this.dataInfo.seriesArr,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]},markLine:{data:[{type:"average",name:"平均值"}]}}]})}}},c=l,u=a("2877"),d=Object(u["a"])(c,i,n,!1,null,"8150719c",null);t["default"]=d.exports},"1c84":function(e,t,a){"use strict";a("14aa")},"1c96":function(e,t,a){},"1d75":function(e,t,a){},"1dd1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container table-box max-height flex-column"},[a("div",{staticClass:"half-height table-box-list tab-pane-box"},[a("records-list",{ref:"records",attrs:{listType:e.listType},on:{detail:e.showFileList}})],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.showFileListLoading,expression:"showFileListLoading"}],staticClass:"half-height table-box-list tab-pane-box"},[e.showFileListFlag?a("tab-pane",{attrs:{listType:e.listType}}):e._e()],1)])},n=[],s=a("3e13"),r=a("b2ea"),o={name:"ElectronicLibrary",components:{RecordsList:s["default"],TabPane:r["default"]},props:{},data:function(){return{content:"",draftTotal:null,showFileListFlag:!1,showFileListLoading:!1,listType:"electronic"}},watch:{},computed:{},methods:{handleClick:function(e,t){},showFileList:function(){var e=this;this.showFileListLoading=!0,this.showFileListFlag=!1,this.$nextTick((function(){e.showFileListFlag=!0,e.showFileListLoading=!1}))}},created:function(){},mounted:function(){}},l=o,c=(a("2dc4"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"6e737b33",null);t["default"]=u.exports},"1e00":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container flex-column"},[a("div",{staticClass:"operate-box nowrap flex justify-between"},[a("div",[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(t){return e.btnClick("delete")}}},[e._v(" 删除 ")]),a("el-button",{attrs:{type:"default",icon:"el-icon-download",size:"mini"},on:{click:function(t){return e.btnClick("export")}}},[e._v(" 导出 ")])],1),a("div",{staticClass:"flex"})]),e.table.loading?e._e():a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"table-box max-height"},[a("fox-table",{ref:"foxTable",attrs:{"highlight-current-row":"",rowKey:"ID",column:e.table.column,data:e.table.data,pagination:!1,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,hideTableIndent:!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection}})],1),e.detail.show?a("detail-modal",{ref:"detail",attrs:{title:e.detail.title},on:{close:function(t){e.detail.show=!1}}}):e._e(),e.borrowApply.show?a("apply-modal",{ref:"borrowApply",on:{close:function(t){e.borrowApply.show=!1},ok:function(t){return e.queryList(1)}}}):e._e()],1)},n=[],s=a("1da1"),r=a("2909"),o=a("5530"),l=(a("96cf"),a("99af"),a("159b"),a("a15b"),a("d81d"),a("caad"),a("2532"),a("b64b"),a("7db0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("f7c4")),c=a("3f19"),u=a("0c90"),d=a("2e5f"),p=a("6937"),f=a("bd66"),m=a("2ba6"),h=a("cf45"),b={name:"MyFavorites",mixins:[c["a"],u["a"]],components:{foxTable:l["a"],BtnList:d["default"],DetailModal:p["default"],MaskPrint:m["default"],ApplyModal:f["default"]},props:{},data:function(){return{detail:{show:!1,title:"查看详情",loading:!1},loading:!1,url:{list:"/MyFavorites/queryList",delete:"/MyFavorites/delete",export:"/MyFavorites/exportExcel",fileList:"/keepArch/list",addCar:"/borrowCar/addBorrowCar"}}},watch:{},computed:{},methods:{setTableColumn:function(){var e=this;this.$createElement;this.table=Object(o["a"])(Object(o["a"])({},this.table),{},{show:!1,column:[{type:"selection",fixed:!0},{label:"操作",prop:"oper",width:240,align:"left",headerAlign:"center",fixed:"right",render:function(t,a){var i=a.row,n=[{content:"查阅",type:"text",icon:"search",popover:!0,event:function(){e.operate(i,"detail")}},{content:"借阅",type:"dropDown",icon:"collection",dropDownItems:[{content:"加入借阅车",event:function(){e.operate(i,"addCar")}}]}],s=[];i.children&&(s=[{content:"删除",type:"text",color:"#F56C6C",icon:"delete",popover:!0,event:function(){e.operate(i,"delete")}}]);var o=[];return i.children&&"1"==i.CATE_TYPE&&(o=[{content:"卷内",type:"text",icon:"search",popover:!0,event:function(){e.operate(i,"children")}}]),n=[].concat(Object(r["a"])(n),Object(r["a"])(s),Object(r["a"])(o)),i.hideOperate&&(n=[]),t(d["default"],{attrs:{btnInfo:n}})}},{label:"状态",prop:"oper",width:50,render:function(t,a){var i=a.row;if(i.FILE_COUNT>0){var n=[{type:"text",icon:"collection",tooltipContent:"原文",event:function(){e.operate(i,"source")}}];return t(d["default"],{attrs:{btnInfo:n}})}}},{label:"档号",prop:"ARCH_RULE"},{label:"件号(案卷号)",prop:"VOL_NUM"},{label:"题名",prop:"ARCH_TITLE"},{label:"收藏时间",prop:"CREATE_TIME"}]}),this.$nextTick((function(){e.table=Object(o["a"])(Object(o["a"])({},e.table),{},{show:!0})}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,r,l,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),t.table=Object(o["a"])(Object(o["a"])({},t.table),{},{loading:!0}),i=t.url.list,n={},s="post",a.next=7,t.$api.httpAction(i,n,s);case 7:r=a.sent,l=r.count,c=r.data,c.forEach((function(e){e.children=[]})),t.page=Object(o["a"])(Object(o["a"])({},t.page),{},{total:1*l}),t.$nextTick((function(){t.table=Object(o["a"])(Object(o["a"])({},t.table),{},{data:c})})),t.table=Object(o["a"])(Object(o["a"])({},t.table),{},{loading:!1});case 14:case"end":return a.stop()}}),a)})))()},btnClick:function(e){var t=this.selectionMsg();if(t)this.$sweetAlert.warnWithTimer(t);else{var a=this.table.selection.map((function(e){return e.ID})).join(",");this.operate(a,e)}},selectionMsg:function(){var e="",t=this.table.selection.length;return 0==t&&(e="至少选择一条记录"),e},operate:function(e,t){var a=this;switch(t){case"detail":this.detail.show=!0;var i=2,n=e.ID;e.children&&(i=1,n=e.BUSI_ID);var s={othType:i,id:n,volId:e.BUSI_ID,templateId:e.TEMPLATE_ID,cate_code:e.CATE_CODE,cateType:e.CATE_TYPE};this.$nextTick((function(){a.$refs.detail.init(s)}));break;case"children":e.children&&0==e.children.length?this.getFileList(e):this.$refs.foxTable.toggleRowExpansion(e);break;case"addCar":this.addCar(e);break;case"export":this.exportFile(e);break;case"delete":break;case"source":var r={id:e.children?e.BUSI_ID:e.ID,othType:e.children?"1":"2",templateId:e.TEMPLATE_ID,cateCode:e.CATE_CODE},o=this.$router.resolve({path:"/originalPage",query:r});window.open(o.href,"_blank");break;default:break}var l={delete:{name:"立即执行",msg:"确定删除?",url:this.url.delete,params:{id:e.ID||e}}};if(Object.keys(l).includes(t)){var c=l[t],u=c["msg"];this.$confirm(u,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=c.url,t=c.params,i="post";a.$api.httpAction(e,t,i).then((function(e){200==e.code?(a.$sweetAlert.successWithTimer(e.msg),a.queryList()):a.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))}},addCar:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,r,o,l,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e.TEMPLATE_ID,n=e.BUSI_ID,s=null,r=1,e.children?r=1:(r=2,s=e.ID),"2"==e.CATE_TYPE&&(r=3),o=t.url.addCar,l={templateId:i,vol_id:n,doc_id:s,ope_type:r},c="post",a.next=11,t.$api.httpAction(o,l,c);case 11:u=a.sent,200==u.code?t.$sweetAlert.successWithTimer(u.msg):t.$sweetAlert.errorWithTimer(u.msg);case 13:case"end":return a.stop()}}),a)})))()},getFileList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,i={cate_code:e.CATE_CODE,VOL_ID:e.BUSI_ID,templateId:e.TEMPLATE_ID,othType:"2",type:"all",DEL_STATUS:"0",limit:9999},n=t.url.fileList,a.next=5,t.$api.getAction(n,i);case 5:s=a.sent,r=s.data,t.loading=!1,r&&0==r.length&&t.$sweetAlert.warnWithTimer("暂无卷内文件！"),r.forEach((function(t,a){t.TEMPLATE_ID=e.TEMPLATE_ID,t.CATE_CODE=e.CATE_CODE,t.BUSI_ID=e.BUSI_ID,t["selectDisabled"]=!0})),o=t.table.data.find((function(t){return t.ID==e.ID})),o.children=r,t.$nextTick((function(){t.$refs.foxTable.toggleRowExpansion(e)}));case 13:case"end":return a.stop()}}),a)})))()},exportFile:function(e){var t=this,a={ids:e},i=Object(h["h"])(new Date,"{y}-{m}-{d}");this.$api.downFile(this.url.export,a).then((function(e){if(e)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([e]),i+".xlsx");else{var a=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.style.display="none",n.href=a,n.setAttribute("download",i+".xlsx"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(a)}else t.$sweetAlert.errorWithTimer("文件下载失败！")}))}},created:function(){this.setTableColumn(),this.queryList(1)},mounted:function(){}},g=b,v=(a("31e6"),a("2877")),y=Object(v["a"])(g,i,n,!1,null,"7efd4850",null);t["default"]=y.exports},"1e0e":function(e,t,a){},"1e21":function(e,t,a){"use strict";var i=a("cf45");t["a"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var e=this;this.$_resizeHandler=Object(i["b"])((function(){e.chart&&e.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}}},"1f0d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"shortcut-options"},[e.list.length>0?i("div",{staticClass:"options-list"},[i("div",{staticClass:"page-left page-btn",class:{"show-page-btn":e.pageIndex>0},on:{click:function(t){return e.pageChange("left")}}},[i("img",{directives:[{name:"show",rawName:"v-show",value:e.turnPageFlag,expression:"turnPageFlag"}],attrs:{src:a("f49f"),alt:""}})]),i("div",{staticClass:"list"},e._l(e.optionList,(function(t,a){return i("div",{key:a,staticClass:"list-item",on:{click:function(a){return e.itemClick(t)}}},[i("div",{staticClass:"icon"},[t.icon?i("i",{class:"menu-icon anticon pr-2 icon-"+t.icon}):i("i",{staticClass:"el-icon-s-order"})]),i("div",{staticClass:"name",attrs:{title:t.name}},[e._v(" "+e._s(t.name)+" ")])])})),0),i("div",{staticClass:"page-right page-btn",class:{"show-page-btn":e.pageIndex<e.list.length-e.pageSize},on:{click:function(t){return e.pageChange("right")}}},[i("img",{directives:[{name:"show",rawName:"v-show",value:e.turnPageFlag,expression:"turnPageFlag"}],attrs:{src:a("9747"),alt:""}})])]):e._e(),0==e.list.length?i("div",{staticClass:"empty-box"},[i("div",{staticClass:"logo"},["blue"==e.themeImg?i("img",{attrs:{src:a("fcab"),alt:""}}):e._e(),"red"==e.themeImg?i("img",{attrs:{src:a("b8b7"),alt:""}}):e._e()]),i("div",{staticClass:"text"},[e._v("暂无快捷方式，请手动设置")])]):e._e(),i("div",{staticClass:"set-btn rotate",on:{click:e.setOptions}},[i("img",{attrs:{src:a("f9d8"),alt:""}})])])},n=[],s=(a("fb6a"),a("4de4"),a("caad"),a("2532"),a("b0c0"),a("159b"),a("a15b"),a("7db0"),{name:"ShortcutOptions",components:{},props:{},data:function(){return{pageIndex:0,pageSize:5,defaultShortcutNameList:["我的收藏夹","我的借阅车","我的归档"]}},watch:{},computed:{menuRouteFlag:function(){return this.$store.state.shortcut.menuRouteFlag},menuList:function(){return this.$store.state.user.permissionList},list:function(){return this.$store.state.shortcut.menuRouteList},themeImg:function(){return this.$store.state.settings.themeImg},optionList:function(){var e=this.list.slice(this.pageIndex,this.pageIndex+this.pageSize);return e},turnPageFlag:function(){var e=!1;return this.list.length>this.pageSize&&(e=!0),e}},methods:{setDefaultShortcut:function(e){var t=this;if(!this.menuRouteFlag){var a=e.filter((function(e){return t.defaultShortcutNameList.includes(e.name)}));a.forEach((function(a){var i=t.getParentList(a.id,e);a.parentList=i,a.icon=null,a.parentName=i.join("/")})),this.$store.dispatch("shortcut/changeSetting",{key:"menuRouteList",value:a}),this.$store.dispatch("shortcut/changeSetting",{key:"menuRouteFlag",value:!0})}},getParentList:function(e,t,a){var i=[],n=function e(a){var n=t.find((function(e){return e.originalId==a||e.id==a}));n&&(i.push(n.name),e(n.parentId))};return n(e),i=i.reverse(),i},getMenuList:function(){var e=this.menuList,t=e.filter((function(e){return"2"!=e.type})),a=[],i=function e(t){t.forEach((function(t){"2"!=t.type&&a.push(t),t.list&&t.list.length>0&&e(t.list)}))};i(t),this.setDefaultShortcut(a)},pageChange:function(e){if(this.turnPageFlag)switch(e){case"left":this.pageIndex>0&&this.pageIndex--;break;case"right":this.pageIndex<this.list.length-this.pageSize&&this.pageIndex++;break;default:break}},setOptions:function(){this.$emit("set")},itemClick:function(e){this.$router.push(e.url)}},created:function(){this.getMenuList()},mounted:function(){}}),r=s,o=(a("6ce4"),a("2877")),l=Object(o["a"])(r,i,n,!1,null,"4f24a236",null);t["default"]=l.exports},"1f31":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("form-design",{ref:"formDesign",scopedSlots:e._u([{key:"action",fn:function(){return[a("el-button",{attrs:{type:"text",icon:"el-icon-check"},on:{click:e.btnSave}},[e._v("保存")])]},proxy:!0}])})],1)},n=[],s=a("0fea"),r=(a("5c96"),a("eecf")),o={name:"FlowableFormEdit",components:{FormDesign:r["default"]},data:function(){return{formKey:void 0,formData:{formKey:void 0,formName:"",formJson:""}}},created:function(){this.$route.query&&this.$route.query.formKey&&(this.formKey=this.$route.query.formKey),this.getFormData()},methods:{getFormData:function(){var e=this;this.formKey?Object(s["e"])("/flowable/form/queryById",{id:this.formKey}).then((function(t){var a,i=t.data;e.formData=i;var n=null===(a=e.formData)||void 0===a?void 0:a.formJson;setTimeout((function(){return e.$refs.formDesign.setJSON(n?JSON.parse(n):void 0)}),100)})):this.$sweetAlert.warnWithTimer("formKey is null")},btnSave:function(){var e=this;this.formData.formJson=JSON.stringify(this.$refs.formDesign.getJSON()),Object(s["h"])("/flowable/form/update",this.formData).then((function(t){var a=t.msg;t.data;e.$sweetAlert.successWithTimer(a)}))}}},l=o,c=a("2877"),u=Object(c["a"])(l,i,n,!1,null,null,null);t["default"]=u.exports},"1f5f":function(e,t,a){"use strict";a("970f")},"1fca":function(e,t,a){"use strict";a("35ec")},"20a4":function(e,t,a){},"20f1":function(e,t,a){"use strict";a("c98b")},2179:function(e,t,a){},"220c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,width:"400px",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"auto-scroll"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.model,"status-icon":"","label-width":"80px"}},[a("el-form-item",{attrs:{label:"",prop:"num"}},[a("el-radio-group",{model:{value:e.model.status,callback:function(t){e.$set(e.model,"status",t)},expression:"model.status"}},[a("el-radio",{staticClass:"radio-item",attrs:{label:"1"}},[e._v("通过")]),a("el-radio",{staticClass:"radio-item",attrs:{label:"2"}},[e._v("拒绝")])],1)],1),"2"==e.model.status?a("el-form-item",{attrs:{label:"拒绝理由",prop:""}},[a("el-input",{attrs:{maxlength:"500",placeholder:"请输入拒绝理由",autosize:{minRows:6,maxRows:6},type:"textarea",clearable:""},model:{value:e.model.reason,callback:function(t){e.$set(e.model,"reason",t)},expression:"model.reason"}})],1):e._e()],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},n=[],s=a("5530"),r={name:"ApproveModal",components:{},props:{title:{type:String,default:"审批"}},data:function(){return{visible:!1,loading:!1,model:{status:"1",reason:""},data:null}},computed:{},methods:{init:function(e){this.visible=!0,this.data=e},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var a=Object.assign({},t.model);t.data&&(a=Object(s["a"])(Object(s["a"])({},t.data),a)),t.$emit("ok",a),t.cancelModal()}))},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}},o=r,l=(a("f9aa"),a("2877")),c=Object(l["a"])(o,i,n,!1,null,"db7ec082",null);t["default"]=c.exports},2272:function(e,t,a){},"23bd":function(e,t,a){},2540:function(e,t,a){"use strict";a("11de")},"255b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container max-height flex-column"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1)])},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("159b"),a("f7c4")),l=a("3f19"),c=a("2e5f"),u={name:"PDFLog ",mixins:[l["a"]],components:{foxTable:o["a"],BtnList:c["default"]},props:{},data:function(){return{url:{list:"/file/convertLog",reChange:"/file/reChangeById"},dataType:""}},watch:{},computed:{},methods:{init:function(e){this.queryList(1)},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"操作",prop:"oper",fixed:"right",render:function(t,a){var i=a.row,n=[];return"转换失败"==i.status&&(n=[{content:"转换",type:"text",icon:"info",popover:!1,event:function(){e.table.loading=!0,e.$sweetAlert.successWithTimer("正在转换请稍等。。。"),e.check(i)}}]),t(c["default"],{attrs:{btnInfo:n}})}},{label:"原文编号",prop:"busiId"},{label:"档号",prop:"archRule"},{label:"件号",prop:"num"},{label:"原文附件名称",prop:"fileFprimalnam"},{label:"错误描述",prop:"msg"},{label:"操作时间",prop:"operTime"},{label:"状态",prop:"status"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},check:function(e){var t=this,a={logId:e.id,id:e.busiId,templateId:e.templateId};this.$api.httpAction(this.url.reChange,a,"post").then((function(e){"200"==e.code&&(t.queryList(1),t.$sweetAlert.successWithTimer(e.msg))}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize},t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),n=t.url.list,a.next=6,t.$api.getAction(n,i);case 6:s=a.sent,o=s.count,l=s.data,l.forEach((function(e){2==e.status?e.status="转换失败":e.status="转换成功"})),t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*o}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:l})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 13:case"end":return a.stop()}}),a)})))()}},created:function(){this.setTableColumn(),this.queryList(1)},mounted:function(){}},d=u,p=(a("b70a"),a("2877")),f=Object(p["a"])(d,i,n,!1,null,"e4e81bb4",null);t["default"]=f.exports},"276f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cell-num"},[a("el-row",[a("el-col",{attrs:{xs:24,sm:24,md:18,lg:18,xl:18}},[a("h4",{staticClass:"title"},[e._v("销售额排行")]),a("v-chart",{ref:"cellNum",attrs:{options:e.options,autoresize:""}})],1),a("el-col",{attrs:{xs:24,sm:24,md:6,lg:6,xl:6}},[a("h4",{staticClass:"title"},[e._v("门店销售排行榜")]),a("ul",{staticClass:"list"},e._l(e.rankList,(function(t,i){return a("li",{key:i},[a("span",{class:i<3?"active":null},[e._v(e._s(i+1))]),a("span",[e._v(e._s(t.name))]),a("span",[e._v(e._s(t.total))])])})),0)])],1),a("el-row")],1)},n=[],s=a("5530"),r=a("2f62"),o=a("9ca8"),l=(a("ef97"),a("94b1"),a("007d"),a("5d6f9")),c=a("6749"),u={name:"CellNum",components:{"v-chart":o["a"]},props:{data:{type:Object}},data:function(){for(var e=[],t=0;t<7;t++)e.push({name:"白鹭岛 "+(t+1)+" 号店",total:1234.56-100*t});return{options:{},rankList:e}},computed:Object(s["a"])({},Object(r["e"])({menuProps:function(e){var t=e.app;return t.menuProps}})),watch:{"menuProps.collapse":function(){var e=document.querySelector(".layout-container");c["a"].on(e,this.listenResize)},data:{handler:function(e){e&&this.setOptions()},immediate:!0}},methods:{setOptions:function(){var e=this.data,t=e.xData,a=e.yData;this.options={tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{backgroundColor:"#6a7985"}}},grid:{left:"50",right:"50"},xAxis:[{type:"category",axisTick:{show:!1},splitLine:{show:!1},axisLine:{lineStyle:{color:"rgba(204,204,204,1)"}},axisLabel:{color:"black"},data:t}],yAxis:[{type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!0},axisLabel:{formatter:function(e){return e}}}],series:[{type:"bar",barGap:"50%",itemStyle:{normal:{color:function(e){var t=["#C335                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        31","#EFE42A","#64BD3D","#EE9201","#29AAE3","#B74AE5","#0AAF9F","#E89589","#16A085","#4A235A","#C39BD3 ","#F9E79F","#BA4A00","#ECF0F1","#616A6B","#EAF2F8","#4A235A","#3498DB"];return t[e.dataIndex]}}},data:a}],animation:!0,animationDuration:4e3}},listenResize:function(){this.$refs.cellNum&&this.$refs.cellNum.resize()}},created:function(){var e=this;this.$nextTick((function(){window.addEventListener("resize",Object(l["debounce"])(e.listenResize,2e3))}))},beforeDestroy:function(){window.removeEventListener("resize",Object(l["debounce"])(this.listenResize,2e3))}},d=u,p=(a("9c14"),a("2877")),f=Object(p["a"])(d,i,n,!1,null,"6c4848f8",null);t["default"]=f.exports},"28ac":function(e,t,a){"use strict";a("61ca")},"295a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper max-height flex-column"},[a("div",{staticClass:"operate-box nowrap flex justify-between"},[a("div"),a("div",{staticClass:"flex"},[e.listType?e._e():a("div",{staticClass:"flex padding-right-10"},[a("div",{staticClass:"search-item-label"},[e._v("发起时间：")]),a("el-date-picker",{attrs:{type:"datetime",placeholder:"发起时间","value-format":"yyyy-MM-dd HH:mm:ss",size:"mini"},model:{value:e.searchParams.createTime,callback:function(t){e.$set(e.searchParams,"createTime",t)},expression:"searchParams.createTime"}})],1),"toDoList"==e.listType?a("div",{staticClass:"flex padding-right-10"},[a("div",{staticClass:"search-item-label"},[e._v("发起人：")]),a("el-input",{attrs:{placeholder:"发起人",size:"mini",clearable:""},model:{value:e.searchParams.creator,callback:function(t){e.$set(e.searchParams,"creator",t)},expression:"searchParams.creator"}})],1):e._e(),e.listType?e._e():a("div",{staticClass:"flex"},[a("div",{staticClass:"search-item-label"},[e._v("任务状态：")]),a("el-select",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:"请选择",size:"mini"},model:{value:e.searchParams.taskState,callback:function(t){e.$set(e.searchParams,"taskState",t)},expression:"searchParams.taskState"}},e._l(e.taskStateList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label||e.name,value:e.value}})})),1)],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(t){return e.queryList(1)}}},[e._v(" 搜索 ")]),e.listType?a("el-button",{attrs:{type:"primary",icon:"el-icon-printer",size:"mini"},on:{click:function(t){return e.btnClick("print")}}},[e._v(" 打印 ")]):e._e()],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,stripe:!1},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),e.selectPrint.show?a("select-print",{ref:"selectPrint",on:{close:function(t){e.selectPrint.show=!1}}}):e._e()],1)},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("a9e3"),a("d81d"),a("a15b"),a("f7c4")),l=a("3f19"),c=a("2e5f"),u=a("c5d4"),d={name:"NoticeList",mixins:[l["a"]],components:{foxTable:o["a"],BtnList:c["default"],SelectPrint:u["default"]},props:{isRead:{type:String|Number,default:""},listType:{type:String,default:""}},data:function(){return{searchText:"",selectPrint:{show:!1,title:"",loading:!1},modify:{show:!1,status:"create",textMap:{update:"编辑",create:"添加",check:"查看"},loading:!1},url:{list:"/sys/notice/pageListMessage"},taskStateList:[{value:"",name:"全部"},{value:"0",name:"办理中"},{value:"1",name:"已办结"}],searchParams:{createTime:"",taskState:""},model:null,pageIdx:0,columnList:[]}},watch:{},computed:{},methods:{init:function(e){this.model=e,this.queryList(1)},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{type:"selection",fixed:!0},{label:"操作",prop:"oper",width:180,fixed:"right",render:function(t,a){var i=a.row,n=[{content:"审批单",type:"text",icon:"view",popover:!1,event:function(){e.operate(i,"detail")}},{content:"催办",type:"text",icon:"view",popover:!1,event:function(){e.operate(i,"urge")}}];return"toDoList"==e.listType&&(n=[{content:"审批",type:"text",icon:"edit",popover:!1,event:function(){e.operate(i,"detail")}}]),t(c["default"],{attrs:{btnInfo:n}})}},{label:"流程",prop:"title"},{label:"发起时间",prop:"createTime"},{label:"任务状态",prop:"isUrgent_dictText"},{label:"当前节点",prop:"isRead_dictText"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},check:function(e){var t=this;this.modify.status="check",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)})),1==e.isRead&&this.addNoticeUser(e)},update:function(e){var t=this;this.modify.status="update",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize,type:"all",isRead:t.isRead,title:t.searchText},t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),n=t.url.list,a.next=6,t.$api.getAction(n,i);case 6:s=a.sent,o=s.count,l=s.data,l&&l.map((function(e){return e.isRead_dictText="1"==e.isRead?"未读":"已读"})),t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*o}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:l})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 13:case"end":return a.stop()}}),a)})))()},operate:function(e,t){var a=this;switch(t){case"detail":this.$emit("detail",e);break;case"urge":this.urgeRequest();break;case"print":this.selectPrint.show=!0;var i=e;this.$nextTick((function(){a.$refs.selectPrint.init(i)}));break;default:break}},urgeRequest:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$sweetAlert.successWithTimer("通知成功！");case 1:case"end":return t.stop()}}),t)})))()},btnClick:function(e){var t=this.selectionMsg(e);if(t)this.$sweetAlert.warnWithTimer(t);else{var a=this.table.selection.map((function(e){return e.id})).join(",");this.operate(a,e)}},selectionMsg:function(){var e="",t=this.table.selection.length;return 0==t&&(e="至少选择一条记录","print"==e&&(e="请选择要打印的数据！")),e}},created:function(){this.setTableColumn(),this.queryList(1)},mounted:function(){}},p=d,f=(a("5693c"),a("2877")),m=Object(f["a"])(p,i,n,!1,null,"7b71c918",null);t["default"]=m.exports},"2b2b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("div",{staticClass:"filter-container"},[a("el-checkbox",{on:{change:e.list},model:{value:e.listQuery.startedByMe,callback:function(t){e.$set(e.listQuery,"startedByMe",t)},expression:"listQuery.startedByMe"}},[e._v("我发起的")]),a("el-checkbox",{on:{change:e.list},model:{value:e.listQuery.ccToMe,callback:function(t){e.$set(e.listQuery,"ccToMe",t)},expression:"listQuery.ccToMe"}},[e._v("抄送我")]),a("el-checkbox",{on:{change:e.list},model:{value:e.listQuery.unfinished,callback:function(t){e.$set(e.listQuery,"unfinished",t)},expression:"listQuery.unfinished"}},[e._v("未办结")]),a("el-checkbox",{on:{change:e.list},model:{value:e.listQuery.finished,callback:function(t){e.$set(e.listQuery,"finished",t)},expression:"listQuery.finished"}},[e._v("已办结")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{icon:"el-icon-zoom-out",type:"primary"},on:{click:e.btnReset}},[e._v("重置 ")])],1)]),a("el-row",e._l(e.myInvolvedRecords,(function(t){return a("el-col",{attrs:{span:12}},[a("div",{staticClass:"filter-container",staticStyle:{"margin-right":"3px","margin-bottom":"3px"}},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("router-link",{attrs:{to:{path:"/flowable/myProcess/Query",query:{processDefinitionCategory:t.category,startedByMe:e.listQuery.startedByMe,ccToMe:e.listQuery.ccToMe,unfinished:e.listQuery.unfinished,finished:e.listQuery.finished}}}},[a("el-link",{attrs:{type:"primary"}},[e._v(" "+e._s(t.categoryName)+" ")])],1)],1),a("div",{staticStyle:{height:"110px","padding-left":"15px"}},[a("el-scrollbar",{staticClass:"scroll-container"},e._l(t.processDefinitionVoList,(function(t,i){return a("router-link",{key:t.processDefinitionKey,attrs:{to:{path:"/flowable/myProcess/Query",query:{processDefinitionKey:t.processDefinitionKey,startedByMe:e.listQuery.startedByMe,ccToMe:e.listQuery.ccToMe,unfinished:e.listQuery.unfinished,finished:e.listQuery.finished}}}},[a("el-link",{staticStyle:{"padding-bottom":"5px"},attrs:{type:"info"}},[e._v(" "+e._s(t.processDefinitionName)+"("+e._s(t.count)+") ")]),a("br")],1)})),1)],1)])],1)])})),1)],1)},n=[],s=a("0fea"),r=(a("5f87"),{name:"FlowableMyProcess",data:function(){return{dicts:[],myInvolvedRecords:null,myInvolvedTotal:0,listQuery:{startedByMe:!1,ccToMe:!1,unfinished:!1,finished:!1},processInstanceId:"",dialogViewVisible:!1}},created:function(){this.list()},methods:{list:function(){var e=this;Object(s["e"])("/flowable/processInstance/listMyInvolvedSummary",this.listQuery).then((function(t){var a=t.data;e.myInvolvedRecords=a}))},btnReset:function(){this.listQuery={startedByMe:!1,ccToMe:!1,unfinished:!1,finished:!1},this.list()}}}),o=r,l=(a("170d"),a("2877")),c=Object(l["a"])(o,i,n,!1,null,"44f7fd3d",null);t["default"]=c.exports},"2c86":function(e,t,a){"use strict";a("8197")},"2dc4":function(e,t,a){"use strict";a("4da9")},"2ef4":function(e,t,a){"use strict";a("196f")},"2f89":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-divider",{staticStyle:{color:"#4cacff"},attrs:{orientation:"left"}},[e._v(" 基本信息 ")]),a("table",{attrs:{width:"100%"}},[a("tr",[a("th",[e._v("姓名：")]),a("td",{attrs:{colspan:"1"}},[a("span",[e._v(e._s(e.records.name))])]),a("th",[e._v("性别：")]),a("td",{attrs:{colspan:"1"}},[a("span",[e._v(e._s(e.records.sexText))])])]),a("tr",[a("th",[e._v("身份证号码：")]),a("td",{attrs:{colspan:"1"}},[a("span",[e._v(e._s(e.records.idCardNum))])]),a("th",[e._v("移动电话：")]),a("td",{attrs:{colspan:"1"}},[a("span",[e._v(e._s(e.records.phone))])])])]),a("table",{attrs:{width:"100%"}},[a("tr",[a("th",[e._v("就读学校名称：")]),a("td",{attrs:{colspan:"1"}},[a("span",[e._v(e._s(e.records.originSchool))])]),a("th",[e._v("院系：")]),a("td",{attrs:{colspan:"1"}},[a("span",[e._v(e._s(e.records.department))])])]),a("tr",[a("th",[e._v("专业：")]),a("td",{attrs:{colspan:"1"}},[a("span",[e._v(e._s(e.records.graduated))])]),a("th",[e._v("班级：")]),a("td",{attrs:{colspan:"1"}},[a("span",[e._v(e._s(e.records.className))])])]),a("tr",[a("th",[e._v("学号：")]),a("td",{attrs:{colspan:"1"}},[a("span",[e._v(e._s(e.records.stuNo))])]),a("th",[e._v("入学年份：")]),a("td",{attrs:{colspan:"1"}},[a("span",[e._v(e._s(e.records.regYear))])])])]),a("table",{attrs:{width:"100%"}},[a("tr",[a("th",[e._v("档案分类：")]),a("td",{attrs:{colspan:"1"}},[a("span",[e._v(e._s(e.records.categoryDa))])]),a("th",[e._v("查档内容：")]),a("td",{attrs:{colspan:"1"}},[a("span",[e._v(e._s(e.records.content))])])]),a("tr",[a("th",[e._v("利用目的：")]),a("td",{attrs:{colspan:"1"}},[a("span",[e._v(e._s(e.records.purpose))])]),a("th",[e._v("取档方式：")]),a("td",{attrs:{colspan:"1"}},[a("span",[e._v(e._s(e.records.qdfs))])])]),a("tr",[a("th",[e._v("邮寄地址：")]),a("td",{attrs:{colspan:"3"}},[a("span",[e._v(e._s(e.records.sheng)+" "+e._s(e.records.shi)+" "+e._s(e.records.qu)+" "+e._s(e.records.mailingAddress))])])]),a("tr",[a("th",[e._v("备注：")]),a("td",{attrs:{colspan:"3"}},[a("a-textarea",{attrs:{rows:3,readOnly:""},model:{value:e.records.remarks,callback:function(t){e.$set(e.records,"remarks",t)},expression:"records.remarks"}})],1)])])],1)},n=[],s=a("0fea"),r=(a("5c96"),{name:"myFrom",components:{},props:{keyid:{type:String,default:""}},data:function(){return{records:{}}},created:function(){this.list()},methods:{list:function(){var e=this;Object(s["e"])("/regReview/rafssPersonalInfo/queryById",{id:this.keyid}).then((function(t){e.records=t.result}))}}}),o=r,l=a("2877"),c=Object(l["a"])(o,i,n,!1,null,null,null);t["default"]=c.exports},"30b3":function(e,t,a){},"3157f":function(e,t,a){},3173:function(e,t,a){"use strict";a("23bd")},"31e6":function(e,t,a){"use strict";a("2179")},3376:function(e,t,a){"use strict";a("75b7")},3579:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"查看详情",visible:e.dialogProcessDetailVisibleInChild},on:{"update:visible":function(t){e.dialogProcessDetailVisibleInChild=t}}},[a("el-tabs",{staticClass:"tabs-box",attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"过程意见",name:"comments"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.comments,border:"",fit:"","highlight-current-row":"",height:"45vh","cell-style":{padding:"3px"}}},[a("el-table-column",{attrs:{label:"任务节点",prop:"taskName",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.taskName))])]}}])}),a("el-table-column",{attrs:{label:"操作类型",prop:"typeDesc",align:"center",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.typeDesc))])]}}])}),a("el-table-column",{attrs:{label:"参与人",prop:"userName",align:"center",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.userName))])]}}])}),a("el-table-column",{attrs:{label:"时间",prop:"time",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.time))])]}}])}),a("el-table-column",{attrs:{label:"意见",prop:"fullMessage",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.fullMessage))])]}}])})],1)],1),a("el-tab-pane",{attrs:{label:"流程表单",name:"processIntanceForm"}},["processIntanceForm"==e.activeName?a("flow-form",{attrs:{"file-params-object":e.fileParamsObject}}):e._e()],1),a("el-tab-pane",{attrs:{label:"流程图",name:"processIntanceImage"}},[a("el-scrollbar",{directives:[{name:"loading",rawName:"v-loading",value:!e.imagePath,expression:"!imagePath"}]},[e.imagePath?a("img",{attrs:{src:e.imagePath,alt:"流程图"}}):e._e()])],1)],1)],1)},n=[],s=(a("b0c0"),a("ac1f"),a("1276"),a("a434"),a("0fea")),r=a("2f89"),o=a("51f0"),l=a("b65a"),c=(a("5f87"),a("ef35")),u=(a("9fb0"),{name:"ProcessDetail",components:{FormParser:c["default"],myformIndex:r["default"],FlowForm:o["default"]},mixins:[l["a"]],props:{visible:{type:Boolean,default:function(){return!1}},processInstanceId:{type:String,default:function(){return""}},fileParamsObject:{type:Object,default:function(){return{}}}},data:function(){return{activeName:"comments",comments:[],imagePath:"",isShowProcessInstanceForm:!1,generateStartFormVisible:!1,startFormJson:void 0,variables:void 0,showBusinessKey:!1,businessKey:void 0,mybusinessKey:void 0}},computed:{dialogProcessDetailVisibleInChild:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},created:function(){this.init()},methods:{init:function(){this.listComments()},handleClick:function(e,t){"processIntanceForm"==e.name?this.showProcessInstanceForm():"processIntanceImage"==e.name&&this.showImage()},showProcessInstanceForm:function(){var e=this;this.isShowProcessInstanceForm||Object(s["e"])("/flowable/processInstance/formData",{processInstanceId:this.processInstanceId}).then((function(t){var a=t.data;e.showBusinessKey=a.showBusinessKey,e.businessKey=a.businessKey,a&&a.renderedStartForm?(e.startFormJson=JSON.parse(a.renderedStartForm),e.variables=JSON.parse(a.variables.processInstanceFormData),e.generateStartFormVisible=!0):e.mybusinessKey=a.businessKey.split("||")[0],e.isShowProcessInstanceForm=!0}))},listComments:function(){var e=this;Object(s["e"])("/flowable/processInstance/comments",{processInstanceId:this.processInstanceId}).then((function(t){for(var a=t.data,i=0;i<a.length;i++)"认领"==a[i].typeDesc&&a.splice(i,1);e.comments=a}))},showImage:function(){var e=this;Object(s["e"])("/flowable/processInstanceImage",{processInstanceId:this.processInstanceId}).then((function(t){e.imagePath="data:image/png;base64,"+t.data}))}}}),d=u,p=(a("430b"),a("2877")),f=Object(p["a"])(d,i,n,!1,null,"5e4ad3e1",null);t["default"]=f.exports},3588:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("fox-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1)]):e._e()},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("d81d"),a("2f62"),a("f7c4")),l=a("3f19"),c=a("cf45"),u={mixins:[l["a"]],components:{foxTable:o["a"]},props:{title:{type:String,default:"审批记录"}},data:function(){return{visible:!1,loading:!1,model:null,url:{list:"/sys/organ/history"}}},computed:{},created:function(){this.setTableColumn()},methods:{init:function(e){this.visible=!0,this.queryList(e)},setTableColumn:function(){var e=this;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"审批环节",prop:"createTime"},{label:"审批人",prop:"isUrgent_dictText"},{label:"开始时间",prop:"createTime"},{label:"结束时间",prop:"createTime"},{label:"状态",prop:"createTime"},{label:"审批意见",prop:"isUrgent_dictText"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i={id:e,page:t.page.pageNum,limit:9999},t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),a.next=4,t.$api.getAction(t.url.list,i);case 4:n=a.sent,s=n.count,o=n.data,o.map((function(e){return e.TIME=Object(c["h"])(e.UPDATETIME)})),t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*s}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:o})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 11:case"end":return a.stop()}}),a)})))()},cancelModal:function(){this.visible=!1,this.$emit("close")}}},d=u,p=(a("2540"),a("2877")),f=Object(p["a"])(d,i,n,!1,null,"1ed831cf",null);t["default"]=f.exports},"35d1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container max-height flex-column none-padding"},[e.table.loading?e._e():a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"max-height"},[a("fox-table",{ref:"foxTable",attrs:{"highlight-current-row":"",rowKey:"ID",column:e.table.column,data:e.table.data,pagination:!1,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,hideTableIndent:!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection}})],1)])},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("159b"),a("7db0"),a("f7c4")),l=a("3f19"),c=a("2e5f"),u={name:"ArchiveInfo",mixins:[l["a"]],components:{foxTable:o["a"],BtnList:c["default"]},props:{fileParamsObject:{type:Object,default:null},listType:{type:String,default:""}},data:function(){return{loading:!1,url:{list:"/borrowCar/queryBorrowerInfo",queryDocInfoById:"/borrowCar/queryDocInfoById"}}},watch:{},computed:{},methods:{setTableColumn:function(){var e=this;this.$createElement;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"原文",width:80,headerAlign:"center",render:function(t,a){var i=a.row,n=[],s=!1;if("electronic"==e.listType&&2==i.RETURNCODE&&(s=!0),i.FILE_COUNT>0&&!s){var r={type:"text",icon:"collection",tooltipContent:"原文",event:function(){e.viewSource(i,"source")}};n.push(r)}return t(c["default"],{attrs:{btnInfo:n}})}},{label:"档号",prop:"ARCH_RULE",render:function(t,a){var i=a.row,n=[{content:i.ARCH_RULE,type:"text",color:i.children?"#F56C6C":"#606266",event:function(){e.queryDocInfoById(i)}}];return t(c["default"],{attrs:{btnInfo:n}})}},{label:"件号",prop:"DOC_NUM"},{label:"盒号",prop:"VOL_NUM"},{label:"题名",prop:"ARCH_TITLE"},{label:"状态",width:100,prop:"oper",render:function(e,t){var a=t.row,i=[],n=null;return 1==a.STATUS?0==a.RETURNCODE?n={content:"待归还",color:"#E6A23C",type:"text",cursor:"default",event:function(){}}:1==a.RETURNCODE?n={content:"即将到期",color:"#E6A23C",type:"text",cursor:"default",event:function(){}}:2==a.RETURNCODE?n={content:"已超期",color:"#F56C6C",type:"text",cursor:"default",event:function(){}}:3==a.RETURNCODE?n={content:"已归还",color:"#67C23A",type:"text",cursor:"default",event:function(){}}:4==a.RETURNCODE&&(n={content:"待领取",color:"#E6A23C",type:"text",cursor:"default",event:function(){}}):0==a.STATUS?n={content:"审核中",color:"#E6A23C",type:"text",cursor:"default",event:function(){}}:2==a.STATUS&&(n={content:"审批失败",color:"#F56C6C",type:"text",cursor:"default",event:function(){}}),n&&i.push(n),e(c["default"],{attrs:{btnInfo:i}})}}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o,l,c,u,d,p;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),i=t.url.list,n={},s=null,o=null,t.fileParamsObject&&(s=t.fileParamsObject.returnCode,o=t.fileParamsObject.status,l=t.fileParamsObject.applyId,n={applyId:l}),c="post",a.next=10,t.$api.httpAction(i,n,c);case 10:u=a.sent,d=u.count,p=u.data,p.forEach((function(e){e.children=[],e.RETURNCODE=s,e.STATUS=o,e.ID=e.BUSI_ID})),t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*d}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:p})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 17:case"end":return a.stop()}}),a)})))()},queryDocInfoById:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,r,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e.childNode&&"2"!=e.CATE_TYPE){a.next=2;break}return a.abrupt("return");case 2:return t.loading=!0,i=t.fileParamsObject.applyId,n={vol_id:e.BUSI_ID,templateId:e.TEMPLATE_ID,applyId:i},s=t.url.queryDocInfoById,a.next=8,t.$api.getAction(s,n);case 8:r=a.sent,o=r.data,t.loading=!1,o&&0==o.length&&t.$sweetAlert.warnWithTimer("暂无卷内文件！"),o.forEach((function(t,a){t.TEMPLATE_ID=e.TEMPLATE_ID,t.CATE_CODE=e.CATE_CODE,t.ID=t.DOC_ID,t["selectDisabled"]=!0,t["childNode"]=!0,t.RETURNCODE=e.RETURNCODE})),l=t.table.data.find((function(t){return t.ID==e.ID})),l.children=o,t.$nextTick((function(){t.$refs.foxTable.toggleRowExpansion(e)}));case 16:case"end":return a.stop()}}),a)})))()},viewSource:function(e,t){var a={id:e.children?e.BUSI_ID:e.ID,othType:e.children?"1":"2",templateId:e.TEMPLATE_ID,cateCode:e.CATE_CODE};"electronic"==this.listType&&(a=Object(r["a"])(Object(r["a"])({},a),{},{queryPower:"electronic",queryId:this.fileParamsObject.applyId}));var i=this.$router.resolve({path:"/originalPage",query:a});window.open(i.href,"_blank")}},created:function(){this.setTableColumn(),this.queryList(1)},mounted:function(){}},d=u,p=(a("540d"),a("2877")),f=Object(p["a"])(d,i,n,!1,null,"252da31a",null);t["default"]=f.exports},"35ec":function(e,t,a){},"369c":function(e,t,a){},"371d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Activity name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"Activity zone"}},[a("el-select",{attrs:{placeholder:"please select your zone"},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}},[a("el-option",{attrs:{label:"Zone one",value:"shanghai"}}),a("el-option",{attrs:{label:"Zone two",value:"beijing"}})],1)],1),a("el-form-item",{attrs:{label:"Activity time"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"Pick a date"},model:{value:e.form.date1,callback:function(t){e.$set(e.form,"date1",t)},expression:"form.date1"}})],1),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),a("el-col",{attrs:{span:11}},[a("el-time-picker",{staticStyle:{width:"100%"},attrs:{type:"fixed-time",placeholder:"Pick a time"},model:{value:e.form.date2,callback:function(t){e.$set(e.form,"date2",t)},expression:"form.date2"}})],1)],1),a("el-form-item",{attrs:{label:"Instant delivery"}},[a("el-switch",{model:{value:e.form.delivery,callback:function(t){e.$set(e.form,"delivery",t)},expression:"form.delivery"}})],1),a("el-form-item",{attrs:{label:"Activity type"}},[a("el-checkbox-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-checkbox",{attrs:{label:"Online activities",name:"type"}}),a("el-checkbox",{attrs:{label:"Promotion activities",name:"type"}}),a("el-checkbox",{attrs:{label:"Offline activities",name:"type"}}),a("el-checkbox",{attrs:{label:"Simple brand exposure",name:"type"}})],1)],1),a("el-form-item",{attrs:{label:"Resources"}},[a("el-radio-group",{model:{value:e.form.resource,callback:function(t){e.$set(e.form,"resource",t)},expression:"form.resource"}},[a("el-radio",{attrs:{label:"Sponsor"}}),a("el-radio",{attrs:{label:"Venue"}})],1)],1),a("el-form-item",{attrs:{label:"Activity form"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("Create")]),a("el-button",{on:{click:e.onCancel}},[e._v("Cancel")])],1)],1)],1)},n=[],s={data:function(){return{form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}}},methods:{onSubmit:function(){this.$message("submit!")},onCancel:function(){this.$message({message:"cancel!",type:"warning"})}}},r=s,o=(a("7275"),a("2877")),l=Object(o["a"])(r,i,n,!1,null,"32c0383a",null);t["default"]=l.exports},"37ae":function(e,t,a){"use strict";a("6c51")},3840:function(e,t,a){},"39bb":function(e,t,a){"use strict";a("90f6")},"3b4b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,width:"500px",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"auto-scroll"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.model,"status-icon":"",rules:e.rules,"label-width":e.showUploadFlag?"200px":"100px"}},[e.showNameFlag?a("el-form-item",{attrs:{label:"检索词：",prop:"keyword"}},[a("el-input",{attrs:{maxlength:"200",autosize:{minRows:4,maxRows:6},type:"textarea",placeholder:"请输入检索词"},model:{value:e.model.keyword,callback:function(t){e.$set(e.model,"keyword",t)},expression:"model.keyword"}})],1):e._e(),e.showUploadFlag?a("el-form-item",{attrs:{label:"选择上传txt格式的词库：",prop:"fileName"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo max-width",attrs:{data:e.uploadData,action:e.upLoadUrl,"on-success":e.handleSuccess,"before-upload":e.beforeAvatarUpload,"auto-upload":!1,"show-file-list":!1,accept:"","file-list":e.fileList,"on-change":function(t,a){e.handleChangeFile(t,a,"file")}}},[a("div",{staticClass:"flex max-width"},[a("el-input",{staticStyle:{width:"100%","margin-right":"10px"},attrs:{type:"text",disabled:""},model:{value:e.model.fileName,callback:function(t){e.$set(e.model,"fileName",t)},expression:"model.fileName"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-upload"}},[e._v(" 浏览 ")])],1)])],1):e._e()],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v(" "+e._s(e.showUploadFlag?"普通导入":"保存")+" ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},n=[],s=(a("d3b7"),a("a434"),a("b0c0"),a("0779")),r={name:"SynonymModal",components:{DictSelectTag:s["default"]},props:{modalType:{type:String,default:""},title:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,fileList:[],model:{keyword:"",fileName:""},uploadObject:null,rules:{keyword:[{required:!0,trigger:"change",message:"请输入检索词！"}],fileName:[{required:!0,trigger:"change",message:"请选择上传文件！"}]},stampList:[],url:{import:"/searchWords/importWords",add:"/searchWords/add",edit:"/searchWords/update"}}},computed:{upLoadUrl:function(){return window._CONFIG["domainURL"]+"/searchWords/importWords"},uploadData:function(){return this.uploadObject},showNameFlag:function(){return"add"==this.modalType||"edit"==this.modalType},showUploadFlag:function(){return"import"==this.modalType}},methods:{init:function(e){e&&(this.model=Object.assign({},e)),this.visible=!0},handleSuccess:function(e){200==e.code?(this.$sweetAlert.successWithTimer(e.msg),this.$emit("ok"),this.cancelModal()):(this.$sweetAlert.errorWithTimer(e.msg),this.cancelModal())},beforeAvatarUpload:function(){var e=this;return new Promise((function(t,a){e.$nextTick((function(){return t()}))}))},handleChangeFile:function(e,t,a){var i=e.size/1024/1024<5,n=e.raw.type;if("text/plain"==n){if(!i)return this.$message.error("文件大小不能超过 5MB!"),void(this.$refs["upload"].uploadFiles=[]);t.length>1&&t.splice(0,1),"success"!=e.status&&(this.model.fileName=e.name)}else this.$message.error("上传的文件格式不正确，请选择TXT文件(*.txt)文件！")},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var a=t.url[t.modalType],i=Object.assign({},t.model);if(i.keytype="1","import"==t.modalType)t.uploadObject=i,t.$refs.upload.submit();else{delete i.file,delete i.fileName;var n="post";t.$api.httpAction(a,i,n).then((function(e){200==e.code?(t.$sweetAlert.successWithTimer(e.msg),t.$emit("ok"),t.cancelModal()):t.$sweetAlert.errorWithTimer(e.msg)}))}}))},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}},o=r,l=(a("5a944"),a("2877")),c=Object(l["a"])(o,i,n,!1,null,"118e92ac",null);t["default"]=c.exports},"3b60":function(e,t,a){},"3bdc":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("div",{staticClass:"filter-container"},[a("el-checkbox",{model:{value:e.listQuery.startedByMe,callback:function(t){e.$set(e.listQuery,"startedByMe",t)},expression:"listQuery.startedByMe"}},[e._v("我发起的")]),a("el-checkbox",{model:{value:e.listQuery.ccToMe,callback:function(t){e.$set(e.listQuery,"ccToMe",t)},expression:"listQuery.ccToMe"}},[e._v("抄送我")]),a("el-checkbox",{model:{value:e.listQuery.unfinished,callback:function(t){e.$set(e.listQuery,"unfinished",t)},expression:"listQuery.unfinished"}},[e._v("未办结")]),a("el-checkbox",{model:{value:e.listQuery.finished,callback:function(t){e.$set(e.listQuery,"finished",t)},expression:"listQuery.finished"}},[e._v("已办结")])],1),a("div",[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程分类"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnMyInvolvedQuery(t)}},model:{value:e.listQuery.processDefinitionCategory,callback:function(t){e.$set(e.listQuery,"processDefinitionCategory",t)},expression:"listQuery.processDefinitionCategory"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程Key"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnMyInvolvedQuery(t)}},model:{value:e.listQuery.processDefinitionKey,callback:function(t){e.$set(e.listQuery,"processDefinitionKey",t)},expression:"listQuery.processDefinitionKey"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"业务主键KEY"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnMyInvolvedQuery(t)}},model:{value:e.listQuery.businessKey,callback:function(t){e.$set(e.listQuery,"businessKey",t)},expression:"listQuery.businessKey"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"启动人"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnMyInvolvedQuery(t)}},model:{value:e.listQuery.startedBy,callback:function(t){e.$set(e.listQuery,"startedBy",t)},expression:"listQuery.startedBy"}}),a("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnMyInvolvedQuery}},[a("i",{staticClass:"el-icon-search el-icon&#45;&#45;left"}),e._v("查询 "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnMyInvolvedReset(t)}}},[e._v("重置 ")])],1)],1)],1)]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.myInvolvedRecords,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}}},[a("el-table-column",{attrs:{label:"流程实例名称",prop:"name",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}])}),a("el-table-column",{attrs:{label:"业务主键Key",prop:"businessKey",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.businessKey))])]}}])}),a("el-table-column",{attrs:{label:"启动人",prop:"startUserId",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.startUserId))])]}}])}),a("el-table-column",{attrs:{label:"开始时间",prop:"startTime",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.startTime))])]}}])}),a("el-table-column",{attrs:{label:"结束时间",prop:"endTime",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.endTime))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[e._v("操作"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(i.id)}}},[e._v("查看详情 ")])],1)],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.myInvolvedTotal>0,expression:"myInvolvedTotal>0"}],attrs:{total:e.myInvolvedTotal,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}}),e.dialogViewVisible?a("process-detail",{attrs:{visible:e.dialogViewVisible,processInstanceId:e.processInstanceId},on:{"update:visible":function(t){e.dialogViewVisible=t}}}):e._e()],1)},n=[],s=a("333d"),r=a("0fea"),o=(a("5f87"),a("3579")),l={name:"FlowableMyProcessQuery",components:{ProcessDetail:o["default"],Pagination:s["default"]},data:function(){return{dicts:[],myInvolvedRecords:null,myInvolvedTotal:0,listQuery:{current:1,size:10,startedByMe:!1,ccToMe:!1,finished:!1,unfinished:!1,processDefinitionCategory:void 0,processDefinitionKey:void 0,processInstanceId:void 0,processInstanceName:void 0,businessKey:void 0},processInstanceId:"",dialogViewVisible:!1}},created:function(){this.$route.query&&(this.$route.query.processDefinitionCategory&&(this.listQuery.processDefinitionCategory=this.$route.query.processDefinitionCategory),this.$route.query.processDefinitionKey&&(this.listQuery.processDefinitionKey=this.$route.query.processDefinitionKey),this.$route.query.startedByMe&&(this.listQuery.startedByMe=this.$route.query.startedByMe),this.$route.query.ccToMe&&(this.listQuery.ccToMe=this.$route.query.ccToMe),this.$route.query.unfinished&&(this.listQuery.unfinished=this.$route.query.unfinished),this.$route.query.finished&&(this.listQuery.finished=this.$route.query.finished)),this.list()},methods:{list:function(){var e=this;Object(r["e"])("/flowable/processInstance/listMyInvolved",this.listQuery).then((function(t){var a=t.data;e.myInvolvedRecords=a.records,e.myInvolvedTotal=a.total}))},btnMyInvolvedQuery:function(){this.listQuery.current=1,this.list()},btnMyInvolvedReset:function(){this.listQuery={current:1,size:10,startedByMe:!1,ccToMe:!1,processDefinitionCategory:void 0,processInstanceId:void 0,processInstanceName:void 0,businessKey:void 0,startedBy:void 0,unfinished:!1,finished:!1},this.list()},btnView:function(e){this.processInstanceId=e,this.dialogViewVisible=!0}}},c=l,u=a("2877"),d=Object(u["a"])(c,i,n,!1,null,null,null);t["default"]=d.exports},"3c7b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[a("el-scrollbar",{staticStyle:{"overflow-y":"auto",height:"400px"}},[a("el-form",{attrs:{"label-width":"6rem"}},[e.fileData?a("el-row",{staticClass:"form-row"},[e.dataObj.id?e._e():a("div",e._l(e.columnList,(function(t,i){return a("el-col",{key:i,attrs:{span:8}},[a("el-form-item",{attrs:{label:t.label,prop:t.prop}},[a("el-input",{attrs:{type:"text",placeholder:"",disabled:""},model:{value:e.fileData[t.prop],callback:function(a){e.$set(e.fileData,t.prop,a)},expression:"fileData[item.prop]"}})],1)],1)})),1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"业务类型"}},[a("el-select",{attrs:{placeholder:"请选择业务类型"},model:{value:e.dataObj.busiType,callback:function(t){e.$set(e.dataObj,"busiType",t)},expression:"dataObj.busiType"}},[a("el-option",{attrs:{label:"事前审批单",value:0}}),a("el-option",{attrs:{label:"通用报销附件",value:1}}),a("el-option",{attrs:{label:"报销审批单",value:2}}),a("el-option",{attrs:{label:"会计凭证",value:3}})],1)],1)],1),e.dataObj.id?a("div",e._l(e.dataList,(function(t,i){return a("el-col",{key:i,attrs:{span:8}},[t.mark.indexOf(e.dataObj.busiType)>=0?a("el-form-item",{attrs:{label:t.label}},["text"==t.type?a("el-input",{attrs:{type:"text",placeholder:""},model:{value:e.dataObj[t.prop],callback:function(a){e.$set(e.dataObj,t.prop,a)},expression:"dataObj[item.prop]"}}):e._e(),"datetime"==t.type?a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":e.pickerOptions},model:{value:e.dataObj[t.prop],callback:function(a){e.$set(e.dataObj,t.prop,a)},expression:"dataObj[item.prop]"}}):e._e()],1):e._e()],1)})),1):e._e()],1):e._e()],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:collection:update",expression:"'sys:collection:update'"}],attrs:{type:"primary"},on:{click:e.update}},[e._v(" 保存 ")]),a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:collection:update",expression:"'sys:collection:update'"}],on:{click:e.cancel}},[e._v("取消")])],1)],1)},n=[],s=a("c1df"),r=a.n(s),o={name:"MetaData",components:{moment:r.a},props:{fileData:{type:Object,default:null},initData:{type:Object,default:null},cancelModal:{type:Function,default:null}},data:function(){return{permission:"",columnList:[{label:"文件名：",prop:"fileFprimalnam"},{label:"文件类型：",prop:"fileFormat"},{label:"文件大小：",prop:"fileSizeDesc"},{label:"上传人：",prop:"createUser"},{label:"修改时间：",prop:"updateTime"},{label:"上传时间：",prop:"createTime"},{label:"分组：",prop:"fileGroup"},{label:"稿本：",prop:"textItemDesc"}],dataList:[{label:"预立卷号：",prop:"code",type:"text",mark:"0,1,2,3"},{label:"会计年度：",prop:"kjYear",type:"text",mark:"0,1,2,3"},{label:"会计月份：",prop:"kjMonth",type:"text",mark:"0,1,2,3"},{label:"业务单编号：",prop:"busiNum",type:"text",mark:"0,1,2,3"},{label:"业务经手人：",prop:"busiUser",type:"text",mark:"0,1,2,3"},{label:"信息录入人：",prop:"enterUser",type:"text",mark:"0,1,2"},{label:"总金额：",prop:"total",type:"text",mark:"0,1,2"},{label:"预算代码：",prop:"budgetCode",type:"text",mark:"0,2,3"},{label:"预算信息名：",prop:"budgetInfo",type:"text",mark:"0,2,3"},{label:"审批时间：",prop:"approveTime",type:"datetime",mark:"0,2"},{label:"附件类型：",prop:"fileType",type:"text",mark:"1"},{label:"表单类型：",prop:"formType",type:"text",mark:"1"},{label:"报销分类：",prop:"reimCate",type:"text",mark:"2"},{label:"收款人：",prop:"payee",type:"text",mark:"2,3"},{label:"凭证时间：",prop:"certTime",type:"datetime",mark:"3"},{label:"凭证类型：",prop:"cartCate",type:"text",mark:"3"},{label:"附件张数：",prop:"fileNum",type:"text",mark:"3"},{label:"财务合计：",prop:"financialTotal",type:"text",mark:"3"},{label:"预算合计：",prop:"budgetTotal",type:"text",mark:"3"},{label:"会计主管：",prop:"accountingSupervisor",type:"text",mark:"3"},{label:"出纳：",prop:"cashier",type:"text",mark:"3"},{label:"复核：",prop:"review",type:"text",mark:"3"},{label:"复核时间：",prop:"reviewTime",type:"datetime",mark:"3"},{label:"出纳时间：",prop:"cashierTime",type:"datetime",mark:"3"},{label:"关键字列表：",prop:"keyword",type:"text",mark:"0,1,2,3"},{label:"创建时间：",prop:"createTime",type:"datetime",mark:"0,2,3"},{label:"创建人(制单)：",prop:"createUser",type:"text",mark:"3"},{label:"事由(摘要)：",prop:"remarks",type:"text",mark:"0,1,2,3"}],dataObj:{busiType:0,kjYear:"",kjMonth:"",busiNum:"",busiUser:"",enterUser:"",budgetCode:"",budgetInfo:"",remarks:"",approveTime:"",fileType:"",formType:"",reimCate:"",payee:"",certTime:"",cartCate:"",fileNum:"",financialTotal:"",budgetTotal:"",cashier:"",review:"",reviewTime:"",cashierTime:"",keyword:"",createTime:"",createUser:"",code:""}}},watch:{},computed:{},methods:{cancel:function(){this.cancelModal&&this.cancelModal()},pickerOptions:{shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]},update:function(){var e=this,t=this.dataObj;this.$set(t,"templateId",this.initData.templateId),this.$set(t,"othType",this.initData.othType),this.$set(t,"pid",this.initData.fileId),t.approveTime&&(t.approveTime=r()(new Date(t.approveTime)).format("YYYY-MM-DD hh:mm:ss")),t.createTime&&(t.createTime=r()(new Date(t.createTime)).format("YYYY-MM-DD hh:mm:ss")),t.certTime&&(t.certTime=r()(new Date(t.certTime)).format("YYYY-MM-DD hh:mm:ss")),t.reviewTime&&(t.reviewTime=r()(new Date(t.reviewTime)).format("YYYY-MM-DD hh:mm:ss")),t.cashierTime&&(t.cashierTime=r()(new Date(t.cashierTime)).format("YYYY-MM-DD hh:mm:ss"));var a="/file/setFileDate";this.$api.httpAction(a,t,"POST").then((function(t){200==t.code?(e.cancel(),e.$sweetAlert.successWithTimer(t.msg)):e.$sweetAlert.errorWithTimer(t.msg)}))}},created:function(){},mounted:function(){var e=this,t="/file/getFileDate";this.$api.httpAction(t,{id:this.initData.fileId},"POST").then((function(t){200==t.code?t.data&&(e.dataObj=t.data):e.$sweetAlert.errorWithTimer(t.msg)}))}},l=o,c=(a("28ac"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"6e48dfae",null);t["default"]=u.exports},"3c81":function(e,t,a){},"3d2a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},n=[],s=a("ade3"),r=a("313e"),o=a.n(r),l=a("cf45"),c={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var e=this;this.$_resizeHandler=Object(l["b"])((function(){e.chart&&e.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}};a("817d");var u={name:"",mixins:[c],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"200px"},dataInfo:{type:Object}},data:function(){return{chart:null}},computed:{title:function(){if(this.dataInfo)return this.dataInfo.title},legend:function(){if(this.dataInfo)return this.dataInfo.legend},subTitle:function(){if(this.dataInfo)return this.dataInfo.subTitle}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=o.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.expectedData,t.actualData;this.chart.setOption({text:"标题文本",title:{text:this.title,textStyle:(e={color:"#000",fontWeight:"bold",fontStyle:"normal"},Object(s["a"])(e,"fontWeight","bold"),Object(s["a"])(e,"fontFamily","sans-serif"),Object(s["a"])(e,"fontSize",14),e),subtext:this.subTitle},tooltip:{trigger:"axis"},legend:{data:[this.legend]},xAxis:{type:"category",boundaryGap:!1,axisLine:{lineStyle:{color:"#4488BB",width:1}},axisLabel:{textStyle:{}},data:this.dataInfo.xAxisArr},yAxis:{type:"value",axisLine:{lineStyle:{color:"#4488BB",width:1}},axisLabel:{formatter:"{value}",textStyle:{}}},series:[{name:this.legend,type:"line",color:["#FF7F50"],smooth:0,data:this.dataInfo.seriesArr,markPoint:{data:[{type:"max",name:"最大值"},{type:"min",name:"最小值"}]}}]})}}},d=u,p=a("2877"),f=Object(p["a"])(d,i,n,!1,null,"7b5af5ad",null);t["default"]=f.exports},"3da2":function(e,t,a){"use strict";a("b916")},"3e0c":function(e,t,a){"use strict";a("c521")},"3e13":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"max-height flex-column none-padding"},[a("div",{staticClass:"operate-box nowrap flex justify-between"},[a("div"),a("div",{staticClass:"flex"},[a("div"),e.dictCode?a("div",{staticClass:"flex padding-right-10"},["physical"==e.listType?a("div",{staticClass:"search-item-label"},[e._v(" 借阅状态： ")]):a("div",{staticClass:"search-item-label"},[e._v("审核状态：")]),a("dict-select-tag",{attrs:{"dict-code":e.dictCode,size:"mini",clearable:!0,placeholder:"请选择"},on:{change:function(t){return e.statusChange()}},model:{value:e.searchParams.status,callback:function(t){e.$set(e.searchParams,"status",t)},expression:"searchParams.status"}})],1):e._e(),e.tabsType?a("div",{staticClass:"flex padding-right-10"},[a("div",{staticClass:"search-item-label"},[e._v("搜索查阅人姓名：")]),a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{placeholder:"输入查阅人姓名",size:"mini",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryList(1)}},model:{value:e.searchParams.userName,callback:function(t){e.$set(e.searchParams,"userName",t)},expression:"searchParams.userName"}})],1):e._e(),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(t){return e.queryList(1)}}},[e._v(" 搜索 ")])],1)]),e.loading?e._e():a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"max-height table-box-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,"row-style":{cursor:"pointer"},stripe:!1},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick,"row-click":e.rowClick}})],1),e.selectPrint.show?a("select-print",{ref:"selectPrint",on:{close:function(t){e.selectPrint.show=!1}}}):e._e(),e.evaluate.show?a("evaluate-modal",{ref:"evaluate",on:{close:function(t){e.evaluate.show=!1}}}):e._e(),e.postpone.show?a("postpone-modal",{ref:"postpone",on:{close:function(t){e.postpone.show=!1},ok:e.postponeOperate}}):e._e(),e.approve.show?a("approve-modal",{ref:"approve",on:{close:function(t){e.approve.show=!1},ok:e.approveOperate}}):e._e(),e.lend.show?a("lend-modal",{ref:"lend",attrs:{dictOptionsObject:e.dictOptionsObject},on:{close:function(t){e.lend.show=!1},ok:e.lendOperate}}):e._e()],1)},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("a9e3"),a("a15b"),a("d81d"),a("f7c4")),l=a("3f19"),c=a("2e5f"),u=a("c5d4"),d=a("5c13"),p=a("a26b"),f=a("220c"),m=a("7834"),h=a("0779"),b={name:"NoticeList",mixins:[l["a"]],components:{foxTable:o["a"],BtnList:c["default"],SelectPrint:u["default"],EvaluateModal:d["default"],PostponeModal:p["default"],ApproveModal:f["default"],LendModal:m["default"],DictSelectTag:h["default"]},props:{isRead:{type:String|Number,default:""},listType:{type:String,default:""},tabsType:{type:String,default:""},borrowType:{type:String,default:""},manageType:{type:Boolean,default:!1},auditStatus:{type:String,default:""},dictOptionsObject:{type:Object,default:null}},data:function(){return{searchText:"",selectPrint:{show:!1,title:"",loading:!1},evaluate:{show:!1,title:""},approve:{show:!1,obj:null,title:"审批"},lend:{show:!1,obj:null,title:"借出档案"},postpone:{show:!1,obj:null,title:""},modify:{show:!1,status:"create",textMap:{update:"编辑",create:"添加",check:"查看"},loading:!1},url:{borrowerRecodeByUserId:"/borrowCar/borrowerRecodeByUserId",queryBorrowerApplyByUserName:"/borrowCar/queryBorrowerApplyByUserName",borrowerRecodeByObject:"/borrowCar/borrowerRecodeByObject",queryToTasken:"/borrowCar/queryToTasken",deleteRegister:"/borrowCar/deleteRegister",urgeToReturn:"/borrowCar/urgeToReturn",borrowReturn:"/borrowCar/borrowReturn",postpone:"/borrowCar/updateApplyDate",approve:"/borrowCar/arcamelExamine",lend:"/borrowCar/LendRejection",refuse:"/borrowCar/LendRejection"},searchParams:{userName:"",status:"",sortCode:"2"},sortCodeList:[{value:"2",name:"时间降序"},{value:"1",name:"时间升序"}],detailItem:null,model:null,pageIdx:0,columnList:[],loading:!1}},watch:{},computed:{dictCode:function(){var e="audit_status_personal",t="borrow_status_personal";return"records"==this.tabsType&&(e="audit_status_manage",t="borrow_status_manage"),"electronic"==this.listType||"museum"==this.listType?e:"physical"==this.listType?t:""},stateList:function(){var e=[{value:"0",name:"待审核"},{value:"1",name:"已通过"},{value:"2",name:"已拒绝"}],t=[{value:"0",name:"待审核"},{value:"1",name:"待领取"},{value:"2",name:"待归还"},{value:"3",name:"已归还"},{value:"4",name:"已超期"},{value:"5",name:"已拒绝"}];return"records"==this.tabsType&&(e=[{value:"1",name:"已审核"},{value:"2",name:"已拒绝"}],t=[{value:"0",name:"已借出"},{value:"1",name:"已归还"},{value:"2",name:"已拒绝"},{value:"3",name:"已超期"}]),"electronic"==this.listType||"museum"==this.listType?e:"physical"==this.listType?t:[]}},methods:{init:function(e){this.model=e,this.queryList(1)},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[]});var t=this.listType;this.listType||(t=this.tabsType);var a=[];switch(t){case"electronic":a=[{label:"查阅人姓名",prop:"APPLY_USER"},{label:"联系电话",prop:"MOBILE"},{label:"档案利用目的",prop:"REASON_distext"},{label:"申请时间",prop:"STAR_TIME",sortable:!0},{label:"借阅天数",prop:"BORROW_DAY"},{label:"归还时间",prop:"END_TIME",sortable:!0}];break;case"physical":a=[{label:"查阅人姓名",prop:"APPLY_USER"},{label:"联系电话",prop:"MOBILE"},{label:"档案利用目的",prop:"REASON_distext"},{label:"申请时间",prop:"STAR_TIME",sortable:!0},{label:"到馆时间",prop:"ARRIVAL_TIME",sortable:!0},{label:"归还时间",prop:"END_TIME",sortable:!0}];break;case"museum":a=[{label:"查阅人姓名",prop:"APPLY_USER"},{label:"联系电话",prop:"MOBILE"},{label:"档案利用目的",prop:"REASON_distext"},{label:"申请时间",prop:"STAR_TIME",sortable:!0},{label:"到馆时间",prop:"ARRIVAL_TIME",sortable:!0},{label:"利用形式",prop:"UTILIZATION_MODE_distext"}];break;case"sent":case"taken":a=[{label:"查阅人姓名",prop:"APPLY_USER"},{label:"联系电话",prop:"MOBILE"},{label:"档案利用目的",prop:"REASON_distext"},{label:"申请时间",prop:"STAR_TIME",sortable:!0}];break;case"register":a=[{label:"查阅人姓名",prop:"APPLY_USER"},{label:"联系电话",prop:"MOBILE"},{label:"申请时间",prop:"STAR_TIME",sortable:!0},{label:"借阅方式",prop:""},{label:"档案利用目的",prop:"REASON_distext"}];break;default:break}if(this.table.column=a,this.listType&&!this.tabsType){var i={label:"状态",width:100,prop:"oper",render:function(e,t){var a=t.row,i=[],n=null;1==a.STATUS?0==a.RETURNCODE?n={content:"待归还",color:"#E6A23C",type:"text",cursor:"default",event:function(){}}:1==a.RETURNCODE?n={content:"即将到期",color:"#E6A23C",type:"text",cursor:"default",event:function(){}}:2==a.RETURNCODE?n={content:"已超期",color:"#F56C6C",type:"text",cursor:"default",event:function(){}}:3==a.RETURNCODE?n={content:"已归还",color:"#67C23A",type:"text",cursor:"default",event:function(){}}:4==a.RETURNCODE&&(n={content:"待领取",color:"#E6A23C",type:"text",cursor:"default",event:function(){}}):0==a.STATUS?n={content:"审核中",color:"#E6A23C",type:"text",cursor:"default",event:function(){}}:2==a.STATUS&&(n={content:"审批失败",color:"#F56C6C",type:"text",cursor:"default",event:function(){}}),n&&i.push(n);return e(c["default"],{attrs:{btnInfo:i}})}};this.table.column.push(i)}var n=null;"records"==this.tabsType?"physical"==this.listType&&(n={label:"状态",width:180,prop:"oper",render:function(t,a){var i=a.row,n=[],s=i.BUTTON_TYPE;if("1"==s?n=[{content:"延期",color:"#E6A23C",type:"text",event:function(){e.operate(i,"postpone")}}]:"2"==s&&(n=[{content:"催还",color:"#E6A23C",type:"text",event:function(){e.operate(i,"urgeToReturn")}}]),1==i.STATUS&&3!=i.RETURNCODE){var r={content:"归还 ",color:"#E6A23C",type:"text",event:function(){e.operate(i,"borrowReturn")}};n.push(r)}if("0"==i.STATUS){var o={content:"审批",color:"#E6A23C",type:"text",event:function(){e.operate(i,"approve")}};n.push(o)}return t(c["default"],{attrs:{btnInfo:n}})}}):"sent"==this.tabsType||("taken"==this.tabsType?n={label:"状态",width:180,prop:"oper",render:function(t,a){var i=a.row,n=[],s=(i.BUTTON_TYPE,{content:"借出",color:"#E6A23C",type:"text",event:function(){e.operate(i,"lend")}});n.push(s);var r={content:"拒绝",color:"#E6A23C",type:"text",event:function(){e.operate(i,"refuse")}};return n.push(r),t(c["default"],{attrs:{btnInfo:n}})}}:"register"==this.tabsType&&(n={label:"状态",width:180,prop:"oper",render:function(t,a){var i=a.row,n=[{content:"删除",color:"#F56C6C",type:"text",event:function(){e.operate(i,"deleteRegister")}}];return t(c["default"],{attrs:{btnInfo:n}})}})),n&&this.table.column.push(n),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},check:function(e){var t=this;this.modify.status="check",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)})),1==e.isRead&&this.addNoticeUser(e)},update:function(e){var t=this;this.modify.status="update",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)}))},statusChange:function(){this.loading=!0,"records"==this.tabsType&&"physical"==this.listType&&this.setTableColumn(),this.queryList(1)},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o,l,c,u,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),i=t.url.borrowerRecodeByUserId,n={page:t.page.pageNum,limit:t.page.pageSize,borrowType:t.borrowType,status:t.searchParams.status,sortCode:t.searchParams.sortCode,t:(new Date).getTime()},t.tabsType&&(i=t.url.queryBorrowerApplyByUserName,"taken"==t.tabsType&&(i=t.url.queryToTasken),n=Object(r["a"])(Object(r["a"])({},n),{},{userName:t.searchParams.userName}),s=0,"records"==t.tabsType?("physical"==t.listType&&(i=t.url.borrowerRecodeByObject),s=1):"register"==t.tabsType&&(s=2),s>0&&(n=Object(r["a"])(Object(r["a"])({},n),{},{opeType:s}))),o="post",a.next=8,t.$api.httpAction(i,n,o);case 8:l=a.sent,c=l.data,u=c.count,d=c.data,t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*u}),t.$emit("clear"),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:d})})),t.loading=!1,t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 15:case"end":return a.stop()}}),a)})))()},operate:function(e,t){var a=this,i=null,n="",s=null;switch(t){case"evaluate":this.evaluate.show=!0,this.$nextTick((function(){a.$refs.evaluate.init()}));break;case"detail":this.$emit("detail",e);break;case"print":this.selectPrint.show=!0;var r=e;this.$nextTick((function(){a.$refs.selectPrint.init(r)}));break;case"deleteRegister":i={id:e.ID};break;case"urgeToReturn":i={userId:e.CREATE_USER};break;case"borrowReturn":n="您确定归还档案的操作？",s={applyId:e.ID},this.operateBeforeConfirm(e,t,s,n);break;case"approve":s={id:e.ID},this.approve.show=!0,this.$nextTick((function(){a.$refs.approve.init(s)}));break;case"postpone":this.postpone.show=!0,this.postpone.obj=e,this.$nextTick((function(){a.$refs.postpone.init()}));break;case"lend":this.lend.show=!0,this.$nextTick((function(){a.$refs.lend.init({applyId:e.ID})}));break;case"refuse":n="是否确认拒绝该借阅申请单？",s={applyId:e.ID,type:"2"},this.operateBeforeConfirm(e,t,s,n);break;default:break}i&&this.operateMethod(i,t)},operateBeforeConfirm:function(e,t,a,i){var n=this;this.$confirm(i,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n.operateMethod(a,t)})).catch((function(){}))},operateMethod:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var n,s,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:n=a.url[t],s=e,r="post",a.$api.httpAction(n,s,r).then((function(e){200==e.code?(a.$sweetAlert.successWithTimer(e.msg),a.queryList(1)):a.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")}));case 4:case"end":return i.stop()}}),i)})))()},lendOperate:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.queryList(1);case 1:case"end":return t.stop()}}),t)})))()},approveOperate:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=t.url.approve,n=Object(r["a"])({},e),s="post",t.$api.httpAction(i,n,s).then((function(e){200==e.code?(t.$sweetAlert.successWithTimer(e.msg),t.queryList(1)):t.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){t.$sweetAlert.errorWithTimer("error")}));case 5:case"end":return a.stop()}}),a)})))()},postponeOperate:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=t.url.postpone,n={applyId:t.postpone.obj.ID,endTime:t.postpone.obj.END_TIME,day:e.num},s="post",t.$api.httpAction(i,n,s).then((function(e){200==e.code?(t.$sweetAlert.successWithTimer(e.msg),t.queryList(1)):t.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){t.$sweetAlert.errorWithTimer("error")}));case 5:case"end":return a.stop()}}),a)})))()},rowClick:function(e,t){var a={applyId:e.ID,status:e.STATUS,returnCode:e.RETURNCODE};this.detailItem=a,this.$emit("detail",a)},btnClick:function(e){var t=this.selectionMsg(e);if(t)this.$sweetAlert.warnWithTimer(t);else{var a=this.table.selection.map((function(e){return e.id})).join(",");this.operate(a,e)}},selectionMsg:function(){var e="",t=this.table.selection.length;return 0==t&&(e="至少选择一条记录","print"==e&&(e="请选择要打印的数据！")),e}},created:function(){this.auditStatus&&"physical"==this.listType&&(this.searchParams.status=this.auditStatus),this.setTableColumn(),this.queryList(1)},mounted:function(){}},g=b,v=(a("fefb"),a("2877")),y=Object(v["a"])(g,i,n,!1,null,"6490a441",null);t["default"]=y.exports},"3e3b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("newVisitis")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v(" New Visits ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":102400,duration:2600}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("messages")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("svg-icon",{attrs:{"icon-class":"message","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v(" Messages ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":81212,duration:3e3}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("purchases")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"money","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v(" Purchases ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":9280,duration:3200}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(t){return e.handleSetLineChartData("shoppings")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"shopping","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v(" Shoppings ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":13600,duration:3600}})],1)])])],1)},n=[],s=a("ec1b"),r=a.n(s),o={components:{CountTo:r.a},methods:{handleSetLineChartData:function(e){this.$emit("handleSetLineChartData",e)}}},l=o,c=(a("6a21"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"269cc66e",null);t["default"]=u.exports},"3f3a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%","padding-top":"15px"},attrs:{data:e.list}},[a("el-table-column",{attrs:{label:"Order_No","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e._f("orderNoFilter")(t.row.order_no))+" ")]}}])}),a("el-table-column",{attrs:{label:"Price",width:"195",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" ¥"+e._s(e._f("toThousandFilter")(t.row.price))+" ")]}}])}),a("el-table-column",{attrs:{label:"Status",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-tag",{attrs:{type:e._f("statusFilter")(i.status)}},[e._v(" "+e._s(i.status)+" ")])]}}])})],1)},n=[],s={filters:{statusFilter:function(e){var t={success:"success",pending:"danger"};return t[e]},orderNoFilter:function(e){return e.substring(0,30)}},data:function(){return{list:null}},created:function(){this.fetchData()},methods:{fetchData:function(){}}},r=s,o=a("2877"),l=Object(o["a"])(r,i,n,!1,null,null,null);t["default"]=l.exports},"3f4b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"发起流程",visible:e.dialogStartProcessVisibleInChild,fullscreen:!1},on:{"update:visible":function(t){e.dialogStartProcessVisibleInChild=t}}},[e.generateStartFormVisible?a("div",[a("form-parser",{ref:"generateStartForm",attrs:{data:e.startFormJson}})],1):e._e(),a("select-user",{ref:"selectUser",attrs:{visible:e.selectUserVisible,appendToBody:!0,multipleSelect:!0},on:{"update:visible":function(t){e.selectUserVisible=t},selectUserFinished:e.selectUserFinished}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-form",{attrs:{"label-width":"100px"}},[e.showBusinessKey?a("el-form-item",{attrs:{label:"业务主键Key:"}},[a("el-input",{attrs:{placeholder:"请输入业务主键Key"},model:{value:e.businessKey,callback:function(t){e.businessKey=t},expression:"businessKey"}})],1):e._e(),a("el-form-item",{attrs:{label:"抄送给:"}},[a("el-row",{attrs:{align:"left"}},[a("el-col",{attrs:{span:1,align:"left"}},[a("i",{staticClass:"el-icon-plus el-icon--left",staticStyle:{cursor:"pointer"},on:{click:e.doSelectCcTo}})]),a("el-col",{attrs:{span:23,align:"left"}},e._l(e.ccToVos,(function(t){return a("el-tag",{key:t.userId,staticStyle:{"margin-left":"5px"},attrs:{effect:"plain",closable:""},on:{close:function(a){return e.handleCcToClose(t)}}},[e._v(e._s(t.userName)+" ")])})),1)],1)],1)],1),a("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogStartProcessVisibleInChild=!1}}},[e._v("取消")]),a("el-button",{attrs:{icon:"el-icon-close"},on:{click:e.reset}},[e._v("重置")]),a("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:e.doStartInstance}},[e._v("确定 ")])],1)],1)},n=[],s=(a("a434"),a("0fea")),r=(a("5c96"),a("c4f3")),o=a("ef35"),l={name:"StartProcess",components:{SelectUser:r["default"],FormParser:o["default"]},props:{visible:{type:Boolean,default:function(){return!1}},processDefinition:{type:Object,default:function(){return{}}}},computed:{dialogStartProcessVisibleInChild:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},data:function(){return{generateStartFormVisible:!1,startFormJson:void 0,variables:void 0,showBusinessKey:!1,businessKey:void 0,selectUserVisible:!1,ccToVos:[]}},created:function(){this.initData()},methods:{initData:function(){var e=this;Object(s["e"])("/flowable/processDefinition/renderedStartForm",{processDefinitionId:this.processDefinition.id}).then((function(t){var a=t.data;e.showBusinessKey=a.showBusinessKey,a.renderedStartForm&&(e.startFormJson=JSON.parse(a.renderedStartForm),e.generateStartFormVisible=!0)}))},doSelectCcTo:function(){this.selectUserVisible=!0,0==this.$refs.selectUser.treeData.length&&this.$refs.selectUser.getTreeData()},selectUserFinished:function(e){e&&0!=e.length?this.ccToVos=e:this.$sweetAlert.warnWithTimer("请先选择用户")},handleCcToClose:function(e){this.ccToVos.splice(this.ccToVos.indexOf(e),1)},doStartInstance:function(){var e=this;this.$refs.generateStartForm?this.$refs.generateStartForm.getData().then((function(t){if(t&&void 0!=t){var a=JSON.stringify(t),i=Object.assign({processInstanceFormData:a},t);return Object(s["g"])("/flowable/processInstance/start",{processDefinitionId:e.processDefinition.id,businessKey:e.businessKey,values:i,ccToVos:e.ccToVos}).then((function(t){var a=t.msg;e.$sweetAlert.successWithTimer(a),e.dialogStartProcessVisibleInChild=!1}))}})).catch((function(e){})):Object(s["g"])("/flowable/processInstance/start",{processDefinitionId:this.processDefinition.id,businessKey:this.businessKey,ccToVos:this.ccToVos}).then((function(t){var a=t.msg;e.$sweetAlert.successWithTimer(a),e.dialogStartProcessVisibleInChild=!1}))},reset:function(){this.$refs.generateStartForm.resetFields(),this.ccToVos=[]}}},c=l,u=a("2877"),d=Object(u["a"])(c,i,n,!1,null,null,null);t["default"]=d.exports},4108:function(e,t,a){"use strict";a("2272")},4195:function(e,t,a){"use strict";a("8917")},"430b":function(e,t,a){"use strict";a("4e9e")},4397:function(e,t,a){"use strict";a("1c96")},4402:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,width:"800px",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"app-container none-shadow"},[a("div",{staticClass:"flex push-box"},[a("div",{staticClass:"tips-box"},[a("div",{staticClass:"flex tips-title"},[e._v(" 选中的档案将会推送给以下用户 "),a("div",{staticClass:"required-box"},[e._v("(48小时内有效)")])]),a("el-button",{attrs:{type:"default"},on:{click:e.selectUserClick}},[e._v(" 选择用户 ")]),a("div",{staticClass:"tag-list"},e._l(e.userList,(function(t,i){return a("el-tag",{key:i,staticClass:"tag-item",attrs:{closable:"","disable-transitions":!0,type:t.success},on:{close:function(a){return e.handleClose(t)}}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),a("div",{staticClass:"flex-column option-item-list"},[a("div",{staticClass:"flex"},[a("div",{staticClass:"label-item required-box"},[e._v("授予权限")]),a("div",{staticClass:"option-item"},e._l(e.permissionList,(function(t,i){return a("div",{key:i,staticClass:"auth-item"},[e.model.auth.includes(t.label)?a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.authBtnClick(t)}}},[e._v(" "+e._s(t.name)),a("i",{staticClass:"el-icon-check"})]):a("el-button",{on:{click:function(a){return e.authBtnClick(t)}}},[e._v(" "+e._s(t.name)+" ")])],1)})),0)]),a("div",{staticClass:"flex"},[a("div",{staticClass:"label-item required-box"},[e._v("档案利用目的")]),a("div",{staticClass:"option-item"},[a("dict-select-tag",{attrs:{"dict-code":"utilize_purpose",size:"large",placeholder:"请选择"},model:{value:e.model.reason,callback:function(t){e.$set(e.model,"reason",t)},expression:"model.reason"}})],1)]),a("div",{staticClass:"flex"},[a("div",{staticClass:"label-item"},[e._v("备注：")]),a("div",{staticClass:"option-item"},[a("el-input",{attrs:{autosize:{minRows:6,maxRows:6},type:"textarea"},model:{value:e.model.remarkes,callback:function(t){e.$set(e.model,"remarkes",t)},expression:"model.remarkes"}})],1)])])])]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("取消")])],1)]):e._e(),e.user.show?a("select-user",{ref:"user",attrs:{title:e.user.title},on:{close:function(t){e.user.show=!1},ok:e.setUserList}}):e._e()],1)},n=[],s=(a("159b"),a("b0c0"),a("caad"),a("2532"),a("a434"),a("4de4"),a("a15b"),a("d81d"),a("0866")),r=a("0779"),o={name:"PushModal",components:{SelectUser:s["default"],DictSelectTag:r["default"]},props:{title:{type:String,default:"电子借阅-推送"}},data:function(){return{user:{show:!1,title:"选择用户",loading:!1},formBuildShow:!1,initData:{},formTemplate:{},model:{auth:[],reason:"",remarkes:""},visible:!1,loading:!1,url:{borrowerCarPush:"/borrowCar/borrowerCarPush"},permissionList:[{label:"1",name:"查看原文(有水印)"},{label:"2",name:"查看原文(无水印)"},{label:"3",name:"下载原文"},{label:"4",name:"打印原文(有水印)"},{label:"5",name:"打印原文(无水印)"}],purposeList:[{label:"XJLY",name:"学籍利用"},{label:"BSXZ",name:"编史修志"},{label:"GZKC",name:"工作考察"},{label:"XSYJ",name:"学术研究"},{label:"JJJS",name:"经济建设"},{label:"XCJY",name:"宣传教育"},{label:"QT",name:"其它"}],userList:[],dataList:[]}},computed:{},created:function(){},methods:{setUserList:function(e){var t=this;e.list.forEach((function(e){var a={id:e.id,name:e.name};t.userList.push(a)}));var a={};this.userList=this.userList.reduce((function(e,t){return!a[t.id]&&(a[t.id]=e.push(t)),e}),[])},authBtnClick:function(e){var t=this,a=e.label,i=this.model.auth.includes(a);i?this.model.auth.splice(this.model.auth.indexOf(a),1):this.model.auth.push(e.label);var n=["1","2"],s=["4","5"],r=n.every((function(e){return t.model.auth.includes(e)})),o=s.every((function(e){return t.model.auth.includes(e)}));if(r||o){var l=this.model.auth.pop();r?this.model.auth=this.model.auth.filter((function(e){return!n.includes(e)})):o&&(this.model.auth=this.model.auth.filter((function(e){return!s.includes(e)}))),this.model.auth.push(l)}},handleClose:function(e){this.userList.splice(this.userList.indexOf(e),1)},resetForm:function(e){var t=this;this.$nextTick((function(){t.$refs[e].resetFields()}))},init:function(e){this.visible=!0,this.dataList=e.list},selectUserClick:function(){var e=this;this.user.show=!0,this.$nextTick((function(){e.$refs.user.init()}))},submit:function(){var e=this,t="";if(0==this.userList.length)t="请您勾选需要推送的用户!";else if(0==this.model.auth.length)t="请选择查看原文权限，否则无法推送";else{var a=this.model.auth,i=["1","2"],n=i.some((function(e){return a.includes(e)}));n||(t="请选择查看原文权限，否则无法推送")}if(t)this.$sweetAlert.warnWithTimer(t);else{var s=Object.assign({},this.model);s.ifhas_printing=-1,s.ifhas_download=-1,s.ifhas_watermark=-1;var r=this.model.auth;r.includes("1")?s.ifhas_watermark=1:r.includes("2")&&(s.ifhas_watermark=0),r.includes("4")?s.ifhas_printing=1:r.includes("5")&&(s.ifhas_printing=0),r.includes("3")&&(s.ifhas_download=1),delete s.auth,s.apply_user=this.userList.map((function(e){return e.id})).join(","),s.user_name=this.userList.map((function(e){return e.name})).join(",");var o=JSON.stringify({data:this.dataList,form:s}),l={json:o},c=this.url.borrowerCarPush,u="post";this.$api.httpAction(c,l,u).then((function(t){e.loading=!1,200==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.$emit("ok"),e.cancelModal()):e.$sweetAlert.errorWithTimer(t.msg)}))}},cancelModal:function(){this.visible=!1,this.$emit("close")}}},l=o,c=(a("79bcf"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"4f656254",null);t["default"]=u.exports},4432:function(e,t,a){},"449e":function(e,t,a){"use strict";a("f65a")},"452d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-bottom":"6px"}},[a("el-row",{staticStyle:{height:"100%"},attrs:{gutter:6}},[a("el-col",{staticStyle:{"font-size":"18px",height:"100%"},attrs:{span:4}},[a("el-card",{staticStyle:{height:"260px",overflow:"auto"}},[a("i",{staticClass:"el-icon-s-custom",staticStyle:{color:"#87CEEB","font-size":"34px",display:"block","margin-left":"38%"}}),a("span",{staticStyle:{"text-align":"center",display:"inline-block",margin:"0 auto",width:"100%"}},[e._v(e._s(e.userInfo.userName))]),a("div",{staticStyle:{"margin-top":"8px","font-size":"16px","padding-left":"6px"}},[a("div",{directives:[{name:"has",rawName:"v-has",value:"sys:archverify:waitgo",expression:"'sys:archverify:waitgo'"}],staticStyle:{"margin-top":"8px"}},[a("span",[e._v("待送审：")]),a("span",[e._v(e._s(e.userData.waitTransfer))])]),a("div",{directives:[{name:"has",rawName:"v-has",value:"sys:archverify:ongoing",expression:"'sys:archverify:ongoing'"}],staticStyle:{"margin-top":"8px"}},[a("span",[e._v("送审中：")]),a("span",[e._v(e._s(e.userData.doTransfer))])]),a("div",{directives:[{name:"has",rawName:"v-has",value:"sys:archverify:has",expression:"'sys:archverify:has'"}],staticStyle:{"margin-top":"8px"}},[a("span",[e._v("已送审：")]),a("span",[e._v(e._s(e.userData.alreadyTransfer))])]),a("div",{directives:[{name:"has",rawName:"v-has",value:"sys:archverify:alcancel",expression:"'sys:archverify:alcancel'"}],staticStyle:{"margin-top":"8px"}},[a("span",[e._v("已撤回：")]),a("span",[e._v(e._s(e.userData.alreadyRetrace))])]),a("div",{directives:[{name:"has",rawName:"v-has",value:"sys:archverify:accept",expression:"'sys:archverify:accept'"}],staticStyle:{"margin-top":"8px"}},[a("span",[e._v("待接收：")]),a("span",[e._v(e._s(e.userData.waitAccept))])]),a("div",{directives:[{name:"has",rawName:"v-has",value:"sys:archverify:accepted",expression:"'sys:archverify:accepted'"}],staticStyle:{"margin-top":"8px"}},[a("span",[e._v("已接收：")]),a("span",[e._v(e._s(e.userData.alreadyAccept))])])])])],1),a("el-col",{attrs:{span:20}},[a("el-row",{attrs:{gutter:6}},[a("el-col",{attrs:{span:6}},[a("el-card",[a("div",{staticStyle:{width:"100%"}},[a("span",[e._v("在线人数")]),a("i",{staticClass:"el-icon-warning-outline",staticStyle:{float:"right"}})]),a("div",{staticStyle:{"margin-top":"32px","font-size":"29px",width:"90%"}},[a("i",{staticClass:"el-icon-user",staticStyle:{"font-size":"27px","padding-bottom":"5px",color:"#3E50B3"}}),a("span",{staticStyle:{"margin-left":"12px"}},[e._v(e._s(e.TopData.onlineUserTotal))])])])],1),a("el-col",{attrs:{span:6}},[a("el-card",[a("div",{staticStyle:{width:"100%"}},[a("span",[e._v("注册用户")]),a("i",{staticClass:"el-icon-warning-outline",staticStyle:{float:"right"}})]),a("div",{staticStyle:{"margin-top":"32px","font-size":"29px",width:"90%"}},[a("i",{staticClass:"el-icon-user-solid",staticStyle:{"font-size":"27px","padding-bottom":"5px",color:"#87CEEB"}}),a("span",{staticStyle:{"margin-left":"12px"}},[e._v(e._s(e.TopData.allUsers))])])])],1),a("el-col",{attrs:{span:6}},[a("el-card",[a("div",{staticStyle:{width:"100%"}},[a("span",[e._v("今日采集(案卷)")]),a("i",{staticClass:"el-icon-warning-outline",staticStyle:{float:"right"}})]),a("div",{staticStyle:{"margin-top":"32px","font-size":"29px",width:"90%"}},[a("i",{staticClass:"el-icon-folder",staticStyle:{"font-size":"27px","padding-bottom":"5px",color:"#FFA500"}}),a("span",{staticStyle:{"margin-left":"12px"}},[e._v(e._s(e.TopData.indexVolTotal))])])])],1),a("el-col",{attrs:{span:6}},[a("el-card",[a("div",{staticStyle:{width:"100%"}},[a("span",[e._v("今日采集(单件)")]),a("i",{staticClass:"el-icon-warning-outline",staticStyle:{float:"right"}})]),a("div",{staticStyle:{"margin-top":"32px","font-size":"29px",width:"90%"}},[a("i",{staticClass:"el-icon-folder-opened",staticStyle:{"font-size":"27px","padding-bottom":"5px",color:"#D2691E"}}),a("span",{staticStyle:{"margin-left":"12px"}},[e._v(e._s(e.TopData.indexDocTotal))])])])],1)],1),a("el-row",{staticStyle:{"margin-top":"5px"},attrs:{gutter:6}},[a("el-col",{attrs:{span:6}},[a("el-card",[a("div",{staticStyle:{width:"100%"}},[a("span",[e._v("采集总量(案卷)")]),a("i",{staticClass:"el-icon-warning-outline",staticStyle:{float:"right"}})]),a("div",{staticStyle:{"margin-top":"32px","font-size":"29px",width:"90%"}},[a("i",{staticClass:"el-icon-info",staticStyle:{"font-size":"27px","padding-bottom":"5px",color:"#B0C4DE"}}),a("span",{staticStyle:{"margin-left":"12px"}},[e._v(e._s(e.TopData.indexAllVolTotal))])])])],1),a("el-col",{attrs:{span:6}},[a("el-card",[a("div",{staticStyle:{width:"100%"}},[a("span",[e._v("采集总量(单件)")]),a("i",{staticClass:"el-icon-warning-outline",staticStyle:{float:"right"}})]),a("div",{staticStyle:{"margin-top":"32px","font-size":"29px",width:"90%"}},[a("i",{staticClass:"el-icon-warning-outline",staticStyle:{"font-size":"27px","padding-bottom":"5px",color:"#6495ED"}}),a("span",{staticStyle:{"margin-left":"12px"}},[e._v(e._s(e.TopData.indexAllDocTotal))])])])],1),a("el-col",{attrs:{span:6}},[a("el-card",[a("div",{staticStyle:{width:"100%"}},[a("span",[e._v("送审档案(案卷)")]),a("i",{staticClass:"el-icon-warning-outline",staticStyle:{float:"right"}})]),a("div",{staticStyle:{"margin-top":"32px","font-size":"29px",width:"90%"}},[a("i",{staticClass:"el-icon-folder-checked",staticStyle:{"font-size":"27px","padding-bottom":"5px",color:"#FFD700"}}),a("span",{staticStyle:{"margin-left":"12px"}},[e._v(e._s(e.TopData.indexVolTotal))])])])],1),a("el-col",{attrs:{span:6}},[a("el-card",[a("div",{staticStyle:{width:"100%"}},[a("span",[e._v("送审档案(单件)")]),a("i",{staticClass:"el-icon-warning-outline",staticStyle:{float:"right"}})]),a("div",{staticStyle:{"margin-top":"32px","font-size":"29px",width:"90%"}},[a("i",{staticClass:"el-icon-document",staticStyle:{"font-size":"27px","padding-bottom":"5px",color:"#DAA520"}}),a("span",{staticStyle:{"margin-left":"12px"}},[e._v(e._s(e.TopData.indexDocTotal))])])])],1)],1)],1)],1)],1)},n=[],s=a("5530"),r=a("2f62"),o={name:"",props:{TopData:{type:Object}},computed:Object(s["a"])({},Object(r["c"])(["userInfo"])),created:function(){this.queryUserData()},data:function(){return{userData:{}}},methods:{queryUserData:function(){var e=this;this.$api.httpAction("/transferForm/stat",{},"post").then((function(t){"200"==t.code&&(e.userData=t.data)}))}}},l=o,c=a("2877"),u=Object(c["a"])(l,i,n,!1,null,"07b1fb3d",null);t["default"]=u.exports},4673:function(e,t,a){},"47d2":function(e,t,a){},"49b6":function(e,t,a){},"4b48":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("div",{staticClass:"info"},[e._v(" "+e._s(e.info)+" ")]),a("div",{staticClass:"remark"},[a("el-input",{attrs:{type:"textarea",rows:16,placeholder:""},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 保存 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("取消")])],1)]):e._e()},n=[],s={name:"FullText",components:{},props:{title:{type:String,default:"全文数据"},info:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,model:null,remark:""}},computed:{},created:function(){},methods:{init:function(e){this.visible=!0},submit:function(){},cancelModal:function(){this.visible=!1,this.$emit("close")}}},r=s,o=(a("cab6"),a("2877")),l=Object(o["a"])(r,i,n,!1,null,"314dd308",null);t["default"]=l.exports},"4bf61":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container tab-pane-box"},[a("el-tabs",{staticClass:"max-height flex-column",attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.tabsList,(function(t,i){return a("el-tab-pane",{key:i,attrs:{label:t.label,name:t.name,lazy:""}},[e.activeName==t.name?a("div",{staticClass:"max-height",class:{"manage-panel-box":"pictures"==t.type}},["pictures"==t.type?a("picture-list",{attrs:{tabsType:t.name,manageType:!0}}):a("info-list",{attrs:{tabsType:t.name,label:t.label,manageType:!0}})],1):e._e()])})),1)],1)},n=[],s=a("8650"),r=a("16c1"),o={name:"EleSignatureIndex",components:{InfoList:s["default"],PictureList:r["default"]},props:{},data:function(){return{activeName:"pictures",content:"",tabsList:[{label:"印章图片",name:"pictures",type:"pictures"},{label:"印章信息",name:"infos"}]}},watch:{},computed:{},methods:{handleClick:function(e,t){}},created:function(){},mounted:function(){}},l=o,c=(a("5f36"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"01e40db0",null);t["default"]=u.exports},"4c9b":function(e,t,a){"use strict";a("98a7")},"4d29":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-checkbox",{model:{value:e.listQuery.unfinished,callback:function(t){e.$set(e.listQuery,"unfinished",t)},expression:"listQuery.unfinished"}},[e._v("任务未办结")]),a("el-checkbox",{model:{value:e.listQuery.finished,callback:function(t){e.$set(e.listQuery,"finished",t)},expression:"listQuery.finished"}},[e._v("任务已办结")]),a("el-checkbox",{model:{value:e.listQuery.processUnfinished,callback:function(t){e.$set(e.listQuery,"processUnfinished",t)},expression:"listQuery.processUnfinished"}},[e._v("流程未办结")]),a("el-checkbox",{model:{value:e.listQuery.processFinished,callback:function(t){e.$set(e.listQuery,"processFinished",t)},expression:"listQuery.processFinished"}},[e._v("流程已办结")])],1),a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程实例ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processInstanceId,callback:function(t){e.$set(e.listQuery,"processInstanceId",t)},expression:"listQuery.processInstanceId"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"任务ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.taskId,callback:function(t){e.$set(e.listQuery,"taskId",t)},expression:"listQuery.taskId"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"任务名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.taskName,callback:function(t){e.$set(e.listQuery,"taskName",t)},expression:"listQuery.taskName"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"业务主键"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processInstanceBusinessKey,callback:function(t){e.$set(e.listQuery,"processInstanceBusinessKey",t)},expression:"listQuery.processInstanceBusinessKey"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"执行人"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.taskAssignee,callback:function(t){e.$set(e.listQuery,"taskAssignee",t)},expression:"listQuery.taskAssignee"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"所有人"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.taskOwner,callback:function(t){e.$set(e.listQuery,"taskOwner",t)},expression:"listQuery.taskOwner"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"干系人"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.taskInvolvedUser,callback:function(t){e.$set(e.listQuery,"taskInvolvedUser",t)},expression:"listQuery.taskInvolvedUser"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"父任务ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.parentTaskId,callback:function(t){e.$set(e.listQuery,"parentTaskId",t)},expression:"listQuery.parentTaskId"}}),a("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd",placeholder:"到期日开始",type:"date"},model:{value:e.listQuery.taskDueAfter,callback:function(t){e.$set(e.listQuery,"taskDueAfter",t)},expression:"listQuery.taskDueAfter"}}),a("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd",placeholder:"到期日结束",type:"date"},model:{value:e.listQuery.taskDueBefore,callback:function(t){e.$set(e.listQuery,"taskDueBefore",t)},expression:"listQuery.taskDueBefore"}}),a("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"创建时间开始",type:"datetime"},model:{value:e.listQuery.taskCreatedAfter,callback:function(t){e.$set(e.listQuery,"taskCreatedAfter",t)},expression:"listQuery.taskCreatedAfter"}}),a("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"创建时间结束",type:"datetime"},model:{value:e.listQuery.taskCreatedBefore,callback:function(t){e.$set(e.listQuery,"taskCreatedBefore",t)},expression:"listQuery.taskCreatedBefore"}}),a("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"完成时间开始",type:"datetime"},model:{value:e.listQuery.taskCompletedAfter,callback:function(t){e.$set(e.listQuery,"taskCompletedAfter",t)},expression:"listQuery.taskCompletedAfter"}}),a("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"完成时间结束",type:"datetime"},model:{value:e.listQuery.taskCompletedBefore,callback:function(t){e.$set(e.listQuery,"taskCompletedBefore",t)},expression:"listQuery.taskCompletedBefore"}}),a("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[a("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询 "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1)],1),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center"}}),a("el-table-column",{attrs:{label:"流程实例名称",prop:"processInstanceName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.processInstanceName))])]}}])}),a("el-table-column",{attrs:{label:"任务名称",prop:"name",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}])}),a("el-table-column",{attrs:{label:"开始时间",prop:"claimTime",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.createTime))])]}}])}),a("el-table-column",{attrs:{label:"结束时间",prop:"endTime",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.endTime))])]}}])}),a("el-table-column",{attrs:{label:"所有人",prop:"owner",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.owner))])]}}])}),a("el-table-column",{attrs:{label:"执行人",prop:"assignee",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.assignee))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[e._v("操作"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnViewTask(i)}}},[e._v("查看")]),a("el-dropdown-item",{attrs:{icon:"el-icon-view",divided:""},nativeOn:{click:function(t){return e.btnView(i.processInstanceId)}}},[e._v("查看详情 ")]),null!=i.endTime||null!=i.assignee&&""!=i.assignee?e._e():a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:task:execute",expression:"'flowable:task:execute'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnClaim(i)}}},[e._v("认领并执行 ")]),null==i.endTime&&i.assignee===e.$store.getters.sysUser.userId?a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:task:execute",expression:"'flowable:task:execute'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnUnclaim(i)}}},[e._v("取消认领 ")]):e._e(),null==i.endTime&&null!=i.assignee&&i.assignee===e.$store.getters.sysUser.userId?a("el-dropdown-item",{attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnExcuteTask(i)}}},[e._v("执行 ")]):e._e()],1)],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}}),e.dialogTaskDetailVisible?a("task-detail",{attrs:{visible:e.dialogTaskDetailVisible,dicts:e.dicts,taskDetailData:e.taskDetailData},on:{"update:visible":function(t){e.dialogTaskDetailVisible=t}}}):e._e(),e.dialogExcuteTaskVisible?a("execute-task",{attrs:{visible:e.dialogExcuteTaskVisible,executeTaskId:e.executeTaskId},on:{"update:visible":function(t){e.dialogExcuteTaskVisible=t},executeTaskFinished:e.list}}):e._e(),e.dialogViewVisible?a("process-detail",{attrs:{visible:e.dialogViewVisible,processInstanceId:e.processInstanceId},on:{"update:visible":function(t){e.dialogViewVisible=t}}}):e._e()],1)},n=[],s=a("333d"),r=a("0fea"),o=(a("5c96"),a("9d14")),l=a("f357"),c=a("3579"),u={name:"FlowableTask",components:{Pagination:s["default"],TaskDetail:o["default"],ExecuteTask:l["default"],ProcessDetail:c["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,processInstanceId:void 0,taskId:void 0,taskName:void 0,processInstanceBusinessKey:void 0,taskDescription:void 0,taskAssignee:void 0,taskOwner:void 0,taskInvolvedUser:void 0,finished:!1,unfinished:!1,processFinished:!1,processUnfinished:!1,suspended:!1,active:!1,taskParentTaskId:void 0,taskDueBefore:void 0,taskDueAfter:void 0,taskCreatedBefore:void 0,taskCreatedAfter:void 0,taskCompletedBefore:void 0,taskCompletedAfter:void 0,taskCandidateUser:void 0,taskCandidateGroupIn:void 0},dialogTaskDetailVisible:!1,dialogExcuteTaskVisible:!1,dialogTaskBackNodesVisible:!1,formJson:void 0,taskDetailData:{id:"",name:"",description:"",category:"",owner:"",assignee:"",claimTime:"",dueDate:"",endTime:"",durationInMillis:"",workTimeInMillis:"",priority:"",taskDefinitionKey:"",processInstanceId:"",processInstanceName:"",processDefinitionId:"",processDefinitionName:"",processDefinitionDescription:"",processDefinitionKey:"",processDefinitionCategory:"",processDefinitionVersion:"",processDefinitionDeploymentId:"",formKey:"",renderedTaskForm:"",processInstanceStartUserId:"",initiatorCanCompleteTask:"",memberOfCandidateGroup:"",memberOfCandidateUsers:"",delegationState:"",suspended:"",involvedPeople:"",ownerName:"",assigneeName:"",tenantId:""},executeTaskId:"",processInstanceId:"",dialogViewVisible:!1}},created:function(){this.$route.query&&this.$route.query.processInstanceId&&(this.listQuery.processInstanceId=this.$route.query.processInstanceId),this.list()},methods:{list:function(){var e=this;Object(r["e"])("/flowable/task/list",this.listQuery).then((function(t){var a=t.data;e.records=a.records,e.total=a.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,processInstanceId:void 0,taskId:void 0,taskName:void 0,processInstanceBusinessKey:void 0,taskDescription:void 0,taskAssignee:void 0,taskOwner:void 0,taskInvolvedUser:void 0,finished:!1,unfinished:!1,processFinished:!1,processUnfinished:!1,taskParentTaskId:void 0,taskDueBefore:void 0,taskDueAfter:void 0,taskCreatedBefore:void 0,taskCreatedAfter:void 0,taskCompletedBefore:void 0,taskCompletedAfter:void 0,taskCandidateUser:void 0,taskCandidateGroupIn:void 0},this.list()},btnViewTask:function(e){var t=this;Object(r["e"])("/flowable/task/queryById",{taskId:e.id}).then((function(e){var a=e.data;t.taskDetailData=Object.assign({},a),t.dialogTaskDetailVisible=!0}))},btnClaim:function(e){var t=this;Object(r["h"])("/flowable/task/claim",{taskId:e.id}).then((function(a){a.msg;t.list(),t.btnExcuteTask(e)})).catch((function(e){t.list()}))},btnUnclaim:function(e){var t=this;Object(r["h"])("/flowable/task/unclaim",{taskId:e.id}).then((function(e){var a=e.msg;t.$sweetAlert.successWithTimer(a),t.list()}))},btnExcuteTask:function(e){this.executeTaskId=e.id,this.dialogExcuteTaskVisible=!0},doExcuteTask:function(){var e=this;this.$refs.generateForm.getData().then((function(t){Object(r["h"])("/flowable/task/complete",{taskId:e.taskDetailData.id,values:t}).then((function(t){var a=t.msg;e.$sweetAlert.successWithTimer(a),e.dialogExcuteTaskVisible=!1,e.list()}))})).catch((function(e){}))},btnBackTask:function(e){this.executeTaskId=e.id,this.dialogTaskBackNodesVisible=!0},btnView:function(e){this.processInstanceId=e,this.dialogViewVisible=!0},selectionChange:function(e){this.selectedRecords=e}}},d=u,p=a("2877"),f=Object(p["a"])(d,i,n,!1,null,null,null);t["default"]=f.exports},"4da9":function(e,t,a){},"4de3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,width:"500px",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"auto-scroll"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.model,"status-icon":"",rules:e.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"签章名称：",prop:"fieldname"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"",clearable:""},model:{value:e.model.fieldname,callback:function(t){e.$set(e.model,"fieldname",t)},expression:"model.fieldname"}})],1),a("el-form-item",{attrs:{label:"签名原因：",prop:"reason"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"显示在pdf签名属性中",clearable:""},model:{value:e.model.reason,callback:function(t){e.$set(e.model,"reason",t)},expression:"model.reason"}})],1),a("el-form-item",{attrs:{label:"签名地点：",prop:"location"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"显示在pdf签名属性中",clearable:""},model:{value:e.model.location,callback:function(t){e.$set(e.model,"location",t)},expression:"model.location"}})],1),a("el-form-item",{attrs:{label:"证书",prop:"certid"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.model.certid,callback:function(t){e.$set(e.model,"certid",t)},expression:"model.certid"}},e._l(e.certList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"印章",prop:"sealid"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.model.sealid,callback:function(t){e.$set(e.model,"sealid",t)},expression:"model.sealid"}},e._l(e.sealList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"签章页",prop:"pageNumb"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.model.pageNumb,callback:function(t){e.$set(e.model,"pageNumb",t)},expression:"model.pageNumb"}},e._l(e.pageNumbList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"签章方式",prop:"type"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.model.type,callback:function(t){e.$set(e.model,"type",t)},expression:"model.type"}},e._l(e.typeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),1==e.model.type?a("el-form-item",{attrs:{label:"图章左下角x：",prop:"rectllx"}},[a("el-input-number",{attrs:{maxlength:"50",type:"text",placeholder:"",clearable:""},model:{value:e.model.rectllx,callback:function(t){e.$set(e.model,"rectllx",t)},expression:"model.rectllx"}})],1):e._e(),1==e.model.type?a("el-form-item",{attrs:{label:"图章左下角y：",prop:"rectlly"}},[a("el-input-number",{attrs:{maxlength:"50",type:"text",placeholder:"",clearable:""},model:{value:e.model.rectlly,callback:function(t){e.$set(e.model,"rectlly",t)},expression:"model.rectlly"}})],1):e._e(),1==e.model.type?a("el-form-item",{attrs:{label:"图章右上角x：",prop:"recturx"}},[a("el-input-number",{attrs:{maxlength:"50",type:"text",placeholder:"",clearable:""},model:{value:e.model.recturx,callback:function(t){e.$set(e.model,"recturx",t)},expression:"model.recturx"}})],1):e._e(),1==e.model.type?a("el-form-item",{attrs:{label:"图章右上角y：",prop:"rectury"}},[a("el-input-number",{attrs:{maxlength:"50",type:"text",placeholder:"",clearable:""},model:{value:e.model.rectury,callback:function(t){e.$set(e.model,"rectury",t)},expression:"model.rectury"}})],1):e._e(),2==e.model.type?a("el-form-item",{attrs:{label:"关键字",prop:"keyword"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"",clearable:""},model:{value:e.model.keyword,callback:function(t){e.$set(e.model,"keyword",t)},expression:"model.keyword"}})],1):e._e(),a("el-form-item",{attrs:{label:"签章表现形式",prop:"showType"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.model.showType,callback:function(t){e.$set(e.model,"showType",t)},expression:"model.showType"}},e._l(e.showTypeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v(" 保存 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},n=[],s=a("1da1"),r=(a("96cf"),a("caad"),a("7db0"),a("b0c0"),a("0779")),o=a("cf45"),l={name:"InfoModal",components:{DictSelectTag:r["default"]},props:{modalType:{type:String,default:""},title:{type:String,default:""}},data:function(){return{greenColor:o["g"],visible:!1,loading:!1,fileList:[],model:{fieldname:"",reason:"",location:"",certid:"",certName:"",sealid:"",sealName:"",pageNumb:"",type:1,keyword:"",rectllx:"",rectlly:"",recturx:"",rectury:"",showType:""},pageNumbList:[{value:"first",name:"首页"},{value:"last",name:"尾页"},{value:"all",name:"全部页"}],showTypeList:[{value:1,name:"只显示签名"},{value:2,name:"只显示印章"},{value:3,name:"显示印章和签名"}],typeList:[{value:1,name:"坐标"},{value:2,name:"关键字"}],certList:[],sealList:[],rules:{fieldname:[{required:!0,trigger:"change",message:"签章名称不能为空！"}],reason:[{required:!0,trigger:"change",message:"签名原因不能为空！"}],location:[{required:!0,trigger:"change",message:"签名地点不能为空！"}],certid:[{required:!0,trigger:"change",message:"必须选择证书！"}],sealid:[{required:!0,trigger:"change",message:"必须选择印章！"}],pageNumb:[{required:!0,trigger:"change",message:"必须选择签章页！"}],keyword:[{required:!0,trigger:"blur",message:"关键字不能为空！"}],rectllx:[{required:!0,trigger:"blur",message:"图章左下角x不能为空！"}],rectlly:[{required:!0,trigger:"blur",message:"图章左下角y不能为空！"}],recturx:[{required:!0,trigger:"blur",message:"图章右上角x不能为空！"}],rectury:[{required:!0,trigger:"blur",message:"图章右上角y不能为空！"}],showType:[{required:!0,trigger:"change",message:"必须选择签章表现形式！"}]},url:{certList:"/cert/certList",sealList:"/eleSign/sealList",generate:"",add:"/eleSign/saveOrUpdateSignInfo",edit:"/eleSign/saveOrUpdateSignInfo"}}},computed:{uploadUrl:function(){return window._CONFIG["domainURL"]+"/eleSign/saveOrUpdateSignInfo"},showUploadFlag:function(){var e=!1,t=["add","edit"];return t.includes(this.modalType)&&(e=!0),e}},methods:{init:function(e){e&&(e.keyword?e.type=2:e.type=1,this.model=Object.assign({},e)),this.visible=!0},getCertList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.getAction(e.url.certList,{});case 2:a=t.sent,i=a.data,e.certList=i.list;case 5:case"end":return t.stop()}}),t)})))()},getSealList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.getAction(e.url.sealList,{});case 2:a=t.sent,i=a.data,e.sealList=i.data;case 5:case"end":return t.stop()}}),t)})))()},getName:function(){var e=this;if(this.model.certid){var t=this.certList.find((function(t){return t.id==e.model.certid}));t&&(this.model.certName=t.name)}if(this.model.sealid){var a=this.certList.find((function(t){return t.id==e.model.sealid}));a&&(this.model.sealName=a.name)}},submitForm:function(e){var t=this;this.$refs[e].validate((function(e,a){if(e){var i=t.url[t.modalType];t.getName();var n=Object.assign({},t.model);1==n.type&&(n.keyword="");var s="post";t.$api.httpAction(i,n,s).then((function(e){200==e.code?(t.$sweetAlert.successWithTimer(e.msg),t.$emit("ok"),t.cancelModal()):t.$sweetAlert.errorWithTimer(e.msg)}))}else t.$validateMsg(a)}))},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){this.getCertList(),this.getSealList()}},c=l,u=(a("f394"),a("2877")),d=Object(u["a"])(c,i,n,!1,null,"7d618780",null);t["default"]=d.exports},"4e8e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,fullscreen:"",visible:e.dialogProcessDefinitionIdentityLinkInChild,width:"75%"},on:{"update:visible":function(t){e.dialogProcessDefinitionIdentityLinkInChild=t}}},[a("el-button-group",{staticStyle:{"padding-bottom":"10px"}},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processDefinitionIdentityLink:save",expression:"'flowable:processDefinitionIdentityLink:save'"}],staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnCreate}},[e._v("新增 ")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center"}}),a("el-table-column",{attrs:{label:"授权ID",prop:"identityId",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.identityId))])]}}])}),a("el-table-column",{attrs:{label:"授权类型",prop:"identityType",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{innerHTML:e._s(e.formatDictText(e.dicts.identityType,t.row.identityType))}})]}}])}),a("el-table-column",{attrs:{label:"授权名称",prop:"identityName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.identityName))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[e._v("操作"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(i)}}},[e._v("查看 ")]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processDefinitionIdentityLink:delete",expression:"'flowable:processDefinitionIdentityLink:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(i)}}},[e._v("删除 ")])],1)],1)]}}])})],1),a("el-dialog",{attrs:{title:"流程授权",visible:e.dialogFormVisible,"append-to-body":!0},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,disabled:"view"===e.dialogStatus,"label-position":"right","label-width":"110px"}},[a("el-form-item",{attrs:{label:"授权类型",prop:"identityType"}},[a("el-select",{attrs:{placeholder:"授权类型"},model:{value:e.temp.identityType,callback:function(t){e.$set(e.temp,"identityType",t)},expression:"temp.identityType"}},e._l(e.dicts.identityType,(function(e,t){return a("el-option",{key:t,attrs:{label:e.content,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"授权id",prop:"identityId"}},[a("el-input",{attrs:{placeholder:e.placeholderIdentityId},model:{value:e.temp.identityId,callback:function(t){e.$set(e.temp,"identityId",t)},expression:"temp.identityId"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),"view"!==e.dialogStatus?a("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:function(t){return e.createData()}}},[e._v("确定 ")]):e._e()],1)],1)],1)},n=[],s=a("0fea"),r=(a("5c96"),{name:"ProcessDefinitionIdentityLink",props:{visible:{type:Boolean,default:function(){return!1}},processDefinitionId:{type:String,default:function(){return""}},processDefinitionName:{type:String,default:function(){return""}}},computed:{dialogProcessDefinitionIdentityLinkInChild:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}},title:{get:function(){return"流程授权【"+this.processDefinitionName+"】"}},placeholderIdentityId:{get:function(){return"1"==this.temp.identityType?"请输入用户id":"2"==this.temp.identityType?"请输入岗位id":"请先选择授权类型"}}},created:function(){var e=this;this.getDicts("identityType").then((function(t){var a=t.data;e.dicts=a})),this.list()},data:function(){return{records:[],selectedRecords:[],dicts:[],listQuery:{processDefinitionId:this.processDefinitionId,identityType:"",identityId:""},dialogFormVisible:!1,dialogStatus:"",temp:{processDefinitionId:this.processDefinitionId,identityType:"",identityId:""},rules:{identityType:[{required:!0,message:"该项不能为空",trigger:"change"}],identityId:[{required:!0,message:"该项不能为空",trigger:"change"}]}}},methods:{list:function(){var e=this;Object(s["e"])("/flowable/processDefinitionIdentityLink/list",this.listQuery).then((function(t){var a=t.data;e.records=a}))},resetTemp:function(){this.temp={processDefinitionId:this.processDefinitionId,identityType:"",identityId:""}},btnView:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="view",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},btnCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(s["g"])("/flowable/processDefinitionIdentityLink/save",e.temp).then((function(t){var a=t.msg;e.dialogFormVisible=!1,e.$sweetAlert.successWithTimer(a),e.list()}))}))},btnDelete:function(e){var t=this;Object(s["b"])("/flowable/processDefinitionIdentityLink/delete",{processDefinitionId:this.processDefinitionId,identityType:e.identityType,identityId:e.identityId}).then((function(e){var a=e.msg;t.$sweetAlert.successWithTimer(a),t.list()}))},selectionChange:function(e){this.selectedRecords=e}}}),o=r,l=a("2877"),c=Object(l["a"])(o,i,n,!1,null,null,null);t["default"]=c.exports},"4e9e":function(e,t,a){},"51d8":function(e,t,a){"use strict";a("1bbf")},"51f0":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flow-form"},["borrow"==e.showFlag?a("div",[a("el-tabs",{staticClass:"max-height flex-column",model:{value:e.activeFileName,callback:function(t){e.activeFileName=t},expression:"activeFileName"}},[a("el-tab-pane",{attrs:{label:"档案信息",name:"info",lazy:""}},["info"==e.activeFileName?a("archive-info",{attrs:{fileParamsObject:e.fileParamsObject}}):e._e()],1),a("el-tab-pane",{attrs:{label:"借阅人信息",name:"borrower",lazy:""}},["borrower"==e.activeFileName?a("borrow-info",{attrs:{"file-params-object":e.fileParamsObject,"dict-options-object":e.dictOptionsObject}}):e._e()],1)],1)],1):e._e(),"transfer"==e.showFlag?a("div",[a("el-tabs",{staticClass:"max-height flex-column",on:{"tab-click":e.handleListClick},model:{value:e.activeFileName,callback:function(t){e.activeFileName=t},expression:"activeFileName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"info",lazy:""}},[a("review-info",{attrs:{data:e.reviewData}})],1),a("el-tab-pane",{attrs:{label:"列表数据",name:"list",lazy:""}},["list"==e.activeFileName?a("data-info",{ref:"dataInfoBox",attrs:{data:e.reviewData,"file-params-object":e.fileParamsObject,docFlag:e.docFlag}}):e._e()],1)],1)],1):e._e()])},n=[],s=a("1da1"),r=(a("96cf"),a("159b"),a("b64b"),a("b0c0"),a("620a")),o=a("d0ea"),l=a("84ee5"),c=a("128f"),u={name:"",components:{BorrowInfo:r["default"],ArchiveInfo:o["default"],ReviewInfo:l["default"],DataInfo:c["default"]},props:{fileParamsObject:{type:Object,default:function(){return{}}}},data:function(){return{dictOptionsObject:{utilization_mode:[],utilize_purpose:[],certificate_type:[]},reviewData:null,docFlag:void 0,activeFileName:"info",url:{pageList:"/transferForm/pageListFlowable"}}},computed:{showFlag:function(){var e="";if(this.fileParamsObject&&this.fileParamsObject.processDefinitionId){var t=this.fileParamsObject.processDefinitionId;0==t.indexOf("transfer")?e="transfer":0==t.indexOf("borrow")&&(e="borrow")}return e}},watch:{},created:function(){var e=this;Object.keys(this.dictOptionsObject).forEach((function(t){e.initDictData(t)})),this.queryList()},mounted:function(){},methods:{initDictData:function(e){var t=this;this.$api.getDictItems({mark:e},null).then((function(a){a&&(t.dictOptionsObject[e]=a.data)}))},handleListClick:function(e){var t=this;switch(e.name){case"list":this.$nextTick((function(){t.activeFileName="list",t.reviewData&&(t.docFlag=!1,t.reviewData.docNum&&(t.docFlag=!0)),t.$nextTick((function(){t.$refs["dataInfoBox"].getData()}))}));break;default:break}},queryList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={id:e.fileParamsObject.businessId},t.next=3,e.$api.getAction(e.url.pageList,a);case 3:i=t.sent,i.count,n=i.data,n&&n.length&&(e.reviewData=n[0]);case 7:case"end":return t.stop()}}),t)})))()}}},d=u,p=(a("900b"),a("2877")),f=Object(p["a"])(d,i,n,!1,null,"060450e7",null);t["default"]=f.exports},5289:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container max-height flex-column",staticStyle:{"overflow-x":"auto"}},[a("div",{staticStyle:{display:"flex","margin-bottom":"10px","min-width":"1060px"}},[a("div",{staticClass:"type r-input"},[e._v("消息类型：")]),a("el-select",{staticClass:"r-input",attrs:{placeholder:"请选择",size:"mini"},on:{change:e.queryList},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),a("div",{staticClass:"type input"},[e._v("阅读状态：")]),a("el-select",{staticClass:"r-input",attrs:{placeholder:"请选择",size:"mini"},on:{change:e.queryList},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},e._l(e.options1,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("div",{staticClass:"type r-input"},[e._v("发送人：")]),a("el-input",{staticClass:"r-input",staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容",size:"mini"},model:{value:e.sender,callback:function(t){e.sender=t},expression:"sender"}}),a("div",{staticClass:"type r-input"},[e._v("发送时间：")]),a("el-date-picker",{staticClass:"r-input",attrs:{size:"mini",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),a("div",[a("div",{staticStyle:{display:"flex","-webkit-box-pack":"end","justify-content":"flex-end","margin-bottom":"10px"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.queryList}},[e._v("检索")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.isMark(0)}}},[e._v("标记为已读")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.del}},[e._v("批量删除")])],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"table-box max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",pagination:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,"row-style":{cursor:"pointer"}},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}}),e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{top:"100px"},attrs:{title:"消息详情",modal:!0,width:"600px","before-close":e.cancelModal,center:"",visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"消息标题"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"消息类型"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),a("el-form-item",{attrs:{label:"消息内容"}},[a("el-input",{attrs:{type:"textarea",disabled:""},domProps:{innerHTML:e._s(e.form.msgContent)}})],1),a("el-form-item",{attrs:{label:"发送人"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.createUser,callback:function(t){e.$set(e.form,"createUser",t)},expression:"form.createUser"}})],1),a("el-form-item",{attrs:{label:"发送时间"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.createTime,callback:function(t){e.$set(e.form,"createTime",t)},expression:"form.createTime"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")])],1)],1):e._e()],1)])},n=[],s=a("5530"),r=a("1da1"),o=(a("96cf"),a("159b"),a("b0c0"),a("a15b"),a("3f19")),l=a("2e5f"),c=a("f7c4"),u={name:"Msg",mixins:[o["a"]],components:{BtnList:l["default"],foxTable:c["a"]},props:{},data:function(){return{url:{list:"/sysMsg/list",del:"/sysMsg/del",isMark:"/sysMsg/isMark",getType:"/sysMsg/getType"},form:{},value:"",options:[],value1:1,options1:[{value:null,label:"所有状态"},{value:1,label:"未读状态"},{value:0,label:"已读状态"}],sender:"",time:[],dataType:"",visible:!1}},watch:{},computed:{},methods:{init:function(){this.queryList(1)},showForm:function(e){this.visible=!0,this.form=e},isMark:function(e){var t=this,a=[];if(0==e){if(!this.table.selection.length>0)return void this.$sweetAlert.warnWithTimer("请您先勾选数据，再进行操作！");this.table.selection.forEach((function(e){"公告"==e.name||"草稿"==e.name?a.push(e.id+"_1"):a.push(e.id+"_2")})),a=a.join(",")}else a="公告"==e.name||"草稿"==e.name?e.id+"_1":e.id+"_2";this.$api.getAction(this.url.isMark,{ids:a}).then((function(e){"200"==e.code&&(t.queryList(),t.$sweetAlert.successWithTimer(e.msg))}))},del:function(){var e=this;if(!this.table.selection.length>0)this.$sweetAlert.warnWithTimer("请您先勾选数据，再进行操作！");else{var t=[];this.table.selection.forEach((function(e){"公告"==e.name||"草稿"==e.name?t.push(e.id+"_1"):t.push(e.id+"_2")})),t=t.join(","),this.$api.getAction(this.url.del,{ids:t}).then((function(t){"200"==t.code&&(e.queryList(),e.$sweetAlert.successWithTimer(t.msg))}))}},cellClick:function(e,t,a,i){"消息内容"==t.label&&(this.visible=!0,this.form=e)},getMsgType:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.getAction(e.url.getType,{});case 2:a=t.sent,i=a.data,e.options=i,e.options.push({id:"",name:"所有消息"});case 6:case"end":return t.stop()}}),t)})))()},queryList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=null==e.time?{page:e.page.pageNum,limit:e.page.pageSize,type:e.value,status:e.value1,user:e.sender}:{page:e.page.pageNum,limit:e.page.pageSize,type:e.value,status:e.value1,user:e.sender,start:e.time[0],end:e.time[1]},e.table=Object(s["a"])(Object(s["a"])({},e.table),{},{loading:!0}),e.url.list,t.next=5,e.$api.getAction(e.url.list,a);case 5:i=t.sent,n=i.count,r=i.data,e.page=Object(s["a"])(Object(s["a"])({},e.page),{},{total:1*n}),e.$nextTick((function(){e.table=Object(s["a"])(Object(s["a"])({},e.table),{},{data:r})})),e.table=Object(s["a"])(Object(s["a"])({},e.table),{},{loading:!1});case 11:case"end":return t.stop()}}),t)})))()},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(s["a"])(Object(s["a"])({},this.table),{},{show:!1,column:[{type:"selection"},{label:"消息标题",prop:"title"},{label:"编辑",prop:"oper",width:200,fixed:"right",render:function(t,a){var i=a.row,n=[];return 1==i.status&&"公告"!=i.name&&"草稿"!=i.name&&(n=[{content:"标记阅读",type:"text",event:function(){e.isMark(i)}}]),t(l["default"],{attrs:{btnInfo:n}})}},{label:"消息类型",prop:"name"},{label:"消息内容",prop:"msgContent"},{label:"发送人",prop:"createUser"},{label:"发送时间",prop:"createTime"},{label:"阅读时间",prop:"readTime"}]}),this.$nextTick((function(){e.table=Object(s["a"])(Object(s["a"])({},e.table),{},{show:!0})}))}},created:function(){this.setTableColumn(),this.queryList(),this.getMsgType()},mounted:function(){}},d=u,p=(a("f0be"),a("2877")),f=Object(p["a"])(d,i,n,!1,null,"34962e2f",null);t["default"]=f.exports},"52b1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container max-height flex-column"},[a("div",{staticClass:"operate-box nowrap flex justify-between"},[a("div"),a("div",{staticClass:"flex"},[a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"input-with-select",staticStyle:{width:"250px"},attrs:{placeholder:"请输入登陆账号",clearable:"",size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryList(1)}},model:{value:e.searchParam.loginName,callback:function(t){e.$set(e.searchParam,"loginName",t)},expression:"searchParam.loginName"}}),a("el-input",{staticClass:"input-with-select",staticStyle:{width:"250px"},attrs:{placeholder:"请输入ip地址",clearable:"",size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryList(1)}},model:{value:e.searchParam.ipAddr,callback:function(t){e.$set(e.searchParam,"ipAddr",t)},expression:"searchParam.ipAddr"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(t){return e.queryList(1)}}},[e._v(" 搜索 ")])],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"table-box max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1)])},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("f7c4")),l=a("3f19"),c=a("2e5f"),u={name:"OnlineUsers",mixins:[l["a"]],components:{foxTable:o["a"],BtnList:c["default"]},props:{},data:function(){return{url:{list:"/getAllOnlineUsers"},searchParam:{loginName:"",ipAddr:""}}},watch:{},computed:{},methods:{setTableColumn:function(){var e=this;this.$createElement;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"操作",prop:"oper",fixed:"right",render:function(t,a){var i=a.row,n=[{content:"强制退出",type:"text",icon:"delete",popover:!1,event:function(){e.forceLogout(i)}}];return t(c["default"],{attrs:{btnInfo:n}})}},{label:"会话ID",prop:"sessionId"},{label:"登录账号",prop:"loginName"},{label:"部门名称",prop:"deptName"},{label:"ip地址",prop:"ip"},{label:"登录地点",prop:"ipAddr"},{label:"浏览器",prop:"browser"},{label:"使用终端",prop:"terminal"},{label:"登录时间",prop:"loginTime"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},forceLogout:function(e){var t=this,a="/forceLogout",i={sessionId:e.sessionId},n="post";this.$api.httpAction(a,i,n).then((function(e){200==e.code?(t.$sweetAlert.successWithTimer(e.msg),t.queryList(1)):t.$sweetAlert.errorWithTimer(e.msg)}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize,type:"all",loginName:t.searchParam.loginName,ipAddr:t.searchParam.ipAddr},t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),n=t.url.list,a.next=6,t.$api.getAction(n,i);case 6:s=a.sent,o=s.count,l=s.data,t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*o}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:l})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 12:case"end":return a.stop()}}),a)})))()}},created:function(){this.setTableColumn(),this.queryList(1)},mounted:function(){}},d=u,p=(a("f8ff"),a("2877")),f=Object(p["a"])(d,i,n,!1,null,"694d3a30",null);t["default"]=f.exports},5304:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticClass:"border-0 p-1",attrs:{shadow:"naver"}},[e._t("card-head"),e._t("card-content"),e._t("card-footer")],2)},n=[],s={name:"CardChart"},r=s,o=a("2877"),l=Object(o["a"])(r,i,n,!1,null,"215bc2d3",null);t["default"]=l.exports},"540d":function(e,t,a){"use strict";a("bbfe")},"55cd":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"30px"}},[a("el-alert",{attrs:{closable:!1,title:"menu 1-2",type:"success"}},[a("router-view")],1)],1)},n=[],s=a("2877"),r={},o=Object(s["a"])(r,i,n,!1,null,null,null);t["default"]=o.exports},5636:function(e,t,a){},5661:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("el-form",{ref:"form",attrs:{model:e.model,rules:e.rules,"label-width":"7rem","auto-complete":"off","label-position":"right",disabled:e.disabledForm}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"",clearable:""},model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1),a("el-form-item",{attrs:{label:"用户操作",prop:"operation"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"",clearable:""},model:{value:e.model.operation,callback:function(t){e.$set(e.model,"operation",t)},expression:"model.operation"}})],1),a("el-form-item",{attrs:{label:"请求方法",prop:"method"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"",clearable:""},model:{value:e.model.method,callback:function(t){e.$set(e.model,"method",t)},expression:"model.method"}})],1),a("el-form-item",{attrs:{label:"请求参数",prop:"params"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"",clearable:""},model:{value:e.model.params,callback:function(t){e.$set(e.model,"params",t)},expression:"model.params"}})],1),a("el-form-item",{attrs:{label:"ip",prop:"ip"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"",clearable:""},model:{value:e.model.ip,callback:function(t){e.$set(e.model,"ip",t)},expression:"model.ip"}})],1),a("el-form-item",{attrs:{label:"ip地址",prop:"ipAddr"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"",clearable:""},model:{value:e.model.ipAddr,callback:function(t){e.$set(e.model,"ipAddr",t)},expression:"model.ipAddr"}})],1),a("el-form-item",{attrs:{label:"访问来源",prop:"ipFrom"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"",clearable:""},model:{value:e.model.ipFrom,callback:function(t){e.$set(e.model,"ipFrom",t)},expression:"model.ipFrom"}})],1),a("el-form-item",{attrs:{label:"终端名称",prop:"terminal"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"",clearable:""},model:{value:e.model.terminal,callback:function(t){e.$set(e.model,"terminal",t)},expression:"model.terminal"}})],1),a("el-form-item",{attrs:{label:"浏览器",prop:"browser"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"",clearable:""},model:{value:e.model.browser,callback:function(t){e.$set(e.model,"browser",t)},expression:"model.browser"}})],1),a("el-form-item",{attrs:{label:"创建时间",prop:"createDate"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"",clearable:""},model:{value:e.model.createDate,callback:function(t){e.$set(e.model,"createDate",t)},expression:"model.createDate"}})],1)],1)],1),"create"==e.status||"update"==e.status?a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:function(t){return e.submit()}}},[e._v(" 提交 ")]),a("el-button",{attrs:{type:"default"},on:{click:e.cancelModal}},[e._v("取消")])],1):e._e()]):e._e()},n=[],s=(a("159b"),a("b64b"),a("2f62"),a("0fea"),a("0779")),r=(a("61f7"),a("3cee")),o={components:{DictSelectTag:s["default"],TinymceEditor:r["default"]},props:{title:{type:String,default:""},baseSelect:{type:Object,default:function(){return{}}},status:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,loading1:!1,baseData:null,model:{beanName:"",methodName:"",params:"",cronExpression:"",status:"0",remark:""},rules:{},url:{roleSelected:"sys/role/select"}}},computed:{username:function(){return this.$store.state.user.username},disabledForm:function(){return"check"==this.status}},created:function(){},methods:{initForm:function(e){var t=this;this.visible=!0,this.baseData=e,e&&(this.model=Object.assign(this.model,e)),this.$nextTick((function(){t.$refs["form"].resetFields()}))},resetForm:function(e){var t=this;this.$nextTick((function(){t.$refs[e].resetFields()}))},submit:function(){var e=this;this.$refs.form.validate((function(t){if(t){e.loading=!0;var a=Object.assign({},e.model),i="/scheduleJob/add",n="post";e.$api.httpAction(i,a,n).then((function(t){e.loading=!1,200==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.$emit("ok"),e.cancelModal()):e.$sweetAlert.errorWithTimer(t.msg)}))}}))},reset:function(){var e=this;Object.keys(this.model).forEach((function(t){return e.model[t]=""})),this.initForm(this.baseData)},cancelModal:function(){this.visible=!1,this.$emit("close")}}},l=o,c=(a("d4fe"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"16a0d00e",null);t["default"]=u.exports},"5693c":function(e,t,a){"use strict";a("08e1")},"56ce":function(e,t,a){},5756:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},n=[],s=a("313e"),r=a.n(s),o=a("1e21");a("817d");var l=6e3,c={mixins:[o["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:"pageA",type:"bar",stack:"vistors",barWidth:"60%",data:[79,52,200,334,390,330,220],animationDuration:l},{name:"pageB",type:"bar",stack:"vistors",barWidth:"60%",data:[80,52,200,334,390,330,220],animationDuration:l},{name:"pageC",type:"bar",stack:"vistors",barWidth:"60%",data:[30,52,200,334,390,330,220],animationDuration:l}]})}}},u=c,d=a("2877"),p=Object(d["a"])(u,i,n,!1,null,null,null);t["default"]=p.exports},"57f2":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},n=[],s=a("313e"),r=a.n(s),o=a("1e21");a("817d");var l={name:"",mixins:[o["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"280px"},dataInfo:{type:Object}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.expectedData,e.actualData;this.chart.setOption({title:{},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"right",data:["案卷","卷内","单件"]},series:[{name:"档案分布比例",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:this.dataInfo.volTotal,name:"案卷",itemStyle:{color:"#C12E34"}},{value:this.dataInfo.volInTotal,name:"卷内",itemStyle:{color:"#FFA500"}},{value:this.dataInfo.docTotal,name:"单件",itemStyle:{color:"#1E90FF"}}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}}},c=l,u=a("2877"),d=Object(u["a"])(c,i,n,!1,null,"dce8527e",null);t["default"]=d.exports},5846:function(e,t,a){},"5a944":function(e,t,a){"use strict";a("ac3a")},"5b85":function(e,t,a){"use strict";a("0d99")},"5c13":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,width:"500px",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"auto-scroll"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.model,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"满意度",prop:"evaluation"}},[a("el-radio-group",{model:{value:e.model.evaluation,callback:function(t){e.$set(e.model,"evaluation",t)},expression:"model.evaluation"}},e._l(e.evaluationList,(function(t,i){return a("el-radio",{key:i,attrs:{label:t.label}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),a("el-form-item",{attrs:{label:"时间",prop:"time"}},[e._v(" "+e._s(e.model.time)+" ")]),a("el-form-item",{attrs:{label:"意见与建议",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入意见与建议",rows:5,autosize:{minRows:5,maxRows:10}},model:{value:e.model.remark,callback:function(t){e.$set(e.model,"remark",t)},expression:"model.remark"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},n=[],s=(a("ed08"),a("cf45")),r={name:"EvaluateModal",components:{},props:{title:{type:String,default:"服务满意度评价"}},data:function(){return{visible:!1,loading:!1,model:{evaluation:"",time:Object(s["h"])(new Date),remark:""},evaluationList:[{label:"1",name:"满意"},{label:"2",name:"一般"},{label:"3",name:"不满意"}],rules:{remark:[{required:!0,trigger:"change",message:"请输入意见与建议"}]}}},computed:{},methods:{init:function(){this.visible=!0},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;Object.assign({},t.model)}))},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}},o=r,l=a("2877"),c=Object(l["a"])(o,i,n,!1,null,"77e0f4a7",null);t["default"]=c.exports},"5c3c":function(e,t,a){"use strict";a("7461")},"5dac":function(e,t,a){"use strict";a("cbe2")},"5de6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper max-height flex-column"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,stripe:!1},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),e.fullText.show?a("full-text",{ref:"fullText",attrs:{info:e.fullText.info},on:{close:function(t){e.fullText.show=!1}}}):e._e(),e.detail.show?a("detail-modal",{ref:"detail",attrs:{title:e.detail.title,info:e.detail.info},on:{close:function(t){e.detail.show=!1}}}):e._e()],1)},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("a9e3"),a("d81d"),a("f7c4")),l=a("3f19"),c=a("2e5f"),u=a("4b48"),d=a("e6a1"),p={name:"FileList",mixins:[l["a"]],components:{foxTable:o["a"],BtnList:c["default"],FullText:u["default"],DetailModal:d["default"]},props:{isRead:{type:String|Number,default:""}},data:function(){return{searchText:"",fullText:{show:!1,title:"",info:"",loading:!1},detail:{show:!1,title:"查看拒绝理由",info:"",loading:!1},modify:{show:!1,status:"create",textMap:{update:"编辑",create:"添加",check:"查看"},loading:!1},url:{list:"/sys/notice/pageListMessage"},model:null,pageIdx:0,columnList:[]}},watch:{},computed:{},methods:{init:function(e){this.model=e,this.queryList(1)},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{type:"selection",fixed:!0},{label:"状态",prop:"title",width:"180",render:function(t,a){var i=a.row,n=[{type:"text",icon:"collection",tooltipContent:"原文",event:function(){e.operate(i,"source")}},{type:"text",icon:"back",color:"#F56C6C",tooltipContent:"已拒绝",event:function(){e.operate(i,"refused")}},{type:"text",icon:"document",tooltipContent:"查看全文",event:function(){e.operate(i,"read")}}];return t(c["default"],{attrs:{btnInfo:n}})}},{label:"档号",prop:"title",render:function(t,a){var i=a.row,n=[{content:"查看",type:"text",color:"#F56C6C",event:function(){e.showFileList(i)}}];return t(c["default"],{attrs:{btnInfo:n}})}},{label:"发起时间",prop:"createTime"},{label:"任务状态",prop:"isUrgent_dictText"},{label:"当前节点",prop:"isRead_dictText"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},check:function(e){var t=this;this.modify.status="check",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)})),1==e.isRead&&this.addNoticeUser(e)},update:function(e){var t=this;this.modify.status="update",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize,type:"all",isRead:t.isRead,title:t.searchText},t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),n=t.url.list,a.next=6,t.$api.getAction(n,i);case 6:s=a.sent,o=s.count,l=s.data,l&&l.map((function(e){return e.isRead_dictText="1"==e.isRead?"未读":"已读"})),t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*o}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:l})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 13:case"end":return a.stop()}}),a)})))()},operate:function(e,t){var a=this;switch(t){case"source":var i=this.$router.resolve({path:"/originalPage"});window.open(i.href,"_blank");break;case"refused":this.detail.show=!0,this.detail.info="档号：2020-D30-DWZH-10",this.$nextTick((function(){a.$refs.detail.init()}));break;case"read":this.fullText.show=!0,this.fullText.info="(档号：2020-D30-DWZH-10,案卷号/件号：10)",this.$nextTick((function(){a.$refs.fullText.init()}));break;default:break}},urgeRequest:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$sweetAlert.successWithTimer("通知成功！");case 1:case"end":return t.stop()}}),t)})))()}},created:function(){this.setTableColumn(),this.queryList(1)},mounted:function(){}},f=p,m=(a("d6e5"),a("2877")),h=Object(m["a"])(f,i,n,!1,null,"7b1bb2c6",null);t["default"]=h.exports},"5f36":function(e,t,a){"use strict";a("d354")},6002:function(e,t,a){"use strict";a("cc6f")},"61ca":function(e,t,a){},"620a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"borrow-info-box"},[e.model?a("table",{staticClass:"mini-table",staticStyle:{width:"100%"},attrs:{border:"2"}},[a("tr",[a("td",{staticClass:"label-item shadow",attrs:{rowspan:"2"}},[e._v("申请人")]),a("td",{staticClass:"label-item"},[e._v("姓名")]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.APPLY_USER))]),a("td",{staticClass:"label-item"},[e._v("联系电话")]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.MOBILE))])]),a("tr",[a("td",{staticClass:"label-item"},[e._v("单位")]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.DEPT_NAME))]),a("td",{staticClass:"label-item"},[e._v(e._s(e.cardTypeText))]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.CARD_SERIAL))])]),a("tr",[a("td",{staticClass:"label-item shadow",attrs:{rowspan:"3"}},[e._v("借阅形式")]),a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"10"}},[e._v(e._s(e.model.BORROW_TYPE))])]),"electronic"==e.listType?a("tr",[a("td",{staticClass:"label-item"},[e._v("借阅天数")]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.BORROW_DAY))]),a("td",{staticClass:"label-item"},[e._v("归还时间")]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.END_TIME))])]):e._e(),"electronic"==e.listType?a("tr",[a("td",{staticClass:"label-item"},[e._v("利用形式")]),a("td",{attrs:{colspan:"9"}},[e._v(e._s(e.utilizeFormText))])]):e._e(),"physical"==e.listType?a("tr",[a("td",{staticClass:"label-item"},[e._v("到馆时间")]),a("td",{attrs:{colspan:"9"}},[e._v(e._s(e.model.ARRIVAL_TIME))])]):e._e(),"physical"==e.listType?a("tr",[a("td",{staticClass:"label-item"},[e._v("归还时间")]),a("td",{attrs:{colspan:"9"}},[e._v(e._s(e.model.END_TIME))])]):e._e(),"museum"==e.listType?a("tr",[a("td",{staticClass:"label-item"},[e._v("到馆时间")]),a("td",{attrs:{colspan:"9"}},[e._v(e._s(e.model.ARRIVAL_TIME))])]):e._e(),"museum"==e.listType?a("tr",[a("td",{staticClass:"label-item"},[e._v("利用形式")]),a("td",{attrs:{colspan:"9"}},[e._v(e._s(e.utilizeModeText))])]):e._e(),a("tr",[a("td",{staticClass:"label-item shadow"},[e._v("借阅数量")]),a("td",{staticClass:"label-item"},[e._v("总卷数")]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.VOL_COUNT))]),a("td",{staticClass:"label-item"},[e._v("总件数")]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.DOC_COUNT))])]),a("tr",[a("td",{staticClass:"label-item shadow"},[e._v("利用目的")]),a("td",{attrs:{colspan:"10"}},[e._v(e._s(e.reasonText))])]),a("tr",[a("td",{staticClass:"label-item shadow"},[e._v("备注")]),a("td",{attrs:{colspan:"10"}},[e._v(e._s(e.model.REMARKES))])])]):e._e()])},n=[],s=a("1da1"),r=(a("96cf"),a("4de4"),a("caad"),a("a15b"),a("d81d"),a("b0c0"),a("7db0"),{name:"BorrowInfo",components:{},props:{fileParamsObject:{type:Object,default:null},dictOptionsObject:{type:Object,default:null}},data:function(){return{url:{info:"/borrowCar/queryBorrowUserInfo"},model:null,utilizeFormList:[{label:"1",name:"查看原文(有水印)"},{label:"2",name:"查看原文(无水印)"},{label:"3",name:"下载原文"},{label:"4",name:"打印原文(有水印)"},{label:"5",name:"打印原文(无水印)"}]}},computed:{listType:function(){var e="";return this.fileParamsObject&&(e=this.fileParamsObject.BORROW_TYPE_CODE),e},utilizeFormText:function(){var e="",t=[];if(this.model){var a=this.model,i=a.IFHAS_DOWNLOAD,n=a.IFHAS_PRINTING,s=a.IFHAS_WATERMARK;1==s?t.push("1"):0==s&&t.push("2"),1==n?t.push("4"):0==n&&t.push("5"),1==i&&t.push("3")}var r=this.utilizeFormList.filter((function(e){return t.includes(e.label)}));return e=r.map((function(e){return e.name})).join("、"),e},reasonText:function(){var e=this,t="";if(this.dictOptionsObject&&this.model){var a=this.dictOptionsObject["utilize_purpose"].find((function(t){return t.value==e.model.REASON}));a&&(t=a.name)}return t},utilizeModeText:function(){var e=this,t="";if(this.dictOptionsObject&&this.model){var a=this.dictOptionsObject["utilization_mode"].find((function(t){return t.value==e.model.UTILIZATION_MODE}));a&&(t=a.name)}return t},cardTypeText:function(){var e=this,t="";if(this.dictOptionsObject&&this.model){var a=this.dictOptionsObject["certificate_type"].find((function(t){return t.value==e.model.CARD_TYPE}));a&&(t=a.name)}return t}},watch:{},created:function(){this.getInfo()},mounted:function(){},methods:{getInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,n,s,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.url.info,i={},e.fileParamsObject&&(n=e.fileParamsObject.businessId,i={applyId:n}),s="post",t.next=6,e.$api.httpAction(a,i,s);case 6:r=t.sent,o=r.data,e.model=o;case 9:case"end":return t.stop()}}),t)})))()}}}),o=r,l=(a("bf1d"),a("2877")),c=Object(l["a"])(o,i,n,!1,null,"97c50674",null);t["default"]=c.exports},"64e3":function(e,t,a){},6500:function(e,t,a){},6508:function(e,t,a){"use strict";a("3b60")},6537:function(e,t,a){"use strict";a("ad21")},65825:function(e,t,a){"use strict";a.r(t);var i=function(e,t){var a=t._c;return a("div",{staticStyle:{padding:"30px"}},[a("el-alert",{attrs:{closable:!1,title:"menu 1-2-1",type:"warning"}})],1)},n=[],s=a("2877"),r={},o=Object(s["a"])(r,i,n,!0,null,null,null);t["default"]=o.exports},"65ed":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[e._v(" DoneList 我的已办 ")])},n=[],s={name:"DoneList",components:{},props:{},data:function(){return{}},watch:{},computed:{},methods:{},created:function(){},mounted:function(){}},r=s,o=(a("20f1"),a("2877")),l=Object(o["a"])(r,i,n,!1,null,"8f98e090",null);t["default"]=l.exports},"67c6":function(e,t,a){},6873:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper max-height flex-column"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"max-height"},[!e.noDataFlag&&e.table.data.length>0?a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}}):e._e(),e.noDataFlag?a("no-data"):e._e()],1),e.modify.show?a("modify",{ref:"modify",attrs:{title:e.modify.textMap[e.modify.status],status:e.modify.status},on:{ok:e.modifyLoad,close:function(t){e.modify.show=!1}}}):e._e()],1)},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("a9e3"),a("f7c4")),l=a("3f19"),c=a("2e5f"),u=a("bb0b"),d=a("501e"),p={name:"NoticeList",mixins:[l["a"]],components:{foxTable:o["a"],BtnList:c["default"],Modify:u["default"],NoData:d["default"]},props:{showStatus:{type:String|Number,default:""}},data:function(){return{searchText:"",modify:{show:!1,status:"create",textMap:{check:"查看"},loading:!1},url:{list:"/sys/notice/pageList",draft:"/sys/notice/getDraftTotal"},model:null,pageIdx:0,columnList:[],noDataFlag:!1}},watch:{},computed:{},methods:{init:function(e){this.model=e,this.queryList(1)},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"通知标题",prop:"title"},{label:"发布时间",prop:"createTime",width:180},{label:"操作",prop:"oper",width:100,render:function(t,a){var i=a.row,n=[{content:"查看",type:"text",icon:"info",popover:!1,permission:"sys:notice:view",event:function(){e.check(i)}}];return t(c["default"],{attrs:{btnInfo:n}})}}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},add:function(){var e=this;this.modify.status="create",this.modify.show=!0,this.$nextTick((function(){e.$refs["modify"].initForm()}))},check:function(e){var t=this;this.modify.status="check",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)}))},update:function(e){var t=this;this.modify.status="update",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)}))},modifyLoad:function(){this.getDraftTotal(),this.queryList()},getDraftTotal:function(){var e=this,t=this.url.draft,a={},i="post";this.$api.httpAction(t,a,i).then((function(t){t.data&&e.$emit("draft",t.data.draftTotal)}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize,type:"all",showStatus:t.showStatus,title:t.searchText},t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),n=t.url.list,a.next=6,t.$api.getAction(n,i);case 6:s=a.sent,o=s.count,l=s.data,l&&0==l.length&&(t.noDataFlag=!0),t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*o}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:l})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 13:case"end":return a.stop()}}),a)})))()},operate:function(e,t){var a=this,i={publish:{name:"发布",msg:"确定发布?",url:"/sys/notice/update",params:{id:e.id,status:"0"}},delete:{name:"删除",msg:"确定删除?",url:"/sys/notice/delete",params:{id:e.id}}},n=i[t]["msg"],s=i[t].url,r="post",o=i[t].params;this.$confirm(n,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$api.httpAction(s,o,r).then((function(e){var t=200;e.code==t?(a.$sweetAlert.successWithTimer(e.msg),a.getDraftTotal(),a.queryList()):a.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))}},created:function(){this.setTableColumn(),this.getDraftTotal(),this.queryList(1)},mounted:function(){}},f=p,m=(a("c94e3"),a("2877")),h=Object(m["a"])(f,i,n,!1,null,"a435f680",null);t["default"]=h.exports},6937:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"app-container none-shadow tab-pane-box"},[a("div",{staticClass:"tabs-box"},[a("el-tabs",{staticClass:"max-height flex-column",attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{staticClass:"auto-scroll",attrs:{label:"详情",name:"process",lazy:""}},[e.formBuildShow?a("FormBuild",{ref:"formBuild",attrs:{"form-template":e.formTemplate,models:e.model}}):e._e()],1),1==e.othType&&1==e.cateType?a("el-tab-pane",{attrs:{label:"卷内目录",name:"instructions",lazy:""}},[a("arch-dyn-table",{ref:"fileReel",attrs:{"biz-type":"keepArch","template-id":e.templateId,"oth-type":2,"vol-id":e.volId,"cate-code":e.cateCode}})],1):e._e()],1)],1)])]):e._e()},n=[],s=(a("2f62"),a("eccd")),r=a("6440"),o=a("facc"),l={components:{PdfDetail:s["default"],FormBuild:r["default"],ArchDynTable:o["default"],FileList:FileList},props:{title:{type:String,default:"查看详情"}},data:function(){return{formBuildShow:!1,initData:{},formTemplate:{},model:{},activeName:"process",visible:!1,loading:!1,url:{queryBackInfo:"dynamic/queryBackInfo",getBaseInfo:"templates/getTempView",getDefData:"dynamic/defaultData",getInfoData:"dynamic/info"},templateId:"",volId:"",cateCode:"",othType:null,cateType:null}},computed:{buildPdf:function(){return window._CONFIG["domainURL"]+"/resource/common/help/operate.pdf"}},created:function(){},methods:{handleClick:function(e,t){var a=this;"instructions"==this.activeName&&this.$nextTick((function(){a.$refs["fileReel"]&&a.$refs["fileReel"].getFields(a.templateId,"2",{volId:a.volId})}))},resetForm:function(e){var t=this;this.$nextTick((function(){t.$refs[e].resetFields()}))},init:function(e){this.initData=e,this.templateId=this.initData.templateId,this.volId=this.initData.volId,this.cateCode=this.initData.cate_code,this.othType=this.initData.othType,this.cateType=this.initData.cateType,this.getInfoData(this.initData.row),this.getTemplate(),this.formBuildShow=!0,this.visible=!0},getInfoData:function(e){var t=this,a=this.initData.othType;"2"==this.initData.cateType&&(a=3);var i={othType:a,id:this.initData.id,templateId:this.initData.templateId};this.$api.httpAction(this.url.getInfoData,i,"post").then((function(e){"200"==e.code?t.model=e.data:t.$sweetAlert.errorWithTimer(e.msg)})).catch((function(e){}))},getTemplate:function(){var e=this,t=this.initData.othType;"2"==this.initData.cateType&&(t=3);var a={othType:t,templateId:this.initData.templateId};this.$api.getAction(this.url.getBaseInfo,a).then((function(t){"200"==t.code&&(e.formBuildShow=!0,e.$nextTick((function(){e.formTemplate=JSON.parse(t.data.vue)})))})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))},cancelModal:function(){this.visible=!1,this.$emit("close")}}},c=l,u=(a("a24c"),a("2877")),d=Object(u["a"])(c,i,n,!1,null,"1ff48526",null);t["default"]=d.exports},"694d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-box max-height flex-column"},[a("div",{staticClass:"half-height table-box-list tab-pane-box"},[a("records-list",{ref:"records",attrs:{listType:e.listType,tabsType:e.tabsType,auditStatus:e.auditStatus,borrowType:e.borrowType,manageType:e.manageType,dictOptionsObject:e.dictOptionsObject},on:{detail:e.showFileList,clear:e.clearFileList}})],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.showFileListLoading,expression:"showFileListLoading"}],staticClass:"half-height table-box-list tab-pane-box"},[e.showFileListFlag?a("tab-pane",{attrs:{label:e.label,listType:e.listType,fileParamsObject:e.fileParamsObject,dictOptionsObject:e.dictOptionsObject}}):e._e()],1)])},n=[],s=(a("159b"),a("b64b"),a("3e13")),r=a("b2ea"),o=(a("4ec3"),{name:"records-index",components:{RecordsList:s["default"],TabPane:r["default"]},props:{listType:{type:String,default:""},borrowType:{type:String,default:""},tabsType:{type:String,default:""},manageType:{type:Boolean,default:!1},label:{type:String,default:""},auditStatus:{type:String,default:""}},data:function(){return{content:"",draftTotal:null,showFileListFlag:!1,showFileListLoading:!1,fileParamsObject:null,dictOptionsObject:{utilization_mode:[],utilize_purpose:[],certificate_type:[]}}},watch:{},computed:{},methods:{handleClick:function(e,t){},showFileList:function(e){var t=this;this.showFileListLoading=!0,this.showFileListFlag=!1,this.fileParamsObject=e,this.$nextTick((function(){t.showFileListFlag=!0,t.showFileListLoading=!1}))},clearFileList:function(){this.showFileListFlag=!1},initDictData:function(e){var t=this;this.$api.getDictItems({mark:e},null).then((function(a){a&&(t.dictOptionsObject[e]=a.data)}))}},created:function(){var e=this;Object.keys(this.dictOptionsObject).forEach((function(t){e.initDictData(t)}))},mounted:function(){}}),l=o,c=(a("bd3f"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"7060b20f",null);t["default"]=u.exports},"6a21":function(e,t,a){"use strict";a("12b5")},"6a8f":function(e,t,a){},"6c2d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"create-shortcut app-container max-height flex-column"},[i("div",{staticClass:"box"},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"tree auto-scroll"},[i("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),i("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],ref:"tree",attrs:{data:e.treeData,"default-expanded-keys":e.defaultExpandedKeys,filterText:e.filterText,showCheckbox:!0,checkStrictly:!0},on:{keys:e.getCheckedKeys,checkChange:e.checkChange}})],1),i("div",{staticClass:"list"},[i("div",{staticClass:"title"},[e._v("已经创建的快捷方式：")]),i("div",{staticClass:"basic-list"},[e.optionList&&e.optionList.length>0?i("div",[i("draggable",{attrs:{group:"people"},on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:e.optionList,callback:function(t){e.optionList=t},expression:"optionList"}},e._l(e.optionList,(function(t,n){return i("div",{key:t.id,staticClass:"item"},[i("div",{staticClass:"location"},[t.parentList?i("div",{staticClass:"parent-label-list",attrs:{title:t.parentName}},e._l(t.parentList,(function(a,n){return i("div",{key:n,staticClass:"parent-label-item",class:{"parent-label-name":n==t.parentList.length-1}},[e._v(" "+e._s(a)+" ")])})),0):e._e()]),i("div",{staticClass:"name"},[i("div",{staticClass:"label"},[e._v("别名：")]),i("el-input",{attrs:{type:"text"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}})],1),i("div",{staticClass:"operate"},[i("div",{staticClass:"up",on:{click:function(t){return e.handleMoveUp(n)}}},[i("img",{attrs:{src:a("d33c"),alt:""}})]),i("div",{staticClass:"down",on:{click:function(t){return e.handleMoveDown(n)}}},[i("img",{attrs:{src:a("b24d"),alt:""}})]),i("div",{staticClass:"delete",on:{click:function(a){return e.deleteItem(t)}}},[i("i",{staticClass:"el-icon-close",staticStyle:{color:"#333","font-size":"24px"}})])]),i("div",{staticClass:"btn"},[i("el-button",{on:{click:function(a){return e.checkIcons(t,n)}}},[e._v("选择图标")])],1),i("div",{staticClass:"icon"},[i("i",{class:"menu-icon anticon pr-2 icon-"+t.icon})])])})),0)],1):e._e()]),i("div",{staticClass:"btn-list"},[i("el-button",{on:{click:e.backClick}},[e._v("返回")]),i("el-button",{attrs:{type:"primary"},on:{click:e.submitClick}},[e._v("确认修改")])],1)])]),i("drag-dialog",{attrs:{"drag-dialog":e.dialog},on:{confirm:e.iconChooseConfirm}},[i("icons",{ref:"icons",attrs:{"icons-checked":e.icons}})],1)],1)},n=[],s=a("5530"),r=a("1da1"),o=(a("96cf"),a("4de4"),a("159b"),a("d81d"),a("b0c0"),a("9911"),a("d3b7"),a("ddb0"),a("a15b"),a("c740"),a("a434"),a("7db0"),a("60f9")),l=a("cbb7b"),c=a("eddf"),u=a("1980"),d=a.n(u),p={name:"CreateShortcut",components:{BasicTree:o["default"],Icons:l["default"],DragDialog:c["a"],draggable:d.a},props:{setType:{type:String,default:""}},data:function(){return{loading:!1,filterText:"",treeData:[],defaultCheckedKeys:[],defaultExpandedKeys:[],url:{userMenu:"/sys/menu/userMenu",archCateTree:"/category/archCateTree",quickMenuAdd:"sys/user/quickMenuAdd",quickMenu:"sys/user/quickMenu"},ids:"",templateId:"",keys:[],baseTreeData:null,selectedData:[],optionList:[],dialog:{width:"50",height:"60",name:"iconSelect",title:"图标选择",showFooter:!0},icons:{},iconChangeIndex:0,archivesList:[{label:"档案采集",link:"/archives/collection/CollectionList",id:"1"},{label:"档案整理",link:"/archives/arrange/ArchArrangeList",id:"2"},{label:"归档管理",link:"/archives/keepArch/KeepArchList",id:"3"}]}},watch:{setType:function(e){this.setTree()}},computed:{},methods:{filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},getMenuTreeData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,n,s,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,a={},t.prev=2,t.next=5,e.$api.getAction(e.url.userMenu,a);case 5:i=t.sent,n=i.menuList,s=n.filter((function(e){return"2"!=e.type})),r=[],o=function e(t){t.forEach((function(t){"2"!=t.type&&r.push(t),t.list&&t.list.length>0&&e(t.list)}))},o(s),e.baseTreeData=r,e.treeData=e.setMenuTreeData(r),e.loading=!1,t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](2),e.loading=!1;case 19:case"end":return t.stop()}}),t,null,[[2,16]])})))()},setMenuTreeData:function(e){var t=e.filter((function(e){return 0==e.parentId}));e.map((function(e){return e.label=e.name,e}));var a=function t(a){a.forEach((function(a){"0"!=a.type&&"layout/main"!=a.component||(a.disabled=!0);var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length&&t(a.children)}))};return a(t),t},getArchivesTreeData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.$api.getAction(e.url.archCateTree,{});case 4:a=t.sent,i=a.treeData,e.baseTreeData=i,e.treeData=e.setArchivesTreeData(i),e.loading=!1,t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](0);case 13:case"end":return t.stop()}}),t,null,[[0,11]])})))()},setArchivesTreeData:function(e){var t=this,a=e.filter((function(e){return"-1"==e.parentId}));e.map((function(e){return e.label=e.name,e}));var i=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length&&(a.disabled=!0,t(a.children))}))};i(a);var n=[];return this.archivesList.forEach((function(e,i){var s={label:e.label,name:e.label,id:e.id,disabled:!0,children:t.setTreeDataByArchivesOptionList(a,i)};n.push(s)})),n},setTreeDataByArchivesOptionList:function(e,t){var a=this,i=function e(i){i.forEach((function(i){i.id&&(i.originalId=i.id,i.id=t+"-"+i.id),-1==i.parentId&&(i.parentId=a.archivesList[t].id),i.menuRouteId=a.archivesList[t].id,i.menuRouteLink=a.archivesList[t].link,i.children&&i.children.length>0&&e(i.children)}))},n=JSON.parse(JSON.stringify(e));return i(n),n},getCheckedKeys:function(e){this.keys=e},checkChange:function(e){if(e.checked){var t=e.data.originalId?e.data.originalId:e.data.id,a=e.data.menuRouteId,i=this.getParentList(t,this.baseTreeData,a);e.data.parentList=i,e.data.icon=null,e.data.parentName=i.join("/"),this.optionList.push(e.data)}else{var n=this.optionList.findIndex((function(t){return t.id==e.data.id}));n>-1&&this.optionList.splice(n,1)}},getParentList:function(e,t,a){var i=[],n=this,s=function e(a){var n=t.find((function(e){return e.originalId==a||e.id==a}));n&&(i.push(n.name),e(n.parentId))};if(s(e),"archives"==n.setType){var r=n.archivesList.find((function(e){return e.id==a}));r&&i.push(r.label)}return i=i.reverse(),i},deleteItem:function(e){var t=this.optionList.findIndex((function(t){return t.id==e.id}));t>-1&&this.optionList.splice(t,1),this.$sweetAlert.successWithTimer("删除成功！"),this.saveOptionList(),this.setDefaultCheckedKeys()},handleMoveUp:function(e){if(0!=e){var t=this.optionList[e-1];this.optionList.splice(e-1,1,this.optionList[e]),this.optionList.splice(e,1,t)}},handleMoveDown:function(e){if(e!=this.optionList.length-1){var t=this.optionList[e+1];this.optionList.splice(e+1,1,this.optionList[e]),this.optionList.splice(e,1,t)}},checkIcons:function(e,t){this.iconChangeIndex=t;var a=this.dialog.name,i=e.icon;this.icons=i?Object(s["a"])(Object(s["a"])({},this.icons),{},{name:i}):Object(s["a"])(Object(s["a"])({},this.icons),{},{name:"",paneName:"direct"}),this.$modal.show(a)},iconChooseConfirm:function(){var e=this.$refs.icons,t=e.checked.icon,a=e.pane.name,i=this.dialog.name;t&&(this.optionList[this.iconChangeIndex].icon=t,this.icons=Object(s["a"])(Object(s["a"])({},this.icons),{},{name:t,paneName:a}),this.$modal.hide(i))},backClick:function(){this.$emit("back")},submitClick:function(){0!=this.optionList.length?(this.saveOptionList(),this.$sweetAlert.successWithTimer("操作成功！"),this.$emit("back")):this.$sweetAlert.warnWithTimer("请选择需要添加的快捷功能节点！")},saveOptionList:function(){var e=this,t=this.setType;switch(this.optionList.map((function(e){e.list&&delete e.list})),t){case"menu":var a="post",i=JSON.stringify(this.optionList);this.$api.httpAction(this.url.quickMenuAdd,{menu:i},a).then((function(t){200==t.code?e.$sweetAlert.successWithTimer(t.msg):e.$sweetAlert.errorWithTimer(t.msg)})),this.$store.dispatch("shortcut/changeSetting",{key:"menuRouteList",value:this.optionList});break;case"archives":this.$store.dispatch("shortcut/changeSetting",{key:"libraryList",value:this.optionList});break;default:break}},setDefaultCheckedKeys:function(){var e=this;this.defaultCheckedKeys=this.optionList.map((function(e){return e.id})),this.$nextTick((function(){e.$refs.tree.setCheckedKeys(e.defaultCheckedKeys),e.$forceUpdate()}))},setTree:function(){var e=this;this.treeData=[],this.optionList=[];var t=this.setType;switch(t){case"menu":this.$store.state.shortcut.menuRouteList;this.$api.httpAction(this.url.quickMenu,{},"POST").then((function(t){if(200==t.code){var a=[];t.data.forEach((function(e){a.push(JSON.parse(e.MENU))})),e.optionList=a,e.getMenuTreeData(),e.setDate()}else e.$sweetAlert.errorWithTimer(t.msg)}));break;case"archives":var a=this.$store.state.shortcut.libraryList;this.optionList=a,this.getArchivesTreeData(),this.setDate();break;default:break}},setDate:function(){this.defaultCheckedKeys=this.optionList.map((function(e){return e.id})),this.defaultExpandedKeys=this.optionList.map((function(e){return e.id})),this.setDefaultCheckedKeys()}},created:function(){this.setTree()},mounted:function(){}},f=p,m=(a("6caf"),a("2877")),h=Object(m["a"])(f,i,n,!1,null,"8847f33c",null);t["default"]=h.exports},"6c51":function(e,t,a){},"6caf":function(e,t,a){"use strict";a("56ce")},"6ce4":function(e,t,a){"use strict";a("f981")},"6dab":function(e,t,a){"use strict";a("91f3")},"6e44":function(e,t,a){"use strict";var i=a("cf45");t["a"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var e=this;this.$_resizeHandler=Object(i["b"])((function(){e.chart&&e.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}}},"6ef1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"max-height"},[a("fox-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1)},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("2f62"),a("f7c4")),l=a("0779"),c=a("3f19"),u=(a("cf45"),{mixins:[c["a"]],components:{foxTable:o["a"],DictSelectTag:l["default"]},props:{title:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,model:null,jobId:"",searchTypeList:[{value:"beanName",name:"SpringBean名称"},{value:"status",name:"任务状态"}],searchType:"beanName",searchText:"",url:{list:"/scheduleJob/jobLoglist"}}},computed:{},created:function(){this.setTableColumn(),this.queryList(1)},methods:{init:function(e){this.visible=!0,this.jobId=e},setTableColumn:function(){var e=this;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"spring bean名称",prop:"beanName"},{label:"方法名",prop:"methodName"},{label:"参数",prop:"params"},{label:"执行状态",prop:"status_dictText"},{label:"耗时(毫秒)",prop:"times"},{label:"失败信息",prop:"error"},{label:"执行时间",prop:"createTime"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},searchTypeChange:function(e){this.searchText="",this.queryList(1)},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize,type:"all",jobId:t.jobId},i.status=t.searchText,a.next=5,t.$api.getAction(t.url.list,i);case 5:n=a.sent,s=n.count,o=n.data,t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*s}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:o})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 11:case"end":return a.stop()}}),a)})))()},cancelModal:function(){this.visible=!1,this.$emit("close")}}}),d=u,p=a("2877"),f=Object(p["a"])(d,i,n,!1,null,"d5552c76",null);t["default"]=f.exports},"6f46":function(e,t,a){},7275:function(e,t,a){"use strict";a("da52")},"735d":function(e,t,a){"use strict";a("64e3")},"73c9":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pdf-read"},[a("mask-print",{attrs:{pdfsrc:e.defaultPdf}})],1)},n=[],s=a("2ba6"),r=a("b68f"),o={name:"PdfRead",components:{MaskPrint:s["default"],PreviewPdf:r["default"]},props:{},data:function(){return{url:{view:"/waterMarker/viewDemo/test.pdf"}}},watch:{},computed:{testPdf:function(){return window._CONFIG["domainURL"]+"/resource/pdfjs/web/test.pdf"},defaultPdf:function(){return window._CONFIG["domainURL"]+this.url.view}},methods:{},created:function(){},mounted:function(){}},l=o,c=(a("51d8"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"29da10fa",null);t["default"]=u.exports},7461:function(e,t,a){},7529:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程定义名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processDefinitionName,callback:function(t){e.$set(e.listQuery,"processDefinitionName",t)},expression:"listQuery.processDefinitionName"}}),a("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[a("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询 "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1)],1),a("el-row",e._l(e.records,(function(t){return a("el-col",{attrs:{span:12}},[a("div",{staticClass:"filter-container",staticStyle:{"margin-right":"3px","margin-bottom":"3px"}},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(t.name)+"-v"+e._s(t.version))]),a("div",{staticStyle:{position:"relative","text-align":"right"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.btnImage(t.id)}}},[e._v("流程图")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.btnStartInstance(t)}}},[e._v("发起流程 ")])],1)]),a("div",{staticClass:"text item"},[e._v(" "+e._s(t.description?t.description:"无描述")+" ")]),a("div",{staticClass:"text item"},[e._v(" "+e._s(t.category?t.category:"无命名空间")+" ")])])],1)])})),1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}}),a("el-dialog",{attrs:{title:"流程图",fullscreen:"",visible:e.dialogImageVisible,width:"80%"},on:{"update:visible":function(t){e.dialogImageVisible=t}}},[a("img",{attrs:{src:e.imagePath,alt:"流程图"}})]),e.dialogStartInstanceVisible?a("start-process",{attrs:{visible:e.dialogStartInstanceVisible,processDefinition:e.processDefinition},on:{"update:visible":function(t){e.dialogStartInstanceVisible=t}}}):e._e()],1)},n=[],s=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("333d")),r=a("0fea"),o=a("5c96"),l=(a("5f87"),a("3f4b")),c={name:"FlowableStartMyProcess",components:{StartProcess:l["default"],Pagination:s["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,processDefinitionId:void 0,processDefinitionName:void 0,processDefinitionKey:void 0,latestVersion:!0,suspended:void 0},dialogFormVisible:!1,dialogImportVisible:!1,dialogImageVisible:!1,imagePath:"",dialogStartInstanceVisible:!1,formJson:void 0,dialogProcessDefinitionIdentityLinkVisible:!1,selectedProcessDefinitionId:"",selectedProcessDefinitionName:"",processDefinition:void 0}},created:function(){this.list()},methods:{list:function(){var e=this;Object(r["e"])("/flowable/processDefinition/listMyself",this.listQuery).then((function(t){var a=t.data;e.records=a.records,e.total=a.total,0==a.total&&o["Message"].info("查无可发起的流程")}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,processDefinitionId:void 0,processDefinitionName:void 0,processDefinitionKey:void 0,latestVersion:!0,suspended:void 0},this.list()},btnImage:function(e){var t=this;Object(r["c"])("/flowable/processDefinition/image",{processDefinitionId:e}).then((function(e){t.imagePath=window.URL.createObjectURL(e)})),this.dialogImageVisible=!0},btnStartInstance:function(e){this.processDefinition=e,this.dialogStartInstanceVisible=!0}}},u=c,d=a("2877"),p=Object(d["a"])(u,i,n,!1,null,null,null);t["default"]=p.exports},"755b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"message-box max-height flex-column"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"max-height"},[!e.noDataFlag&&e.table.data.length>0?a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,stripe:!1,"row-style":e.rowStyle},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}}):e._e(),e.noDataFlag?a("no-data"):e._e()],1),e.modify.show?a("modify",{ref:"modify",attrs:{title:e.modify.textMap[e.modify.status],status:e.modify.status},on:{ok:e.modifyLoad,close:function(t){e.modify.show=!1}}}):e._e()],1)},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("a9e3"),a("d81d"),a("f7c4")),l=a("3f19"),c=a("2e5f"),u=a("caf0"),d=a("501e"),p={name:"NoticeList",mixins:[l["a"]],components:{foxTable:o["a"],BtnList:c["default"],Modify:u["default"],NoData:d["default"]},props:{isRead:{type:String|Number,default:""}},data:function(){return{searchText:"",modify:{show:!1,status:"create",textMap:{check:"查看"},loading:!1},url:{list:"/sysMsg/list",addNoticeUser:"/sys/notice/addNoticeUser",getNotReadTotal:"/sysMsg/getNotReadTotal"},model:null,pageIdx:0,columnList:[],noDataFlag:!1}},watch:{},computed:{},methods:{init:function(e){this.model=e,this.queryList(1)},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"消息标题",prop:"title"},{label:"发布时间",prop:"createTime",width:180},{label:"操作",prop:"oper",width:100,render:function(t,a){var i=a.row,n=[{content:"查看",type:"text",icon:"info",popover:!1,event:function(){e.check(i)}}];return t(c["default"],{attrs:{btnInfo:n}})}}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},add:function(){var e=this;this.modify.status="create",this.modify.show=!0,this.$nextTick((function(){e.$refs["modify"].initForm()}))},check:function(e){var t=this;this.modify.status="check",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)})),1==e.isRead&&this.addNoticeUser(e)},update:function(e){var t=this;this.modify.status="update",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)}))},modifyLoad:function(){this.getNotReadTotal(),this.queryList()},getNotReadTotal:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={},i=e.url.getNotReadTotal,t.next=4,e.$api.getAction(i,a);case 4:n=t.sent,s=n.data,e.$store.commit("SET_UNREAD_MESSAGE",s.notReadTotal);case 7:case"end":return t.stop()}}),t)})))()},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize},t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),n=t.url.list,a.next=6,t.$api.getAction(n,i);case 6:s=a.sent,o=s.count,l=s.data,l&&0==l.length&&(t.noDataFlag=!0),l&&l.map((function(e){return e.isRead_dictText="1"==e.isRead?"未读":"已读"})),t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*o}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:l})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 14:case"end":return a.stop()}}),a)})))()},addNoticeUser:function(e){var t=this,a=this.url.addNoticeUser,i="post",n={noticeId:e.id};this.$api.httpAction(a,n,i).then((function(e){200==e.code&&(t.getNotReadTotal(),t.queryList())}))},rowStyle:function(e){var t=e.row,a=(e.rowIndex,{});return 0==t.isUrgent&&1==t.isRead?(a.background="#F56C6C",a):""}},created:function(){this.setTableColumn(),this.getNotReadTotal(),this.queryList(1)},mounted:function(){}},f=p,m=(a("bf79"),a("2877")),h=Object(m["a"])(f,i,n,!1,null,"29870a8c",null);t["default"]=h.exports},"75b7":function(e,t,a){},"75c4":function(e,t,a){},"763d":function(e,t,a){},7834:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticClass:"lend-modal",attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,width:"1100px",title:e.title,"inline-message":!0,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"flex-column borrow-info-box"},[e.model?a("table",{staticClass:"mini-table",staticStyle:{width:"100%"},attrs:{border:"2"}},[a("tr",[a("td",{staticClass:"label-item shadow",attrs:{rowspan:"2"}},[e._v("申请人")]),a("td",{staticClass:"label-item"},[e._v("姓名")]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.APPLY_USER))]),a("td",{staticClass:"label-item"},[e._v("联系电话")]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.MOBILE))])]),a("tr",[a("td",{staticClass:"label-item"},[e._v("单位")]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.DEPT_NAME))]),a("td",{staticClass:"label-item"},[e._v(e._s(e.cardTypeText))]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.CARD_SERIAL))])]),a("tr",[a("td",{staticClass:"label-item shadow",attrs:{rowspan:"2"}},[e._v("借阅形式")]),a("td",{attrs:{colspan:"10"}},[e._v(e._s(e.model.BORROW_TYPE))])]),a("tr",[a("td",{staticClass:"label-item"},[e._v("到馆时间")]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.ARRIVAL_TIME))]),a("td",{staticClass:"label-item"},[e._v("归还时间")]),a("td",{attrs:{colspan:"4"}},[e._v(e._s(e.model.END_TIME))])]),a("tr",[a("td",{staticClass:"label-item shadow"},[e._v("利用目的")]),a("td",{attrs:{colspan:"10"}},[e._v(e._s(e.reasonText))])]),a("tr",[a("td",{staticClass:"label-item shadow"},[e._v("备注")]),a("td",{attrs:{colspan:"10"}},[e._v(e._s(e.model.REMARKES))])])]):e._e()]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.printClick}},[e._v("打印借阅单")]),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submit}},[e._v(" 借出 ")])],1)]):e._e(),e.print.show?a("print-modal",{ref:"print",on:{close:function(t){e.print.show=!1}}}):e._e()],1)},n=[],s=a("5530"),r=a("1da1"),o=a("ade3"),l=(a("96cf"),a("7db0"),a("b0c0"),a("e8ec")),c={name:"LendModal",components:{PrintModal:l["default"]},props:{dictOptionsObject:{type:Object,default:null}},data:function(){var e;return e={title:"借出档案",model:{},visible:!1,loading:!1,print:{show:!1,loading:!1},url:{info:"/borrowCar/queryBorrowUserInfo",lend:"/borrowCar/LendRejection"}},Object(o["a"])(e,"model",null),Object(o["a"])(e,"ids",""),Object(o["a"])(e,"itemData",null),e},computed:{reasonText:function(){var e=this,t="";if(this.dictOptionsObject&&this.model){var a=this.dictOptionsObject["utilize_purpose"].find((function(t){return t.value==e.model.REASON}));a&&(t=a.name)}return t},cardTypeText:function(){var e=this,t="";if(this.dictOptionsObject&&this.model){var a=this.dictOptionsObject["certificate_type"].find((function(t){return t.value==e.model.CARD_TYPE}));a&&(t=a.name)}return t}},created:function(){},methods:{init:function(e){this.itemData=e,this.getInfo(e),this.ids=e.applyId},getInfo:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,n,s,r,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.url.info,n={},s=e.applyId,n={applyId:s},r="post",a.next=7,t.$api.httpAction(i,n,r);case 7:o=a.sent,l=o.data,t.model=l,t.visible=!0;case 11:case"end":return a.stop()}}),a)})))()},submit:function(){var e=this,t=this.url.lend,a=Object(s["a"])(Object(s["a"])({},this.itemData),{},{type:"1"}),i="post";this.loading=!0,this.$api.httpAction(t,a,i).then((function(t){e.loading=!1,200==t.code?(e.$sweetAlert.successWithTimer(t.msg),e.$emit("ok"),e.cancelModal()):e.$sweetAlert.errorWithTimer(t.msg)}))},printClick:function(){var e=this;this.print.show=!0,this.$nextTick((function(){e.$refs.print.init("3",null,{ids:e.ids})}))},cancelModal:function(){this.visible=!1,this.$emit("close")}}},u=c,d=(a("c2ff"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"0abc81c4",null);t["default"]=p.exports},7921:function(e,t,a){},"79bcf":function(e,t,a){"use strict";a("4432")},"79cf":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},n=[],s=a("313e"),r=a.n(s),o=a("1e21");a("817d");var l={mixins:[o["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.expectedData,a=e.actualData;this.chart.setOption({xAxis:{data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["expected","actual"]},series:[{name:"expected",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:t,animationDuration:2800,animationEasing:"cubicInOut"},{name:"actual",smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:a,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},c=l,u=a("2877"),d=Object(u["a"])(c,i,n,!1,null,null,null);t["default"]=d.exports},"7bd1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container storage-box"},[a("el-row",{staticClass:"form-row"},[a("el-col",{staticClass:"max-height flex-column",attrs:{span:6}},[a("div",{staticClass:"container-box storage-left-item flex justify-between"},[a("div",{staticClass:"left flex-column"},[a("div",{staticClass:"title"},[e._v("文件总数")]),a("div",{staticClass:"logo"},[a("img",{attrs:{src:"static/img/storage/files.svg",alt:""}})])]),a("div",{staticClass:"right"},[e._v(e._s(e.totalFileCount))])]),a("div",{staticClass:"container-box storage-left-item flex justify-between"},[a("div",{staticClass:"left flex-column"},[a("div",{staticClass:"title"},[e._v("文件总存储")]),a("div",{staticClass:"logo"},[a("img",{attrs:{src:"static/img/storage/database.svg",alt:""}})])]),a("div",{staticClass:"right"},[e._v(e._s(e.totalFileSize))])])]),a("el-col",{staticClass:"max-height",attrs:{span:18}},[a("div",{staticClass:"container-box storage-right-item"},[e.basicLineFlag?a("basic-line",{ref:"line",attrs:{dataInfo:e.basicLineOption}}):e._e()],1)])],1),a("div",{staticClass:"container-box service-list flex-column"},[a("div",{staticClass:"title"},[e._v("文件服务管理")]),a("div",{staticClass:"list flex"},e._l(e.serviceList,(function(t,i){return a("div",{key:i,staticClass:"list-item container-box flex",class:{"click-status":t.clickStatus},on:{click:function(a){return e.clickServiceItem(t)}}},[a("div",{staticClass:"logo",class:[t.animation]},[a("img",{attrs:{src:"static/img/storage/"+t.logo+".svg",alt:""}})]),a("div",{staticClass:"text webkit-transition"},[e._v(e._s(t.text))])])})),0)]),a("div",{staticClass:"container-box table-box"},[a("div",{staticClass:"path-list flex justify-start"},e._l(e.pathList,(function(t,i){return a("div",{key:i,staticClass:"path-list-item flex",on:{click:function(a){return e.pathItemClick(t,i)}}},[a("div",{staticClass:"name",class:{"animated slideInLeft":i>0}},[e._v(" "+e._s(t.name||t.label||"")+" ")]),i<e.pathList.length-1?a("div",[e._v("/")]):e._e()])})),0),a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,"row-style":{cursor:"pointer"}},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick,"row-click":e.rowClick}})],1),e._m(0),e.detail.show?a("detail-modal",{ref:"detail",attrs:{title:e.detail.title},on:{close:function(t){e.detail.show=!1}}}):e._e()],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"prestrain-img"},[a("img",{attrs:{src:"static/img/table/folder.svg",alt:""}}),a("img",{attrs:{src:"static/img/table/file.svg",alt:""}})])}],s=a("5530"),r=a("1da1"),o=(a("96cf"),a("a434"),a("a15b"),a("d81d"),a("b0c0"),a("ac1f"),a("5319"),a("3d2a")),l=a("f7c4"),c=a("7dd7"),u=a("2e5f"),d=a("3d09"),p=a("3f19"),f={name:"DocumentStorageManage",mixins:[p["a"]],components:{BasicLine:o["default"],foxTable:l["a"],DetailModal:c["default"],BtnList:u["default"]},props:{},data:function(){return{baseData:null,fileList:[],detail:{title:"文件详情",show:!1,loading:!1},serviceList:[{logo:"statistics",text:"修正统计信息",method:"/sysOss/repairStat",animation:"rubberBand",clickStatus:!1},{logo:"clean",text:"清理空目录",method:"/sysOss/removeEmptyDir",animation:"tada",clickStatus:!1},{logo:"backup",text:"备份元数据",method:"/sysOss/backup",animation:"fadeInUp",clickStatus:!1},{logo:"repair",text:"同步失败修复",method:"/sysOss/repair",animation:"flip",clickStatus:!1}],basicLineOption:{seriesArr:[],xAxisArr:[]},basicLineFlag:!1,pathList:[{label:"全部文件",name:""}],url:{listFile:"/sysOss/listFile",baseData:"/sysOss/fastdfsStat",fileDetails:"/sysOss/fileDetails"}}},watch:{},computed:{totalFileCount:function(){var e=0;return this.baseData&&(e=this.baseData.totalFileCount),e},totalFileSize:function(){var e=0;return this.baseData&&(e=this.baseData.totalFileSize),e}},methods:{basicLineChange:function(e){this.basicLineType=e},pathItemClick:function(e,t){this.pathList=this.pathList.splice(0,t+1);var a=this.pathList.map((function(e){return e.name})).join("/");this.getListFile(a)},initBaseData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={},t.next=3,e.$api.getAction(e.url.baseData,a);case 3:i=t.sent,n=i.data,e.baseData=n,e.basicLineOption={title:"近30天存储量趋势 总存储："+n.dayFileSize,subTitle:"单位 MB",legend:"文件存储",seriesArr:n.dayFileSizeList,xAxisArr:n.dayNumList},e.basicLineFlag=!0,e.$nextTick((function(){e.$refs["line"].initChart()}));case 9:case"end":return t.stop()}}),t)})))()},getListFile:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e&&0==e.indexOf("/")&&(e=e.replace("/","")),i={dir:e},t.table=Object(s["a"])(Object(s["a"])({},t.table),{},{loading:!0}),a.next=5,t.$api.httpAction(t.url.listFile,i,"post");case 5:n=a.sent,r=n.data,t.fileList=r,t.$nextTick((function(){t.table=Object(s["a"])(Object(s["a"])({},t.table),{},{data:r})})),t.table=Object(s["a"])(Object(s["a"])({},t.table),{},{loading:!1});case 10:case"end":return a.stop()}}),a)})))()},clickServiceItem:function(e){var t=this,a=e.method,i={},n="post";e.clickStatus=!0,setTimeout((function(){e.clickStatus=!1}),300),this.$api.httpAction(a,i,n).then((function(e){200==e.code?t.$sweetAlert.successWithTimer(e.msg):t.$sweetAlert.errorWithTimer(e.msg)}))},btnClick:function(e,t){switch(t){case"next":this.getListFile(e.md5);break;case"download":window.location.href=e.linkAddr;break;case"detail":this.getDetailData(e.md5);break;default:break}},getDetailData:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,n,s,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.url.fileDetails,n={md5:e},s="post",a.next=5,t.$api.httpAction(i,n,s);case 5:r=a.sent,o=r.data,t.detail.show=!0,t.$nextTick((function(){t.$refs.detail.init(o)}));case 9:case"end":return a.stop()}}),a)})))()},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(s["a"])(Object(s["a"])({},this.table),{},{show:!1,column:[{label:"文件名",prop:"logo",render:function(e,t){var a=t.row,i="static/img/table/folder.svg";a.isDir||(i="static/img/table/file.svg");var n={logo:i,text:a.name};return e(d["default"],{attrs:{logoInfo:n}})}},{label:"操作",prop:"oper",width:280,fixed:"right",render:function(t,a){var i=a.row;if(!i.isDir){var n=[{content:"下载",type:"text",icon:"download",popover:!1,event:function(){e.btnClick(i,"download")}},{content:"详情",type:"text",icon:"info",popover:!1,event:function(){e.btnClick(i,"detail")}}];return t(u["default"],{attrs:{btnInfo:n}})}}},{label:"大小",prop:"size"},{label:"上传时间",prop:"mtime"}]}),this.$nextTick((function(){e.table=Object(s["a"])(Object(s["a"])({},e.table),{},{show:!0})}))},rowClick:function(e,t){if(!this.table.loading&&e.isDir){this.pathList.push({name:e.name});var a=this.pathList.map((function(e){return e.name})).join("/");this.getListFile(a)}}},created:function(){this.setTableColumn(),this.initBaseData(),this.getListFile()},mounted:function(){}},m=f,h=(a("1f5f"),a("2877")),b=Object(h["a"])(m,i,n,!1,null,"31f40062",null);t["default"]=b.exports},"7c50":function(e,t,a){"use strict";a("369c")},"7dd7":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,width:"550px",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("div",{staticClass:"info"},[e.tableList&&e.tableList.length>0?a("div",{staticClass:"info-content"},[a("table",{staticClass:"info-table",staticStyle:{"border-collapse":"separate","border-spacing":"0px 10px"},attrs:{width:"100%"}},e._l(e.tableList,(function(t,i){return a("tr",{key:i},e._l(t,(function(t,i){return a("td",{key:i,class:[i%2==0?"label":"text"]},[a("div",{class:[i%2==0?"right":"left"]},[e._v(" "+e._s(t)+" ")])])})),0)})),0)]):e._e()])])]):e._e()},n=[],s=(a("b0c0"),a("159b"),a("2f62"),{props:{title:{type:String,default:""}},data:function(){return{tableList:[],visible:!0,loading:!1,modalType:null,model:null}},computed:{},created:function(){},methods:{init:function(e){this.visible=!0,this.model=e,this.tableList=this.initTableData(e)},initTableData:function(e){var t=[];t=[["文件名: ",e.name],["MD5摘要:",e.md5],["路径:",e.path],["大小:",e.size],["情景:",e.scene],["上传时间:",e.timeStamp]];var a=e.peers;return a.forEach((function(e,a){var i="";0==a&&(i="服务器地址");var n=e,s=[i,n];t.push(s)})),t},cancelModal:function(){this.visible=!1,this.$emit("close")}}}),r=s,o=(a("4108"),a("2877")),l=Object(o["a"])(r,i,n,!1,null,"3b054ccb",null);t["default"]=l.exports},"7e4d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"library-box"},[e.list.length>0?i("div",{staticClass:"list-box"},e._l(e.list,(function(t){return i("div",{key:t.id,staticClass:"list-item",on:{click:function(a){return e.itemClick(t)}}},[i("div",{staticClass:"logo webkit-transition",class:{"show-icon":t.icon}},[t.icon?i("i",{class:"icon-img  menu-icon anticon pr-2 icon-"+t.icon}):e._e(),"blue"==e.themeImg?i("img",{attrs:{src:a("be9d"),alt:""}}):e._e(),"red"==e.themeImg?i("img",{attrs:{src:a("c085"),alt:""}}):e._e()]),i("el-tooltip",{attrs:{effect:"light",content:t.name,placement:"top-start"}},[i("div",{staticClass:"text text-overflow"},[e._v(" "+e._s(t.name)+" ")])])],1)})),0):e._e(),0==e.list.length?i("div",{staticClass:"max-height"},[i("no-data")],1):e._e()])},n=[],s=a("501e"),r={name:"LibraryBox",components:{NoData:s["default"]},props:{},data:function(){return{}},watch:{},computed:{list:function(){return this.$store.state.shortcut.libraryList},themeImg:function(){return this.$store.state.settings.themeImg}},methods:{itemClick:function(e){var t=e.originalId,a=e.templateId,i=e.archRuleId,n=e.cateCode,s=e.cateType,r={id:t,templateId:a,archRuleId:i,cateCode:n,cateType:s},o=[];o.push(e.menuRouteLink),sessionStorage.setItem("expendTreeNodeKeys",JSON.stringify(o)),this.$store.dispatch("settings/changeSetting",{key:"expandedKeysId",value:t}),this.$router.push({path:e.menuRouteLink,query:r})}},created:function(){},mounted:function(){}},o=r,l=(a("8ee3"),a("2877")),c=Object(l["a"])(o,i,n,!1,null,"2cff7240",null);t["default"]=c.exports},8197:function(e,t,a){},8454:function(e,t,a){},"84ee":function(e,t,a){},"84ee5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"review-info-box"},[a("h2",{staticStyle:{"font-family":"'宋体'","font-size":"20px","line-height":"40px","text-align":"center"}},[e._v(" "+e._s(e.data.transferDeptName)+"档案送审单 ")]),a("table",{staticClass:"main-tbale main-tbale-bordered",attrs:{width:"100%",border:"0",cellspacing:"1",cellpadding:"0"}},[e._m(0),a("tr",[a("td",{},[e._v("送审部门")]),a("td",[e._v(e._s(e.data.transferDeptName))]),a("td",[e._v("全宗号")]),a("td",[e._v(e._s(e.data.fondCode))])]),e._m(1),a("tr",[a("td",[e._v(e._s(e.data.volNum))]),a("td",[e._v(e._s(e.data.involNum))]),a("td",[e._v(e._s(e.data.docNum))])])])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("colgroup",[a("col",{attrs:{width:"150"}}),a("col",{attrs:{width:"200"}}),a("col"),a("col")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("td",{attrs:{rowspan:"2"}},[a("span",{staticStyle:{display:"block",width:"1em","margin-left":"40%"}},[e._v("送审档案数")])]),a("td",[e._v("案卷")]),a("td",[e._v("卷内")]),a("td",[e._v("单件")])])}],s=a("5530"),r=a("2f62"),o={name:"ReviewInfo",components:{},props:{data:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:Object(s["a"])({},Object(r["c"])(["userInfo"])),created:function(){},methods:{}},l=o,c=(a("3e0c"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"2035dd2e",null);t["default"]=u.exports},8650:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container flex-column"},[a("div",{staticClass:"operate-btn-list"},e._l(e.btnList,(function(t){return a("div",{key:t.value},[a("el-button",{attrs:{size:"mini",type:t.type},on:{click:function(a){return e.btnClick(t)}}},[e._v(" "+e._s(t.label)+" ")])],1)})),0),a("div",{staticClass:"table-box max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,"row-style":{cursor:"pointer"}},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),e.modal.show?a("info-modal",{ref:"modal",attrs:{title:e.modal.title,modalType:e.modal.type},on:{ok:e.queryList,close:function(t){e.modal.show=!1}}}):e._e()],1)},n=[],s=a("5530"),r=a("f7c4"),o=a("2e5f"),l=a("3f19"),c=a("8df0"),u=a("4de3"),d={name:"InfoList",mixins:[l["a"],c["a"]],components:{foxTable:r["a"],BtnList:o["default"],InfoModal:u["default"]},props:{},data:function(){return{modal:{show:!1,title:"",type:"",loading:!1},modalTitleObject:{add:"签章新增",edit:"签章编辑"},selfLoadTableFlag:!0,btnList:[{value:"add",label:"新增"}],url:{list:"/eleSign/signatureInfoList",delete:"/eleSign/removeSignInfo"}}},watch:{},computed:{},methods:{operate:function(e,t){var a=this,i=e,n={id:i.id};switch(t){case"generate":case"add":case"edit":this.modal.title=this.modalTitleObject[t],this.modal.type=t,this.modal.show=!0,this.$nextTick((function(){a.$refs.modal.init(i)}));break;case"download":this.interfaceOperate(t,n);break;case"delete":var s="您确定要删除本密钥吗？";this.operateBeforeConfirm(e,t,s,(function(){a.interfaceOperate(t,n)}));break;case"move":break;default:break}},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(s["a"])(Object(s["a"])({},this.table),{},{show:!1,column:[{label:"签章名称",prop:"fieldname"},{label:"签名原因",prop:"reason"},{label:"签名地点",prop:"location"},{label:"证书名称",prop:"certName"},{label:"印章名称",prop:"sealName"},{label:"操作",prop:"oper",width:200,fixed:"right",render:function(t,a){var i=a.row,n=[{content:"编辑",type:"text",icon:"edit",event:function(){e.operate(i,"edit")}},{content:"删除",color:e.deleteColor,type:"text",icon:"delete-solid",event:function(){e.operate(i,"delete")}}];return t(o["default"],{attrs:{btnInfo:n}})}}]}),this.$nextTick((function(){e.table=Object(s["a"])(Object(s["a"])({},e.table),{},{show:!0})}))},interfaceOperate:function(e,t){var a=this,i=this.url[e],n="post";if("download"==e){var s="",r="zip";this.downloadByFileStream(i,t,s,r)}else this.interfaceRequest(i,t,n,(function(){a.queryList()}))}},created:function(){},mounted:function(){}},p=d,f=a("2877"),m=Object(f["a"])(p,i,n,!1,null,"a0830914",null);t["default"]=m.exports},8652:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"表单key"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.formKey,callback:function(t){e.$set(e.listQuery,"formKey",t)},expression:"listQuery.formKey"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"表单名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.formName,callback:function(t){e.$set(e.listQuery,"formName",t)},expression:"listQuery.formName"}}),a("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[a("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询 "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1),a("el-button-group",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:form:save",expression:"'flowable:form:save'"}],staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnCreate}},[e._v("新增 ")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:form:delete",expression:"'flowable:form:delete'"}],staticClass:"filter-item",attrs:{icon:"el-icon-delete"},on:{click:function(t){return e.btnDelete()}}},[e._v("批量删除 ")])],1)],1),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center"}}),a("el-table-column",{attrs:{label:"表单key",prop:"formKey",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.formKey))])]}}])}),a("el-table-column",{attrs:{label:"表单名称",prop:"formName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.formName))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[e._v("操作"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(i)}}},[e._v("查看")]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:form:update",expression:"'flowable:form:update'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnUpdate(i)}}},[e._v("修改 ")]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:form:update",expression:"'flowable:form:update'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnUpdateFormJson(i)}}},[e._v("修改表单 ")]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:form:delete",expression:"'flowable:form:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(i.formKey)}}},[e._v("删除 ")])],1)],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}}),a("el-dialog",{attrs:{title:"流程表单",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,disabled:"view"===e.dialogStatus,"label-position":"right","label-width":"110px"}},[a("el-form-item",{attrs:{label:"表单key",prop:"formKey"}},[a("el-input",{attrs:{readonly:"update"===e.dialogStatus},model:{value:e.temp.formKey,callback:function(t){e.$set(e.temp,"formKey",t)},expression:"temp.formKey"}})],1),a("el-form-item",{attrs:{label:"表单名称",prop:"formName"}},[a("el-input",{model:{value:e.temp.formName,callback:function(t){e.$set(e.temp,"formName",t)},expression:"temp.formName"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")]),"view"!==e.dialogStatus?a("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("确定 ")]):e._e()],1)],1)],1)},n=[],s=(a("d81d"),a("d3b7"),a("25f0"),a("333d")),r=a("0fea"),o=(a("5c96"),{name:"FlowableForm",components:{Pagination:s["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,formKey:void 0,formName:void 0},dialogFormVisible:!1,dialogStatus:"",temp:{formKey:void 0,formName:""},rules:{formKey:[{required:!0,message:"该项不能为空",trigger:"change"}],formName:[{required:!0,message:"该项不能为空",trigger:"change"}]}}},created:function(){this.list()},methods:{list:function(){var e=this;Object(r["e"])("/flowable/form/list",this.listQuery).then((function(t){var a=t.data;e.records=a.records,e.total=a.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,formKey:void 0,formName:void 0},this.list()},resetTemp:function(){this.temp={formKey:void 0,formName:""}},btnView:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="view",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},btnCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(r["g"])("/flowable/form/save",e.temp).then((function(t){var a=t.msg;e.dialogFormVisible=!1,e.$sweetAlert.successWithTimer(a),e.list()}))}))},btnUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},btnUpdateFormJson:function(e){this.$router.push({path:"/flowable/form/edit",query:{formKey:e.formKey}})},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(r["h"])("/flowable/form/update",e.temp).then((function(t){var a=t.msg;e.dialogFormVisible=!1,e.$sweetAlert.successWithTimer(a),e.list()}))}))},btnDelete:function(e){var t=this,a=e?[e]:this.selectedRecords.map((function(e){return e.formKey}));0!=a.length?Object(r["b"])("/flowable/form/delete",{ids:a.toString()}).then((function(e){var a=e.msg;t.$sweetAlert.successWithTimer(a),t.list()})):this.$sweetAlert.warnWithTimer("请选择要删除的记录")},selectionChange:function(e){this.selectedRecords=e}}}),l=o,c=a("2877"),u=Object(c["a"])(l,i,n,!1,null,null,null);t["default"]=u.exports},8684:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"max-height"},[a("fox-table",{ref:"foxTable",attrs:{"highlight-current-row":"",rowKey:"ID",column:e.table.column,data:e.table.data,pagination:e.paginationFlag,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,hideTableIndent:!0,stripe:!1},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1)},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("a9e3"),a("159b"),a("c740"),a("d3b7"),a("25f0"),a("f7c4")),l=a("3f19"),c=a("2e5f"),u={name:"BorrowContent",mixins:[l["a"]],components:{foxTable:o["a"],BtnList:c["default"]},props:{paginationFlag:{type:Boolean,default:!1},list:{type:Array,default:function(){return[]}},count:{type:Number,default:0},dateCode:{type:String,default:""},opeType:{type:String,default:""},cateCode:{type:String,default:""},json:{type:String,default:""},archivesType:{type:Boolean,default:!1}},data:function(){return{loading:!1,url:{queryData:"/borrowCar/queryData",fileList:"/keepArch/list"}}},watch:{},computed:{},methods:{init:function(){this.queryList(1)},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"状态",width:"50",render:function(t,a){var i=a.row,n=[];if(i.FILE_COUNT>0){var s={type:"text",icon:"collection",tooltipContent:"原文",event:function(){e.viewSource(i,"source")}};n.push(s)}return t(c["default"],{attrs:{btnInfo:n}})}},{label:"档号",prop:"ARCH_RULE",render:function(t,a){var i=a.row,n=[{content:i.ARCH_RULE,type:"text",color:i.children?"#F56C6C":"#606266",cursor:e.archivesType?"pointer":"default",event:function(){i.children&&0==i.children.length?e.getFileList(i):e.archivesType&&e.$refs.foxTable.toggleRowExpansion(i)}}];return t(c["default"],{attrs:{btnInfo:n}})}},{label:"件号",prop:"DOC_NUM"},{label:"题名",prop:"ARCH_TITLE"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},viewSource:function(e,t){var a=e.children?e.BUSI_ID:e.ID,i=e.children?"1":"2";this.opeType&&(a=e.ID,i=this.opeType);var n={id:a,othType:i,templateId:e.TEMPLATE_ID,cateCode:this.cateCode},s=this.$router.resolve({path:"/originalPage",query:n});window.open(s.href,"_blank")},getFileList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,i={cate_code:e.CATE_CODE,VOL_ID:e.BUSI_ID,templateId:e.TEMPLATE_ID,othType:"2",type:"all",DEL_STATUS:"0"},n=t.url.fileList,a.next=5,t.$api.getAction(n,i);case 5:s=a.sent,r=s.data,t.loading=!1,r&&0==r.length&&t.$sweetAlert.warnWithTimer("暂无卷内文件！"),r.forEach((function(t,a){t.TEMPLATE_ID=e.TEMPLATE_ID,t.CATE_CODE=e.CATE_CODE,t.BUSI_ID=e.BUSI_ID,t["selectDisabled"]=!0})),o=t.table.data.findIndex((function(t){return t.ID==e.ID})),o>-1&&(t.table.data[o].children=r),t.table.data=JSON.parse(JSON.stringify(t.table.data)),t.$nextTick((function(){t.$refs.foxTable.toggleRowExpansion(e)}));case 14:case"end":return a.stop()}}),a)})))()},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o,l,c,u,d,p,f;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),i=t.url.queryData,n=[],t.json&&(s=JSON.parse(t.json),n=s.data),o=JSON.stringify({data:n,dateCode:t.dateCode,page:t.page.pageNum.toString(),limit:t.page.pageSize.toString()}),l={json:o},c="post",a.next=10,t.$api.httpAction(i,l,c);case 10:u=a.sent,d=u.data,p=d.count,f=d.data,t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*p}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:f})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 15:case"end":return a.stop()}}),a)})))()}},created:function(){this.setTableColumn(),this.list&&this.list.length&&(this.table.data=JSON.parse(JSON.stringify(this.list))),this.archivesType&&this.table.data.forEach((function(e){e.children=[]})),this.page.total=this.count},mounted:function(){}},d=u,p=(a("1c84"),a("2877")),f=Object(p["a"])(d,i,n,!1,null,"c0f1dab2",null);t["default"]=f.exports},"86b3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper max-height flex-column"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,stripe:!1},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),e.fullText.show?a("full-text",{ref:"fullText",attrs:{info:e.fullText.info},on:{close:function(t){e.fullText.show=!1}}}):e._e(),e.detail.show?a("detail-modal",{ref:"detail",attrs:{title:e.detail.title,info:e.detail.info},on:{close:function(t){e.detail.show=!1}}}):e._e()],1)},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("a9e3"),a("d81d"),a("f7c4")),l=a("3f19"),c=a("2e5f"),u=a("4b48"),d=a("e6a1"),p={name:"NoticeList",mixins:[l["a"]],components:{foxTable:o["a"],BtnList:c["default"],FullText:u["default"],DetailModal:d["default"]},props:{isRead:{type:String|Number,default:""}},data:function(){return{searchText:"",fullText:{show:!1,title:"",info:"",loading:!1},detail:{show:!1,title:"查看拒绝理由",info:"",loading:!1},modify:{show:!1,status:"create",textMap:{update:"编辑",create:"添加",check:"查看"},loading:!1},url:{list:"/sys/notice/pageListMessage"},model:null,pageIdx:0,columnList:[]}},watch:{},computed:{},methods:{init:function(){this.queryList(1)},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{type:"selection",fixed:!0},{label:"状态",width:"180",render:function(t,a){var i=a.row,n=[{type:"text",icon:"collection",tooltipContent:"原文",event:function(){e.operate(i,"source")}},{type:"text",icon:"back",color:"#F56C6C",tooltipContent:"已拒绝",event:function(){e.operate(i,"refused")}},{type:"text",icon:"document",tooltipContent:"查看全文",event:function(){e.operate(i,"read")}}];return t(c["default"],{attrs:{btnInfo:n}})}},{label:"档号",prop:"content",width:"80",render:function(t,a){var i=a.row,n=[{content:"查看",type:"text",color:"#F56C6C",event:function(){e.showFileList(i)}}];return t(c["default"],{attrs:{btnInfo:n}})}},{label:"发起时间",prop:"createTime"},{label:"任务状态",prop:"isUrgent_dictText"},{label:"当前节点",prop:"isRead_dictText"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},showFileList:function(e){this.$emit("detail",e)},check:function(e){var t=this;this.modify.status="check",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)})),1==e.isRead&&this.addNoticeUser(e)},update:function(e){var t=this;this.modify.status="update",this.modify.show=!0,this.$nextTick((function(){t.$refs["modify"].initForm(e)}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize,type:"all",isRead:t.isRead,title:t.searchText},t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),n=t.url.list,a.next=6,t.$api.getAction(n,i);case 6:s=a.sent,o=s.count,l=s.data,l&&l.map((function(e){return e.isRead_dictText="1"==e.isRead?"未读":"已读"})),t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*o}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:l})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 13:case"end":return a.stop()}}),a)})))()},operate:function(e,t){var a=this;switch(t){case"source":var i=this.$router.resolve({path:"/originalPage"});window.open(i.href,"_blank");break;case"refused":this.detail.show=!0,this.detail.info="档号：2020-D30-DWZH-10",this.$nextTick((function(){a.$refs.detail.init()}));break;case"read":this.fullText.show=!0,this.fullText.info="(档号：2020-D30-DWZH-10,案卷号/件号：10)",this.$nextTick((function(){a.$refs.fullText.init()}));break;default:break}},urgeRequest:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$sweetAlert.successWithTimer("通知成功！");case 1:case"end":return t.stop()}}),t)})))()}},created:function(){this.setTableColumn(),this.queryList(1)},mounted:function(){}},f=p,m=(a("c58c"),a("2877")),h=Object(m["a"])(f,i,n,!1,null,"484391c3",null);t["default"]=h.exports},"879c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container flex-column"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"流程实例名称",size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processInstanceName,callback:function(t){e.$set(e.listQuery,"processInstanceName",t)},expression:"listQuery.processInstanceName"}}),a("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"创建时间开始",size:"mini",type:"datetime"},model:{value:e.listQuery.taskCreatedAfter,callback:function(t){e.$set(e.listQuery,"taskCreatedAfter",t)},expression:"listQuery.taskCreatedAfter"}}),a("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",size:"mini",placeholder:"创建时间结束",type:"datetime"},model:{value:e.listQuery.taskCreatedBefore,callback:function(t){e.$set(e.listQuery,"taskCreatedBefore",t)},expression:"listQuery.taskCreatedBefore"}}),a("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"完成时间开始",type:"datetime",size:"mini"},model:{value:e.listQuery.taskCompletedAfter,callback:function(t){e.$set(e.listQuery,"taskCompletedAfter",t)},expression:"listQuery.taskCompletedAfter"}}),a("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",size:"mini",placeholder:"完成时间结束",type:"datetime"},model:{value:e.listQuery.taskCompletedBefore,callback:function(t){e.$set(e.listQuery,"taskCompletedBefore",t)},expression:"listQuery.taskCompletedBefore"}}),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.btnQuery}},[e._v("查询")]),a("el-button",{attrs:{size:"mini"},on:{click:e.btnReset}},[e._v("重置")])],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"table-box max-height"},[a("fox-table",{ref:"foxTable",attrs:{"highlight-current-row":"",rowKey:"ID",column:e.table.column,data:e.table.data,pagination:!0,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,hideTableIndent:!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,select:e.selectChange}})],1),e.dialogViewVisible?a("process-detail",{attrs:{visible:e.dialogViewVisible,"file-params-object":e.fileParamsObject,"process-instance-id":e.processInstanceId},on:{"update:visible":function(t){e.dialogViewVisible=t}}}):e._e()],1)},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("f7c4")),l=a("2e5f"),c=a("3f19"),u=a("333d"),d=a("0fea"),p=a("3579"),f={name:"FlowableTaskDone",mixins:[c["a"]],components:{foxTable:o["a"],BtnList:l["default"],ProcessDetail:p["default"],Pagination:u["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,processDefinitionName:void 0,processInstanceId:void 0,taskName:void 0,processInstanceBusinessKey:void 0,taskCreatedAfter:void 0,taskCreatedBefore:void 0,taskCompletedAfter:void 0,taskCompletedBefore:void 0,processUnfinished:!1,processFinished:!1},formJson:void 0,processInstanceId:"",dialogViewVisible:!1}},created:function(){this.setTableColumn(),this.queryList(1)},methods:{setTableColumn:function(){var e=this;this.$createElement;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"操作",prop:"oper",width:100,align:"left",headerAlign:"center",fixed:"right",render:function(t,a){var i=a.row,n=[{content:"查看详情",type:"text",icon:"view",event:function(){e.btnView(i)}}];return t(l["default"],{attrs:{btnInfo:n}})}},{label:"流程实例名称",prop:"processInstanceName"},{label:"任务名称",prop:"name"},{label:"创建时间",width:180,prop:"createTime"},{label:"完成时间",width:180,prop:"endTime"},{label:"执行人",width:180,prop:"assignee"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:1===e&&(t.page.pageNum=1),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),t.listQuery=Object(r["a"])(Object(r["a"])({},t.listQuery),{},{current:t.page.pageNum,size:t.page.pageSize}),Object(d["e"])("/flowable/task/listDone",t.listQuery).then((function(e){var a=e.data;t.records=a.records,t.total=a.total,t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*a.total}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:a.records})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1})}));case 4:case"end":return a.stop()}}),a)})))()},btnQuery:function(){this.queryList(1)},btnReset:function(){this.listQuery={current:1,size:10,processDefinitionName:void 0,processInstanceId:void 0,taskName:void 0,processInstanceBusinessKey:void 0,taskCreatedAfter:void 0,taskCreatedBefore:void 0,taskCompletedAfter:void 0,taskCompletedBefore:void 0,processUnfinished:!1,processFinished:!1},this.queryList(1)},btnView:function(e){this.processInstanceId=e.processInstanceId,this.fileParamsObject=e,this.dialogViewVisible=!0}}},m=f,h=(a("5c3c"),a("2877")),b=Object(h["a"])(m,i,n,!1,null,"7d828f12",null);t["default"]=b.exports},"887a":function(e,t,a){},8917:function(e,t,a){},"8bd9":function(e,t,a){},"8be7":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,width:"500px",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("div",{staticClass:"base-red tips"},[e._v(" 接口签章，请至【系统设置>数据字典>电子签章参数】配置 "),a("br"),e._v(" 系统签章，请至【系统设置>电子签章】配置 ")]),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.model,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"签章分类",prop:"category"}},[a("dict-select-tag",{attrs:{"dict-code":"electronic_signature",placeholder:"请选择"},model:{value:e.model.category,callback:function(t){e.$set(e.model,"category",t)},expression:"model.category"}})],1),a("el-form-item",{attrs:{label:"签章名称",prop:"name"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}},e._l(e.stampList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name||e.certName,value:e.id}})})),1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v(" 签章 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},n=[],s=a("1da1"),r=(a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("96cf"),a("0779")),o=a("cf45"),l={name:"SignatureModal",components:{DictSelectTag:r["default"]},props:{pathItem:{type:Object,default:null}},data:function(){return{title:"选择签章",visible:!1,loading:!1,model:{category:"",name:""},secretList:[{value:1,name:"公开"},{value:2,name:"内部"}],rules:{category:[{required:!0,trigger:"change",message:"请选择签章分类"}],name:[{required:!0,trigger:"change",message:"请选择签章名称"}]},stampList:[],url:{stamp:"/sys/stamp/pageList",signDownLoad:"/attachment/signDownLoad"},params:null}},computed:{},methods:{init:function(e){this.params=e,this.getSampList(),this.visible=!0},getSampList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,n,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.url.stamp,i={page:1,limit:9999},n="post",t.next=5,e.$api.httpAction(a,i,n);case 5:s=t.sent,r=s.data,e.stampList=r||r.results;case 8:case"end":return t.stop()}}),t)})))()},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var a=t.url.signDownLoad,i=Object.assign({},t.params);i.ruleId=t.model.name,i.category=t.model.category;var n=Object(o["h"])(new Date,"{y}-{m}-{d}"),s=".pdf";t.$api.downFile(a,i).then((function(e){if(e)if(t.$emit("ok"),t.cancelModal(),"undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([e]),n+s);else{var a=window.URL.createObjectURL(new Blob([e])),i=document.createElement("a");i.style.display="none",i.href=a,i.setAttribute("download",n+s),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(a)}else t.$sweetAlert.errorWithTimer("文件下载失败！")}))}))},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){this.getSampList()}},c=l,u=(a("0af7"),a("2877")),d=Object(u["a"])(c,i,n,!1,null,"fa5ff088",null);t["default"]=d.exports},"8c21":function(e,t,a){"use strict";a("f930")},"8d8b":function(e,t,a){"use strict";a.r(t);var i=function(e,t){var a=t._c;return a("div",{staticStyle:{padding:"30px"}},[a("el-alert",{attrs:{closable:!1,title:"menu 1-3",type:"success"}})],1)},n=[],s=a("2877"),r={},o=Object(s["a"])(r,i,n,!0,null,null,null);t["default"]=o.exports},"8dc2":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container max-height flex-column"},[a("div",{staticClass:"half-height tab-pane-box"},[a("records-list",{ref:"records",attrs:{listType:e.listType},on:{detail:e.showFileList}})],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.showFileListLoading,expression:"showFileListLoading"}],staticClass:"half-height tab-pane-box"},[e.showFileListFlag?a("tab-pane",{attrs:{listType:e.listType}}):e._e()],1)])},n=[],s=a("3e13"),r=a("b2ea"),o={name:"PhysicalLibrary",components:{RecordsList:s["default"],TabPane:r["default"]},props:{},data:function(){return{content:"",draftTotal:null,showFileListFlag:!1,showFileListLoading:!1,listType:"physical"}},watch:{},computed:{},methods:{handleClick:function(e,t){},showFileList:function(){var e=this;this.showFileListLoading=!0,this.showFileListFlag=!1,this.$nextTick((function(){e.showFileListFlag=!0,e.showFileListLoading=!1}))}},created:function(){},mounted:function(){}},l=o,c=(a("0c06"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"483e29c6",null);t["default"]=u.exports},"8dcb":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"max-height"},[a("fox-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1)},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("2f62"),a("f7c4")),l=a("0779"),c=a("3f19"),u=(a("cf45"),{mixins:[c["a"]],components:{foxTable:o["a"],DictSelectTag:l["default"]},props:{title:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,model:null,jobId:"",searchTypeList:[{value:"beanName",name:"SpringBean名称"},{value:"status",name:"任务状态"}],searchType:"beanName",searchText:"",url:{list:"/scheduleJob/jobLoglist"}}},computed:{},created:function(){this.setTableColumn(),this.queryList(1)},methods:{init:function(e){this.visible=!0,this.jobId=e},setTableColumn:function(){var e=this;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"spring bean名称",prop:"beanName"},{label:"方法名",prop:"methodName"},{label:"参数",prop:"params"},{label:"执行状态",prop:"status_dictText"},{label:"耗时(毫秒)",prop:"times"},{label:"失败信息",prop:"error"},{label:"执行时间",prop:"createTime"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},searchTypeChange:function(e){this.searchText="",this.queryList(1)},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize,type:"all",jobId:t.jobId},i.status=t.searchText,a.next=5,t.$api.getAction(t.url.list,i);case 5:n=a.sent,s=n.count,o=n.data,t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*s}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:o})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 11:case"end":return a.stop()}}),a)})))()},cancelModal:function(){this.visible=!1,this.$emit("close")}}}),d=u,p=a("2877"),f=Object(p["a"])(d,i,n,!1,null,"1674d372",null);t["default"]=f.exports},"8e80":function(e,t,a){},"8e8b":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},n=[],s=a("313e"),r=a.n(s),o=a("1e21");a("817d");var l={mixins:[o["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:["Industries","Technology","Forex","Gold","Forecasts"]},series:[{name:"WEEKLY WRITE ARTICLES",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:[{value:320,name:"Industries"},{value:240,name:"Technology"},{value:149,name:"Forex"},{value:100,name:"Gold"},{value:59,name:"Forecasts"}],animationEasing:"cubicInOut",animationDuration:2600}]})}}},c=l,u=a("2877"),d=Object(u["a"])(c,i,n,!1,null,null,null);t["default"]=d.exports},"8e99":function(e,t,a){},"8ee3":function(e,t,a){"use strict";a("927c")},"8f1e":function(e,t,a){},"8f46":function(e,t,a){"use strict";a("75c4")},"8f55":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper"},[a("img",{attrs:{src:e.imgUrl,alt:""}})])},n=[],s={name:"FlowChart",components:{},props:{},data:function(){return{imgUrl:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=1132039634,1925716900&fm=26&gp=0.jpg"}},watch:{},computed:{},methods:{},created:function(){},mounted:function(){}},r=s,o=(a("9e32"),a("2877")),l=Object(o["a"])(r,i,n,!1,null,"095f7455",null);t["default"]=l.exports},"900b":function(e,t,a){"use strict";a("4673")},9048:function(e,t,a){"use strict";a("3157f")},"90f6":function(e,t,a){},"91b3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"30px"}},[a("el-alert",{attrs:{closable:!1,title:"menu 1-1",type:"success"}},[a("router-view")],1)],1)},n=[],s=a("2877"),r={},o=Object(s["a"])(r,i,n,!1,null,null,null);t["default"]=o.exports},"91f3":function(e,t,a){},"927c":function(e,t,a){},9292:function(e,t,a){},9306:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],staticStyle:{top:"-20px"},attrs:{visible:e.visible,modal:e.showModal,width:"68%","before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[e.formBuildShow?a("FormBuild",{ref:"formBuild",attrs:{"form-template":e.formTemplate,models:e.model}}):e._e()],1),e.showFooter?a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 保存 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("取消")])],1):e._e()]):e._e()},n=[],s=a("5530"),r=(a("4de4"),a("b64b"),a("0779")),o=a("6440"),l=a("2f62"),c={components:{DictSelectTag:r["default"],FormBuild:o["default"]},props:{title:{type:String,default:""}},data:function(){return{showModal:!0,visible:!1,loading:!1,showFooter:!0,formBuildShow:!1,msgModuleShow:!1,tabVal:"base",isContinue:!1,fileInFo:[],srcUrl:"",srcList:[],backInfo:[],baseData:null,initData:{},formTemplate:{},model:{},operateList:[],url:{queryBackInfo:"dynamic/queryBackInfo",getBaseInfo:"templates/getTempView",getDefData:"dynamic/defaultData",getInfoData:"dynamic/info"}}},computed:Object(s["a"])({},Object(l["c"])(["userInfo"])),created:function(){},methods:{init:function(e){this.initData=e,this.getInfoData(this.initData.row),this.getTemplate(),this.formBuildShow=!0,this.visible=!0},getInfoData:function(e){var t=this,a={othType:this.initData.othType,id:this.initData.id,templateId:this.initData.templateId};this.$api.httpAction(this.url.getInfoData,a,"post").then((function(e){"200"==e.code?t.model=e.data:t.$sweetAlert.errorWithTimer(e.msg)})).catch((function(e){}))},getTemplate:function(){var e=this,t={othType:this.initData.othType,templateId:this.initData.templateId};this.$api.getAction(this.url.getBaseInfo,t).then((function(t){"200"==t.code&&(e.formBuildShow=!0,e.$nextTick((function(){e.formTemplate=JSON.parse(t.data.vue)})))})).catch((function(){e.$sweetAlert.errorWithTimer("error")}))},submit:function(){var e=this;this.$refs.formBuild.getData().then((function(t){e.loading=!0;var a=/(dictText)|(label)/i;t=Object.keys(t).filter((function(e){return!a.test(e)})).reduce((function(e,a){return e[a]=t[a],e}),{});var i={dept_code:e.userInfo.baid,othType:e.initData.othType,CATE_CODE:e.initData.cateCode,transfer_status:e.initData.transferStatus,ARCH_TYPE:e.initData.othType};"1"==e.initData.othType?("mergeVol"==e.status&&(i.mergeVolIds=e.initData.volId),"groupVol"==e.status&&(i["VOL_ID"]=e.initData.volId,i["ARCH_TYPE"]="2",i["mergeIds"]=e.initData.docIds,delete t.ARCH_RULE)):"2"==e.initData.othType&&(i["VOL_ID"]=e.initData.volId),"similarAdd"==e.status&&(delete t.ID,"1"==e.initData.othType&&delete t.ARCH_RULE);var n=Object.assign({},t);n["id"]=n.ID,delete n.ID;var s="/dynamic/update?templateId="+e.initData.templateId;n=Object.assign(n,i),n.id||(s="/dynamic/add",n["templateId"]=e.initData.templateId),e.$api.httpAction(s,n,"post").then((function(t){"200"==t.code?"similarAdd"==e.status||"create"==e.status?e.continueOper(t):(e.loading=!1,e.$sweetAlert.successWithTimer(t.msg),e.cancelModal()):e.$sweetAlert.errorWithTimer(t.msg)}))})).catch((function(e){}))},continueOper:function(e){var t=this;this.loading=!1,this.msgModuleShow=!0,this.$nextTick((function(){t.$refs["msgModule"].initModule(e,t.initData.othType)}))},cancelModal:function(){this.visible=!1,this.$emit("close"),this.$emit("ok","groupVol"==this.status?"all":this.initData.othType)},closeMsgMod:function(e,t){switch(e){case"1":this.initData.othType="2",this.initData.volId=t,this.formBuildShow=!1,"similarAdd"==this.status&&(this.initData.status="create",this.model={}),this.$emit("vol-id",t);break;case"2":this.isContinue=!0,this.tabVal="file",this.model.ID=t;break;default:break}this.$refs["formBuild"].reset(),this.msgModuleShow=!1,this.initForm(this.initData)}}},u=c,d=(a("37ae"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"428c5219",null);t["default"]=p.exports},"937a":function(e,t,a){"use strict";a("b7c0")},"93b2":function(e,t,a){"use strict";a("5636")},9406:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"analysis max-height"},[i("div",{directives:[{name:"show",rawName:"v-show",value:"home"==e.pageFlag,expression:"pageFlag == 'home'"}],staticClass:"max-height flex flex-column dashboard-box"},[i("div",{staticClass:"card-list flex max-height"},[i("div",{staticClass:"max-width"},[i("basic-card",{attrs:{maxHeight:!0,title:"待办事项"}},[i("div",{attrs:{slot:"body"},slot:"body"},[i("backlog-box")],1)])],1),e.fullTextSearchFlag?i("div",{staticClass:"max-width"},[i("basic-card",{attrs:{maxHeight:!0,title:"全文检索"}},[i("div",{staticClass:"pointer",attrs:{slot:"body"},on:{click:e.wordClick},slot:"body"},[i("full-text")],1)])],1):i("div",{staticClass:"max-width"},[i("basic-card",{attrs:{maxHeight:!0,title:"热门关键词"}},[i("div",{attrs:{slot:"body"},slot:"body"},[i("word-cloud-chart",{attrs:{id:"echarts",defaultWords:e.echartsData},on:{wordClick:e.wordClick}})],1)])],1),i("div",{staticClass:"max-width"},[i("basic-card",{attrs:{maxHeight:!0,title:"文档共享中心"}},[i("div",{attrs:{slot:"body"},slot:"body"},[i("share-box")],1),i("div",{attrs:{slot:"operate"},on:{click:function(t){return e.itemClick("document")}},slot:"operate"},[e._v("more")])])],1)]),i("div",{staticClass:"card-list flex max-height"},[i("div",{staticClass:"max-width"},[i("basic-card",{attrs:{maxHeight:!0,title:"公告"}},[i("div",{staticClass:"max-height",attrs:{slot:"body"},slot:"body"},[i("notice-box")],1),i("div",{attrs:{slot:"operate"},on:{click:function(t){return e.itemClick("notice")}},slot:"operate"},[e._v("more")])])],1),i("div",{staticClass:"max-width"},[i("basic-card",{attrs:{maxHeight:!0,title:"常用库操作"}},[i("div",{attrs:{slot:"body"},slot:"body"},["home"==e.pageFlag?i("library-box"):e._e()],1),i("div",{attrs:{slot:"operate"},on:{click:function(t){return e.itemClick("library")}},slot:"operate"},[i("div",{staticClass:"set-btn rotate"},[i("img",{attrs:{src:a("f9d8"),alt:""}})])])])],1),i("div",{staticClass:"max-width"},[i("basic-card",{attrs:{maxHeight:!0,title:"消息通知"}},[i("div",{staticClass:"max-height",attrs:{slot:"body"},slot:"body"},[i("message-box")],1),i("div",{attrs:{slot:"operate"},on:{click:function(t){return e.itemClick("message")}},slot:"operate"},[e._v("more")])])],1)])]),"set"==e.pageFlag?i("div",{staticClass:"max-height"},[i("create-shortcut",{attrs:{setType:e.setType},on:{back:function(t){return e.pageFlagChange("home",null)}}})],1):e._e()])},n=[],s=a("1da1"),r=(a("96cf"),a("a434"),a("159b"),a("b0c0"),a("1f0d")),o=a("6c2d"),l=a("6873"),c=a("755b"),u=a("7e4d"),d=a("06c0"),p=a("e210"),f=a("aa8f"),m=a("501e"),h=a("65cf"),b=a("52fa"),g={name:"Analysis",components:{ShortcutOptions:r["default"],CreateShortcut:o["default"],NoticeBox:l["default"],MessageBox:c["default"],LibraryBox:u["default"],ShareBox:d["default"],BacklogBox:p["default"],FullText:f["default"],NoData:m["default"],BasicCard:h["default"],WordCloudChart:b["default"]},props:{},data:function(){return{echartsData:[]}},watch:{},computed:{fullTextSearchFlag:function(){var e=!1;return"XTU"===window._CONFIG["sysCode"]&&(e=!0),e},pageFlag:function(){return this.$store.state.temporary.homePageFlag||"home"},setType:function(){return this.$store.state.temporary.homeSetType||"menu"}},methods:{pageFlagChange:function(e,t){this.$store.dispatch("temporary/changeSetting",{key:"homePageFlag",value:e}),this.$store.dispatch("temporary/changeSetting",{key:"homeSetType",value:t})},itemClick:function(e){switch(e){case"notice":this.$router.push("/platform/NoticeManage");break;case"message":this.$router.push("/operation/Msg");break;case"document":this.$store.dispatch("settings/changeSetting",{key:"expandedKeysId",value:null}),this.$router.push("/recordsCenter/ElectronicFileShare");break;case"library":this.pageFlagChange("set","archives");break;default:break}},wordClick:function(){this.$router.push("/fullTextSearch/fullTextSearch")},listForHotwords:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="/listForHotwords",i={},n="post",t.next=5,e.$api.httpAction(a,i,n);case 5:s=t.sent,s.splice(30),s=s.reverse(),s.forEach((function(e,t){e.name=e.KEYWORD,e.value=t%10*1+100})),e.echartsData=s;case 10:case"end":return t.stop()}}),t)})))()}},created:function(){this.listForHotwords()},mounted:function(){}},v=g,y=(a("a682"),a("2877")),w=Object(y["a"])(v,i,n,!1,null,"3d4bb77a",null);t["default"]=w.exports},"94dd":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"visit-num"},[a("el-row",[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:18,xl:18}},[a("h4",{staticClass:"title"},[e._v("销售额趋势")]),a("v-chart",{attrs:{options:e.options,autoresize:""}})],1),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:6,xl:6}},[a("h4",{staticClass:"title"},[e._v("门店销售排行榜")]),a("ul",{staticClass:"list"},e._l(e.rankList,(function(t,i){return a("li",{key:i},[a("span",{class:i<3?"active":null},[e._v(e._s(i+1))]),a("span",[e._v(e._s(t.name))]),a("span",[e._v(e._s(t.total))])])})),0)])],1)],1)},n=[],s=a("9ca8"),r=(a("ef97"),a("94b1"),a("007d"),{name:"VisitNum",components:{"v-chart":s["a"]},props:{data:{type:Object}},data:function(){for(var e=[],t=0;t<7;t++)e.push({name:"白鹭岛 "+(t+1)+" 号店",total:1234.56-100*t});return{options:{},rankList:e}},watch:{data:{handler:function(e){e&&this.setOptions()},immediate:!0}},methods:{setOptions:function(){var e=this.data,t=e.xData,a=e.yData;this.options={tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{backgroundColor:"#6a7985"}}},grid:{left:"50",right:"50"},xAxis:[{type:"category",axisTick:{show:!1},splitLine:{show:!1},axisLine:{lineStyle:{color:"rgba(204,204,204,1)"}},axisLabel:{color:"black"},data:t}],yAxis:[{type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!0},axisLabel:{formatter:function(e){return e}}}],series:[{type:"bar",barWidth:50,barGap:"50%",itemStyle:{normal:{color:function(e){var t=["#C335                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        31","#EFE42A","#64BD3D","#EE9201","#29AAE3","#B74AE5","#0AAF9F","#E89589","#16A085","#4A235A","#C39BD3 ","#F9E79F","#BA4A00","#ECF0F1","#616A6B","#EAF2F8","#4A235A","#3498DB"];return t[e.dataIndex]}}},data:a}]}}}}),o=r,l=(a("f330"),a("2877")),c=Object(l["a"])(o,i,n,!1,null,"7fd81b90",null);t["default"]=c.exports},"970f":function(e,t,a){},9770:function(e,t,a){"use strict";a("17cd")},"979f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"todoapp"},[a("header",{staticClass:"header"},[a("input",{staticClass:"new-todo",attrs:{autocomplete:"off",placeholder:"Todo List"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addTodo(t)}}})]),a("section",{directives:[{name:"show",rawName:"v-show",value:e.todos.length,expression:"todos.length"}],staticClass:"main"},[a("input",{staticClass:"toggle-all",attrs:{id:"toggle-all",type:"checkbox"},domProps:{checked:e.allChecked},on:{change:function(t){return e.toggleAll({done:!e.allChecked})}}}),a("label",{attrs:{for:"toggle-all"}}),a("ul",{staticClass:"todo-list"},e._l(e.filteredTodos,(function(t,i){return a("todo",{key:i,attrs:{todo:t},on:{toggleTodo:e.toggleTodo,editTodo:e.editTodo,deleteTodo:e.deleteTodo}})})),1)]),a("footer",{directives:[{name:"show",rawName:"v-show",value:e.todos.length,expression:"todos.length"}],staticClass:"footer"},[a("span",{staticClass:"todo-count"},[a("strong",[e._v(e._s(e.remaining))]),e._v(" "+e._s(e._f("pluralize")(e.remaining,"item"))+" left ")]),a("ul",{staticClass:"filters"},e._l(e.filters,(function(t,i){return a("li",{key:i},[a("a",{class:{selected:e.visibility===i},on:{click:function(t){t.preventDefault(),e.visibility=i}}},[e._v(e._s(e._f("capitalize")(i)))])])})),0)])])},n=[],s=(a("4de4"),a("fb6a"),a("498a"),a("a434"),a("159b"),a("c062")),r="todos",o={all:function(e){return e},active:function(e){return e.filter((function(e){return!e.done}))},completed:function(e){return e.filter((function(e){return e.done}))}},l=[{text:"star this repository",done:!1},{text:"fork this repository",done:!1},{text:"follow author",done:!1},{text:"vue-element-admin",done:!0},{text:"vue",done:!0},{text:"element-ui",done:!0},{text:"axios",done:!0},{text:"webpack",done:!0}],c={components:{Todo:s["default"]},filters:{pluralize:function(e,t){return 1===e?t:t+"s"},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},data:function(){return{visibility:"all",filters:o,todos:l}},computed:{allChecked:function(){return this.todos.every((function(e){return e.done}))},filteredTodos:function(){return o[this.visibility](this.todos)},remaining:function(){return this.todos.filter((function(e){return!e.done})).length}},methods:{setLocalStorage:function(){window.localStorage.setItem(r,JSON.stringify(this.todos))},addTodo:function(e){var t=e.target.value;t.trim()&&(this.todos.push({text:t,done:!1}),this.setLocalStorage()),e.target.value=""},toggleTodo:function(e){e.done=!e.done,this.setLocalStorage()},deleteTodo:function(e){this.todos.splice(this.todos.indexOf(e),1),this.setLocalStorage()},editTodo:function(e){var t=e.todo,a=e.value;t.text=a,this.setLocalStorage()},clearCompleted:function(){this.todos=this.todos.filter((function(e){return!e.done})),this.setLocalStorage()},toggleAll:function(e){var t=this,a=e.done;this.todos.forEach((function(e){e.done=a,t.setLocalStorage()}))}}},u=c,d=(a("6002"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"b20a26a6",null);t["default"]=p.exports},"98a7":function(e,t,a){},"9c14":function(e,t,a){"use strict";a("f53b")},"9d14":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"任务信息",visible:e.dialogTaskDetailVisibleInChild,width:"75%"},on:{"update:visible":function(t){e.dialogTaskDetailVisibleInChild=t}}},[a("el-form",{ref:"dataForm",attrs:{model:e.taskDetailData,disabled:"","label-position":"right","label-width":"110px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"任务ID",prop:"id"}},[a("el-input",{model:{value:e.taskDetailData.id,callback:function(t){e.$set(e.taskDetailData,"id",t)},expression:"taskDetailData.id"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"任务名称",prop:"name"}},[a("el-input",{model:{value:e.taskDetailData.name,callback:function(t){e.$set(e.taskDetailData,"name",t)},expression:"taskDetailData.name"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"任务分类",prop:"category"}},[a("el-input",{model:{value:e.taskDetailData.category,callback:function(t){e.$set(e.taskDetailData,"category",t)},expression:"taskDetailData.category"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"任务描述",prop:"description"}},[a("el-input",{model:{value:e.taskDetailData.description,callback:function(t){e.$set(e.taskDetailData,"description",t)},expression:"taskDetailData.description"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"所有人",prop:"owner"}},[a("el-input",{model:{value:e.taskDetailData.owner,callback:function(t){e.$set(e.taskDetailData,"owner",t)},expression:"taskDetailData.owner"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"所有人姓名",prop:"ownerName"}},[a("el-input",{model:{value:e.taskDetailData.ownerName,callback:function(t){e.$set(e.taskDetailData,"ownerName",t)},expression:"taskDetailData.ownerName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"认领时间",prop:"claimTime"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.taskDetailData.claimTime,callback:function(t){e.$set(e.taskDetailData,"claimTime",t)},expression:"taskDetailData.claimTime"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"执行人",prop:"assignee"}},[a("el-input",{model:{value:e.taskDetailData.assignee,callback:function(t){e.$set(e.taskDetailData,"assignee",t)},expression:"taskDetailData.assignee"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"执行人姓名",prop:"assigneeName"}},[a("el-input",{model:{value:e.taskDetailData.assigneeName,callback:function(t){e.$set(e.taskDetailData,"assigneeName",t)},expression:"taskDetailData.assigneeName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"到期日",prop:"dueDate"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"date","value-format":"yyyy-MM-dd"},model:{value:e.taskDetailData.dueDate,callback:function(t){e.$set(e.taskDetailData,"dueDate",t)},expression:"taskDetailData.dueDate"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"结束时间",prop:"endTime"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.taskDetailData.endTime,callback:function(t){e.$set(e.taskDetailData,"endTime",t)},expression:"taskDetailData.endTime"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"状态",prop:"suspended"}},[null==e.taskDetailData.endTime?a("el-input",{model:{value:e.taskDetailData.suspended?"挂起":"激活",callback:function(t){e.$set(e.taskDetailData,"suspended?'挂起':'激活'",t)},expression:"taskDetailData.suspended?'挂起':'激活'"}}):a("el-input",{attrs:{value:"已完成"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"持续时间",prop:"durationInMillis"}},[a("el-input",{model:{value:e.taskDetailData.durationInMillis,callback:function(t){e.$set(e.taskDetailData,"durationInMillis",t)},expression:"taskDetailData.durationInMillis"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"工作时间",prop:"workTimeInMillis"}},[a("el-input",{model:{value:e.taskDetailData.workTimeInMillis,callback:function(t){e.$set(e.taskDetailData,"workTimeInMillis",t)},expression:"taskDetailData.workTimeInMillis"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"优先级",prop:"priority"}},[a("el-input",{model:{value:e.taskDetailData.priority,callback:function(t){e.$set(e.taskDetailData,"priority",t)},expression:"taskDetailData.priority"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"任务定义KEY",prop:"taskDefinitionKey"}},[a("el-input",{model:{value:e.taskDetailData.taskDefinitionKey,callback:function(t){e.$set(e.taskDetailData,"taskDefinitionKey",t)},expression:"taskDetailData.taskDefinitionKey"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"流程实例ID",prop:"processInstanceId"}},[a("el-input",{model:{value:e.taskDetailData.processInstanceId,callback:function(t){e.$set(e.taskDetailData,"processInstanceId",t)},expression:"taskDetailData.processInstanceId"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"流程实例名称",prop:"processInstanceName"}},[a("el-input",{model:{value:e.taskDetailData.processInstanceName,callback:function(t){e.$set(e.taskDetailData,"processInstanceName",t)},expression:"taskDetailData.processInstanceName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"流程定义ID",prop:"processDefinitionId"}},[a("el-input",{model:{value:e.taskDetailData.processDefinitionId,callback:function(t){e.$set(e.taskDetailData,"processDefinitionId",t)},expression:"taskDetailData.processDefinitionId"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"流程定义名称",prop:"processDefinitionName"}},[a("el-input",{model:{value:e.taskDetailData.processDefinitionName,callback:function(t){e.$set(e.taskDetailData,"processDefinitionName",t)},expression:"taskDetailData.processDefinitionName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"流程定义描述",prop:"processDefinitionDescription"}},[a("el-input",{model:{value:e.taskDetailData.processDefinitionDescription,callback:function(t){e.$set(e.taskDetailData,"processDefinitionDescription",t)},expression:"taskDetailData.processDefinitionDescription"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"流程定义KEY",prop:"processDefinitionKey"}},[a("el-input",{model:{value:e.taskDetailData.processDefinitionKey,callback:function(t){e.$set(e.taskDetailData,"processDefinitionKey",t)},expression:"taskDetailData.processDefinitionKey"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"流程定义分类",prop:"processDefinitionCategory"}},[a("el-input",{model:{value:e.taskDetailData.processDefinitionCategory,callback:function(t){e.$set(e.taskDetailData,"processDefinitionCategory",t)},expression:"taskDetailData.processDefinitionCategory"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"流程定义版本",prop:"processDefinitionVersion"}},[a("el-input",{model:{value:e.taskDetailData.processDefinitionVersion,callback:function(t){e.$set(e.taskDetailData,"processDefinitionVersion",t)},expression:"taskDetailData.processDefinitionVersion"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"流程定义发布ID",prop:"processDefinitionDeploymentId"}},[a("el-input",{model:{value:e.taskDetailData.processDefinitionDeploymentId,callback:function(t){e.$set(e.taskDetailData,"processDefinitionDeploymentId",t)},expression:"taskDetailData.processDefinitionDeploymentId"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"表单KEY",prop:"formKey"}},[a("el-input",{model:{value:e.taskDetailData.formKey,callback:function(t){e.$set(e.taskDetailData,"formKey",t)},expression:"taskDetailData.formKey"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"流程启动人",prop:"processInstanceStartUserId"}},[a("el-input",{model:{value:e.taskDetailData.processInstanceStartUserId,callback:function(t){e.$set(e.taskDetailData,"processInstanceStartUserId",t)},expression:"taskDetailData.processInstanceStartUserId"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"发起人完成任务",prop:"initiatorCanCompleteTask"}},[a("el-select",{attrs:{placeholder:"发起人完成任务"},model:{value:e.taskDetailData.initiatorCanCompleteTask,callback:function(t){e.$set(e.taskDetailData,"initiatorCanCompleteTask",t)},expression:"taskDetailData.initiatorCanCompleteTask"}},e._l(e.dicts.trueOrFalse,(function(e){return a("el-option",{key:e.value,attrs:{label:e.content,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"候选组",prop:"memberOfCandidateGroup"}},[a("el-select",{attrs:{placeholder:"候选组"},model:{value:e.taskDetailData.memberOfCandidateGroup,callback:function(t){e.$set(e.taskDetailData,"memberOfCandidateGroup",t)},expression:"taskDetailData.memberOfCandidateGroup"}},e._l(e.dicts.trueOrFalse,(function(e){return a("el-option",{key:e.value,attrs:{label:e.content,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"候选成员",prop:"memberOfCandidateUsers"}},[a("el-select",{attrs:{placeholder:"候选成员"},model:{value:e.taskDetailData.memberOfCandidateUsers,callback:function(t){e.$set(e.taskDetailData,"memberOfCandidateUsers",t)},expression:"taskDetailData.memberOfCandidateUsers"}},e._l(e.dicts.trueOrFalse,(function(e){return a("el-option",{key:e.value,attrs:{label:e.content,value:e.value}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"委派状态",prop:"delegationState"}},[a("el-input",{model:{value:e.taskDetailData.delegationState,callback:function(t){e.$set(e.taskDetailData,"delegationState",t)},expression:"taskDetailData.delegationState"}})],1)],1),a("el-col",{attrs:{span:8}}),a("el-col",{attrs:{span:8}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogTaskDetailVisibleInChild=!1}}},[e._v("取消")])],1)],1)},n=[],s=(a("0fea"),{name:"TaskDetail",props:{visible:{type:Boolean,default:function(){return!1}},dicts:{type:Object,default:function(){return{}}},taskDetailData:{type:Object,default:function(){return{}}}},computed:{dialogTaskDetailVisibleInChild:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},data:function(){return{}}}),r=s,o=a("2877"),l=Object(o["a"])(r,i,n,!1,null,null,null);t["default"]=l.exports},"9d89":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container flex-column"},[a("div",{staticClass:"operate-box nowrap flex justify-start padding-right-10"},[a("div",{staticClass:"flex padding-right-10"},[a("div",{staticClass:"search-item-label"},[e._v("操作时间：")]),a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd HH:mm:ss",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"mini"},on:{change:e.queryList},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.queryList(1)}}},[e._v(" 搜索 ")]),a("el-button",{attrs:{type:"default",size:"mini"},on:{click:function(t){return e.btnClick("line")}}},[e._v(" 折线统计图表 ")]),a("el-button",{attrs:{type:"default",size:"mini"},on:{click:function(t){return e.btnClick("bar")}}},[e._v(" 条形统计图表 ")])],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"table-box max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:!1,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),e.checkboxGroup.show?a("checkbox-modal",{ref:"checkboxGroup",attrs:{title:e.checkboxGroup.title,options:e.checkboxGroup.options[0]},on:{close:function(t){e.checkboxGroup.show=!1},ok:e.checkedResult}}):e._e(),e.graph.show?a("graph-list",{ref:"graph",attrs:{title:e.graph.title},on:{close:function(t){e.graph.show=!1}}}):e._e()],1)},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("a9e3"),a("159b"),a("4de4"),a("caad"),a("2532"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("d81d"),a("2f62")),l=a("f7c4"),c=a("3f19"),u=a("2e5f"),d=a("1998"),p=a("a3d8f"),f=a("cf45"),m={name:"WorkCondition",mixins:[c["a"]],components:{foxTable:l["a"],BtnList:u["default"],CheckboxModal:d["default"],GraphList:p["default"]},props:{showStatus:{type:String|Number,default:""}},data:function(){return{date:"",userName:void 0,deptId:void 0,deptData:[],checkboxGroup:{show:!1,title:"请选择要统计的字段",options:[],loading:!1},graph:{show:!1,title:"统计图表",loading:!1},url:{list:"/myFile/workloadStatistics",queryDept:"/myFile/queryDept",exportFile:"/myFile/exportExcel"}}},watch:{},computed:Object(r["a"])({},Object(o["c"])(["userInfo"])),methods:{queryDept:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.httpActionByQuery(e.url.queryDept,{},{},"post");case 2:a=t.sent,e.deptData=a.data;case 4:case"end":return t.stop()}}),t)})))()},init:function(e){this.queryList(1)},checkedResult:function(e){var t=e.list,a=e.type;switch(a){case"export":break;case"line":case"bar":var i=[];this.checkboxGroup.options.forEach((function(e){var a=e.filter((function(e){return t.includes(e.value)&&null!=e.number}));i.push(a)}));var n=JSON.stringify(i),s=this.$router.resolve({path:"/work/GraphList",query:{type:a,allData:encodeURIComponent(n)}});window.open(s.href,"_blank");break;default:break}},setTableColumn:function(){var e=this;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"用户",prop:"用户"},{label:"登录次数",prop:"登录"},{label:"数据增加",prop:"添加"},{label:"数据修改",prop:"修改"},{label:"数据删除",prop:"数据删除"},{label:"数据导入",prop:"数据导入"},{label:"数据导出",prop:"数据导出"},{label:"档案归档",prop:"档案归档"},{label:"原文上传",prop:"原文上传"},{label:"原文删除",prop:"原文删除"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o,l,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize},t.date&&t.date.length>0&&(i=Object(r["a"])(Object(r["a"])({},i),{},{beginTime:t.date[0],endTime:t.date[1]})),t.userName&&t.userName.length>0&&(i.userName=t.userName),t.deptId&&(i.deptId=t.deptId),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),n=t.url.list,s="post",a.next=10,t.$api.httpActionByQuery(n,i,{},s);case 10:o=a.sent,l=o.count,c=o.data,u=[],c&&c.forEach((function(e){var a={};t.table.column.forEach((function(t){a[t.prop]=e[t.prop]||0})),u.push(a)})),c=u,t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*l}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:c})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 19:case"end":return a.stop()}}),a)})))()},exportFile:function(){var e=this,t={};this.date&&this.date.length>0&&(t=Object(r["a"])(Object(r["a"])({},t),{},{beginTime:this.date[0],endTime:this.date[1]})),this.userName&&this.userName.length>0&&(t.userName=this.userName),this.deptId&&(t.deptId=this.deptId);var a=Object(f["h"])(new Date,"{y}-{m}-{d}");this.$api.downFile(this.url.exportFile,t).then((function(t){if(t)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([t]),a+".xlsx");else{var i=window.URL.createObjectURL(new Blob([t])),n=document.createElement("a");n.style.display="none",n.href=i,n.setAttribute("download",a+".xlsx"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}else e.$sweetAlert.errorWithTimer("文件下载失败！")}))},btnClick:function(e){var t=this;switch(e){case"export":case"line":case"bar":this.checkboxGroup.show=!0,this.checkboxGroup.options=[],this.table.data.forEach((function(e){var a=[];t.table.column.map((function(t,i){var n={value:i,name:t.label,number:e[t.prop]||0,username:e["用户"]};"用户"==t.label?(n.required=!0,n.number=null):n.required=!1,a.push(n)})),t.checkboxGroup.options.push(a)})),this.$nextTick((function(){t.$refs.checkboxGroup.init(e)}));break;case"stats":var a="该操作会后台占用您的CPU资源并清空当前统计表，是否继续？";this.$confirm(a,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){})).catch((function(){}));break;default:break}}},created:function(){this.setTableColumn(),this.queryDept(),this.queryList(1)},mounted:function(){}},h=m,b=(a("f596"),a("2877")),g=Object(b["a"])(h,i,n,!1,null,"3943e4a4",null);t["default"]=g.exports},"9e32":function(e,t,a){"use strict";a("c420")},"9e85":function(e,t,a){},"9e91":function(e,t,a){"use strict";a("b36e")},"9ed6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"login-container webkit-transition",style:{backgroundImage:"url(static/img/login/bg-"+e.themeImg+".jpg)"}},[i("div",{staticClass:"login-weaper"},[i("div",{staticClass:"login-left"},[i("div",{staticStyle:{width:"100%","margin-bottom":"30px",height:"80px"}}),i("img",{staticClass:"img",attrs:{src:"static/img/login/left-pic-"+e.themeImg+".png",alt:""}})]),i("div",{staticClass:"login-border"},[i("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[i("div",{staticClass:"title-container webkit-transition",style:{color:e.theme}},[i("div",{staticClass:"title-first"},[e._v(e._s(e.websiteName))]),i("div",{staticClass:"title-second"},[e._v("欢迎使用“"+e._s(e.websiteName)+"”")]),i("div",{staticClass:"title-line webkit-transition",style:{background:e.themeBgColor}})]),i("el-form-item",{attrs:{prop:"username"}},[i("el-input",{ref:"username",attrs:{placeholder:"请输入账号",name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"请输入密码",name:"password",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),i("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[i("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),i("el-row",{attrs:{gutter:0}},[i("el-form-item",{attrs:{prop:"captcha"}},[i("el-input",{staticClass:"login-input",attrs:{size:"large",type:"text",maxlength:"4",name:"inputCode",placeholder:"请输入验证码"},on:{change:e.inputCodeChange},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.captcha,callback:function(t){e.$set(e.loginForm,"captcha",t)},expression:"loginForm.captcha"}},[e.inputCodeContent==e.verifiedCode?i("el-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"smile"},slot:"prefix"}):i("el-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"frown"},slot:"prefix"})],1),i("div",{staticClass:"code-box"},[e.requestCodeSuccess?i("img",{attrs:{src:e.randCodeImage},on:{click:e.handleChangeCheckCode}}):i("img",{attrs:{src:a("d5ac")},on:{click:e.handleChangeCheckCode}})])],1)],1),i("div",{staticClass:"bot-operate-list"},[i("div",{staticClass:"remember-me",on:{click:e.rememberFlagChange}},[i("div",{staticClass:"logo webkit-transition",style:{color:e.rememberFlag?e.theme:""}},[i("i",{staticClass:"el-icon-success"})]),e._v(" 记住用户名 ")])]),i("el-button",{staticClass:"login-btn",attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v(" 立即登录 ")])],1)],1)]),i("div",{staticClass:"login-bot-tips webkit-transition"},[e.copyright?e._e():i("div",[e._v(" ©2010-"+e._s((new Date).getFullYear())+e._s(e.websiteName)+"版权所有 ")]),e.copyright?i("div",{domProps:{innerHTML:e._s(e.copyright)}}):e._e()]),i("switch-skin"),e._m(0)],1)},n=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"prestrain-img"},[i("img",{attrs:{src:"static/img/archive/logo-blue.svg",alt:""}}),i("img",{attrs:{src:"static/img/archive/logo-red.svg",alt:""}}),i("img",{attrs:{src:"static/img/login/bg-red.jpg",alt:""}}),i("img",{attrs:{src:"static/img/login/bg-blue.jpg",alt:""}}),i("img",{attrs:{src:a("be9d"),alt:""}}),i("img",{attrs:{src:a("c085"),alt:""}})])}],s=a("5530"),r=(a("159b"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("2f62")),o=a("cf45"),l=a("7ded"),c=a("8757"),u={name:"Login",components:{SwitchSkin:c["default"]},data:function(){return{loginForm:{username:"",password:"",captcha:""},loginRules:{username:[{required:!0,trigger:"blur",message:"请输入账号"}],password:[{required:!0,trigger:"blur",message:"请输入密码"}],captcha:[{required:!0,trigger:"blur",message:"请输入验证码"}]},rememberFlag:!1,randCodeImage:null,inputCodeContent:"",inputCodeNull:!0,loading:!1,passwordType:"password",redirect:void 0,verifiedCode:"",logoUrl:"",departList:[],departVisible:!1,departSelected:"",currentUsername:"",validate_status:"",currdatetime:"",requestCodeSuccess:!1}},computed:{theme:function(){return this.$store.state.settings.theme},themeBgColor:function(){return this.$store.state.settings.themeBgColor},themeImg:function(){return this.$store.state.settings.themeImg},websiteName:{get:function(){return this.$store.state.settings.websiteName},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"websiteName",value:e})}},copyright:{get:function(){return this.$store.state.settings.copyright},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"copyright",value:e})}}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){var e=this;localStorage.removeItem("routerTo");var t=Object(o["e"])("login_username");t&&this.$nextTick((function(){e.loginForm.username=t,e.rememberFlag=!0})),this.handleChangeCheckCode()},methods:Object(s["a"])(Object(s["a"])({},Object(r["b"])(["Login","Logout","PhoneLogin"])),{},{showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this,t=this;this.$refs.loginForm.validate((function(a){if(!a)return!1;e.loading=!0,e.loginForm.isRememberMe=t.rememberFlag,e.loginForm.key=t.currdatetime,t.Login(e.loginForm).then((function(t){e.rememberFlag?Object(o["m"])("login_username",e.loginForm.username):Object(o["m"])("login_username",""),e.$sweetAlert.successWithTimer(t.msg);e.$api.httpAction("/sys/user/menuFldByUser",{},"POST").then((function(t){"200"==t.code&&(t=t.forEach((function(t){e.$set(t,"sortList",t.sortFld),e.$delete(t,"sortFld")})),e.$store.dispatch("columnSet/changeSetting",{key:"columnList",value:t.data}))})),sessionStorage.removeItem("permissionList"),sessionStorage.removeItem("expandedKeysId"),e.$store.dispatch("settings/changeSetting",{key:"expandedKeysId",value:""}),sessionStorage.removeItem("expendTreeNodeKeys"),localStorage.removeItem("archCateTreeArray"),localStorage.removeItem("treeDataArray"),localStorage.removeItem("cateTreeArray"),localStorage.removeItem("cateTreeDataArray"),localStorage.removeItem("organTreeArray"),localStorage.removeItem("organTreeDataArray"),e.$router.push({path:e.redirect||"/"}),e.loading=!1})).catch((function(t){e.$sweetAlert.errorWithTimer(t.msg),"901"===t.code&&e.$router.push("/common/sys_info"),e.loading=!1}))}))},inputCodeChange:function(e){this.inputCodeContent=e,e?(this.inputCodeContent=this.inputCodeContent.toLowerCase(),this.inputCodeNull=!1):this.inputCodeNull=!0},handleChangeCheckCode:function(){var e=this;this.currdatetime=(new Date).getTime(),Object(l["d"])(this.currdatetime).then((function(t){t?(e.randCodeImage=window.URL.createObjectURL(t),e.requestCodeSuccess=!0):e.requestCodeSuccess=!1})).catch((function(){e.requestCodeSuccess=!1}))},validateInputCode:function(e,t,a){t&&this.verifiedCode!==this.inputCodeContent?a("您输入的验证码不正确!"):a()},generateCode:function(e){this.verifiedCode=e.toLowerCase()},rememberFlagChange:function(){this.rememberFlag=!this.rememberFlag}})},d=u,p=(a("735d"),a("9e91"),a("2877")),f=Object(p["a"])(d,i,n,!1,null,"0afbe561",null);t["default"]=f.exports},"9ee9":function(e,t,a){},a050:function(e,t,a){"use strict";a("eb5d")},a24c:function(e,t,a){"use strict";a("e1af")},a26b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,width:"400px",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"auto-scroll"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.model,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"延期天数：",prop:"num"}},[a("el-input-number",{attrs:{min:1,max:99},model:{value:e.model.num,callback:function(t){e.$set(e.model,"num",t)},expression:"model.num"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},n=[],s={name:"PostponeModal",components:{},props:{title:{type:String,default:"延期"}},data:function(){return{visible:!1,loading:!1,model:{num:1}}},computed:{},methods:{init:function(){this.visible=!0},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var a=Object.assign({},t.model);t.$emit("ok",a),t.cancelModal()}))},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}},r=s,o=a("2877"),l=Object(o["a"])(r,i,n,!1,null,"14a02f1c",null);t["default"]=l.exports},a2eb:function(e,t,a){},a3b2:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("fox-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.cancelModal}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("取消")])],1)]):e._e()},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("d81d"),a("2f62"),a("f7c4")),l=a("3f19"),c=a("cf45"),u={mixins:[l["a"]],components:{foxTable:o["a"]},props:{title:{type:String,default:""}},data:function(){return{visible:!1,loading:!1,model:null,url:{list:"/sys/organ/history"}}},computed:{},created:function(){this.setTableColumn()},methods:{init:function(e){this.visible=!0,this.queryList(e)},setTableColumn:function(){var e=this;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"部门名称",prop:"ORGANNAME"},{label:"版本号",prop:"VERSION"},{label:"备注",prop:"REMARK"},{label:"修改人",prop:"UPDATEUSER"},{label:"修改时间",prop:"TIME"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i={id:e,page:t.page.pageNum,limit:9999},t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),a.next=4,t.$api.getAction(t.url.list,i);case 4:n=a.sent,s=n.count,o=n.data,o.map((function(e){return e.TIME=Object(c["h"])(e.UPDATETIME)})),t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*s}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:o})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 11:case"end":return a.stop()}}),a)})))()},cancelModal:function(){this.visible=!1,this.$emit("close")}}},d=u,p=(a("ed5d"),a("2877")),f=Object(p["a"])(d,i,n,!1,null,"22d413b1",null);t["default"]=f.exports},a3d8f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container graph-box"},[a("div",{staticClass:"flex justify-start"},e._l(e.typeList,(function(t,i){return a("div",{key:i,staticClass:"padding-right-10"},[a("el-button",{attrs:{type:t.value==e.typeId?"primary":"default"},on:{click:function(a){return e.changeTypeClick(t)}}},[e._v(" "+e._s(t.btnText)+" ")])],1)})),0),a("div",{staticClass:"flex echart-title webkit-transition"},[e._v(" 个人工作量统计 "+e._s(e.echartTitle)+" ")]),a("div",{staticClass:"flex echart-subtitle webkit-transition"},[e._v(" 来源： "+e._s(e.websiteName)+" ")]),"line"==e.typeId?a("basic-line",{ref:"line",attrs:{dataInfo:e.dataInfo}}):e._e(),"bar"==e.typeId?a("basic-bar",{ref:"bar",attrs:{dataInfo:e.dataInfo}}):e._e()],1)},n=[],s=(a("7db0"),a("b0c0"),a("d81d"),a("0779")),r=a("3cee"),o=a("fc5f"),l=a("0423"),c={components:{DictSelectTag:s["default"],TinymceEditor:r["default"],BasicLine:o["default"],BasicBar:l["default"]},props:{title:{type:String,default:"统计图表"}},data:function(){return{visible:!0,loading:!1,typeId:"line",typeList:[{value:"line",name:"折线图",btnText:"折线统计图表"},{value:"bar",name:"条形图",btnText:"条形统计图表"}],dataInfo:{title:"数量（次）",subTitle:"",legend:"",seriesArr:[],xAxisArr:[]}}},computed:{websiteName:{get:function(){return this.$store.state.settings.websiteName},set:function(e){this.$store.dispatch("settings/changeSetting",{key:"websiteName",value:e})}},echartTitle:function(){var e=this,t="",a=this.typeList.find((function(t){return t.value==e.typeId}));return a&&(t=a.name),t}},created:function(){var e=this.$route.query;if(e&&(this.typeId=e.type,e.allData)){var t=decodeURIComponent(e.allData),a=JSON.parse(t);this.dataInfo.seriesArr=a,this.dataInfo.xAxisArr=a[0].map((function(e){return e.name}))}},methods:{init:function(e){this.visible=!0,this.showEchart()},changeTypeClick:function(e){var t=this;this.typeId=e.value,this.$nextTick((function(){t.showEchart()}))},showEchart:function(){this.$refs[this.typeId].initChart()},submit:function(e){},cancelModal:function(){this.visible=!1,this.$emit("close")}}},u=c,d=(a("16a3"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"b8ba183a",null);t["default"]=p.exports},a497:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",["preview"==e.pageFlag?i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"original-page",attrs:{"element-loading-text":"加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[i("div",{staticClass:"navbar",style:{backgroundColor:e.theme}},[i("div",{staticClass:"flex"},[i("div",{staticClass:"page-title"},[e._v("在线预览")]),1==e.printShowFlag&&e.fileData&&e.maskClickShowFlag?i("div",[i("el-button",{attrs:{type:"primary"},on:{click:e.maskClick}},[e._v(" 遮罩打印 ")])],1):e._e(),i("div",[1==e.downloadShowFlag?i("el-button",{attrs:{type:"primary"},on:{click:e.signatureDownload}},[e._v(" 下载(签章) ")]):e._e()],1)]),i("div",[e.templateId?i("el-button",{attrs:{type:"primary"},on:{click:e.showDetail}},[e._v(" 文件数据 ")]):e._e()],1)]),1==e.contentShowFlag?i("div",[e.fileData?i("div",{staticClass:"preview-box"},[i("div",{staticClass:"box-left"},["image"==e.previewType?i("div",{staticClass:"box-image"},[i("el-image",{attrs:{src:e.fileData.url,"preview-src-list":[e.fileData.url]}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("div",{staticClass:"img"},[i("img",{attrs:{src:a("7676"),alt:""}})]),i("div",[e._v("图片加载失败")]),i("div",[e._v(e._s(e.fileData.url))])])])],1):e._e(),"play"==e.previewType?i("div",[i("ckplayer",{ref:"ckplayer",staticClass:"box-content",attrs:{videoUrls:e.fileData.url,autoplay:!1}})],1):e._e(),"pdf"==e.previewType?i("div",[i("pdf-detail",{staticClass:"box-content",attrs:{pdf:e.fileData.url,highlight:e.keyword,height:800}})],1):e._e()]),e.templateId?i("div",{staticClass:"box-right"},[i("div",{staticClass:"auto-scroll"},e._l(e.fileList,(function(t,a){return i("div",{staticClass:"file-info"},[i("div",{staticClass:"flex justify-between file-title"},[i("div",{staticClass:"file-name pointer",style:{color:e.theme},on:{click:function(t){return e.selectFile(a)}}},[e._v(" "+e._s(t.fileFprimalnam)+" ")]),i("div",{staticClass:"flex",on:{click:function(i){return e.deleteClick(t,a)}}},[i("i",{staticClass:"el-icon-delete base-red"})])]),i("div",[e._v("文件大小："+e._s(t.fileSizeDesc))]),i("div",[e._v("上传日期："+e._s(t.updateTime))]),i("div",[e._v("稿本："+e._s(t.textItemDesc))]),i("div",{class:{"operation-box":e.downloadShowFlag},style:{color:e.theme}},[1==e.downloadShowFlag?i("div",{staticClass:"pointer",on:{click:function(a){return e.dowOrgFile(t.id,t.fileFprimalnam)}}},[e._v(" 原件下载 ")]):e._e(),1==e.downloadShowFlag?i("div",{staticClass:"pointer",on:{click:function(a){return e.dowViewFile(t.id,t.fileFprimalnam)}}},[e._v(" 阅览件下载 ")]):e._e()])])})),0)]):e._e()]):e._e()]):e._e(),0==e.contentShowFlag?i("div",{staticClass:"preview-box flex unable-box"},[e._v(" 您没有查看内容的所需权限 ")]):e._e(),e.detail.show?i("file-data-modal",{ref:"detail",attrs:{title:e.detail.title,fileData:e.fileData},on:{close:function(t){e.detail.show=!1}}}):e._e()],1):e._e(),"mask"==e.pageFlag?i("mask-print",{attrs:{pdfsrc:e.maskUrl},on:{back:e.maskBack}}):e._e(),e.signature.show?i("signature-modal",{ref:"signature",attrs:{title:e.signature.title},on:{close:function(t){e.signature.show=!1}}}):e._e()],1)},n=[],s=a("1da1"),r=a("5530"),o=(a("ac1f"),a("1276"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("caad"),a("2532"),a("96cf"),a("0ec9")),l=a("8be7"),c=a("2ba6"),u=a("eccd"),d=a("37e1"),p={name:"OriginalPage",components:{FileDataModal:o["default"],SignatureModal:l["default"],MaskPrint:c["default"],PdfDetail:u["default"],ckplayer:d["default"]},props:{title:{type:String,default:"原文"}},data:function(){return{visible:!0,loading:!1,previewType:"pdf",fileList:[],fileData:null,paramsData:null,templateId:"",pageFlag:"preview",maskUrl:"",detail:{show:!1,title:"文件数据",loading:!1},signature:{show:!1,title:"选择签章",loading:!1},url:{view:"/waterMarker/viewDemo/test.pdf",fileList:"/dynamic/getFileList",checkView:"/attachment/checkView",viewDownLoad:"/attachment/viewDownLoad",dowOrgFile:"/attachment/showFile",getFileAddr:"/file/getFileAddr",fileSharRecordAddr:"/fileSharRecord/getAddr",sysPersFileRecordsAddr:"/sysPersFileRecords/getAddr",teamWorkRecordsAddr:"/teamWorkRecords/getAddr",delete:"/file/delete"},fileFromPage:"",shareType:"",fileRecordFlag:"",queryPower:{print:-1,download:-1,content:-1},keyword:""}},watch:{},computed:{theme:function(){return this.$store.state.settings.theme},testPdf:function(){return window._CONFIG["domainURL"]+"/resource/pdfjs/web/test.pdf"},printShowFlag:function(){return this.queryPower.content&&this.queryPower.print},downloadShowFlag:function(){return this.queryPower.content&&this.queryPower.download},contentShowFlag:function(){return this.queryPower.content},maskClickShowFlag:function(){var e=!1;return"pdf"!=this.previewType&&"image"!=this.previewType||(e=!0),e}},methods:{init:function(){this.visible=!0},signatureDownload:function(){var e=this;this.signature.show=!0,this.$nextTick((function(){e.$refs.signature.init({id:e.fileData.id,templateId:e.templateId})}))},deleteClick:function(e,t){var a=this,i="确定要删除"+e.fileFprimalnam+"？";this.$confirm(i,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.deleteOriginal(e)})).catch((function(){}))},deleteOriginal:function(e){var t=this,a=this.url.delete,i={id:e.id,templateId:this.templateId},n="post";this.$api.httpAction(a,i,n).then((function(e){200==e.code?(t.fileData=null,t.templateId&&t.getFileList()):t.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){t.$sweetAlert.errorWithTimer("error")}))},maskClick:function(){var e=this;if("pdf"==this.previewType||"image"==this.previewType){if("pdf"==this.previewType)this.maskUrl=this.fileData.url,this.pageFlag="mask";else if("image"==this.previewType){var t={id:this.fileData.id,templateId:this.templateId,type:0},a="";if(this.templateId)a=this.url.getFileAddr;else{var i=this.fileFromPage;switch(i){case"ElectronicFileShare":case"ShareMy":case"MyShare":a=this.url.fileSharRecordAddr,t=Object(r["a"])(Object(r["a"])({},t),{},{shareType:this.shareType});break;case"MyFile":a=this.url.sysPersFileRecordsAddr;break;case"TeamWork":a=this.url.teamWorkRecordsAddr;break;default:break}}1==this.fileRecordFlag&&(t=Object(r["a"])(Object(r["a"])({},t),{},{type:2})),this.$api.httpAction(a,t,"post").then((function(t){"200"==t.code?e.maskUrl=t.data:t.data||(e.maskUrl=t),e.pageFlag="mask"}))}}else this.$sweetAlert.warnWithTimer("请选择pdf文件或图片文件！")},maskBack:function(){this.pageFlag="preview"},showDetail:function(){var e=this;this.detail.show=!0;var t=this.paramsData;this.$set(t,"fileId",this.fileData.id),this.$nextTick((function(){e.$refs.detail.init(t)}))},setPreviewType:function(e){switch(e.fileFormat){case"png":case"jpg":case"jpeg":case"bmp":case"gif":this.previewType="image";break;case"mp4":case"mp3":case"flv":case"avi":case"3gp":this.previewType="play";break;case"pdf":case"txt":case"doc":case"docx":case"xls":case"xlsx":case"ppt":case"pptx":this.previewType="pdf";break;default:this.previewType=null,this.$sweetAlert.warnWithTimer(void 0!=e.createProgram&&"undefined"!=e.createProgram?"请您使用"+e.createProgram+"等软件打开！":"该文件格式不支持直接预览！");break}},getFileList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.paramsData,e.loading=!0,t.prev=2,t.next=5,e.$api.getAction(e.url.fileList,a);case 5:i=t.sent,n=i.data,e.loading=!1,e.fileList=n,n&&n.length>0&&e.selectFile(0),t.next=14;break;case 12:t.prev=12,t.t0=t["catch"](2);case 14:case"end":return t.stop()}}),t,null,[[2,12]])})))()},selectFile:function(e){this.fileData=this.fileList[e],this.setPreviewType(this.fileData)},dowViewFile:function(e,t){var a=this;t=t.split(".");for(var i="",n=0;n<t.length-1;n++)i+=t[n];t=i+".pdf";var s={id:e,templateId:this.templateId};this.$api.httpAction(this.url.checkView,s,"post").then((function(i){if("200"==i.code){var n={templateId:a.templateId,id:e};a.$api.downFile(a.url.viewDownLoad,n).then((function(e){if(e)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([e]),t);else{var i=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.style.display="none",n.href=i,n.setAttribute("download",t),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}else a.$sweetAlert.errorWithTimer("文件下载失败！")}))}else a.$sweetAlert.warnWithTimer(i.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")}))},dowOrgFile:function(e,t){var a=this,i={id:e,templateId:this.templateId};this.$api.downFile(this.url.dowOrgFile,i).then((function(e){if(e)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([e]),t);else{var i=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.style.display="none",n.href=i,n.setAttribute("download",t),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}else a.$sweetAlert.errorWithTimer("文件下载失败！")}))},rightsQueryPower:function(e,t){var a=this,i="";switch(e){case"fileShar":i="/fileShar/queryPower";break;case"electronic":i="/dynamic/queryPower";break;default:break}var n={id:t};i?this.$api.getAction(i,n).then((function(e){if(200==e.code&&e.data&&e.data.power){var t=e.data.power;t.includes("1")||t.includes("2")?a.queryPower.content=1:a.queryPower.content=0,t.includes("4")||t.includes("5")?a.queryPower.print=1:a.queryPower.print=0,t.includes("3")?a.queryPower.download=1:a.queryPower.download=0}})):this.queryPower={print:0,download:0,content:0}},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){var e=this.$route.query;this.keyword="往上面",e&&(this.paramsData=e,this.templateId=e.templateId,this.templateId?(this.getFileList(),this.keyword=e.keyword):e.fileUrl&&(this.fileData={fileFormat:e.fileType,url:e.fileUrl,id:e.fileId},this.fileFromPage=e.fileFrom,this.shareType=e.shareType,this.fileRecordFlag=e.fileRecordFlag,this.setPreviewType(this.fileData)),e.queryPower?this.rightsQueryPower(e.queryPower,e.queryId):this.queryPower={print:1,download:1,content:1})},mounted:function(){}},f=p,m=(a("d4a2"),a("2877")),h=Object(m["a"])(f,i,n,!1,null,"73b5bc77",null);t["default"]=h.exports},a682:function(e,t,a){"use strict";a("6a8f")},a69d:function(e,t,a){"use strict";a("6500")},a95a:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-checkbox",{model:{value:e.listQuery.latestVersion,callback:function(t){e.$set(e.listQuery,"latestVersion",t)},expression:"listQuery.latestVersion"}},[e._v("最新版本")]),a("el-checkbox",{model:{value:e.listQuery.suspended,callback:function(t){e.$set(e.listQuery,"suspended",t)},expression:"listQuery.suspended"}},[e._v("挂起的")]),a("el-checkbox",{model:{value:e.listQuery.active,callback:function(t){e.$set(e.listQuery,"active",t)},expression:"listQuery.active"}},[e._v("激活的")])],1),a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程定义ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processDefinitionId,callback:function(t){e.$set(e.listQuery,"processDefinitionId",t)},expression:"listQuery.processDefinitionId"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程定义名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processDefinitionName,callback:function(t){e.$set(e.listQuery,"processDefinitionName",t)},expression:"listQuery.processDefinitionName"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程定义KEY"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processDefinitionKey,callback:function(t){e.$set(e.listQuery,"processDefinitionKey",t)},expression:"listQuery.processDefinitionKey"}}),a("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[a("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询 "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1),a("el-button-group",[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processDefinition:import",expression:"'flowable:processDefinition:import'"}],staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.btnImport}},[e._v("导入 ")])],1)],1),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center"}}),a("el-table-column",{attrs:{label:"流程定义名称",prop:"name",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}])}),a("el-table-column",{attrs:{label:"流程定义KEY",prop:"key",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.key))])]}}])}),a("el-table-column",{attrs:{label:"流程定义分类",prop:"category",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.category))])]}}])}),a("el-table-column",{attrs:{label:"版本",prop:"version",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.version))])]}}])}),a("el-table-column",{attrs:{label:"状态",prop:"suspended",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.suspended?"挂起":"激活"))])]}}])}),a("el-table-column",{attrs:{label:"表单key",prop:"formKey",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.formKey))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[e._v("操作"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(i)}}},[e._v("查看 ")]),a("el-dropdown-item",{attrs:{icon:"el-icon-view",divided:""},nativeOn:{click:function(t){return e.btnImage(i.id)}}},[e._v("流程图 ")]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processDefinitionIdentityLink:list",expression:"'flowable:processDefinitionIdentityLink:list'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnProcessDefinitionIdentityLink(i)}}},[e._v("流程授权 ")]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processDefinition:xml",expression:"'flowable:processDefinition:xml'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnExport(i)}}},[e._v("导出 ")]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processDefinition:suspendOrActivate",expression:"'flowable:processDefinition:suspendOrActivate'"}],attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnSuspendOrActivate(i.id,i.suspended)}}},[e._v(" "+e._s(i.suspended?"激活":"挂起")+" ")]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processDefinition:delete",expression:"'flowable:processDefinition:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(i.id)}}},[e._v("删除 ")]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processDefinition:delete",expression:"'flowable:processDefinition:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(i.id,!0)}}},[e._v("删除包含实例 ")]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processInstance:list",expression:"'flowable:processInstance:list'"}],attrs:{icon:"el-icon-view",divided:""},nativeOn:{click:function(t){return e.btnViewProcessInstanceList(i)}}},[e._v("实例列表 ")])],1)],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}}),a("el-dialog",{attrs:{title:"流程定义",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",attrs:{model:e.temp,disabled:"","label-position":"right","label-width":"110px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"流程定义ID",prop:"id"}},[a("el-input",{model:{value:e.temp.id,callback:function(t){e.$set(e.temp,"id",t)},expression:"temp.id"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"流程定义名称",prop:"name"}},[a("el-input",{model:{value:e.temp.name,callback:function(t){e.$set(e.temp,"name",t)},expression:"temp.name"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"流程定义KEY",prop:"key"}},[a("el-input",{model:{value:e.temp.key,callback:function(t){e.$set(e.temp,"key",t)},expression:"temp.key"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"流程定义分类",prop:"category"}},[a("el-input",{model:{value:e.temp.category,callback:function(t){e.$set(e.temp,"category",t)},expression:"temp.category"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"流程定义描述",prop:"description"}},[a("el-input",{model:{value:e.temp.description,callback:function(t){e.$set(e.temp,"description",t)},expression:"temp.description"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"版本",prop:"version"}},[a("el-input",{model:{value:e.temp.version,callback:function(t){e.$set(e.temp,"version",t)},expression:"temp.version"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态",prop:"suspended"}},[a("el-input",{model:{value:e.temp.suspended?"挂起":"激活",callback:function(t){e.$set(e.temp,"suspended?'挂起':'激活'",t)},expression:"temp.suspended?'挂起':'激活'"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"表单key",prop:"formKey"}},[a("el-input",{model:{value:e.temp.formKey,callback:function(t){e.$set(e.temp,"formKey",t)},expression:"temp.formKey"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1),a("el-dialog",{attrs:{title:"流程定义导入",visible:e.dialogImportVisible},on:{"update:visible":function(t){e.dialogImportVisible=t}}},[a("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"","show-file-list":!1,"before-upload":e.beforeUpload,"http-request":e.doImport}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传.bpmn20.xml,.bpmn,.bar,.zip文件，且不超过512K")])])],1),e.dialogProcessImageVisible?a("process-image",{attrs:{visible:e.dialogProcessImageVisible,processDefinitionId:e.selectedProcessDefinitionId},on:{"update:visible":function(t){e.dialogProcessImageVisible=t}}}):e._e(),e.dialogProcessDefinitionIdentityLinkVisible?a("process-definition-identity-link",{attrs:{visible:e.dialogProcessDefinitionIdentityLinkVisible,processDefinitionId:e.selectedProcessDefinitionId,processDefinitionName:e.selectedProcessDefinitionName},on:{"update:visible":function(t){e.dialogProcessDefinitionIdentityLinkVisible=t}}}):e._e()],1)},n=[],s=(a("d81d"),a("d3b7"),a("25f0"),a("b0c0"),a("8a79"),a("333d")),r=a("0fea"),o=(a("5c96"),a("5f87"),a("d35e")),l=a("4e8e"),c={name:"FlowableProcessDefinition",components:{ProcessImage:o["default"],ProcessDefinitionIdentityLink:l["default"],Pagination:s["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,processDefinitionId:void 0,processDefinitionName:void 0,processDefinitionKey:void 0,latestVersion:!0,suspended:!1,active:!1},dialogFormVisible:!1,dialogImportVisible:!1,dialogProcessImageVisible:!1,imagePath:"",formJson:void 0,temp:{id:void 0,name:"",key:"",category:"",description:"",version:"",latestVersion:"",suspended:"",formKey:"",tenantId:""},dialogProcessDefinitionIdentityLinkVisible:!1,selectedProcessDefinitionId:"",selectedProcessDefinitionName:""}},created:function(){this.list()},methods:{list:function(){var e=this;Object(r["e"])("/flowable/processDefinition/list",this.listQuery).then((function(t){var a=t.data;e.records=a.records,e.total=a.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,processDefinitionId:void 0,processDefinitionName:void 0,processDefinitionKey:void 0,latestVersion:!0,suspended:!1,active:!1},this.list()},btnView:function(e){this.temp=Object.assign({},e),this.dialogFormVisible=!0},btnViewProcessInstanceList:function(e){this.$router.push({path:"/flowable/processInstance",query:{processDefinitionId:e.id}})},btnDelete:function(e,t){var a=this,i=e?[e]:this.selectedRecords.map((function(e){return e.id}));0!=i.length?i.length>1?this.$sweetAlert.warnWithTimer("只能选择一条记录"):Object(r["b"])("/flowable/processDefinition/delete",{processDefinitionId:i.toString(),cascade:t}).then((function(e){var t=e.msg;a.$sweetAlert.successWithTimer(t),a.list()})):this.$sweetAlert.warnWithTimer("请选择要删除的记录")},btnSuspendOrActivate:function(e,t){var a=this,i=t?"activate":"suspend";Object(r["h"])("/flowable/processDefinition/"+i,{processDefinitionId:e}).then((function(e){var t=e.msg;a.$sweetAlert.successWithTimer(t),a.list()}))},btnImport:function(){this.dialogImportVisible=!0},beforeUpload:function(e){var t=e.name,a=t.endsWith(".bpmn20.xml")||t.endsWith(".bpmn")||t.endsWith(".bar")||t.endsWith(".zip"),i=e.size/1024/512<1;return a||this.$sweetAlert.warnWithTimer("上传文件格式不正确"),i||this.$sweetAlert.warnWithTimer("上传文件大小不能超过512K"),a&&i},doImport:function(e){var t=this,a=new FormData;a.set("file",e.file),Object(r["g"])("/flowable/processDefinition/import",a).then((function(e){var a=e.msg;t.dialogImportVisible=!1,t.$sweetAlert.successWithTimer(a),t.list()}))},btnExport:function(e){Object(r["d"])("/flowable/processDefinition/xml","get",{processDefinitionId:e.id},e.name+"-v"+e.version+".bpmn20.xml")},btnImage:function(e){this.selectedProcessDefinitionId=e,this.dialogProcessImageVisible=!0},btnProcessDefinitionIdentityLink:function(e){this.selectedProcessDefinitionId=e.id,this.selectedProcessDefinitionName=e.name,this.dialogProcessDefinitionIdentityLinkVisible=!0},selectionChange:function(e){this.selectedRecords=e}}},u=c,d=a("2877"),p=Object(d["a"])(u,i,n,!1,null,null,null);t["default"]=p.exports},aa8f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"full-text"},[a("div",{staticClass:"title"},[e._v("全文检索")]),a("div",{staticClass:"flex",staticStyle:{width:"80%"}},[a("el-input",{staticStyle:{"margin-right":"5px"},attrs:{readonly:"",placeholder:"请输入内容"}}),a("el-button",{attrs:{type:"primary"}},[e._v("检索")])],1)])},n=[],s={name:"FullText",components:{},props:{},data:function(){return{}},watch:{},computed:{},methods:{},created:function(){},mounted:function(){}},r=s,o=(a("a050"),a("2877")),l=Object(o["a"])(r,i,n,!1,null,"8f84073a",null);t["default"]=l.exports},ac3a:function(e,t,a){},ac415:function(e,t,a){"use strict";a("8454")},ad21:function(e,t,a){},ad80:function(e,t,a){"use strict";a("30b3")},ada4:function(e,t,a){"use strict";a("13d2")},af4a:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("div",[a("vue-bpmn",{attrs:{modelData:e.modelData,isView:e.isView},on:{save:e.btnSave}})],1):e._e()},n=[],s=(a("b0c0"),a("a4d3"),a("e01a"),a("0fea")),r=(a("5c96"),a("3631")),o={name:"FlowableModelEdit",components:{VueBpmn:r["default"]},data:function(){return{id:void 0,isView:!1,modelData:{id:void 0,editor:void 0},show:!1}},mounted:function(){this.$route.query&&this.$route.query.id&&(this.id=this.$route.query.id),this.$route.query&&this.$route.query.isView&&("false"==this.$route.query.isView?this.isView=!1:this.isView=!0),this.getModelData()},methods:{getModelData:function(){var e=this;this.id?Object(s["e"])("/flowable/model/queryById",{id:this.id}).then((function(t){var a=t.data;e.modelData.id=a.id,e.modelData.editor=a.editor,e.modelData.key=a.key,e.modelData.name=a.name,e.modelData.category=a.category,e.modelData.description=a.description,e.show=!0})):this.$sweetAlert.warnWithTimer("id is null")},btnSave:function(e){var t=this;Object(s["h"])("/flowable/model/saveModelEditor",e).then((function(e){var a=e.msg;e.data;t.$sweetAlert.successWithTimer(a)}))}}},l=o,c=(a("8f46"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,null,null);t["default"]=u.exports},b048:function(e,t,a){"use strict";a("84ee")},b064:function(e,t,a){"use strict";a("887a")},b2ea:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"max-height"},[a("el-tabs",{staticClass:"max-height flex-column",model:{value:e.activeFileName,callback:function(t){e.activeFileName=t},expression:"activeFileName"}},[a("el-tab-pane",{attrs:{label:"档案信息",name:"archive",lazy:""}},[a("archive-info",{attrs:{fileParamsObject:e.fileParamsObject,listType:e.listType}})],1),a("el-tab-pane",{attrs:{label:"借阅人信息",name:"borrower",lazy:""}},[a("borrow-info",{attrs:{fileParamsObject:e.fileParamsObject,dictOptionsObject:e.dictOptionsObject,listType:e.listType,label:e.label}})],1)],1)],1)},n=[],s=a("35d1"),r=a("1bc4"),o=a("04e5"),l=a("8f55"),c=a("0641"),u={name:"TabPane",components:{ArchiveInfo:s["default"],BorrowInfo:r["default"],ExamineRecords:o["default"],FlowChart:l["default"],EvaluateForm:c["default"]},props:{fileParamsObject:{type:Object,default:null},listType:{type:String,default:""},label:{type:String,default:""},dictOptionsObject:{type:Object,default:null}},data:function(){return{activeFileName:"archive"}},watch:{},computed:{},methods:{},created:function(){},mounted:function(){}},d=u,p=a("2877"),f=Object(p["a"])(d,i,n,!1,null,"7cf48ff1",null);t["default"]=f.exports},b36e:function(e,t,a){},b5a2:function(e,t,a){},b5d0:function(e,t,a){},b6fb:function(e,t,a){"use strict";a.r(t);var i=function(e,t){var a=t._c;return a("div",{staticStyle:{padding:"30px"}},[a("el-alert",{attrs:{closable:!1,title:"menu 1-2-2",type:"warning"}})],1)},n=[],s=a("2877"),r={},o=Object(s["a"])(r,i,n,!0,null,null,null);t["default"]=o.exports},b70a:function(e,t,a){"use strict";a("49b6")},b7c0:function(e,t,a){},b82e:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container tab-pane-box"},[a("el-tabs",{staticClass:"max-height flex-column",attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.tabsList,(function(t,i){return a("el-tab-pane",{key:i,attrs:{label:t.label,name:t.name,lazy:""}},[e.activeName==t.name?a("div",{staticClass:"max-height",class:{"manage-panel-box":"records"==t.type}},["records"==t.type?a("borrow-records",{attrs:{tabsType:t.name,manageType:!0}}):a("record-component",{attrs:{tabsType:t.name,label:t.label,manageType:!0}})],1):e._e()])})),1)],1)},n=[],s=a("bc81"),r=a("694d"),o={name:"BorrowManage",components:{BorrowRecords:s["default"],RecordComponent:r["default"]},props:{},data:function(){return{activeName:"records",content:"",tabsList:[{label:"借阅记录",name:"records",type:"records"},{label:"待取档案",name:"taken"},{label:"登记查阅",name:"register"}]}},watch:{},computed:{},methods:{handleClick:function(e,t){}},created:function(){},mounted:function(){}},l=o,c=(a("7c50"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"7e162041",null);t["default"]=u.exports},b916:function(e,t,a){},ba87:function(e,t,a){"use strict";a("edae")},ba91:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"max-height"},[e.showDetailInfoFlag?e._e():a("div",{staticClass:"app-container tab-pane-box"},[a("el-tabs",{staticClass:"max-height flex-column",attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"移交归档审批流程",name:"archive",lazy:""}},["archive"==e.activeName?a("task-list",{on:{detail:e.showDetailInfo}}):e._e()],1),a("el-tab-pane",{attrs:{label:"借阅审批流程",name:"borrow",lazy:""}},["borrow"==e.activeName?a("task-list",{on:{detail:e.showDetailInfo}}):e._e()],1)],1)],1),e.showDetailInfoFlag?a("div",{staticClass:"max-height"},["archive"==e.activeName?a("task-info",{on:{back:e.showListInfo}}):e._e(),"borrow"==e.activeName?a("borrow-info",{on:{back:e.showListInfo}}):e._e()],1):e._e()])},n=[],s=a("295a"),r=a("10b8"),o=a("ff44"),l={name:"MyApplication",components:{TaskList:s["default"],TaskInfo:r["default"],BorrowInfo:o["default"]},props:{},data:function(){return{activeName:"archive",content:"",draftTotal:null,showDetailInfoFlag:!1}},watch:{},computed:{},methods:{handleClick:function(e,t){},getDraftTotal:function(e){this.draftTotal=e},showDetailInfo:function(){this.showDetailInfoFlag=!0},showListInfo:function(){this.showDetailInfoFlag=!1}},created:function(){},mounted:function(){}},c=l,u=(a("b048"),a("2877")),d=Object(u["a"])(c,i,n,!1,null,"c8cda35c",null);t["default"]=d.exports},bb7b:function(e,t,a){},bbfe:function(e,t,a){},bc81:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab-pane-box",class:{"app-container":!e.manageType,"none-padding":!e.manageType}},[a("el-tabs",{staticClass:"max-height flex-column",attrs:{type:e.manageType?"":"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.tabsList,(function(t,i){return a("el-tab-pane",{key:i,attrs:{label:t.label,name:t.name,lazy:""}},[e.activeName==t.name?a("record-component",{attrs:{listType:t.name,tabsType:e.tabsType,borrowType:t.value,label:t.label,auditStatus:e.auditStatus}}):e._e()],1)})),1)],1)},n=[],s=a("694d"),r={name:"BorrowRecords",components:{RecordComponent:s["default"]},props:{manageType:{type:Boolean,default:!1},tabsType:{type:String,default:""}},data:function(){return{activeName:"electronic",auditStatus:"",content:"",tabsList:[{label:"电子借阅",name:"electronic",value:"2"},{label:"实物借阅",name:"physical",value:"0"},{label:"馆内查询",name:"museum",value:"1"}]}},watch:{},computed:{},methods:{handleClick:function(e,t){}},created:function(){var e=this.$route.query;e&&e.activeName&&(this.activeName=e.activeName,this.auditStatus=e.auditStatus)},mounted:function(){}},o=r,l=(a("ada4"),a("2877")),c=Object(l["a"])(o,i,n,!1,null,"7d9d9d14",null);t["default"]=c.exports},bd3f:function(e,t,a){"use strict";a("02d4")},bd66:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,width:"1100px",title:e.title,"inline-message":!0,center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"flex-column borrow-info-box"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.model,rules:e.rules,"label-width":"100px"}},[a("div",{staticClass:"flex"},[a("table",{staticClass:"mini-table",staticStyle:{width:"100%"},attrs:{border:"2"}},[a("tr",[a("td",{staticClass:"label-item shadow",attrs:{rowspan:"2"}},[e._v("申请人")]),a("td",{staticClass:"label-item required"},[e._v("姓名")]),a("td",{staticClass:"input-box",attrs:{colspan:"4"}},[a("el-form-item",{staticClass:"input-box",attrs:{prop:"apply_user"}},[a("el-input",{attrs:{size:"large",placeholder:""},model:{value:e.model.apply_user,callback:function(t){e.$set(e.model,"apply_user",t)},expression:"model.apply_user"}})],1)],1),a("td",{staticClass:"label-item required"},[e._v("联系电话")]),a("td",{staticClass:"input-box",attrs:{colspan:"4"}},[a("el-form-item",{staticClass:"input-box",attrs:{prop:"mobile"}},[a("el-input",{attrs:{size:"large",placeholder:""},model:{value:e.model.mobile,callback:function(t){e.$set(e.model,"mobile",t)},expression:"model.mobile"}})],1)],1)]),a("tr",[a("td",{staticClass:"label-item required"},[e._v("单位")]),a("td",{staticClass:"input-box",attrs:{colspan:"4"}},[a("el-form-item",{staticClass:"input-box",attrs:{prop:"dept_code"}},[a("select-tree",{attrs:{"tree-data":e.treeData,"default-expanded-keys":e.defaultExpandedKeys,"label-name":e.model.dept_name,size:"large","max-width":!0,"default-expand-all":!1},on:{labeNameChange:e.labeNameChange},model:{value:e.model.dept_code,callback:function(t){e.$set(e.model,"dept_code",t)},expression:"model.dept_code"}})],1)],1),a("td",{staticClass:"label-item input-box",staticStyle:{position:"relative"}},[a("div",{staticClass:"required-box"}),a("dict-select-tag",{attrs:{"dict-code":"certificate_type",size:"large",placeholder:"请选择"},on:{change:e.changeCertificates},model:{value:e.model.card_type,callback:function(t){e.$set(e.model,"card_type",t)},expression:"model.card_type"}})],1),a("td",{staticClass:"input-box",attrs:{colspan:"4"}},[a("el-form-item",{staticClass:"input-box",attrs:{prop:"card_serial"}},[a("el-input",{attrs:{size:"large",placeholder:""},model:{value:e.model.card_serial,callback:function(t){e.$set(e.model,"card_serial",t)},expression:"model.card_serial"}})],1)],1)]),a("tr",[a("td",{staticClass:"label-item shadow",attrs:{rowspan:"3"}},[e._v("借阅形式")]),a("td",{attrs:{colspan:"10"}},[a("el-radio-group",{on:{change:e.radioGroupOnChange},model:{value:e.model.borrow_type,callback:function(t){e.$set(e.model,"borrow_type",t)},expression:"model.borrow_type"}},e._l(e.borrowTypeList,(function(t,i){return a("el-radio",{key:i,staticStyle:{margin:"0 20px"},attrs:{label:t.value,disabled:t.disabled}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)]),"2"==e.model.borrow_type?a("tr",[a("td",{staticClass:"label-item required"},[e._v("借阅天数")]),a("td",{staticClass:"input-box",attrs:{colspan:"9"}},[a("el-form-item",{staticClass:"input-box",attrs:{prop:"borrow_day"}},[a("el-input",{attrs:{size:"large",placeholder:""},on:{input:function(t){return e.model.borrow_day=e.isnumber(t)}},model:{value:e.model.borrow_day,callback:function(t){e.$set(e.model,"borrow_day",t)},expression:"model.borrow_day"}})],1)],1)]):e._e(),"2"==e.model.borrow_type?a("tr",[a("td",{staticClass:"label-item required"},[e._v("利用形式")]),a("td",{staticClass:"input-box",attrs:{colspan:"9"}},[a("el-form-item",{staticClass:"input-box",attrs:{prop:"utilizeForm"}},[a("el-checkbox-group",{staticClass:"checkbox-group",on:{change:e.handleCheckedListChange},model:{value:e.model.utilizeForm,callback:function(t){e.$set(e.model,"utilizeForm",t)},expression:"model.utilizeForm"}},e._l(e.utilizeFormList,(function(t,i){return a("el-checkbox",{key:i,attrs:{label:t.label}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)],1)]):e._e(),"1"==e.model.borrow_type||"0"==e.model.borrow_type?a("tr",[a("td",{staticClass:"label-item required"},[e._v("到馆时间")]),a("td",{staticClass:"input-box",attrs:{colspan:"9"}},[a("el-form-item",{staticClass:"input-box",attrs:{prop:"arrival_time"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"picker-options":e.arrivalTimePicker,size:"large",type:"date",placeholder:"请选择时间","value-format":"yyyy-MM-dd"},model:{value:e.model.arrival_time,callback:function(t){e.$set(e.model,"arrival_time",t)},expression:"model.arrival_time"}})],1)],1)]):e._e(),"0"==e.model.borrow_type?a("tr",[a("td",{staticClass:"label-item required"},[e._v("归还时间")]),a("td",{staticClass:"input-box",attrs:{colspan:"9"}},[a("el-form-item",{staticClass:"input-box",attrs:{prop:"end_time"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{"picker-options":e.endTimePicker,size:"large",type:"date",placeholder:"请选择时间","value-format":"yyyy-MM-dd"},model:{value:e.model.end_time,callback:function(t){e.$set(e.model,"end_time",t)},expression:"model.end_time"}})],1)],1)]):e._e(),"1"==e.model.borrow_type?a("tr",[a("td",{staticClass:"label-item required"},[e._v("利用形式")]),a("td",{staticClass:"input-box",attrs:{colspan:"9"}},[a("el-form-item",{staticClass:"input-box",attrs:{prop:"utilization_mode"}},[a("dict-select-tag",{attrs:{"dict-code":"utilize_form",size:"large",placeholder:"请选择"},model:{value:e.model.utilization_mode,callback:function(t){e.$set(e.model,"utilization_mode",t)},expression:"model.utilization_mode"}})],1)],1)]):e._e(),a("tr",[a("td",{staticClass:"label-item shadow"},[e._v("借阅数量")]),a("td",{staticClass:"label-item"},[e._v("总卷数")]),a("td",{attrs:{colspan:"4"}},[e._v(" "+e._s(e.model.vol_count)+" ")]),a("td",{staticClass:"label-item"},[e._v("总件数")]),a("td",{attrs:{colspan:"4"}},[e._v(" "+e._s(e.model.doc_count)+" ")])]),a("tr",[a("td",{staticClass:"label-item shadow"},[e._v("利用目的")]),a("td",{staticClass:"input-box",attrs:{colspan:"10"}},[a("dict-select-tag",{attrs:{"dict-code":"utilize_purpose",size:"large",placeholder:"请选择"},model:{value:e.model.reason,callback:function(t){e.$set(e.model,"reason",t)},expression:"model.reason"}})],1)]),a("tr",[a("td",{staticClass:"label-item shadow"},[e._v("备注")]),a("td",{staticClass:"input-box",attrs:{colspan:"10"}},[a("el-input",{attrs:{size:"large",placeholder:""},model:{value:e.model.remarkes,callback:function(t){e.$set(e.model,"remarkes",t)},expression:"model.remarkes"}})],1)])])])]),e.userData&&e.userData.length&&e.userCode?a("div",[a("div",{staticClass:"table-box-title"},[e._v("下一步审核人")]),a("div",{staticClass:"table-box-group"},[a("el-radio-group",{model:{value:e.examineUser,callback:function(t){e.examineUser=t},expression:"examineUser"}},e._l(e.userData,(function(t){return a("el-radio",{key:t.id||t.ID,attrs:{label:t.id||t.ID}},[e._v(e._s(t.lastName||t.LASTNAME))])})),1)],1)]):e._e(),"1"==e.model.borrow_form?a("div",{staticClass:"bot-list-box flex-column"},[a("div",{staticClass:"table-box-title"},[e._v("借阅档案内容")]),a("div",{staticClass:"table-box-list max-width"},[a("borrow-content",{attrs:{archivesType:e.archivesType,cateCode:e.cateCode,list:e.borrowContentList,count:e.borrowContentCount,opeType:e.opeType,paginationFlag:e.paginationFlag,dateCode:e.dateCode,json:e.json}})],1)]):e._e()],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submit}},[e._v(" 确定 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},n=[],s=a("5530"),r=a("1da1"),o=a("ade3"),l=(a("96cf"),a("ac1f"),a("5319"),a("caad"),a("2532"),a("4de4"),a("d81d"),a("b0c0"),a("159b"),a("8684")),c=a("6ef1"),u=a("fb36"),d=a("61f7"),p=a("0779"),f={name:"ApplyModal",components:{BorrowContent:l["default"],FileList:c["default"],SelectTree:u["default"],DictSelectTag:p["default"]},props:{cateCode:{type:String,default:""}},data:function(){var e;return e={title:"借阅申请",formBuildShow:!1,userCode:!1,initData:{},formTemplate:{},userData:[],examineUser:"",model:{},activeName:"process",visible:!1,loading:!1,treeData:[],certificatesList:[{value:"1",name:"身份证"},{value:"2",name:"学生证"},{value:"3",name:"护照"},{value:"4",name:"户口本"},{value:"5",name:"其他有效证件"},{value:"6",name:"驾驶证"}],borrowTypeList:[{value:"2",name:"电子借阅"},{value:"0",name:"实物借阅"},{value:"1",name:"馆内查询"}],purposeList:[{value:"1",name:"学籍利用"},{value:"2",name:"编史修志"},{value:"3",name:"工作考察"},{value:"4",name:"学术研究"},{value:"5",name:"经济建设"},{value:"6",name:"宣传教育"},{value:"7",name:"其他"}],utilizeFormList:[{label:"1",name:"查看原文(有水印)"},{label:"2",name:"查看原文(无水印)"},{label:"3",name:"下载原文"},{label:"4",name:"打印原文(有水印)"},{label:"5",name:"打印原文(无水印)"}],formMuseumList:[{value:"CY",name:"查阅"},{value:"SM",name:"扫描"},{value:"FY",name:"复印"},{value:"CX",name:"抄写"},{value:"WT",name:"委托"},{value:"CJZM",name:"出具证明"},{value:"SMPS",name:"数码拍摄"},{value:"KB",name:"拷贝"}]},Object(o["a"])(e,"model",{apply_user:"",mobile:"",dept_code:"",dept_name:"",card_type:"1",card_serial:"",borrow_form:"1",borrow_type:"0",doc_count:0,vol_count:0,borrow_day:"",utilizeForm:[],arrival_time:"",end_time:"",utilization_mode:"",reason:"",remarkes:""}),Object(o["a"])(e,"rules",{apply_user:[{required:!0,message:"请输入姓名",trigger:"change"}],mobile:[{required:!0,message:"请输入联系电话",trigger:"change"},{required:!1,trigger:"blur",validator:d["d"]}],dept_code:[{required:!0,message:"请输入单位",trigger:"change"}],card_serial:[{required:!0,message:"请输入证件信息",trigger:"change"},{required:!1,trigger:"blur",validator:this.validCertificates}],borrow_day:[{required:!0,message:"请输入借阅天数",trigger:"change"}],utilizeForm:[{required:!0,message:"请输入利用形式",trigger:"change"}],arrival_time:[{required:!0,message:"请选择到馆时间",trigger:"change"}],end_time:[{required:!0,message:"请选择归还时间",trigger:"change"}],utilization_mode:[{required:!0,message:"请选择利用形式",trigger:"利用形式"}]}),Object(o["a"])(e,"url",{tree:"/sys/organ/organTree",queryBackInfo:"dynamic/queryBackInfo",getBaseInfo:"templates/getTempView",getDefData:"dynamic/defaultData",getInfoData:"dynamic/info",borrowAndRegister:"/borrowCar/borrowAndRegister",directBorrow:"/borrowCar/directBorrow"}),Object(o["a"])(e,"borrowContentList",[]),Object(o["a"])(e,"borrowContentCount",0),Object(o["a"])(e,"paginationFlag",!1),Object(o["a"])(e,"dateCode",""),Object(o["a"])(e,"json",""),Object(o["a"])(e,"templateId",""),Object(o["a"])(e,"volId",""),Object(o["a"])(e,"cateCode",""),Object(o["a"])(e,"opeType",null),Object(o["a"])(e,"archivesType",!1),Object(o["a"])(e,"defaultExpandedKeys",[]),Object(o["a"])(e,"pickerOptions",{disabledDate:this.disabledDate}),Object(o["a"])(e,"arrivalTimePicker",this.arrivalTime()),Object(o["a"])(e,"endTimePicker",this.endTime()),e},computed:{},created:function(){this.getTreeData(),this.handleUser()},methods:{handleUser:function(){var e=this;this.$api.getAction("/flowable/work/getNextUser",{processDefinitionId:"borrow:2:90fc66d2-f9b1-11eb-8f9b-aa3926c01557"}).then((function(t){200==t.code&&(e.userData=t.data,e.userData.length>0&&(e.examineUser=e.userData[0].id,e.examineUser||(e.examineUser=e.userData[0].ID)),2!=e.model.borrow_type&&e.model.borrow_type&&(e.userCode=!0))}))},arrivalTime:function(){var e=this;return{disabledDate:function(t){return e.model.end_time?new Date(e.model.end_time).getTime()-864e5<t.getTime():t.getTime()<Date.now()-864e5}}},endTime:function(){var e=this;return{disabledDate:function(t){return e.model.arrival_time?new Date(e.model.arrival_time).getTime()-864e5>t.getTime():t.getTime()<Date.now()-864e5}}},disabledDate:function(e){return e.getTime()<Date.now()-864e5},isnumber:function(e){return 0==e&&(e=""),e=e.replace(/[^0-9]/gi,""),e},changeCertificates:function(e){"1"!=this.model.card_type&&this.$refs["ruleForm"].clearValidate(["card_serial"])},validCertificates:function(e,t,a){"1"==this.model.card_type&&t?d["a"].test(t)?a():a(new Error("身份证号填写有误")):a()},handleCheckedListChange:function(e){this.model.utilizeForm=e;var t=["1","2"],a=["4","5"],i=t.every((function(t){return e.includes(t)})),n=a.every((function(t){return e.includes(t)}));if(i||n){var s=this.model.utilizeForm.pop();i?this.model.utilizeForm=this.model.utilizeForm.filter((function(e){return!t.includes(e)})):n&&(this.model.utilizeForm=this.model.utilizeForm.filter((function(e){return!a.includes(e)}))),this.model.utilizeForm.push(s)}},getTreeData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.getAction(e.url.tree,{});case 3:a=t.sent,i=a.treeData,e.treeData=e.setTreeData(i),t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},setTreeData:function(e){var t=e.filter((function(e){return"-1"==e.parentId}));e.map((function(e){return e.label=e.name,e}));var a=function t(a){a.forEach((function(a){var i=e.filter((function(e){return e.parentId==a.id}));a.children=i,i.length?(a.elIcon="folder",t(a.children)):a.elIcon="document-copy"}))};return a(t),t},labeNameChange:function(e){this.model.dept_name=e},handleClick:function(e,t){var a=this;"instructions"==this.activeName&&this.$nextTick((function(){a.$refs["fileReel"]&&a.$refs["fileReel"].getFields(a.templateId,"2")}))},resetForm:function(e){var t=this;this.$nextTick((function(){t.$refs[e].resetFields()}))},init:function(e,t,a,i){"borrow"==a?(this.model.borrow_form="1",this.title="借阅申请"):"register"==a&&(this.model.borrow_form="2",this.title="登记"),this.json=t,this.borrowContentList=e.data,this.borrowContentCount=e.count,e.count&&(this.paginationFlag=!0),this.dateCode=e.dateCode,this.opeType=i,1==this.opeType&&(this.archivesType=!0),0==e.ifHasfle?this.model.borrow_type="2":(this.borrowTypeList[0].disabled=!0,this.model.borrow_type="1"),this.model.vol_count=e.volCount,this.model.doc_count=e.docCount,this.visible=!0},getInfoData:function(e){var t=this,a={othType:this.initData.othType,id:this.initData.id,templateId:this.initData.templateId};this.$api.httpAction(this.url.getInfoData,a,"post").then((function(e){"200"==e.code?t.model=e.data:t.$sweetAlert.errorWithTimer(e.msg)})).catch((function(e){}))},submit:function(){var e=this;this.$refs["ruleForm"].validate((function(t){if(t){var a=Object.assign({},e.model);a.ifhas_printing=-1,a.ifhas_download=-1,a.ifhas_watermark=-1;var i=e.model.utilizeForm;i.includes("1")?a.ifhas_watermark=1:i.includes("2")&&(a.ifhas_watermark=0),i.includes("4")?a.ifhas_printing=1:i.includes("5")&&(a.ifhas_printing=0),i.includes("3")&&(a.ifhas_download=1),delete a.utilizeForm;var n=[];if(e.json){var r=JSON.parse(e.json);n=r.data}var o={form:a,data:n};e.opeType&&(o=Object(s["a"])(Object(s["a"])({},o),{},{opeType:e.opeType}));var l=JSON.stringify(o),c={json:l},u=e.url.borrowAndRegister;e.opeType&&(u=e.url.directBorrow);var d="post";e.loading=!0,e.$api.httpAction(u,c,d).then((function(t){e.loading=!1,200==t.code?("1"!=e.model.borrow_type&&"0"!=e.model.borrow_type||e.$api.postAction("/flowable/processInstance/start",{processDefinitionId:"borrow:2:90fc66d2-f9b1-11eb-8f9b-aa3926c01557",businessKey:t.data,examineUser:e.examineUser,ccToVos:[]}).then((function(t){var a=t.msg;e.$sweetAlert.successWithTimer(a),e.dialogStartProcessVisibleInChild=!1})),e.$sweetAlert.successWithTimer(t.msg),e.$emit("ok"),e.cancelModal()):e.$sweetAlert.errorWithTimer(t.msg)}))}}))},radioGroupOnChange:function(){var e=this;1==this.model.borrow_type||0==this.model.borrow_type?this.userCode=!0:this.userCode=!1,this.$nextTick((function(){e.model=Object(s["a"])(Object(s["a"])({},e.model),{},{arrival_time:"",end_time:"",utilization_mode:""})}));var t=Object.assign({},this.model);this.$refs["ruleForm"].resetFields(),this.model=t},cancelModal:function(){this.visible=!1,this.$emit("close")}}},m=f,h=(a("0abf"),a("2877")),b=Object(h["a"])(m,i,n,!1,null,"19fb309c",null);t["default"]=b.exports},bf1d:function(e,t,a){"use strict";a("0148")},bf79:function(e,t,a){"use strict";a("a2eb")},bf7e:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container flex-column"},[a("div",{staticClass:"filter-container operate-box"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"流程实例名称",size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processInstanceName,callback:function(t){e.$set(e.listQuery,"processInstanceName",t)},expression:"listQuery.processInstanceName"}}),a("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{"value-format":"yyyy-MM-dd",placeholder:"到期日开始",size:"mini",type:"date"},model:{value:e.listQuery.taskDueAfter,callback:function(t){e.$set(e.listQuery,"taskDueAfter",t)},expression:"listQuery.taskDueAfter"}}),a("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{"value-format":"yyyy-MM-dd",placeholder:"到期日结束",size:"mini",type:"date"},model:{value:e.listQuery.taskDueBefore,callback:function(t){e.$set(e.listQuery,"taskDueBefore",t)},expression:"listQuery.taskDueBefore"}}),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.btnQuery}},[e._v("查询")]),a("el-button",{attrs:{size:"mini"},on:{click:e.btnReset}},[e._v("重置")])],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"table-box max-height"},[a("fox-table",{ref:"foxTable",attrs:{"highlight-current-row":"",rowKey:"ID",column:e.table.column,data:e.table.data,pagination:!0,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,hideTableIndent:!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,select:e.selectChange}})],1),e.dialogExcuteTaskVisible?a("execute-task",{attrs:{visible:e.dialogExcuteTaskVisible,"file-params-object":e.fileParamsObject,"execute-task-id":e.executeTaskId,"execute-task-data":e.executeTaskData},on:{"update:visible":function(t){e.dialogExcuteTaskVisible=t},executeTaskFinished:e.queryList}}):e._e(),e.dialogViewVisible?a("process-detail",{attrs:{visible:e.dialogViewVisible,"file-params-object":e.fileParamsObject,"process-instance-id":e.processInstanceId},on:{"update:visible":function(t){e.dialogViewVisible=t}}}):e._e()],1)},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("f7c4")),l=a("2e5f"),c=a("3f19"),u=a("0fea"),d=(a("5c96"),a("f357")),p=a("3579"),f={name:"FlowableTaskTodo",mixins:[c["a"]],components:{foxTable:o["a"],BtnList:l["default"],ExecuteTask:d["default"],ProcessDetail:p["default"]},data:function(){return{executeTaskData:{},dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,processDefinitionName:void 0,processInstanceId:void 0,taskName:void 0,processInstanceBusinessKey:void 0,taskDueAfter:void 0,taskDueBefore:void 0},dialogExcuteTaskVisible:!1,formJson:void 0,executeTaskId:"",processInstanceId:"",dialogViewVisible:!1,rowClassName:"rowClass",cellClassName:"cellClass"}},created:function(){this.setTableColumn(),this.queryList(1)},methods:{setTableColumn:function(){var e=this;this.$createElement;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"操作",prop:"oper",width:180,align:"left",headerAlign:"center",fixed:"right",render:function(t,a){var i=a.row,n=[{content:"查看详情",type:"text",icon:"view",event:function(){e.btnView(i)}}];return null!=i.assignee&&""!=i.assignee||n.push({content:"认领并执行",type:"text",icon:"edit",event:function(){e.btnClaim(i)}}),null==i.endTime&&null!=i.assignee&&""!=i.assignee&&n.push({content:"审核",type:"text",icon:"edit",event:function(){e.btnExcuteTask(i)}}),t(l["default"],{attrs:{btnInfo:n}})}},{label:"流程实例名称",prop:"processInstanceName"},{label:"任务名称",prop:"name"},{label:"创建时间",width:180,prop:"createTime"},{label:"到期日期",width:180,prop:"dueDate"},{label:"所有人",prop:"owner"},{label:"执行人",width:180,prop:"assignee"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:1===e&&(t.page.pageNum=1),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),t.listQuery=Object(r["a"])(Object(r["a"])({},t.listQuery),{},{current:t.page.pageNum,size:t.page.pageSize}),Object(u["e"])("/flowable/task/listTodo",t.listQuery).then((function(e){var a=e.data;t.records=a.records,t.total=a.total,t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*a.total}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:a.records})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1})}));case 4:case"end":return a.stop()}}),a)})))()},btnQuery:function(){this.queryList(1)},btnReset:function(){this.listQuery={current:1,size:10,processDefinitionName:void 0,processInstanceId:void 0,taskName:void 0,processInstanceBusinessKey:void 0,taskDueAfter:void 0,taskDueBefore:void 0},this.queryList(1)},btnClaim:function(e){var t=this;Object(u["h"])("/flowable/task/claim",{taskId:e.id}).then((function(a){a.msg;t.queryList(),t.btnExcuteTask(e)})).catch((function(e){t.queryList()}))},btnUnclaim:function(e){var t=this;Object(u["h"])("/flowable/task/unclaim",{taskId:e.id}).then((function(e){var a=e.msg;t.$sweetAlert.successWithTimer(a),t.queryList()}))},btnExcuteTask:function(e){this.executeTaskData=e,this.executeTaskId=e.id,this.fileParamsObject=e,this.dialogExcuteTaskVisible=!0},btnView:function(e){this.processInstanceId=e.processInstanceId,this.fileParamsObject=e,this.dialogViewVisible=!0}}},m=f,h=(a("a69d"),a("2877")),b=Object(h["a"])(m,i,n,!1,null,"7cb5961c",null);t["default"]=b.exports},c062:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"todo",class:{completed:e.todo.done,editing:e.editing}},[a("div",{staticClass:"view"},[a("input",{staticClass:"toggle",attrs:{type:"checkbox"},domProps:{checked:e.todo.done},on:{change:function(t){return e.toggleTodo(e.todo)}}}),a("label",{domProps:{textContent:e._s(e.todo.text)},on:{dblclick:function(t){e.editing=!0}}}),a("button",{staticClass:"destroy",on:{click:function(t){return e.deleteTodo(e.todo)}}})]),a("input",{directives:[{name:"show",rawName:"v-show",value:e.editing,expression:"editing"},{name:"focus",rawName:"v-focus",value:e.editing,expression:"editing"}],staticClass:"edit",domProps:{value:e.todo.text},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doneEdit(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancelEdit(t)}],blur:e.doneEdit}})])},n=[],s=(a("498a"),{name:"Todo",directives:{focus:function(e,t,a){var i=t.value,n=a.context;i&&n.$nextTick((function(){e.focus()}))}},props:{todo:{type:Object,default:function(){return{}}}},data:function(){return{editing:!1}},methods:{deleteTodo:function(e){this.$emit("deleteTodo",e)},editTodo:function(e){var t=e.todo,a=e.value;this.$emit("editTodo",{todo:t,value:a})},toggleTodo:function(e){this.$emit("toggleTodo",e)},doneEdit:function(e){var t=e.target.value.trim(),a=this.todo;t?this.editing&&(this.editTodo({todo:a,value:t}),this.editing=!1):this.deleteTodo({todo:a})},cancelEdit:function(e){e.target.value=this.todo.text,this.editing=!1}}}),r=s,o=a("2877"),l=Object(o["a"])(r,i,n,!1,null,null,null);t["default"]=l.exports},c1a9:function(e,t,a){"use strict";a("5846")},c208:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container flex-column"},[a("div",{staticClass:"flex justify-between operate-box"},[a("div",{staticClass:"filter-container"},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:model:save",expression:"'flowable:model:save'"}],staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary",size:"mini"},on:{click:e.btnCreate}},[e._v(" 新增 ")])],1),a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"模型key",size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.modelKey,callback:function(t){e.$set(e.listQuery,"modelKey",t)},expression:"listQuery.modelKey"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"模型名称",size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.modelName,callback:function(t){e.$set(e.listQuery,"modelName",t)},expression:"listQuery.modelName"}}),a("el-select",{staticClass:"filter-item",staticStyle:{width:"150px"},attrs:{placeholder:"模型类别",size:"mini"},model:{value:e.listQuery.modelCategory,callback:function(t){e.$set(e.listQuery,"modelCategory",t)},expression:"listQuery.modelCategory"}},e._l(e.dicts,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.value}})})),1),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.btnQuery}},[e._v("查询")]),a("el-button",{attrs:{size:"mini"},on:{click:e.btnReset}},[e._v("重置")])],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"table-box max-height"},[a("fox-table",{ref:"foxTable",attrs:{"highlight-current-row":"",rowKey:"ID",column:e.table.column,data:e.table.data,pagination:!0,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,hideTableIndent:!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,select:e.selectChange}})],1),a("el-dialog",{attrs:{title:"流程模型",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",attrs:{rules:e.rules,model:e.temp,disabled:"view"===e.dialogStatus,"label-position":"right","label-width":"110px"}},[a("el-form-item",{attrs:{label:"模型key",prop:"key"}},[a("el-input",{model:{value:e.temp.key,callback:function(t){e.$set(e.temp,"key",t)},expression:"temp.key"}})],1),a("el-form-item",{attrs:{label:"模型名称",prop:"name"}},[a("el-input",{model:{value:e.temp.name,callback:function(t){e.$set(e.temp,"name",t)},expression:"temp.name"}})],1),a("el-form-item",{attrs:{label:"模型类别",prop:"category"}},[a("el-select",{attrs:{placeholder:"模型类别"},model:{value:e.temp.category,callback:function(t){e.$set(e.temp,"category",t)},expression:"temp.category"}},e._l(e.dicts,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"模型描述",prop:"description"}},[a("el-input",{model:{value:e.temp.description,callback:function(t){e.$set(e.temp,"description",t)},expression:"temp.description"}})],1),a("el-form-item",{attrs:{label:"租户ID",prop:"tenantId"}},[a("el-input",{model:{value:e.temp.tenantId,callback:function(t){e.$set(e.temp,"tenantId",t)},expression:"temp.tenantId"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["view"!==e.dialogStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v(" 确定 ")]):e._e(),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(" 取消 ")])],1)],1),a("el-dialog",{attrs:{title:"流程导入",visible:e.dialogImportVisible},on:{"update:visible":function(t){e.dialogImportVisible=t}}},[a("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"","show-file-list":!1,"before-upload":e.beforeUpload,"http-request":e.doImport}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 只能上传.bpmn20.xml,.bpmn文件，且不超过512K ")])])],1)],1)},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("159b"),a("b0c0"),a("8a79"),a("d81d"),a("d3b7"),a("25f0"),a("f7c4")),l=a("2e5f"),c=a("3f19"),u=a("333d"),d=a("0fea"),p=(a("5c96"),{name:"FlowableModel",mixins:[c["a"]],components:{foxTable:o["a"],BtnList:l["default"],Pagination:u["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,modelKey:void 0,latestVersion:!0,modelName:void 0,modelCategory:void 0},dialogFormVisible:!1,dialogStatus:"",temp:{id:void 0,key:"",name:"",category:"",description:"",tenantId:""},rules:{id:[{required:!0,message:"该项不能为空",trigger:"change"}],key:[{required:!0,message:"该项不能为空",trigger:"change"}],name:[{required:!0,message:"该项不能为空",trigger:"change"}],category:[{required:!0,message:"该项不能为空",trigger:"change"}]},dialogImportVisible:!1}},beforeCreate:function(){var e=this;Object(d["e"])("/borrowCar/queryCode",{code:"flow_type"}).then((function(t){t.data.forEach((function(t){var a={name:t.NAME,value:t.VALUE};e.dicts.push(a)}))}))},created:function(){this.setTableColumn(),this.queryList(1)},methods:{setTableColumn:function(){var e=this;this.$createElement;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"操作",prop:"oper",width:200,align:"left",headerAlign:"center",fixed:"right",render:function(t,a){var i=a.row,n=[{content:"修改",event:function(){e.btnUpdate(i)}},{content:"复制",event:function(){e.btnCopy(i)}},{content:"删除",event:function(){e.btnDelete(i.id)}},{content:"删除包含历史",event:function(){e.btnDelete(i.id,!0)}}];if(!i.deployed){var s={content:"部署",event:function(){e.btnDeploy(i.id)}};n.push(s)}var r=[{content:"查看",type:"text",icon:"view",event:function(){e.btnView(i)}},{content:"流程设计",type:"text",icon:"edit",event:function(){e.btnUpdateModel(i)}},{content:"更多",type:"dropDown",dropDownItems:n}];return t(l["default"],{attrs:{btnInfo:r}})}},{label:"模型key",prop:"key"},{label:"模型名称",prop:"name"},{label:"版本",prop:"version"},{label:"是否发布",width:180,render:function(e,t){var a=t.row,i=a.deployed?"是":"否",n=[{content:i,color:"",type:"text",event:function(){}}];return e(l["default"],{attrs:{btnInfo:n}})}}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:1===e&&(t.page.pageNum=1),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),t.listQuery=Object(r["a"])(Object(r["a"])({},t.listQuery),{},{current:t.page.pageNum,size:t.page.pageSize}),Object(d["e"])("/flowable/model/list",t.listQuery).then((function(e){var a=e.data;t.records=a.records,t.total=a.total,t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*a.total}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:a.records})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1})}));case 4:case"end":return a.stop()}}),a)})))()},btnQuery:function(){this.queryList(1)},btnReset:function(){this.listQuery={current:1,size:10,modelKey:void 0,latestVersion:!0,modelName:void 0,modelCategory:void 0},this.queryList(1)},resetTemp:function(){this.temp={id:void 0,key:"",name:"",category:"",description:"",tenantId:""}},btnView:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="view",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},btnCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},btnImport:function(){this.dialogImportVisible=!0},beforeUpload:function(e){var t=e.name,a=t.endsWith(".bpmn20.xml")||t.endsWith(".bpmn")||t.endsWith(".bar")||t.endsWith(".zip"),i=e.size/1024/512<1;return a||this.$sweetAlert.warnWithTimer("上传文件格式不正确"),i||this.$sweetAlert.warnWithTimer("上传文件大小不能超过512K"),a&&i},doImport:function(e){var t=this,a=new FormData;a.set("file",e.file),Object(d["g"])("/flowable/model/import",a).then((function(e){var a=e.msg;t.dialogImportVisible=!1,t.$sweetAlert.successWithTimer(a),t.queryList(1)}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(d["g"])("/flowable/model/save",e.temp).then((function(t){var a=t.msg;e.dialogFormVisible=!1,e.$sweetAlert.successWithTimer(a),e.queryList(1)}))}))},btnUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},btnCopy:function(e){var t=this;Object(d["h"])("/flowable/model/copy",{id:e.id}).then((function(e){var a=e.msg;t.$sweetAlert.successWithTimer(a),t.queryList(1)}))},btnUpdateModel:function(e){this.$router.push({path:"/flowable/model/edit",query:{id:e.id,isView:e.deployed}})},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&Object(d["h"])("/flowable/model/update",e.temp).then((function(t){var a=t.msg;e.dialogFormVisible=!1,e.$sweetAlert.successWithTimer(a),e.queryList(1)}))}))},btnDelete:function(e,t){var a=this,i=e?[e]:this.table.selection.map((function(e){return e.id}));0!=i.length?Object(d["b"])("/flowable/model/delete",{ids:i.toString(),cascade:t}).then((function(e){var t=e.msg;a.$sweetAlert.successWithTimer(t),a.queryList(1)})):this.$sweetAlert.warnWithTimer("请选择要删除的记录")},btnDeploy:function(e){var t=this;Object(d["g"])("/flowable/model/deploy",{id:e}).then((function(e){var a=e.msg;t.$sweetAlert.successWithTimer(a),t.queryList(1)}))},selectionChange:function(e){this.selectedRecords=e}}}),f=p,m=(a("f955"),a("2877")),h=Object(m["a"])(f,i,n,!1,null,"4d34d904",null);t["default"]=h.exports},c2ed:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"max-height"},[e.showDetailInfoFlag?e._e():a("div",{staticClass:"app-container tab-pane-box"},[a("el-tabs",{staticClass:"max-height flex-column",attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"移交归档审批流程",name:"archive",lazy:""}},["archive"==e.activeName?a("task-list",{attrs:{listType:"toDoList"},on:{detail:e.showDetailInfo}}):e._e()],1)],1)],1),e.showDetailInfoFlag?a("div",{staticClass:"max-height"},["archive"==e.activeName?a("examine-info",{on:{back:e.showListInfo}}):e._e()],1):e._e()])},n=[],s=a("295a"),r=a("efe1"),o={name:"MyApplication",components:{TaskList:s["default"],ExamineInfo:r["default"]},props:{},data:function(){return{activeName:"archive",content:"",draftTotal:null,showDetailInfoFlag:!1}},watch:{},computed:{},methods:{handleClick:function(e,t){},getDraftTotal:function(e){this.draftTotal=e},showDetailInfo:function(){this.showDetailInfoFlag=!0},showListInfo:function(){this.showDetailInfoFlag=!1}},created:function(){},mounted:function(){}},l=o,c=(a("3da2"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"1f6d0e81",null);t["default"]=u.exports},c2ff:function(e,t,a){"use strict";a("1d75")},c420:function(e,t,a){},c4cf:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container max-height flex-column"},[a("div",{staticClass:"operate-box nowrap flex justify-between"},[a("div",[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:sysbackup:add",expression:"'sys:sysbackup:add'"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:function(t){return e.btnClick("backup")}}},[e._v(" 开始备份 ")])],1),a("div",{staticClass:"flex"},[a("el-select",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:"请选择",size:"mini"},on:{change:e.searchTypeChange},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},e._l(e.searchTypeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label||e.name,value:e.value}})})),1),"fileName"==e.searchType?a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"input-with-select",staticStyle:{width:"250px"},attrs:{placeholder:"请输入检索内容",clearable:"",size:"mini"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryList(1)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}):e._e(),"bkType"==e.searchType?a("div",{staticStyle:{width:"250px","margin-right":"10px"}},[a("dict-select-tag",{attrs:{"dict-code":"backup",placeholder:"请选择",size:"mini"},on:{change:function(t){return e.queryList(1)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1):e._e(),"createTime"==e.searchType?a("div",{staticStyle:{width:"250px"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期时间","value-format":"yyyy-MM-dd",size:"mini"},on:{change:function(t){return e.queryList(1)}},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1):e._e(),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(t){return e.queryList(1)}}},[e._v(" 搜索 ")])],1)]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"table-box max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1)])},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("a9e3"),a("f7c4")),l=a("3f19"),c=a("2e5f"),u=a("0779"),d={name:"NoticeList",mixins:[l["a"]],components:{foxTable:o["a"],BtnList:c["default"],DictSelectTag:u["default"]},props:{showStatus:{type:String|Number,default:""}},data:function(){return{url:{list:"/sysBackup/pageList",backup:"/sysBackup/backup",download:"/sysBackup/download",restore:"/sysBackup/restore",delete:"/sysBackup/delete"},model:null,searchTypeList:[{value:"fileName",name:"备份文件名"},{value:"bkType",name:"备份类型"},{value:"createTime",name:"备份日期"}],searchType:"fileName",searchText:""}},watch:{},computed:{domainURL:function(){return window._CONFIG["domainURL"]}},methods:{setTableColumn:function(){var e=this;this.$createElement;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{type:"selection",fixed:!0},{label:"操作",prop:"oper",width:280,fixed:"right",render:function(t,a){var i=a.row,n=[{content:"下载",type:"text",icon:"download",popover:!1,permission:"sys:sysbackup:download",event:function(){e.download(i)}},{content:"还原",type:"text",icon:"refresh",popover:!1,permission:"sys:sysbackup:restore",event:function(){e.operate(i,"restore")}},{content:"删除",type:"text",icon:"delete",color:"#F56C6C",popover:!1,permission:"sys:sysbackup:del",event:function(){e.operate(i,"delete")}}];return t(c["default"],{attrs:{btnInfo:n}})}},{label:"备份类型",prop:"bkType_dictText"},{label:"备份的文件名",prop:"fileName"},{label:"文件大小",prop:"fileSize"},{label:"附件分组",prop:"fileGroup"},{label:"存储路径",prop:"filePath"},{label:"备份日期",prop:"createTime"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize,type:"all"},t.searchType&&(i[t.searchType]=t.searchText),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),n=t.url.list,a.next=7,t.$api.getAction(n,i);case 7:s=a.sent,o=s.count,l=s.data,t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*o}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:l})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 13:case"end":return a.stop()}}),a)})))()},download:function(e){window.location.href=this.domainURL+this.url.download+"?id="+e.id},btnClick:function(e){this.operate(null,e)},operate:function(e,t){var a=this,i={backup:{name:"开始备份",msg:"确定备份数据库?"},restore:{name:"还原",msg:"确定还原此数据库备份文件?"},delete:{name:"删除",msg:"确定删除?"}},n=i[t]["msg"];this.$confirm(n,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i="/sysBackup/"+t,n={};e&&(n={id:e.id});var s="post";a.$api.httpAction(i,n,s).then((function(e){var i=200;"reset"==t&&(i=0),e.code==i?(a.$sweetAlert.successWithTimer(e.msg),a.$emit("ok")):a.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))},searchTypeChange:function(e){this.searchText="",this.queryList(1)}},created:function(){this.setTableColumn(),this.queryList(1)},mounted:function(){}},p=d,f=(a("1fca"),a("2877")),m=Object(f["a"])(p,i,n,!1,null,"083e40cb",null);t["default"]=m.exports},c521:function(e,t,a){},c58c:function(e,t,a){"use strict";a("8e80")},c94e3:function(e,t,a){"use strict";a("0cfa")},c98b:function(e,t,a){},ca0c:function(e,t,a){},cab6:function(e,t,a){"use strict";a("1b8d")},cb1f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},n=[],s=(a("159b"),a("313e")),r=a.n(s),o=a("1e21");a("817d");var l={name:"",mixins:[o["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"280px"},dataInfo:{type:Object}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.expectedData,e.actualData;this.chart.setOption({title:{},tooltip:{},legend:{orient:"vertical",left:"right"},dataset:{dimensions:["product","案卷","卷内","单件"],source:this.initData()},xAxis:{type:"category"},yAxis:{},series:[{type:"bar",itemStyle:{color:"#C12E34"}},{type:"bar",itemStyle:{color:"#FFA500"}},{type:"bar",itemStyle:{color:"#1E90FF"}}]})},initData:function(){var e=this,t=[];return this.dataInfo.xAxisArr.forEach((function(a,i){var n={};n.product=a,n["案卷"]=e.dataInfo.volArr[i],n["卷内"]=e.dataInfo.volInArr[i],n["单件"]=e.dataInfo.docArr[i],t.push(n)})),t}}},c=l,u=a("2877"),d=Object(u["a"])(c,i,n,!1,null,"7d6c5b00",null);t["default"]=d.exports},cb7b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container max-height flex-column"},[a("div",{staticClass:"half-height tab-pane-box"},[a("records-list",{ref:"records",attrs:{listType:e.listType},on:{detail:e.showFileList}})],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.showFileListLoading,expression:"showFileListLoading"}],staticClass:"half-height tab-pane-box"},[e.showFileListFlag?a("tab-pane",{attrs:{listType:e.listType}}):e._e()],1)])},n=[],s=a("3e13"),r=a("b2ea"),o={name:"MuseumQuery",components:{RecordsList:s["default"],TabPane:r["default"]},props:{},data:function(){return{content:"",draftTotal:null,showFileListFlag:!1,showFileListLoading:!1,listType:"museum"}},watch:{},computed:{},methods:{handleClick:function(e,t){},showFileList:function(){var e=this;this.showFileListLoading=!0,this.showFileListFlag=!1,this.$nextTick((function(){e.showFileListFlag=!0,e.showFileListLoading=!1}))}},created:function(){},mounted:function(){}},l=o,c=(a("449e"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"8d2c2be2",null);t["default"]=u.exports},cbe2:function(e,t,a){},cc47:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container flex-column"},[a("div",{staticClass:"operate-btn-list flex justify-end"},[a("div",{staticClass:"search-item-label"},[e._v("包含词：")]),a("div",[a("el-input",{directives:[{name:"focus",rawName:"v-focus"}],staticStyle:{"margin-right":"5px"},attrs:{placeholder:"包含词",size:"mini",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.queryList(1)}},model:{value:e.searchParams.keyword,callback:function(t){e.$set(e.searchParams,"keyword",t)},expression:"searchParams.keyword"}})],1),a("el-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(t){return e.queryList(1)}}},[e._v(" 查询 ")]),e._l(e.btnList,(function(t){return a("div",{key:t.value},[a("el-button",{attrs:{size:"mini",type:t.type},on:{click:function(a){return e.btnClick(t)}}},[e._v(" "+e._s(t.label)+" ")])],1)}))],2),a("div",{staticClass:"table-box max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,"row-style":{cursor:"pointer"}},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1),e.modal.show?a("synonym-modal",{ref:"modal",attrs:{title:e.modal.title,modalType:e.modal.type},on:{ok:e.queryList,close:function(t){e.modal.show=!1}}}):e._e()],1)},n=[],s=a("5530"),r=a("1da1"),o=(a("a15b"),a("d81d"),a("96cf"),a("8df0")),l=a("3f19"),c=a("3b4b"),u=a("f7c4"),d=a("2e5f"),p={name:"SynonymList",mixins:[l["a"],o["a"]],components:{foxTable:u["a"],BtnList:d["default"],SynonymModal:c["default"]},props:{},data:function(){return{modal:{show:!1,title:"",type:"",loading:!1},modalTitleObject:{import:"导入",add:"新增",edit:"修改"},selfLoadTableFlag:!0,showPaginationFlag:!0,queryListType:"get",btnList:[{value:"add",label:"新增"},{value:"import",label:"学习词库"},{value:"batchDelete",label:"批量删除",alert:"请选择要删除的选项"}],searchParams:{keyword:""},url:{list:"/searchWords/pageList",delete:"/searchWords/delete",batchDelete:"/searchWords/deleteBatch"}}},watch:{},computed:{},methods:{queryList:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,n,r,o,l,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),t.table=Object(s["a"])(Object(s["a"])({},t.table),{},{loading:!0}),i=t.url.list,n={},t.searchParams&&(n=Object.assign({},t.searchParams)),t.showPaginationFlag&&(n=Object(s["a"])(Object(s["a"])({},n),{},{page:t.page.pageNum,limit:t.page.pageSize})),n.keytype="1","post",t.queryListType&&t.queryListType,a.next=11,t.$api.getAction(i,n);case 11:r=a.sent,o=r.count,l=r.data,c=l,l&&l.list?c=l.list:l&&l.data?c=l.data:l&&l.results&&(c=l.results),o&&(t.page=Object(s["a"])(Object(s["a"])({},t.page),{},{total:1*o})),t.$nextTick((function(){t.table=Object(s["a"])(Object(s["a"])({},t.table),{},{data:c})})),t.table=Object(s["a"])(Object(s["a"])({},t.table),{},{loading:!1});case 19:case"end":return a.stop()}}),a)})))()},btnClick:function(e){var t=this.table.selection.length,a="";if(0==t&&e.alert&&(a=e.alert),a)this.$sweetAlert.warnWithTimer(a);else{var i=this.table.selection.map((function(e){return e.id})).join(",");this.operate(i,e.value)}},operate:function(e,t){var a=this,i=e,n={id:i.id,keytype:"1"};switch("string"==typeof e&&(n={ids:e,keytype:"1"}),t){case"import":case"add":case"edit":this.modal.title=this.modalTitleObject[t],this.modal.type=t,this.modal.show=!0,this.$nextTick((function(){a.$refs.modal.init(i)}));break;case"delete":case"batchDelete":var s="您确定要删除吗？";this.operateBeforeConfirm(e,t,s,(function(){a.interfaceOperate(t,n)}));break;case"move":break;default:break}},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(s["a"])(Object(s["a"])({},this.table),{},{show:!1,column:[{type:"selection"},{label:"检索词",prop:"keyword"},{label:"操作",prop:"oper",width:120,fixed:"right",render:function(t,a){var i=a.row,n=[{content:"编辑",type:"text",icon:"edit",event:function(){e.operate(i,"edit")}},{content:"删除",color:e.deleteColor,type:"text",icon:"delete-solid",event:function(){e.operate(i,"delete")}}];return t(d["default"],{attrs:{btnInfo:n}})}}]}),this.$nextTick((function(){e.table=Object(s["a"])(Object(s["a"])({},e.table),{},{show:!0})}))},interfaceOperate:function(e,t,a){var i=this,n=this.url[e],s="post";if("download"==e){var r="",o=a;this.downloadByFileStream(n,t,r,o)}else this.interfaceRequest(n,t,s,(function(){i.queryList()}))}},created:function(){},mounted:function(){}},f=p,m=a("2877"),h=Object(m["a"])(f,i,n,!1,null,"cdf554ba",null);t["default"]=h.exports},cc6f:function(e,t,a){},cf4a:function(e,t,a){},d0ea:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container max-height flex-column none-padding"},[e.table.loading?e._e():a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"max-height"},[a("fox-table",{ref:"foxTable",attrs:{"highlight-current-row":"",rowKey:"ID",column:e.table.column,data:e.table.data,pagination:!1,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,hideTableIndent:!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection}})],1)])},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("159b"),a("7db0"),a("f7c4")),l=a("3f19"),c=a("2e5f"),u={name:"ArchiveInfo",mixins:[l["a"]],components:{foxTable:o["a"],BtnList:c["default"]},props:{fileParamsObject:{type:Object,default:null}},data:function(){return{loading:!1,url:{list:"/borrowCar/queryBorrowerInfo",queryDocInfoById:"/borrowCar/queryDocInfoById"}}},watch:{},computed:{listType:function(){var e="";return this.fileParamsObject&&(e=this.fileParamsObject.BORROW_TYPE_CODE),e}},methods:{setTableColumn:function(){var e=this;this.$createElement;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"原文",width:80,headerAlign:"center",render:function(t,a){var i=a.row,n=[],s=!1;if("electronic"==e.listType&&2==i.RETURNCODE&&(s=!0),i.FILE_COUNT>0&&!s){var r={type:"text",icon:"collection",tooltipContent:"原文",event:function(){e.viewSource(i,"source")}};n.push(r)}return t(c["default"],{attrs:{btnInfo:n}})}},{label:"档号",prop:"ARCH_RULE",render:function(e,t){var a=t.row,i=[{content:a.ARCH_RULE,type:"text",color:a.children?"#F56C6C":"#606266",event:function(){}}];return e(c["default"],{attrs:{btnInfo:i}})}},{label:"件号",prop:"DOC_NUM"},{label:"盒号",prop:"VOL_NUM"},{label:"题名",prop:"ARCH_TITLE"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o,l,c,u,d,p;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),i=t.url.list,n={},s=null,o=null,t.fileParamsObject&&(s=t.fileParamsObject.returnCode,o=t.fileParamsObject.status,l=t.fileParamsObject.businessId,n={applyId:l}),c="post",a.next=10,t.$api.httpAction(i,n,c);case 10:u=a.sent,d=u.count,p=u.data,p.forEach((function(e){e.children=[],e.RETURNCODE=s,e.STATUS=o,e.ID=e.BUSI_ID})),t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*d}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:p})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 17:case"end":return a.stop()}}),a)})))()},queryDocInfoById:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,r,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e.childNode){a.next=2;break}return a.abrupt("return");case 2:return t.loading=!0,i=t.fileParamsObject.applyId,n={vol_id:e.BUSI_ID,templateId:e.TEMPLATE_ID,applyId:i},s=t.url.queryDocInfoById,a.next=8,t.$api.getAction(s,n);case 8:r=a.sent,o=r.data,t.loading=!1,o&&0==o.length&&t.$sweetAlert.warnWithTimer("暂无卷内文件！"),o.forEach((function(t,a){t.TEMPLATE_ID=e.TEMPLATE_ID,t.CATE_CODE=e.CATE_CODE,t.ID=t.DOC_ID,t["selectDisabled"]=!0,t["childNode"]=!0,t.RETURNCODE=e.RETURNCODE})),l=t.table.data.find((function(t){return t.ID==e.ID})),l.children=o,t.$nextTick((function(){t.$refs.foxTable.toggleRowExpansion(e)}));case 16:case"end":return a.stop()}}),a)})))()},viewSource:function(e,t){var a={id:e.children?e.BUSI_ID:e.ID,othType:e.children?"1":"2",templateId:e.TEMPLATE_ID,cateCode:e.CATE_CODE};"electronic"==this.listType&&(a=Object(r["a"])(Object(r["a"])({},a),{},{queryPower:"electronic",queryId:this.fileParamsObject.applyId}));var i=this.$router.resolve({path:"/originalPage",query:a});window.open(i.href,"_blank")}},created:function(){this.setTableColumn(),this.queryList(1)},mounted:function(){}},d=u,p=(a("b064"),a("2877")),f=Object(p["a"])(d,i,n,!1,null,"0c7216c6",null);t["default"]=f.exports},d323:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,width:"900px",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"app-container none-shadow tab-pane-box"},[a("div",{staticClass:"tabs-box"},[a("el-tabs",{staticClass:"max-height flex-column",attrs:{type:"border-card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{staticClass:"auto-scroll",attrs:{label:"字段数据",name:"field",lazy:""}},e._l(e.list,(function(t,i){return a("div",{key:i},[a("div",{staticClass:"list flex"},[a("div",{staticClass:"label"},[e._v(" "+e._s(t.label)+" ")]),a("div",{staticClass:"option"},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:t.option,callback:function(a){e.$set(t,"option",a)},expression:"item.option"}},e._l(e.optionsList,(function(e){var t=e.value,i=e.label;e.text;return a("el-option",{key:t,attrs:{value:t,label:i}})})),1)],1),t.option?a("div",{staticClass:"content flex"},[a("div",{staticClass:"text"},[e._v(" "+e._s(e.getOptionByValue(t.option).text)+" ")]),a("div",{staticClass:"input"},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1),a("div",{staticClass:"tips"},[e._v("影响档号")]),a("div",{staticClass:"text"},[e.getOptionByValue(t.option).text1?a("span",[e._v(e._s(e.getOptionByValue(t.option).text1))]):e._e()]),a("div",{staticClass:"input"},[e.getOptionByValue(t.option).text1?a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:t.value1,callback:function(a){e.$set(t,"value1",a)},expression:"item.value1"}}):e._e()],1)]):a("div")])])})),0),a("el-tab-pane",{staticClass:"auto-scroll",attrs:{label:"原文属性",name:"attribute",lazy:""}},e._l(e.attributeObject,(function(t,i,n){return a("div",{key:n},[a("div",{staticClass:"list flex"},[a("div",{staticClass:"label"},[e._v(" "+e._s(t.name)+" ")]),a("div",{staticClass:"option"},["select"==t.type?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}},e._l(t.list,(function(e){var t=e.value,i=e.label;return a("el-option",{key:t,attrs:{value:t,label:i}})})),1):e._e(),"input"==t.type?a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}):e._e()],1)])])})),0)],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 提交 ")]),a("el-button",{attrs:{type:"default"},on:{click:e.cancelModal}},[e._v("取消")])],1)]):e._e()},n=[],s=(a("7db0"),a("2f62"),a("eccd")),r={components:{PdfDetail:s["default"]},props:{title:{type:String,default:"查看详情"},list:{type:Array,default:function(){return[]}}},data:function(){return{formBuildShow:!1,initData:{},formTemplate:{},model:{},activeName:"field",visible:!1,loading:!1,optionsList:[{label:"加入前缀",value:"prepend",text:"前缀"},{label:"加入后缀",value:"append",text:"后缀"},{label:"替换字段",value:"replace",text:"被替换值",text1:"替换值"},{label:"输入固定值",value:"fixed",text:"固定值"}],attributeObject:{group:{name:"分组",value:"",type:"select",list:[{value:"electronic",label:"电子文件"},{value:"scan",label:"扫描文件"}]},remark:{name:"备注",value:"",type:"input"},mark:{name:"文件标记",value:"",type:"input"}},url:{queryBackInfo:"dynamic/queryBackInfo",getBaseInfo:"templates/getTempView",getDefData:"dynamic/defaultData",getInfoData:"dynamic/info"}}},computed:{},created:function(){},methods:{handleClick:function(e,t){},init:function(){this.visible=!0},cancelModal:function(){this.visible=!1,this.$emit("close")},submit:function(){},getOptionByValue:function(e){var t=this.optionsList.find((function(t){return t.value==e}));return t}}},o=r,l=(a("5dac"),a("2877")),c=Object(l["a"])(o,i,n,!1,null,"5d5996fb",null);t["default"]=c.exports},d354:function(e,t,a){},d35e:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"流程图",visible:e.dialogProcessImageVisibleInChild,fullscreen:""},on:{"update:visible":function(t){e.dialogProcessImageVisibleInChild=t}}},[a("img",{attrs:{src:e.imagePath,alt:"流程图"}})])},n=[],s=a("5f87"),r={name:"ProcessImage",props:{visible:{type:Boolean,default:function(){return!1}},processDefinitionId:{type:String,default:function(){return""}},processInstanceId:{type:String,default:function(){return""}}},computed:{dialogProcessImageVisibleInChild:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},data:function(){return{imagePath:""}},created:function(){this.init()},methods:{init:function(){this.processInstanceId&&null!=this.processInstanceId&&""!==this.processInstanceId?this.imagePath="".concat("/prod-api")+"/flowable/processInstanceImage?processInstanceId="+this.processInstanceId+"&access_token="+Object(s["a"])()+"&time="+new Date:this.processDefinitionId&&null!=this.processDefinitionId&&""!==this.processDefinitionId&&(this.imagePath="".concat("/prod-api")+"/flowable/processDefinition/image?processDefinitionId="+this.processDefinitionId+"&access_token="+Object(s["a"])()+"&time="+new Date)}}},o=r,l=a("2877"),c=Object(l["a"])(o,i,n,!1,null,null,null);t["default"]=c.exports},d381:function(e,t,a){"use strict";a("ca0c")},d3a05:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"任务名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.taskName,callback:function(t){e.$set(e.listQuery,"taskName",t)},expression:"listQuery.taskName"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"业务主键Key"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processInstanceBusinessKey,callback:function(t){e.$set(e.listQuery,"processInstanceBusinessKey",t)},expression:"listQuery.processInstanceBusinessKey"}}),a("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd",placeholder:"到期日开始",type:"date"},model:{value:e.listQuery.taskDueAfter,callback:function(t){e.$set(e.listQuery,"taskDueAfter",t)},expression:"listQuery.taskDueAfter"}}),a("el-date-picker",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd",placeholder:"到期日结束",type:"date"},model:{value:e.listQuery.taskDueBefore,callback:function(t){e.$set(e.listQuery,"taskDueBefore",t)},expression:"listQuery.taskDueBefore"}}),a("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[a("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询 "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1),a("el-button-group",[a("el-button",{staticClass:"filter-item",attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(t){return e.btnRead()}}},[e._v("批量已阅")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}},on:{"selection-change":e.selectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center"}}),a("el-table-column",{attrs:{label:"流程实例名称",prop:"processInstanceName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.processInstanceName))])]}}])}),a("el-table-column",{attrs:{label:"任务名称",prop:"name",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}])}),a("el-table-column",{attrs:{label:"开始时间",prop:"createTime",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.createTime))])]}}])}),a("el-table-column",{attrs:{label:"到期日期",prop:"dueDate",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.dueDate))])]}}])}),a("el-table-column",{attrs:{label:"所有人",prop:"owner",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.owner))])]}}])}),a("el-table-column",{attrs:{label:"执行人",prop:"assignee",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.assignee))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[e._v("操作"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnView(i.processInstanceId)}}},[e._v("查看详情 ")]),null==i.assignee||""==i.assignee?a("el-dropdown-item",{attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnClaim(i)}}},[e._v("认领 ")]):e._e(),null==i.endTime&&null!=i.assignee&&""!=i.assignee?a("el-dropdown-item",{attrs:{icon:"el-icon-edit",divided:""},nativeOn:{click:function(t){return e.btnRead(i.id)}}},[e._v("已阅 ")]):e._e()],1)],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}}),e.dialogViewVisible?a("process-detail",{attrs:{visible:e.dialogViewVisible,processInstanceId:e.processInstanceId},on:{"update:visible":function(t){e.dialogViewVisible=t}}}):e._e()],1)},n=[],s=(a("d81d"),a("333d")),r=a("0fea"),o=(a("5c96"),a("3579")),l={name:"FlowableTaskToRead",components:{Pagination:s["default"],ProcessDetail:o["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,processInstanceId:void 0,taskName:void 0,processInstanceBusinessKey:void 0,taskDueAfter:void 0,taskDueBefore:void 0},formJson:void 0,processInstanceId:"",dialogViewVisible:!1}},created:function(){this.list()},methods:{list:function(){var e=this;Object(r["e"])("/flowable/task/listToRead",this.listQuery).then((function(t){var a=t.data;e.records=a.records,e.total=a.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,processInstanceId:void 0,taskName:void 0,processInstanceBusinessKey:void 0,taskDueAfter:void 0,taskDueBefore:void 0},this.list()},btnRead:function(e){var t=this,a=e?[e]:this.selectedRecords.map((function(e){return e.id}));0!=a.length?Object(r["h"])("/flowable/task/read",{taskIds:a}).then((function(e){var a=e.msg;t.$sweetAlert.successWithTimer(a),t.list()})):this.$sweetAlert.warnWithTimer("请选择要设置为已阅的记录")},btnView:function(e){this.processInstanceId=e,this.dialogViewVisible=!0},selectionChange:function(e){this.selectedRecords=e}}},c=l,u=a("2877"),d=Object(u["a"])(c,i,n,!1,null,null,null);t["default"]=d.exports},d48c:function(e,t,a){},d4a2:function(e,t,a){"use strict";a("1aa4")},d4fe:function(e,t,a){"use strict";a("0206")},d6e5:function(e,t,a){"use strict";a("eae7")},d71e:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container max-height flex-column"},[a("div",{staticClass:"block",staticStyle:{"margin-bottom":"10px"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"]},model:{value:e.DataTime,callback:function(t){e.DataTime=t},expression:"DataTime"}}),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.queryList(1)}}},[e._v("查询")])],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1)])},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("f7c4")),l=a("3f19"),c=a("2e5f"),u={name:"OcrLog ",mixins:[l["a"]],components:{foxTable:o["a"],BtnList:c["default"]},props:{},data:function(){return{url:{list:"/orcLog/list"},DataTime:""}},watch:{},computed:{},methods:{init:function(e){this.queryList(1)},setTableColumn:function(){var e=this;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"序号",type:"index"},{label:"档号",prop:"archRule"},{label:"件号",prop:"num"},{label:"原文路径",prop:"path"},{label:"错误描述",prop:"msg"},{label:"操作时间",prop:"operTime"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize,start:t.DataTime[0],end:t.DataTime[1]},t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),n=t.url.list,a.next=6,t.$api.getAction(n,i);case 6:s=a.sent,o=s.count,l=s.data,t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*o}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:l})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 12:case"end":return a.stop()}}),a)})))()}},created:function(){this.setTableColumn(),this.queryList(1)},mounted:function(){}},d=u,p=(a("39bb"),a("2877")),f=Object(p["a"])(d,i,n,!1,null,"50cb445f",null);t["default"]=f.exports},d86e:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container max-height tab-pane-box flex-column scroll"},[a("div",{staticClass:"page-title"},[e._v("全文检索")]),a("div",{staticClass:"content"},[e.side.show?a("record-side",{ref:"side",attrs:{title:e.side.title},on:{ok:e.change,close:function(t){e.side.show=!1}}}):e._e(),a("div",{staticClass:"box"},[!0===e.showForm?a("div",{staticClass:"top-box"},[a("div",[a("tbody",[a("tr",{staticStyle:{"text-align":"-moz-right"}},[a("td",{staticStyle:{width:"120px"}}),a("ul",[a("td",[a("el-autocomplete",{staticClass:"inline-input",staticStyle:{"margin-right":"-3px",width:"500px"},attrs:{size:"medium","fetch-suggestions":e.querySearch,placeholder:"请输入内容","trigger-on-focus":!1},on:{select:e.handleSelect},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.query()}},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1)]),a("td",[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.query}},[e._v(" 检索 ")])],1)])])]),a("div",[a("tbody",{staticClass:"q-condition"},[a("tr",[a("td",{staticStyle:{background:"#F3F3F3"}},[e._v("档案库选择")]),a("td",[a("el-checkbox",{on:{change:function(t){return e.sideChange()}},model:{value:e.check1,callback:function(t){e.check1=t},expression:"check1"}},[e._v("档案管理库")])],1)])])]),a("div",[e.tData.show?a("table-data",{ref:"tData",attrs:{title:e.tData.title,params:e.params,rootList:e.rootList,checkStatus:e.check1},on:{ok:e.change1,close:function(t){e.tData.show=!1},getResult:e.getResult}}):e._e()],1)]):e._e(),!1===e.showForm?a("div",{staticClass:"common-box"},[a("div",{staticClass:"out-search"},[a("el-autocomplete",{staticClass:"inline-input",staticStyle:{"margin-right":"-3px",width:"500px"},attrs:{size:"medium","fetch-suggestions":e.querySearch,placeholder:"请输入内容","trigger-on-focus":!1},on:{select:e.handleSelect},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.query()}},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.query}},[e._v(" 检索 ")])],1),a("div",{staticClass:"d-option"},[a("el-checkbox",{on:{change:e.sideChange},model:{value:e.check1,callback:function(t){e.check1=t},expression:"check1"}},[e._v("档案管理库")])],1)]):e._e()])],1)])},n=[],s=a("fe5f"),r=a("ecf3"),o={name:"",components:{RecordSide:s["default"],TableData:r["default"]},props:{},data:function(){return{side:{show:!1,title:"档案管理库",loading:!1},tData:{show:!1,title:"档案管理",loading:!1},title:"",input:"",num:1,params:{},count:0,data:{},field0:0,field1:0,field2:0,field3:0,decide0:0,decide1:0,decide2:0,input1:"",input2:"",input3:"",radio1:1,radio2:2,startTime:"",endTime:"",showRadio:!1,check1:!1,check2:!1,rootList:[],pageSize:0,pageNum:0,showForm:!1,drawer:!1,direction:"rtl",result:[],url:"/search/searchByItems"}},watch:{},computed:{},methods:{query:function(){var e=this;this.params={searchKeyword:this.input+this.input1+this.input2+this.input3},this.showForm=!0,this.tData.show=!0,this.check1&&this.$refs.side.getRootDate(),this.$nextTick((function(){e.$refs.tData.queryList()}))},querySearch:function(e,t){var a=this;this.params={searchKeyword:this.input+this.input1+this.input2+this.input3},this.showForm=!0,this.tData.show=!0,this.$nextTick((function(){a.$refs.tData.getResult(),t(a.result)}))},getResult:function(e){this.result=e.list},handleSelect:function(e){},change:function(e){this.rootList=e.rootList},change1:function(e){},fRadioChange:function(){this.check2?this.showRadio=!0:this.showRadio=!1},sideChange:function(){var e=this;1==this.check1?(this.side.show=!0,this.$nextTick((function(){e.$refs.side.init()}))):(this.rootList=[],this.side.show=!1)},recordClear:function(){},handleClose:function(){this.drawer=!1}},created:function(){},mounted:function(){}},l=o,c=(a("8c21"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"5c3abf73",null);t["default"]=u.exports},da52:function(e,t,a){},db89:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"退回任务",visible:e.dialogTaskBackNodesInChild,appendToBody:!0,fullscreen:""},on:{"update:visible":function(t){e.dialogTaskBackNodesInChild=t}}},[a("el-radio-group",{on:{change:e.selectBackNode},model:{value:e.backNode,callback:function(t){e.backNode=t},expression:"backNode"}},e._l(e.backNodes,(function(t){return a("el-radio",{attrs:{border:"",label:t}},[e._v(" 【"+e._s(t.nodeId)+"-"+e._s(t.nodeName)+"】"+e._s(t.userName)+" ")])})),1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogTaskBackNodesInChild=!1}}},[e._v("取消")]),a("el-button",{attrs:{icon:"el-icon-check",type:"primary"},on:{click:e.doConfirm}},[e._v("确定")])],1)],1)},n=[],s=a("0fea"),r={name:"TaskBackNodes",props:{visible:{type:Boolean,default:function(){return!1}},executeTaskId:{type:String,default:function(){return""}}},computed:{dialogTaskBackNodesInChild:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},data:function(){return{backNode:"",backNodes:[]}},created:function(){this.initData()},methods:{initData:function(){var e=this;Object(s["e"])("/flowable/task/backNodes",{taskId:this.executeTaskId}).then((function(t){var a=t.data;e.backNodes=a,e.backNode=e.backNodes[0]}))},selectBackNode:function(e){this.backNode=e},doConfirm:function(){this.dialogTaskBackNodesInChild=!1,this.$emit("backTaskFinished",this.backNode)}}},o=r,l=a("2877"),c=Object(l["a"])(o,i,n,!1,null,null,null);t["default"]=c.exports},dbb3:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"30px"}},[a("el-alert",{attrs:{closable:!1,title:"menu 2"}})],1)},n=[],s=a("2877"),r={},o=Object(s["a"])(r,i,n,!1,null,null,null);t["default"]=o.exports},e1af:function(e,t,a){},e210:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"backlog-box"},[a("div",{staticClass:"top"},[e._m(0),a("div",{staticClass:"list"},e._l(e.toDoList,(function(t,i){return a("div",{key:i,staticClass:"list-item",on:{click:function(a){return e.itemClick(t)}}},[a("div",{staticClass:"name"},[e._v(" "+e._s(t.name)+" ")]),a("div",{staticClass:"number",class:{"color-number":t.number}},[e._v(" "+e._s(t.number)+" ")])])})),0)]),a("div",{staticClass:"bot"},[a("div",{staticClass:"bot-item"},[e._m(1),a("div",{directives:[{name:"has",rawName:"v-has",value:"sys:archverify:ongoing",expression:"'sys:archverify:ongoing'"}],staticClass:"box",on:{click:e.showExamineTasks}},[a("div",{staticClass:"name"},[e._v("待审批")]),a("div",{staticClass:"number",class:{"color-number":e.approveNumber}},[e._v(" "+e._s(e.approveNumber)+" ")])])])])])},n=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title"},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:a("0cf1"),alt:""}}),i("div",{staticClass:"text"},[e._v("借阅待办")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"title"},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:a("e38c"),alt:""}}),i("div",{staticClass:"text"},[e._v("归档待办")])])])}],s=a("1da1"),r=(a("96cf"),a("159b"),a("b64b"),a("7db0"),{name:"BacklogBox",components:{},props:{},data:function(){return{toDoList:[{type:"pending",name:"待领取",status:1,number:null,code:"TOTAKEN"},{type:"toReturned",name:"待归还",status:2,number:null,code:"RETURNCODE"},{type:"expired",name:"已超期",status:4,number:null,code:"OVERDUECOUNT"}],approveNumber:null,notSend:0}},watch:{},computed:{themeImg:function(){return this.$store.state.settings.themeImg}},methods:{itemClick:function(e){var t=e.type,a=null;switch(t){case"reborrow":break;case"pending":a="1";break;case"toReturned":a="2";break;case"expired":a="4";break;default:break}a&&this.$router.push({path:"/mySpace/borrow/BorrowRecords",query:{activeName:"physical",auditStatus:a,t:(new Date).getTime()}})},showExamineTasks:function(){this.$router.push({path:"/archives/review/SubReviewMain",query:{t:(new Date).getTime(),activeName:"during"}})},getApproveNumber:function(){var e=this,t="/transferForm/pageList",a={type:"all",status:2,page:1,limit:1};this.$api.getAction(t,a).then((function(t){200==t.code?e.approveNumber=t.count:e.approveNumber=0}))},getBorrowerRecodeList:function(){var e=this;this.toDoList.forEach((function(t,a){e.getBorrowerRecode(t,a)}))},getBorrowerRecode:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var n,s,r,o,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n="/borrowCar/borrowerRecodeByUserId",s={page:1,limit:10,borrowType:0,status:e.status,t:(new Date).getTime()},r="post",i.prev=3,i.next=6,a.$api.httpAction(n,s,r);case 6:o=i.sent,l=o.data.count,a.toDoList[t].number=l,i.next=14;break;case 11:i.prev=11,i.t0=i["catch"](3),a.toDoList[t].number=0;case 14:case"end":return i.stop()}}),i,null,[[3,11]])})))()},queryarchCount:function(){var e=this,t="/borrowCar/queryarchCount",a={};this.$api.getAction(t,a).then((function(t){if(200==t.code){var a=t.data;Object.keys(a).forEach((function(t){var i=e.toDoList.find((function(e){return e.code==t}));i&&(i.number=a[t])}))}}))},searchWd:function(){}},created:function(){this.getApproveNumber(),this.queryarchCount()},mounted:function(){}}),o=r,l=(a("6dab"),a("2877")),c=Object(l["a"])(o,i,n,!1,null,"0f31dde6",null);t["default"]=c.exports},e630:function(e,t,a){"use strict";a("9e85")},e671:function(e,t,a){"use strict";a("8f1e")},e6a1:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,width:"30%",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"auto-scroll"},[a("div",{staticClass:"info"},[e._v(" "+e._s(e.info)+" ")]),a("div",{staticClass:"remark"},[a("el-input",{attrs:{type:"textarea",rows:10,placeholder:""},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{type:"primary"},on:{click:e.submit}},[e._v(" 保存 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("取消")])],1)]):e._e()},n=[],s={name:"FullText",components:{},props:{title:{type:String,default:"查看详情"},info:{type:String,default:""},operate:{type:Boolean,default:!1}},data:function(){return{visible:!1,loading:!1,model:null,remark:""}},computed:{},created:function(){},methods:{init:function(e){this.visible=!0},submit:function(){},cancelModal:function(){this.visible=!1,this.$emit("close")}}},r=s,o=(a("3173"),a("2877")),l=Object(o["a"])(r,i,n,!1,null,"b5e3991e",null);t["default"]=l.exports},e6e9:function(e,t,a){"use strict";a("67c6")},e841:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-checkbox",{model:{value:e.listQuery.unfinished,callback:function(t){e.$set(e.listQuery,"unfinished",t)},expression:"listQuery.unfinished"}},[e._v("未办结")]),a("el-checkbox",{model:{value:e.listQuery.finished,callback:function(t){e.$set(e.listQuery,"finished",t)},expression:"listQuery.finished"}},[e._v("已办结")])],1),a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程定义ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processDefinitionId,callback:function(t){e.$set(e.listQuery,"processDefinitionId",t)},expression:"listQuery.processDefinitionId"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程实例ID"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processInstanceId,callback:function(t){e.$set(e.listQuery,"processInstanceId",t)},expression:"listQuery.processInstanceId"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程定义名称"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processDefinitionName,callback:function(t){e.$set(e.listQuery,"processDefinitionName",t)},expression:"listQuery.processDefinitionName"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"流程定义KEY"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.processDefinitionKey,callback:function(t){e.$set(e.listQuery,"processDefinitionKey",t)},expression:"listQuery.processDefinitionKey"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"业务主键KEY"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.businessKey,callback:function(t){e.$set(e.listQuery,"businessKey",t)},expression:"listQuery.businessKey"}}),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"启动人"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.btnQuery(t)}},model:{value:e.listQuery.startedBy,callback:function(t){e.$set(e.listQuery,"startedBy",t)},expression:"listQuery.startedBy"}}),a("el-dropdown",{staticClass:"filter-item",attrs:{"split-button":"",type:"primary"},on:{click:e.btnQuery}},[a("i",{staticClass:"el-icon-search el-icon--left"}),e._v("查询 "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-zoom-out"},nativeOn:{click:function(t){return e.btnReset(t)}}},[e._v("重置")])],1)],1)],1),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.records,border:"",fit:"","highlight-current-row":"","cell-style":{padding:"3px"}}},[a("el-table-column",{attrs:{label:"流程实例ID",prop:"id",align:"center",width:"290px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.id))])]}}])}),a("el-table-column",{attrs:{label:"流程定义名称",prop:"processDefinitionName",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.processDefinitionName))])]}}])}),a("el-table-column",{attrs:{label:"流程定义KEY",prop:"processDefinitionKey",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.processDefinitionKey))])]}}])}),a("el-table-column",{attrs:{label:"版本",prop:"processDefinitionVersion",align:"center",width:"60px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.processDefinitionVersion))])]}}])}),a("el-table-column",{attrs:{label:"开始时间",prop:"startTime",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.startTime))])]}}])}),a("el-table-column",{attrs:{label:"结束时间",prop:"endTime",align:"center",width:"165px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.endTime))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-dropdown",[a("span",{staticClass:"el-dropdown-link"},[e._v("操作"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-view"},nativeOn:{click:function(t){return e.btnViewProcessInstance(i)}}},[e._v("查看 ")]),a("el-dropdown-item",{attrs:{icon:"el-icon-view",divided:""},nativeOn:{click:function(t){return e.btnView(i.id)}}},[e._v("查看详情 ")]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:task:list",expression:"'flowable:task:list'"}],attrs:{icon:"el-icon-view",divided:""},nativeOn:{click:function(t){return e.btnViewTaskList(i)}}},[e._v("任务列表 ")]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processInstance:delete",expression:"'flowable:processInstance:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(i.id)}}},[e._v("删除 ")]),a("el-dropdown-item",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processInstance:delete",expression:"'flowable:processInstance:delete'"}],attrs:{icon:"el-icon-delete",divided:""},nativeOn:{click:function(t){return e.btnDelete(i.id,!0)}}},[e._v(" 删除包含历史 ")])],1)],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,current:e.listQuery.current,size:e.listQuery.size},on:{"update:current":function(t){return e.$set(e.listQuery,"current",t)},"update:size":function(t){return e.$set(e.listQuery,"size",t)},pagination:e.list}}),a("el-dialog",{attrs:{title:"流程实例",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"dataForm",attrs:{model:e.temp,disabled:"","label-position":"right","label-width":"110px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"流程实例ID",prop:"id"}},[a("el-input",{model:{value:e.temp.id,callback:function(t){e.$set(e.temp,"id",t)},expression:"temp.id"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"业务主键Key",prop:"businessKey"}},[a("el-input",{model:{value:e.temp.businessKey,callback:function(t){e.$set(e.temp,"businessKey",t)},expression:"temp.businessKey"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"流程定义ID",prop:"processDefinitionId"}},[a("el-input",{model:{value:e.temp.processDefinitionId,callback:function(t){e.$set(e.temp,"processDefinitionId",t)},expression:"temp.processDefinitionId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"流程定义名称",prop:"processDefinitionName"}},[a("el-input",{model:{value:e.temp.processDefinitionName,callback:function(t){e.$set(e.temp,"processDefinitionName",t)},expression:"temp.processDefinitionName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"流程定义KEY",prop:"processDefinitionKey"}},[a("el-input",{model:{value:e.temp.processDefinitionKey,callback:function(t){e.$set(e.temp,"processDefinitionKey",t)},expression:"temp.processDefinitionKey"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"流程定义版本",prop:"processDefinitionVersion"}},[a("el-input",{model:{value:e.temp.processDefinitionVersion,callback:function(t){e.$set(e.temp,"processDefinitionVersion",t)},expression:"temp.processDefinitionVersion"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"开始时间",prop:"startTime"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.temp.startTime,callback:function(t){e.$set(e.temp,"startTime",t)},expression:"temp.startTime"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"结束时间",prop:"endTime"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:e.temp.endTime,callback:function(t){e.$set(e.temp,"endTime",t)},expression:"temp.endTime"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"启动人ID",prop:"startUserId"}},[a("el-input",{model:{value:e.temp.startUserId,callback:function(t){e.$set(e.temp,"startUserId",t)},expression:"temp.startUserId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"启动人姓名",prop:"startUserName"}},[a("el-input",{model:{value:e.temp.startUserName,callback:function(t){e.$set(e.temp,"startUserName",t)},expression:"temp.startUserName"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"启动节点ID",prop:"startActivityId"}},[a("el-input",{model:{value:e.temp.startActivityId,callback:function(t){e.$set(e.temp,"startActivityId",t)},expression:"temp.startActivityId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"耗时(毫秒)",prop:"durationInMillis"}},[a("el-input",{model:{value:e.temp.durationInMillis,callback:function(t){e.$set(e.temp,"durationInMillis",t)},expression:"temp.durationInMillis"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"子流程ID",prop:"superProcessInstanceId"}},[a("el-input",{model:{value:e.temp.superProcessInstanceId,callback:function(t){e.$set(e.temp,"superProcessInstanceId",t)},expression:"temp.superProcessInstanceId"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态",prop:"suspended"}},[null==e.temp.endTime?a("el-input",{model:{value:e.temp.suspended?"挂起":"激活",callback:function(t){e.$set(e.temp,"suspended?'挂起':'激活'",t)},expression:"temp.suspended?'挂起':'激活'"}}):a("el-input",{attrs:{value:"结束"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"删除原因",prop:"deleteReason"}},[a("el-input",{model:{value:e.temp.deleteReason,callback:function(t){e.$set(e.temp,"deleteReason",t)},expression:"temp.deleteReason"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[null==e.temp.endTime?a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:"flowable:processInstance:suspendOrActivate",expression:"'flowable:processInstance:suspendOrActivate'"}],attrs:{icon:"el-icon-check"},on:{click:function(t){return e.btnSuspendOrActivate(e.temp.id,e.temp.suspended)}}},[e._v(e._s(e.temp.suspended?"激活":"挂起")+" ")]):e._e(),a("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1),e.dialogViewVisible?a("process-detail",{attrs:{visible:e.dialogViewVisible,processInstanceId:e.processInstanceId},on:{"update:visible":function(t){e.dialogViewVisible=t}}}):e._e()],1)},n=[],s=a("333d"),r=a("0fea"),o=(a("5c96"),a("5f87"),a("3579")),l={name:"FlowableProcessInstance",components:{ProcessDetail:o["default"],Pagination:s["default"]},data:function(){return{dicts:[],records:null,selectedRecords:[],total:0,listQuery:{current:1,size:10,processInstanceId:void 0,processDefinitionId:void 0,processDefinitionName:void 0,processDefinitionKey:void 0,businessKey:void 0,startedBy:void 0,unfinished:!1,finished:!1},dialogFormVisible:!1,dialogImportVisible:!1,importTenantId:"",dialogProcessImageVisible:!1,processInstanceId:"",imagePath:"",temp:{id:void 0,businessKey:"",processDefinitionId:"",processDefinitionName:"",processDefinitionKey:"",processDefinitionVersion:"",startTime:void 0,endTime:void 0,durationInMillis:void 0,startUserId:"",startUserName:"",startActivityId:"",superProcessInstanceId:"",suspended:void 0,deleteReason:""},dialogViewVisible:!1}},created:function(){this.$route.query&&this.$route.query.processDefinitionId&&(this.listQuery.processDefinitionId=this.$route.query.processDefinitionId),this.list()},methods:{list:function(){var e=this;Object(r["e"])("/flowable/processInstance/list",this.listQuery).then((function(t){var a=t.data;e.records=a.records,e.total=a.total}))},btnQuery:function(){this.listQuery.current=1,this.list()},btnReset:function(){this.listQuery={current:1,size:10,processInstanceId:void 0,processDefinitionId:void 0,processDefinitionName:void 0,processDefinitionKey:void 0,businessKey:void 0,startedBy:void 0,unfinished:!1,finished:!1},this.list()},btnViewProcessInstance:function(e){var t=this;Object(r["e"])("/flowable/processInstance/queryById",{processInstanceId:e.id}).then((function(e){var a=e.data;t.temp=Object.assign({},a),t.dialogFormVisible=!0}))},btnView:function(e){this.processInstanceId=e,this.dialogViewVisible=!0},btnViewTaskList:function(e){this.$router.push({path:"/flowable/task",query:{processInstanceId:e.id}})},btnDelete:function(e,t){var a=this;e?Object(r["b"])("/flowable/processInstance/delete",{processInstanceId:e,cascade:t}).then((function(e){var t=e.msg;a.$sweetAlert.successWithTimer(t),a.list()})):this.$sweetAlert.warnWithTimer("请选择要删除的记录")},btnSuspendOrActivate:function(e,t){var a=this,i=t?"activate":"suspend";Object(r["h"])("/flowable/processInstance/"+i,{processInstanceId:e}).then((function(e){var i=e.msg;a.$sweetAlert.successWithTimer(i),a.temp.suspended=!t}))}}},c=l,u=a("2877"),d=Object(u["a"])(c,i,n,!1,null,null,null);t["default"]=d.exports},e8ecd:function(e,t,a){"use strict";a("cf4a")},e9bc:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"30px"}},[a("el-alert",{attrs:{closable:!1,title:"menu 1"}},[a("router-view")],1)],1)},n=[],s=a("2877"),r={},o=Object(s["a"])(r,i,n,!1,null,null,null);t["default"]=o.exports},eae7:function(e,t,a){},eb13:function(e,t,a){"use strict";a("3840")},eb5d:function(e,t,a){},ecf3:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"max-height tab-pane-box flex-column",staticStyle:{border:"1px solid #D1D1D1",padding:"20px",height:"740px"}},[a("div",{staticClass:"flex flex-column"},[a("div",{staticStyle:{"text-align":"right"}},[a("span",{staticStyle:{"font-size":"12px"}},[e._v("共查到数据"+e._s(e.totalNum)+"条")]),a("el-menu",{staticClass:"el-menu",attrs:{"default-active":e.activeIndex,mode:"horizontal"},on:{select:e.handleSelect}},[a("el-menu-item",{attrs:{index:"1"},on:{click:e.viewList}},[e._v("分类视图")]),a("el-menu-item",{attrs:{index:"2"},on:{click:e.viewList}},[e._v("年度视图")]),a("el-menu-item",{attrs:{index:"3"},on:{click:e.viewList}},[e._v("综合视图")])],1)],1),1==e.menuIndex?a("div",[a("div",{staticStyle:{margin:"15px",width:"800px"}},[e._l(e.roots,(function(t,i){return a("span",{key:i,staticStyle:{margin:"15px",display:"block",float:"left"}},[a("a",{on:{click:function(a){return e.getCateCode(t.code)}}},[e._v(e._s(t.name)+"("+e._s(t.num)+")")])])})),a("div",{staticStyle:{clear:"both"}})],2),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.borrows}},[e._v("加入借阅车")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogVisible=!0}}},[e._v("导出")])],1)]):e._e(),2==e.menuIndex?a("div",{staticStyle:{margin:"15px",width:"800px"}},[e._l(e.years,(function(t,i){return a("span",{key:i,staticStyle:{margin:"15px",display:"block",float:"left"}},[a("a",{on:{click:function(a){return e.getArchYear(t.key)}}},[e._v(e._s(t.key)+"("+e._s(t.docCount)+")")])])})),a("div",{staticStyle:{clear:"both"}}),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogVisible=!0}}},[e._v("导出")])],1)],2):e._e(),a("div",{staticClass:"table-box max-height"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%",height:"530px"},attrs:{data:e.table.data,"max-height":"530px"},on:{"size-change":e.sizeChange,"p-current-change":e.currentChange,select:e.selectChange,"select-all":e.selectAllChange,"selection-change":e.selectionChangeHandler,"cell-click":e.cellClick}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{type:"index",label:"序号"}}),a("el-table-column",{attrs:{type:"index",label:"原文",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.ifHasfile?a("a",{staticClass:"el-icon-collection",on:{click:function(a){return e.operate(t.row,"info")}}}):e._e()]}}])}),a("el-table-column",{attrs:{prop:"archRule",label:"档号",width:"180",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"archTitle",label:"题名",width:"180",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{innerHTML:e._s(e.showDate(t.row))}})]}}])}),a("el-table-column",{attrs:{prop:"createUser",label:"责任者",width:"180",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.operate(t.row,"details")}}},[e._v("详情")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.operate(t.row,"borrow")}}},[e._v("加入借阅车")])]}}])})],1),a("el-pagination",{staticStyle:{"margin-top":"10px","text-align":"end"},attrs:{"current-page":e.page.pageNum,column:e.table.column,"page-sizes":[5,10,20,30],"page-size":e.page.pageSize,"page-bot":!0,background:"",pagination:"",layout:"total, sizes, prev, pager, next, jumper",total:e.page.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1)]),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"文件数据",visible:e.formVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.formVisible=t}}},[e.formBuildShow?a("FormBuild",{ref:"formBuild",attrs:{disabled:!0,"form-template":e.formTemplate,models:e.model}}):e._e()],1),a("el-dialog",{attrs:{title:"导出",visible:e.dialogVisible,width:"20%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[e._v("仅导出查询出来的数据")]),a("div",{staticStyle:{margin:"15px 0"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.vol}},[e._v("卷内")]),a("el-button",{attrs:{type:"primary"},on:{click:e.doc}},[e._v("案卷")])],1)])],1)},n=[],s=a("5530"),r=(a("159b"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("a15b"),a("25f0"),a("2b3d"),a("b0c0"),a("4de4"),a("7db0"),a("4ec9"),a("f7c4")),o=a("3f19"),l=a("cf45"),c=a("6440"),u={name:"TableData",mixins:[o["a"]],components:{foxTable:r["a"],FormBuild:c["default"]},props:{title:{type:String,default:""},params:{type:Object},rootList:{type:Array},checkStatus:{type:Boolean,default:!1}},data:function(){return{detail:{show:!1,title:"文件数据",loading:!1},formVisible:!1,formBuildShow:!1,formTemplate:{},model:{},activeIndex:"1",menuIndex:1,dialogVisible:!1,checkAll:!1,fields:["档号","案卷号/件号","题名","责任人"],checkedFields:[],tableDate:[],aggsData:[],totalNum:0,aggType:{},navItems:{},roots:[],prefixItems:{},years:[],url:{searchByItems:"/search/searchByItems",addBorrowCar:"/borrowCar/addBorrowCar",exportExcel:"/arch/exportExcel2",getFileInfo:"/dynamic/getFileList",getInfoData:"dynamic/info",getBaseInfo:"templates/getTempView"},selectionChangeHandle:[]}},watch:{},computed:{},methods:{handleSelect:function(e,t){this.menuIndex=e},selection:function(e){this.selectionChangeHandle=e},cellClick:function(e,t,a,i){},viewSourceByPdfUrl:function(e,t,a,i){var n=this.params.searchKeyword,s={id:e,othType:t,templateId:a,cateCode:i,keyword:n},r=this.$router.resolve({path:"/originalPage",query:s});window.open(r.href,"_blank")},vol:function(){var e=[],t=[];if(this.table.data.forEach((function(a){"undefined"==typeof a.volId&&(e.push(a.id),t.push(a.templateId))})),!e.length>0||!t.length<0)this.$sweetAlert.warnWithTimer("没有卷内数据！");else{var a=[];new Set(t).forEach((function(e){a.push(e)})),t=a;var i={ids:e.length>1?e.join(","):e.toString(),templateIds:t.length>1?t.join(","):t.toString(),othType:2};this.dowOrgFile(i)}},doc:function(){var e=[],t=[];if(this.table.data.forEach((function(a){"undefined"!=typeof a.volId&&(e.push(a.volId),t.push(a.templateId))})),!e.length>0||!t.length<0)this.$sweetAlert.warnWithTimer("没有案卷数据！");else{var a=[];new Set(t).forEach((function(e){a.push(e)})),t=a;var i={ids:e.length>1?e.join(","):e.toString(),templateIds:t.length>1?t.join(","):t.toString(),othType:1};this.dowOrgFile(i)}},dowOrgFile:function(e){var t=this,a=Object(l["h"])(new Date,"{y}-{m}-{d}");this.$api.downFile(this.url.exportExcel,e).then((function(e){if(e)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([e]),a+".xlsx");else{var i=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.style.display="none",n.href=i,n.setAttribute("download",a+".xlsx"),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}else t.$sweetAlert.errorWithTimer("文件下载失败！")}))},exportExcel:function(){this.dialogVisible=!1},borrow:function(e){var t,a=this;t="undefined"==typeof e.volId?{doc_id:"",ope_type:1,vol_id:e.id,templateId:e.templateId}:{doc_id:e.id,ope_type:2,vol_id:e.volId,templateId:e.templateId},this.$api.httpAction(this.url.addBorrowCar,t,"post").then((function(e){"200"==e.code&&a.$sweetAlert.successWithTimer(e.msg)}))},borrows:function(){var e=this;if(!this.table.selection.length>0)this.$sweetAlert.warnWithTimer("请您先勾选数据，再进行操作！");else{var t,a=[];this.table.selection.forEach((function(i){t="undefined"==typeof i.volId?{doc_id:"",ope_type:1,vol_id:i.id,templateId:i.templateId}:{doc_id:i.id,ope_type:2,vol_id:i.volId,templateId:i.templateId};var n=e.$api.httpAction(e.url.addBorrowCar,t,"post"),s=n.code;n.msg;"500"==s&&a.push(i.archTitle)})),a.length>1?(a=a.join(","),this.$sweetAlert.errorWithTimer("["+a+"] 加入借阅车异常！")):this.$sweetAlert.successWithTimer("操作成功！")}},viewList:function(){if(1==this.menuIndex){if(this.aggsData[4]<1)this.table.data=[],this.searchInItems={},this.navItems={},this.totalNum=0;else if(this.checkStatus){var e=[];this.rootList.forEach((function(t){e.push(t.cateCode)})),this.prefixItems={cateCode:e.join(",")}}}else 2==this.menuIndex?"undefined"==typeof this.aggsData[0]?(this.table.data=[],this.searchInItems={},this.navItems={},this.totalNum=0):this.aggType={archYear:""}:(this.aggType={},this.navItems={},this.prefixItems={});this.queryList()},queryList:function(e){var t=this,a=[];1==this.menuIndex&&(this.rootList.forEach((function(e){a.push(e.cateCode)})),this.prefixItems={cateCode:a.join(",")}),this.roots=[],this.aggsData=[],this.totalNum=0;var i={page:this.page.pageNum,limit:this.page.pageSize,searchKeyword:this.params.searchKeyword,searchInItems:this.aggType,navItems:this.navItems,prefixItems:this.prefixItems};this.$api.httpAction(this.url.searchByItems,i,"post").then((function(a){if(t.aggsData=a.aggs,a.code="200"){t.years.length<1&&(t.years=a.aggs[0].archYear);var i=[];if(1==t.menuIndex&&a.aggs[4].cateCode.length>0){a.aggs[4].cateCode.forEach((function(e){t.totalNum+=e.docCount-0,i.push(e.key)}));var n=a.aggs[4].cateCode,r={name:"其他",num:0,code:""};if(t.checkStatus){t.rootList.forEach((function(e){var i={name:e.name,num:0,code:e.cateCode};a.aggs[4].cateCode.forEach((function(t){e.cateCode===t.key&&(i.num=t.docCount,n=n.filter((function(e){return e.key!==t.key})))})),t.roots.push(i)}));var o=0;new Set(n).forEach((function(e){r.num+=parseInt(e.docCount,10),r.code=0==o?e.key:r.code+","+e.key,o++})),t.roots.push(r)}t.navItems={cateCode:a.aggs[4].cateCode[0].unique}}else 2==t.menuIndex&&a.aggs[0].archYear.length>0?(a.aggs[0].archYear.forEach((function(e){t.totalNum+=e.docCount-0})),t.navItems={archYear:a.aggs[0].archYear[0].unique}):3==t.menuIndex&&(t.totalNum=a.count);if(t.$nextTick((function(){t.table=Object(s["a"])(Object(s["a"])({},t.table),{},{data:a.data})})),t.page=Object(s["a"])(Object(s["a"])({},t.page),{},{total:1*a.count}),t.table=Object(s["a"])(Object(s["a"])({},t.table),{},{loading:!1}),t.aggType={},t.prefixItems={},t.navItems={},"result"==e){var l=[];a.data.forEach((function(e){l.find((function(t){return t==e})),l.push({value:e.archTitle})})),t.$emit("getResult",{list:t.unique(l)})}}}))},showDate:function(e){return e.highlight.archTitle?e.highlight.archTitle:e.archTitle},getResult:function(){this.queryList("result")},unique:function(e){var t=new Map;return e.filter((function(e){return!t.has(e.value)&&t.set(e.value,1)}))},getArchYear:function(e){this.aggType={archYear:e},this.queryList()},getCateCode:function(e){this.aggType={cateCode:e},this.prefixItems={cateCode:e},this.queryList()},handleClose:function(e){e()},handleCheckAllChange:function(e){this.checkedFields=e?this.fields:[]},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.fields.length},change:function(){},operate:function(e,t){var a=this,i="undefined"==typeof e.volId?1:2;switch(t){case"borrow":this.$refs.multipleTable.clearSelection(),this.$refs.multipleTable.toggleRowSelection(e),this.borrow(e);break;case"info":this.viewSourceByPdfUrl(e.id,i,e.templateId,e.cateCode);break;case"details":this.formBuildShow=!0;var n={othType:i,id:e.id,templateId:e.templateId};this.$api.httpAction(this.url.getInfoData,n,"post").then((function(t){if("200"==t.code){a.model=t.data;var n={othType:i,templateId:e.templateId};a.$api.getAction(a.url.getBaseInfo,n).then((function(e){"200"==e.code&&(a.formBuildShow=!0,a.$nextTick((function(){a.formTemplate=JSON.parse(e.data.vue)})))})).catch((function(){a.$sweetAlert.errorWithTimer("error")}))}else a.$sweetAlert.errorWithTimer(t.msg)})).catch((function(e){})),this.formVisible=!0;break}}},created:function(){},mounted:function(){}},d=u,p=(a("c1a9"),a("2877")),f=Object(p["a"])(d,i,n,!1,null,"340d95d0",null);t["default"]=f.exports},ed5d:function(e,t,a){"use strict";a("9ee9")},edae:function(e,t,a){},eecf:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["formMaking"==e.formDesignType?a("fm-making-form",{ref:"formMaking",staticClass:"form-making-height",attrs:{preview:"","generate-json":""},scopedSlots:e._u([{key:"action",fn:function(){return[e._t("action")]},proxy:!0}],null,!0)}):e._e(),"formGenerator"==e.formDesignType?a("form-generator",{ref:"formGenerator",scopedSlots:e._u([{key:"action",fn:function(){return[e._t("action")]},proxy:!0}],null,!0)}):e._e()],1)},n=[],s=a("8849"),r=a("83d6"),o=a.n(r),l={name:"FormDesign",components:{FormGenerator:s["default"]},data:function(){return{defaultJson:{formMaking:{list:[],config:{labelWidth:100,labelPosition:"right",size:"small"}},formGenerator:{fields:[],formRef:"elForm",formModel:"formData",size:"medium",labelPosition:"right",labelWidth:100,formRules:"rules",gutter:15,disabled:!1,span:24,formBtns:!1}}}},computed:{formDesignType:function(){return o.a.formDesignType}},methods:{setJSON:function(e){"formMaking"==this.formDesignType?this.$refs.formMaking.setJSON(e||this.defaultJson["formMaking"]):"formGenerator"==this.formDesignType&&this.$refs.formGenerator.setJSON(e||this.defaultJson["formGenerator"])},getJSON:function(){var e;return"formMaking"==this.formDesignType?e=this.$refs.formMaking.getJSON():"formGenerator"==this.formDesignType&&(e=this.$refs.formGenerator.getJSON()),e}}},c=l,u=(a("6508"),a("2877")),d=Object(u["a"])(c,i,n,!1,null,"0fb4e9a0",null);t["default"]=d.exports},ef35:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",["formMaking"==e.formDesignType?a("fm-generate-form",{ref:"formMaking",attrs:{data:e.data,value:e.value}}):e._e(),"formGenerator"==e.formDesignType?a("parser",{ref:"formGenerator",attrs:{"form-conf":e.data,value:e.value}}):e._e()],1)},n=[],s=a("8849"),r=a("93ff"),o=a("83d6"),l=a.n(o),c={name:"FormParser",components:{FormGenerator:s["default"],Parser:r["a"]},props:["data","value"],data:function(){return{}},computed:{formDesignType:function(){return l.a.formDesignType}},methods:{getData:function(){return"formMaking"==this.formDesignType||"formGenerator"==this.formDesignType?this.$refs[this.formDesignType].getData():null},resetFields:function(){"formMaking"==this.formDesignType?this.$refs[this.formDesignType].reset():"formGenerator"==this.formDesignType&&this.$refs[this.formDesignType].resetForm()}}},u=c,d=a("2877"),p=Object(d["a"])(u,i,n,!1,null,null,null);t["default"]=p.exports},ef9a:function(e,t,a){},efe1:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container max-height flex-column task-info-box"},[a("div",{staticClass:"flex justify-between"},[a("div",{staticClass:"flex"},[a("el-button",{attrs:{type:"text",icon:"el-icon-arrow-left",size:"mini"},on:{click:e.goBack}},[e._v(" 返回 ")]),a("div",[e._v(" "+e._s(e.detailTitle)+" ")])],1),a("div")]),a("div",{staticClass:"flex justify-start"},[a("div",{staticClass:"padding-right-10"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.btnClick("search")}}},[e._v(" 查询 ")])],1),a("el-dropdown",{staticStyle:{"margin-right":"10px"}},[a("el-button",{attrs:{size:"mini"}},[e._v(" 数据检查"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.dataCheckList,(function(t){return a("el-dropdown-item",{key:t.value,attrs:{label:t.label||t.name,value:t.value},nativeOn:{click:function(a){return e.btnClick(t.value)}}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),a("el-button",{attrs:{type:"default",size:"mini"},on:{click:function(t){return e.btnClick("edit")}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{type:"default",size:"mini"},on:{click:function(t){return e.btnClick("batchModify")}}},[e._v(" 批量修改 ")]),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.btnClick("refuse")}}},[e._v(" 拒绝 ")]),a("el-button",{attrs:{type:"default",size:"mini"},on:{click:function(t){return e.btnClick("confirm-approval")}}},[e._v(" 确认审批 ")]),a("el-button",{attrs:{type:"default",size:"mini"},on:{click:function(t){return e.btnClick("approval-record")}}},[e._v(" 审批记录 ")]),a("el-button",{attrs:{type:"default",size:"mini"},on:{click:function(t){return e.btnClick("print")}}},[e._v(" 打印 ")])],1),a("div",{staticClass:"max-height"},[a("div",{staticClass:"half-height tab-pane-box"},["underway"==e.activeName?a("records-list",{ref:"records",on:{detail:e.showFileList}}):e._e()],1),a("div",{staticClass:"half-height tab-pane-box"},[e.showFileListFlag?a("el-tabs",{staticClass:"max-height flex-column",model:{value:e.activeFileName,callback:function(t){e.activeFileName=t},expression:"activeFileName"}},[a("el-tab-pane",{attrs:{label:"卷内目录",name:"file",lazy:""}},["file"==e.activeFileName?a("file-list"):e._e()],1)],1):e._e()],1)]),e.selectPrint.show?a("select-print",{ref:"selectPrint",on:{close:function(t){e.selectPrint.show=!1}}}):e._e(),e.examineRecords.show?a("examine-records",{ref:"examineRecords",on:{close:function(t){e.examineRecords.show=!1}}}):e._e(),e.detail.show?a("detail-modal",{ref:"detail",attrs:{title:e.detail.title,info:e.detail.info,operate:e.detail.operate},on:{close:function(t){e.detail.show=!1}}}):e._e(),e.batchModify.show?a("batch-modify",{ref:"batchModify",attrs:{title:e.batchModify.title,list:e.batchModifyList},on:{close:function(t){e.batchModify.show=!1}}}):e._e(),e.formEdit.show?a("form-edit",{ref:"formEdit",attrs:{title:e.formEdit.title},on:{close:function(t){e.formEdit.show=!1}}}):e._e(),e.highSearch.show?a("high-search",{ref:"highSearch",attrs:{title:e.highSearch.title,highSearch:e.highSearchList},on:{close:function(t){e.highSearch.show=!1},superQuery:e.superQuery}}):e._e()],1)},n=[],s=(a("a15b"),a("d81d"),a("4de4"),a("c5d4")),r=a("86b3"),o=a("5de6"),l=a("a3b2"),c=a("3588"),u=a("e6a1"),d=a("d323"),p=a("9306"),f=a("d369"),m={name:"ExamineInfo",components:{SelectPrint:s["default"],RecordsList:r["default"],FileList:o["default"],HistoryList:l["default"],ExamineRecords:c["default"],DetailModal:u["default"],BatchModify:d["default"],FormEdit:p["default"],HighSearch:f["a"]},props:{},data:function(){return{highSearch:{title:"查询",show:!1,loading:!1},formEdit:{title:"修改",show:!1,loading:!1},batchModify:{title:"批量修改",show:!1,loading:!1},examineRecords:{title:"审批记录",show:!1,loading:!1},detail:{show:!1,title:"拒绝理由",info:"说明",loading:!1,operate:!0},detailTitle:"",remark:"",activeName:"underway",activeFileName:"file",showFileListFlag:!1,selectPrint:{show:!1,title:"",loading:!1},dataCheckId:"recheck",dataCheckList:[{value:"recheck",name:"查重"},{value:"nominate-recheck",name:"提名查重"}],highSearchList:[],batchModifyList:[]}},watch:{},computed:{},methods:{goBack:function(){this.$emit("back")},showFileList:function(){this.showFileListFlag=!0},dataCheckChange:function(e){var t="";this.operate(t,e)},btnClick:function(e){var t=this.selectionMsg(e);switch(e){case"edit":case"batchModify":case"refuse":if(t)return void this.$sweetAlert.warnWithTimer(t);break;default:break}switch(e){case"confirm-approval":break;case"approval-record":break;case"print":break;default:break}var a=this.$refs["records"].table.selection.map((function(e){return e.id})).join(",");this.operate(a,e)},selectionMsg:function(e){var t="";if(this.$refs["records"]){var a=this.$refs["records"].table.selection.length;if(0==a)switch(t="至少选择一条记录",e){case"edit":t="请选择需要编辑的行！";break;case"batchModify":t="请选择需要修改的记录！";break;case"refuse":t="请选择需要拒绝的数据！";break;default:break}}return t},operate:function(e,t){var a=this,i={"confirm-approval":{name:"确认审批",msg:"默认当前待办下所有数据全部审批通过，是否确认继续？",url:"/sys/notice/update",params:{id:e.id,status:"0"}},print:{name:"打印",msg:"默认当前待办下所有数据全部打印，是否确认继续？"}},n=i[t];if(n){var s=n["msg"],r=n["url"],o="post",l=n.params;this.$confirm(s,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){r?a.$api.httpAction(r,l,o).then((function(e){var t=200;e.code==t?a.$sweetAlert.successWithTimer(e.msg):a.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")})):a.operateAction(t)})).catch((function(){}))}else this.operateAction(t)},operateAction:function(e){var t=this,a="";switch(e){case"search":var i=this.$refs["records"].table.column.filter((function(e){return e.prop}));this.highSearchList={type:i},this.highSearch.show=!0;break;case"recheck":break;case"nominate-recheck":break;case"edit":this.$refs["records"].table.selection;this.formEdit.show=!0;var n={othType:"1",id:"2337019867600044998",templateId:"2337019867600044264"};this.$nextTick((function(){t.$refs.formEdit.init(n)}));break;case"batchModify":var s=this.$refs["records"].table.column.filter((function(e){return e.prop}));this.batchModifyList=s,this.batchModify.show=!0,this.$nextTick((function(){t.$refs.batchModify.init(a)}));break;case"refuse":this.detail.show=!0,this.$nextTick((function(){t.$refs.detail.init(a)}));break;case"confirm-approval":break;case"approval-record":this.examineRecords.show=!0,this.$nextTick((function(){t.$refs.examineRecords.init(a)}));break;case"print":this.selectPrint.show=!0,this.$nextTick((function(){t.$refs.selectPrint.init(a)}));break;default:break}},superQuery:function(e){}},created:function(){},mounted:function(){}},h=m,b=(a("9048"),a("2877")),g=Object(b["a"])(h,i,n,!1,null,"78cde3b4",null);t["default"]=g.exports},f029:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container max-height flex-column"},[a("div",{staticClass:"operate-box nowrap flex justify-start padding-right-10"},[a("div",{staticClass:"flex padding-right-10"},[a("div",{staticClass:"search-item-label"},[e._v("申请时间：")]),a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd HH:mm:ss",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",size:"mini"},on:{change:e.queryList},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:function(t){return e.queryList(1)}}},[e._v(" 搜索 ")])],1),e.table.loading?e._e():a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"table-box max-height"},[a("fox-table",{ref:"foxTable",attrs:{"highlight-current-row":"",rowKey:"id",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection}})],1),e.selectPrint.show?a("select-print",{ref:"selectPrint",on:{close:function(t){e.selectPrint.show=!1}}}):e._e()],1)},n=[],s=a("1da1"),r=a("5530"),o=(a("a15b"),a("d81d"),a("96cf"),a("f7c4")),l=a("3f19"),c=a("2e5f"),u=a("c5d4"),d={name:"MyArchive",mixins:[l["a"]],components:{foxTable:o["a"],BtnList:c["default"],SelectPrint:u["default"]},props:{},data:function(){return{date:"",selectPrint:{show:!1,title:"",loading:!1},url:{list:"/myFile/queryFile"}}},watch:{},computed:{},methods:{setTableColumn:function(){var e=this;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{type:"selection",fixed:!0},{label:"申请时间",prop:"OPT_TIME"},{label:"年度",prop:"ARCH_YEAR"},{label:"归档单位",prop:"DEPT_NAME"},{label:"题名",prop:"ARCH_TITLE"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o,l,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize},t.date&&t.date.length>0&&(i=Object(r["a"])(Object(r["a"])({},i),{},{beginTime:t.date[0],endTime:t.date[1]})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),n=t.url.list,s="post",a.next=8,t.$api.httpActionByQuery(n,i,{},s);case 8:o=a.sent,l=o.data,c=l.count,u=l.data,t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*c}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:u})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 13:case"end":return a.stop()}}),a)})))()},btnClick:function(e){var t=this.selectionMsg(e);if(t)this.$sweetAlert.warnWithTimer(t);else{var a=this.table.selection.map((function(e){return e.id})).join(",");this.operate(a,e)}},selectionMsg:function(){var e="",t=this.table.selection.length;return 0==t&&(e="至少选择一条记录","print"==e&&(e="请选择要打印的数据！")),e},operate:function(e,t){var a=this;switch(t){case"print":this.selectPrint.show=!0,this.$nextTick((function(){a.$refs.selectPrint.init(e)}));break;default:break}}},created:function(){this.setTableColumn(),this.queryList(1)},mounted:function(){}},p=d,f=(a("e671"),a("2877")),m=Object(f["a"])(p,i,n,!1,null,"04929ccb",null);t["default"]=m.exports},f0be:function(e,t,a){"use strict";a("ef9a")},f0d5:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{visible:e.visible,modal:!0,"before-close":e.cancelModal,title:e.title,width:"500px",center:""},on:{"update:visible":function(t){e.visible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"auto-scroll"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.model,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("div",[a("el-form-item",{attrs:{label:"印章名称：",prop:"name"}},[a("el-input",{attrs:{maxlength:"50",type:"text",placeholder:"",clearable:""},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1)],1),"add"==e.modalType||"edit"==e.modalType?a("div",[a("el-form-item",{attrs:{label:"印章图片：",prop:"sealPath"}},[a("el-upload",{ref:"upload",staticClass:"upload-demo max-width",attrs:{data:e.uploadData,action:e.upLoadUrl,"on-success":e.handleSuccess,"before-upload":e.beforeAvatarUpload,"auto-upload":!1,"show-file-list":!1,accept:".jpg,.png","file-list":e.fileList,"on-change":function(t,a){e.handleChangeFile(t,a,"file")}}},[a("div",{staticClass:"flex max-width"},[e.fileFlag&&"edit"==e.modalType?a("div",{staticClass:"existence-box",style:{color:e.greenColor}},[e._v(" 存在 ")]):e._e(),a("el-input",{staticStyle:{width:"100%","margin-right":"10px"},attrs:{type:"text",disabled:""},model:{value:e.model.sealPath,callback:function(t){e.$set(e.model,"sealPath",t)},expression:"model.sealPath"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-upload"}},[e._v(" 选择文件 ")])],1)])],1)],1):e._e()])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v(" 保存 ")]),a("el-button",{on:{click:e.cancelModal}},[e._v("关闭")])],1)]):e._e()},n=[],s=(a("caad"),a("d3b7"),a("a434"),a("b0c0"),a("0779")),r=a("cf45"),o={name:"PictureModal",components:{DictSelectTag:s["default"]},props:{modalType:{type:String,default:""},title:{type:String,default:""}},data:function(){return{greenColor:r["g"],visible:!1,loading:!1,fileList:[],model:{name:"",sealImg:null,sealPath:""},fileFlag:!1,uploadObject:null,typeList:[{value:"1",name:"圆章"},{value:"2",name:"椭圆章"},{value:"3",name:"私章"}],rules:{name:[{required:!0,trigger:"change",message:"印章名称不能为空！"}],type:[{required:!0,trigger:"change",message:""}],radius:[{required:!0,trigger:"change",message:"半径不能为空！"}],mainfont:[{required:!0,trigger:"change",message:"主文字不能为空！"}],vicefont:[{required:!0,trigger:"change",message:"副文字不能为空！"}],centerfont:[{required:!0,trigger:"change",message:"中心文字不能为空！"}]},stampList:[],url:{generate:"",add:"/eleSign/saveOrUpdateSeal",edit:"/eleSign/saveOrUpdateSeal"}}},computed:{upLoadUrl:function(){return window._CONFIG["domainURL"]+"/eleSign/saveOrUpdateSeal"},uploadData:function(){return this.uploadObject},showUploadFlag:function(){var e=!1,t=["add","edit"];return t.includes(this.modalType)&&(e=!0),e}},methods:{init:function(e){e&&(this.model=Object.assign({},e),e.sealPath&&(this.fileFlag=!0)),this.visible=!0},handleSuccess:function(e){200==e.code?(this.$sweetAlert.successWithTimer(e.msg),this.$emit("ok"),this.cancelModal()):(this.$sweetAlert.errorWithTimer(e.msg),this.cancelModal())},beforeAvatarUpload:function(){var e=this;return new Promise((function(t,a){e.$nextTick((function(){return t()}))}))},handleChangeFile:function(e,t,a){var i="image/jpeg"===e.raw.type||"image/png"===e.raw.type,n=e.size/1024/1024<5;return i?n?(t.length>1&&t.splice(0,1),"success"!=e.status&&(this.model.sealPath=e.name),void(this.model.sealImg=e.raw)):(this.$sweetAlert.errorWithTimer("文件大小不能超过 5MB!"),this.$refs["upload"].uploadFiles=[],this.model.sealPath="",void(this.model.sealImg=null)):(this.$sweetAlert.errorWithTimer("上传图片只能是 JPG/png 格式!"),this.$refs["upload"].uploadFiles=[],this.model.sealPath="",void(this.model.sealImg=null))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;var a=t.url[t.modalType],i=Object.assign({},t.model);if(t.uploadObject=i,t.model.sealImg)t.uploadObject=i,t.$refs.upload.submit();else{var n="post";t.$api.httpAction(a,i,n).then((function(e){200==e.code?(t.$sweetAlert.successWithTimer(e.msg),t.$emit("ok"),t.cancelModal()):t.$sweetAlert.errorWithTimer(e.msg)}))}}))},cancelModal:function(){this.visible=!1,this.$emit("close")}},created:function(){}},l=o,c=(a("9770"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"60a71d7a",null);t["default"]=u.exports},f19a:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper max-height flex-column"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticClass:"max-height"},[a("fox-table",{attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,pagination:"",background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,"cell-style":e.cellStyle,stripe:!1},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1)])},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("f7c4")),l=a("3f19"),c=a("2e5f"),u={name:"OpinionList",mixins:[l["a"]],components:{foxTable:o["a"],BtnList:c["default"]},props:{},data:function(){return{url:{list:"/sys/notice/pageListMessage"}}},watch:{},computed:{},methods:{init:function(){this.queryList(1)},setTableColumn:function(){var e=this;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"审批环节",prop:"createTime"},{label:"审批人",prop:"isUrgent_dictText"},{label:"开始时间",prop:"createTime"},{label:"结束时间",prop:"createTime"},{label:"状态",prop:"createTime"},{label:"审批意见",prop:"isUrgent_dictText"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},showFileList:function(e){},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),i={page:t.page.pageNum,limit:t.page.pageSize},t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),n=t.url.list,a.next=6,t.$api.getAction(n,i);case 6:s=a.sent,o=s.count,l=s.data,t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*o}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:l})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 12:case"end":return a.stop()}}),a)})))()},cellStyle:function(e){var t=e.row,a=(e.column,e.rowIndex,e.columnIndex);return"已发布"===t.status&&3===a?"color: #0CB618":"暂不发布"===t.status&&3===a?"color: #EA1B29":"color: #1a1a1b"}},created:function(){this.setTableColumn(),this.queryList(1)},mounted:function(){}},d=u,p=(a("f546"),a("2877")),f=Object(p["a"])(d,i,n,!1,null,"90729b82",null);t["default"]=f.exports},f330:function(e,t,a){"use strict";a("8bd9")},f357:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"执行任务",visible:e.dialogExcuteTaskVisibleInChild,fullscreen:!1},on:{"update:visible":function(t){e.dialogExcuteTaskVisibleInChild=t}}},[a("el-tabs",{staticClass:"tabs-box",attrs:{type:"border-card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e.generateTaskFormVisible?a("el-tab-pane",{attrs:{name:"taskForm",label:"任务表单"}},[a("form-parser",{ref:"generateFormTask",attrs:{data:e.taskFormJson,value:e.taskFormData}})],1):e._e(),a("el-tab-pane",{attrs:{name:"processInstanceForm",label:"流程表单(只读)"}},["processInstanceForm"==e.activeName?a("flow-form",{attrs:{"file-params-object":e.fileParamsObject}}):e._e()],1)],1),a("select-user",{ref:"selectUser",attrs:{visible:e.selectUserVisible,"append-to-body":!0,"multiple-select":e.selectUserMultipleSelect},on:{"update:visible":function(t){e.selectUserVisible=t},selectUserFinished:e.selectUserFinished}}),e.dialogTaskBackNodesVisible?a("task-back-nodes",{attrs:{visible:e.dialogTaskBackNodesVisible,"execute-task-id":e.executeTaskId},on:{"update:visible":function(t){e.dialogTaskBackNodesVisible=t},backTaskFinished:e.backTaskFinished}}):e._e(),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"意见:"}},[a("el-input",{attrs:{autosize:{minRows:2,maxRows:3},type:"textarea",placeholder:"请输入意见"},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}})],1),a("el-radio-group",{staticStyle:{"margin-left":"48px","margin-bottom":"18px"},on:{change:e.radioChange},model:{value:e.examineCode,callback:function(t){e.examineCode=t},expression:"examineCode"}},[a("el-radio",{attrs:{label:1}},[e._v("同意")]),e.radiocode?a("el-radio",{attrs:{label:2}},[e._v("同意进入下一步")]):e._e(),a("el-radio",{attrs:{label:3}},[e._v("拒绝")])],1),e.userData&&e.userData.length&&this.userCode?a("el-form-item",{staticStyle:{"margin-left":"48px"},attrs:{label:"下一步审核人:"}},[a("el-radio-group",{model:{value:e.examineUser,callback:function(t){e.examineUser=t},expression:"examineUser"}},e._l(e.userData,(function(t){return a("el-radio",{key:t.id||t.ID,attrs:{label:t.id||t.ID}},[e._v(e._s(t.lastName||t.LASTNAME))])})),1)],1):e._e()],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.doComplete}},[e._v("提交")]),a("el-button",{on:{click:function(t){e.dialogExcuteTaskVisibleInChild=!1}}},[e._v("取消")])],1)],1)},n=[],s=(a("a434"),a("0fea")),r=(a("5c96"),a("c4f3")),o=a("0f95"),l=a("db89"),c=a("ef35"),u=a("51f0"),d={name:"ExecuteTask",components:{SelectUser:r["default"],TaskBackNodes:l["default"],FormParser:c["default"],FlowForm:u["default"]},props:{visible:{type:Boolean,default:function(){return!1}},executeTaskId:{type:String,default:function(){return""}},executeTaskData:{type:Object,default:function(){return{}}},fileParamsObject:{type:Object,default:function(){return{}}}},data:function(){return{loading:!1,userData:[],examineUser:"",examineCode:1,activeName:"processInstanceForm",startFormKey:void 0,taskFormKey:void 0,startFormJson:void 0,taskFormJson:void 0,userCode:!0,radiocode:!1,generateStartFormVisible:!1,generateTaskFormVisible:!1,taskFormData:void 0,showBusinessKey:!1,businessKey:void 0,processInstanceFormData:void 0,startUserId:"",initiator:!1,selectUserVisible:!1,selectUserMultipleSelect:!1,selectUserType:"",message:"",ccToVos:[],dialogTaskBackNodesVisible:!1,buttons:[]}},computed:{dialogExcuteTaskVisibleInChild:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},created:function(){this.initData(),this.handleUserCode()},methods:{radioChange:function(e){this.userCode=2==e,this.handleUser()},handleUser:function(){var e=this;this.$api.getAction("/flowable/work/getNextUser",{processDefinitionId:this.executeTaskData.processDefinitionId,id:this.executeTaskData.processInstanceId,activityId:this.executeTaskData.taskDefinitionKey,examineCode:this.examineCode}).then((function(t){200==t.code&&(e.userData=t.data,e.userData.length>0&&(e.examineUser=e.userData[0].id,e.examineUser||(e.examineUser=e.userData[0].ID)))}))},handleUserCode:function(){var e=this;this.$api.getAction("/flowable/work/getNextUser",{processDefinitionId:this.executeTaskData.processDefinitionId,id:this.executeTaskData.processInstanceId,activityId:this.executeTaskData.taskDefinitionKey,examineCode:2}).then((function(t){200==t.code&&(e.handleUser(),t.data.length<1?e.radiocode=!1:e.radiocode=!0)}))},initData:function(){var e=this;Object(s["e"])("/flowable/task/executeTaskData",{taskId:this.executeTaskId}).then((function(t){var a,i=t.data;e.startUserId=i.startUserId,e.showBusinessKey=i.showBusinessKey,e.businessKey=i.businessKey,e.startFormKey=i.startFormKey,e.taskFormKey=i.taskFormKey,e.initiator=i.initiator,e.buttons=null!==(a=i.buttons)&&void 0!==a?a:[],i.renderedStartForm&&(e.startFormJson=JSON.parse(i.renderedStartForm),e.processInstanceFormData=JSON.parse(i.variables.processInstanceFormData),e.generateStartFormVisible=!0),i.renderedTaskForm&&(e.taskFormJson=JSON.parse(i.renderedTaskForm),e.startFormKey&&e.taskFormKey&&e.startFormKey==e.taskFormKey&&(e.taskFormData=JSON.parse(i.variables.processInstanceFormData)),e.generateTaskFormVisible=!0),e.generateTaskFormVisible&&(e.activeName="taskForm")}))},checkMessage:function(){if(!this.message||""===this.message)throw this.$sweetAlert.warnWithTimer("请输入意见"),new o["a"]("请输入意见")},doComplete:function(){var e=this;this.checkMessage(),this.$refs.generateFormTask?this.$refs.generateFormTask.getData().then((function(t){if(t&&void 0!=t){var a=t;if(e.startFormKey&&e.taskFormKey&&e.startFormKey==e.taskFormKey){var i=JSON.stringify(t);a=Object.assign({processInstanceFormData:i},t)}return e.loading=!0,Object(s["h"])("/flowable/task/complete",{taskId:e.executeTaskId,message:e.message,initiator:e.initiator,values:a,ccToVos:e.ccToVos,examineUser:e.examineUser}).then((function(t){var a=t.msg;e.loading=!1,e.$sweetAlert.successWithTimer(a),e.dialogExcuteTaskVisibleInChild=!1,e.$emit("executeTaskFinished")}))}})).catch((function(e){})):Object(s["h"])("/flowable/task/complete",{taskId:this.executeTaskId,message:this.message,ccToVos:this.ccToVos,examineUser:this.examineUser}).then((function(t){var a=t.msg;e.$sweetAlert.successWithTimer(a),e.dialogExcuteTaskVisibleInChild=!1,e.$emit("executeTaskFinished")}))},doStop:function(){var e=this;this.checkMessage(),Object(s["h"])("/flowable/task/stopProcessInstance",{taskId:this.executeTaskId,message:this.message}).then((function(t){var a=t.msg;e.$sweetAlert.successWithTimer(a),e.dialogExcuteTaskVisibleInChild=!1,e.$emit("executeTaskFinished")}))},doSelectCcTo:function(){this.selectUserMultipleSelect=!0,this.selectUserVisible=!0,this.selectUserType="selectCcTo",0==this.$refs.selectUser.treeData.length&&this.$refs.selectUser.getTreeData()},handleCcToClose:function(e){this.ccToVos.splice(this.ccToVos.indexOf(e),1)},doAssign:function(){this.checkMessage(),this.selectUserMultipleSelect=!1,this.selectUserVisible=!0,this.selectUserType="assign",0==this.$refs.selectUser.treeData.length&&this.$refs.selectUser.getTreeData()},doDelegate:function(){this.checkMessage(),this.selectUserMultipleSelect=!1,this.selectUserVisible=!0,this.selectUserType="delegate",0==this.$refs.selectUser.treeData.length&&this.$refs.selectUser.getTreeData()},selectUserFinished:function(e){var t=this;e&&0!=e.length?"assign"===this.selectUserType?Object(s["h"])("/flowable/task/assign",{taskId:this.executeTaskId,userId:e.userId,message:this.message}).then((function(e){var a=e.msg;t.$sweetAlert.successWithTimer(a),t.selectUserVisible=!1,t.dialogExcuteTaskVisibleInChild=!1,t.$emit("executeTaskFinished")})):"delegate"===this.selectUserType?Object(s["h"])("/flowable/task/delegate",{taskId:this.executeTaskId,userId:e.userId,message:this.message}).then((function(e){var a=e.msg;t.$sweetAlert.successWithTimer(a),t.selectUserVisible=!1,t.dialogExcuteTaskVisibleInChild=!1,t.$emit("executeTaskFinished")})):"selectCcTo"===this.selectUserType&&(this.ccToVos=e):this.$sweetAlert.warnWithTimer("请先选择用户")},doBack:function(){this.checkMessage(),this.dialogTaskBackNodesVisible=!0},backTaskFinished:function(e){var t=this;Object(s["h"])("/flowable/task/back",{taskId:this.executeTaskId,activityId:e.nodeId,activityName:e.nodeName,message:this.message}).then((function(e){var a=e.msg;t.$sweetAlert.successWithTimer(a),t.dialogExcuteTaskVisibleInChild=!1,t.$emit("executeTaskFinished")}))},reset:function(){var e;null===(e=this.$refs.generateFormTask)||void 0===e||e.resetFields(),this.businessKey=void 0,this.message=void 0,this.ccToVos=[]}}},p=d,f=(a("eb13"),a("2877")),m=Object(f["a"])(p,i,n,!1,null,"eb901a90",null);t["default"]=m.exports},f394:function(e,t,a){"use strict";a("9292")},f53b:function(e,t,a){},f546:function(e,t,a){"use strict";a("20a4")},f596:function(e,t,a){"use strict";a("bb7b")},f5a3:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container flex-column"},[a("div",{staticClass:"flex btn-list"},e._l(e.btnList,(function(t){return a("div",{key:t.value},[a("el-button",{attrs:{icon:"el-icon-"+t.icon,size:"mini"},on:{click:function(a){return e.btnClick(t)}}},[e._v(" "+e._s(t.label)+" ")])],1)})),0),e.table.loading?e._e():a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"table-box max-height"},[a("fox-table",{ref:"foxTable",attrs:{"highlight-current-row":"",rowKey:"ID",column:e.table.column,data:e.table.data,pagination:!0,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0,hideTableIndent:!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,select:e.selectChange,"select-all":e.selectAllChange,"selection-change":e.selectionChangeHandler}})],1),e.detail.show?a("detail-modal",{ref:"detail",attrs:{title:e.detail.title},on:{close:function(t){e.detail.show=!1}}}):e._e(),e.borrowApply.show?a("apply-modal",{ref:"borrowApply",on:{close:function(t){e.borrowApply.show=!1},ok:function(t){return e.queryList(1)}}}):e._e(),e.push.show?a("push-modal",{ref:"push",attrs:{title:e.push.title},on:{close:function(t){e.push.show=!1}}}):e._e(),e.print.show?a("print-modal",{ref:"print",attrs:{title:e.print.title},on:{close:function(t){e.print.show=!1}}}):e._e()],1)},n=[],s=a("1da1"),r=a("5530"),o=a("2909"),l=(a("96cf"),a("159b"),a("d81d"),a("caad"),a("2532"),a("b64b"),a("4de4"),a("a15b"),a("7db0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("f7c4")),c=a("3f19"),u=a("0c90"),d=a("2e5f"),p=a("e8ec"),f=a("6937"),m=a("4402"),h=a("bd66"),b=a("cf45"),g={name:"MyBorrowCart",mixins:[c["a"],u["a"]],components:{foxTable:l["a"],BtnList:d["default"],PrintModal:p["default"],DetailModal:f["default"],PushModal:m["default"],ApplyModal:h["default"]},props:{},data:function(){return{detail:{show:!1,title:"查看详情",loading:!1},push:{show:!1,title:"电子借阅-推送",loading:!1},print:{show:!1,loading:!1},loading:!1,btnList:[{value:"register",label:"登记",icon:"edit",alert:"请选择需要登记的项！"},{value:"delete",label:"删除",icon:"delete",alert:"请选择需要删除项！"},{value:"export",label:"导出",icon:"download",alert:"请选择要导出的数据！"},{value:"print",label:"打印",icon:"printer",alert:"请选择要打印的数据！"},{value:"borrow",label:"借阅",icon:"collection",alert:"请选择要借阅的文档！"},{value:"push",label:"推送",icon:"s-promotion",alert:"请选择要推送的电子档案！"}],url:{list:"/borrowCar/list",delete:"/MyFavorites/delete",export:"/borrowCar/exportExcel",queryDocInfo:"/borrowCar/queryDocInfo",deleteOpeType:"/borrowCar/deleteOpeType",deleteBatch:"/borrowCar/deleteBatch"}}},watch:{},computed:{},methods:{selection:function(e){var t=[];e.forEach((function(e){e.children&&e.children.length>0&&t.push.apply(t,Object(o["a"])(e.children))})),e.push.apply(e,t),e.length?this.show=Object(r["a"])(Object(r["a"])({},this.show),{},{batch:!0}):this.show=Object(r["a"])(Object(r["a"])({},this.show),{},{batch:!1}),this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{selection:e})},setTableColumn:function(){var e=this;this.$createElement;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{type:"selection",fixed:!0},{label:"操作",prop:"oper",width:300,align:"left",headerAlign:"center",fixed:"right",render:function(t,a){var i=a.row,n=[{content:"查阅",type:"text",icon:"search",popover:!0,event:function(){e.operate(i,"detail")}},{content:"借阅",type:"text",icon:"collection",popover:!0,event:function(){e.operate(i,"borrow")}},{content:"登记",type:"text",icon:"edit",popover:!0,event:function(){e.operate(i,"register")}},{content:"删除",type:"text",color:"#F56C6C",icon:"delete",popover:!0,event:function(){e.operate(i,"delete")}}];return i.children&&"1"==i.CATE_TYPE&&n.push({content:"卷内",type:"text",icon:"search",popover:!0,event:function(){e.operate(i,"children")}}),t(d["default"],{attrs:{btnInfo:n}})}},{label:"状态",width:120,render:function(t,a){var i=a.row,n=[];if(i.FILE_COUNT>0){var s={type:"text",icon:"collection",tooltipContent:"原文",event:function(){e.operate(i,"source")}};n.push(s)}if(1==i.LEND_STATUS){var r={type:"text",icon:"remove-outline",color:"#F56C6C",tooltipContent:"已借出"};n.push(r)}return t(d["default"],{attrs:{btnInfo:n}})}},{label:"档号",prop:"ARCH_RULE"},{label:"件号(案卷号)",prop:"VOL_NUM"},{label:"题名",prop:"ARCH_TITLE"},{label:"收藏时间",width:180,prop:"CREATE_TIME"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,o,l,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return 1===e&&(t.page.pageNum=1),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),i=t.url.list,n={page:t.page.pageNum,limit:t.page.pageSize},s="post",a.next=7,t.$api.httpAction(i,n,s);case 7:o=a.sent,l=o.data,c=l.count,u=l.data,u.forEach((function(e){e.children=[]})),t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*c}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:u})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 13:case"end":return a.stop()}}),a)})))()},btnClick:function(e){var t=this.table.selection.length,a="";if(0==t&&e.alert&&(a=e.alert),a)this.$sweetAlert.warnWithTimer(a);else{var i=this.table.selection;this.operate(i,e.value)}},selectionMsg:function(){var e="",t=this.table.selection.length;return 0==t&&(e="至少选择一条记录"),e},operate:function(e,t){var a=this;switch(t){case"push":var i=[];e instanceof Array?i=e:i.push(e),i.map((function(e){e.children?e.opeType="1":e.opeType="2"})),this.push.show=!0,this.$nextTick((function(){a.$refs.push.init({list:i})}));break;case"detail":this.detail.show=!0;var n=2,s=e.ID;e.children&&(n=1,s=e.BUSI_ID);var r={othType:n,id:s,volId:e.BUSI_ID,templateId:e.TEMPLATE_ID,cate_code:e.CATE_CODE,cateType:e.CATE_TYPE};this.$nextTick((function(){a.$refs.detail.init(r)}));break;case"children":e.children&&0==e.children.length?this.queryDocInfo(e):this.$refs.foxTable.toggleRowExpansion(e);break;case"borrow":case"register":this.queryBorrowCarData(e,t);break;case"print":this.printOperate(e);break;case"export":this.exportFile(e);break;case"delete":break;case"source":var o={id:e.children?e.BUSI_ID:e.ID,othType:e.children?"1":"2",templateId:e.TEMPLATE_ID,cateCode:e.CATE_CODE},l=this.$router.resolve({path:"/originalPage",query:o});window.open(l.href,"_blank");break;default:break}var c={delete:{name:"立即执行",msg:"确定删除?"}};if(Object.keys(c).includes(t)){var u=c[t],d=u["msg"];this.$confirm(d,"操作提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var i=u.url,n=u.params,s="post";switch(t){case"delete":if(e instanceof Array){var r=e.filter((function(e){return!e.children})),o=e.filter((function(e){return e.children}));i=a.url.deleteBatch,n={doc_ids:r.map((function(e){return e.DOC_ID})).join(","),vol_ids:o.map((function(e){return e.BUSI_ID})).join(",")}}else i=a.url.deleteOpeType,n={ope_type:e.children?"1":"2",doc_id:e.DOC_ID,vol_id:e.BUSI_ID};break;default:break}a.$api.httpAction(i,n,s).then((function(e){200==e.code?(a.$sweetAlert.successWithTimer(e.msg),a.queryList()):a.$sweetAlert.errorWithTimer(e.msg)})).catch((function(){a.$sweetAlert.errorWithTimer("error")}))})).catch((function(){}))}},queryDocInfo:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,i={vol_id:e.BUSI_ID,templateId:e.TEMPLATE_ID},n=t.url.queryDocInfo,a.next=5,t.$api.getAction(n,i);case 5:s=a.sent,r=s.data,t.loading=!1,r&&0==r.length&&t.$sweetAlert.warnWithTimer("暂无卷内文件！"),r.forEach((function(t,a){t.TEMPLATE_ID=e.TEMPLATE_ID,t.CATE_CODE=e.CATE_CODE,t.ID=t.DOC_ID,t.BUSI_ID=e.BUSI_ID,t.parentId=e.ID})),o=t.table.data.find((function(t){return t.ID==e.ID})),o.children=r,t.$nextTick((function(){t.$refs.foxTable.toggleRowExpansion(e)}));case 13:case"end":return a.stop()}}),a)})))()},printOperate:function(e){var t=this,a=[];e instanceof Array?a=e:a.push(e);var i=JSON.stringify({id:a});this.print.show=!0,this.$nextTick((function(){t.$refs.print.init("2",null,{JsonId:i})}))},exportFile:function(e){var t=this,a=[];e.map((function(t){if(t.parentId){var i=e.find((function(e){return t.parentId==e.ID}));i&&a.push(t.ID)}})),e=e.filter((function(e){return!a.includes(e.ID)})),e.map((function(e){e.children?e.opeType="1":e.opeType="2"}));var i={json:JSON.stringify({data:e})},n=Object(b["h"])(new Date,"{y}-{m}-{d}");this.$api.downFileByPostData(this.url.export,i).then((function(e){if(e)if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(new Blob([e]),n+".xlsx");else{var a=window.URL.createObjectURL(new Blob([e])),i=document.createElement("a");i.style.display="none",i.href=a,i.setAttribute("download",n+".xlsx"),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(a)}else t.$sweetAlert.errorWithTimer("文件下载失败！")}))}},created:function(){this.setTableColumn(),this.queryList(1)},mounted:function(){}},v=g,y=(a("6537"),a("2877")),w=Object(y["a"])(v,i,n,!1,null,"1b9d0a86",null);t["default"]=w.exports},f65a:function(e,t,a){},f7a3:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"analyze dashboard-editor-container"},[a("el-row",[e.indexStatCode?a("top-style",{attrs:{TopData:e.indexStatData}}):e._e()],1),a("el-row",[a("el-card",{staticStyle:{"margin-bottom":"8px"}},[e.statLoginForMonthCode?a("div",[a("span",[e._v("近一个月系统登录走势")])]):e._e(),e.statLoginForMonthCode?a("broken-line",{attrs:{dataInfo:e.statLoginForMonthData}}):e._e()],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,lg:12}},[a("div",{staticClass:"chart-wrapper"},[e.FileDistributionCode?a("div",[a("span",[e._v("档案分布情况")])]):e._e(),e.FileDistributionCode?a("file-distribution",{attrs:{dataInfo:e.FileDistributionData}}):e._e()],1)]),a("el-col",{attrs:{xs:24,sm:24,lg:12}},[a("div",{staticClass:"chart-wrapper"},[e.FileDistributionCode?a("div",[a("span",[e._v("档案数字化比列")])]):e._e(),e.FileDistributionCode?a("digitalization-archives",{attrs:{dataInfo:e.FileDistributionData}}):e._e()],1)])],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{xs:24,sm:24,lg:12}},[a("div",{staticClass:"chart-wrapper"},[e.statKeepTimeForSpreadCode?a("div",[a("span",[e._v("按保管期限档案占比情况")])]):e._e(),e.statKeepTimeForSpreadCode?a("comparison-storage-period",{attrs:{dataInfo:e.statKeepTimeForSpreadData}}):e._e()],1)])],1)],1)},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("ed08"),a("1f0d")),l=a("452d"),c=a("1c18"),u=a("57f2"),d=a("fbbd"),p=a("cb1f"),f=a("ec1b"),m=a.n(f),h=a("5304"),b=a("276f"),g=a("94dd"),v=a("79cf"),y=a("1971"),w=a("8e8b"),x=a("5756"),k=a("5a0c"),C=a.n(k),_={newVisitis:{expectedData:[100,120,161,134,105,160,165],actualData:[120,82,91,154,162,140,145]},messages:{expectedData:[200,192,120,144,160,130,140],actualData:[180,160,151,106,145,150,130]},purchases:{expectedData:[80,100,121,104,105,90,100],actualData:[120,90,100,138,142,130,130]},shoppings:{expectedData:[130,140,141,142,145,150,160],actualData:[120,82,91,154,162,140,130]}},T={name:"Analysis",components:{ShortcutOptions:o["default"],CountTo:m.a,TopStyle:l["default"],BrokenLine:c["default"],FileDistribution:u["default"],DigitalizationArchives:d["default"],ComparisonStoragePeriod:p["default"],CellNum:b["default"],VisitNum:g["default"],ChartCard:h["default"],LineChart:v["default"],RaddarChart:y["default"],PieChart:w["default"],BarChart:x["default"]},data:function(){return{statLoginForMonthData:{},statLoginForMonthCode:!0,indexStatData:{indexDocTotal:0,indexAllDocTotal:0,onlineUserTotal:0,allUsers:0,syslogTotal:0,indexAllVolTotal:0,indexVolTotal:0},indexStatCode:!0,FileDistributionData:{},FileDistributionCode:!0,statKeepTimeForSpreadData:{},statKeepTimeForSpreadCode:!0,tabs:{name:"cellNum",cellNum:{data:{},ref:"cellNum"},visitNum:{data:{},ref:"visitNum"}},chart:{range:""},info:{ipVisit:{num:0,duration:2600},timesVisit:{num:0,duration:3e3},totalVisit:{num:0,duration:4e3}},topCard:{cellNum:{num:126560,duration:3e3},visitNum:{num:8846,duration:3e3,data:{}},payCount:{num:6560,duration:3e3,data:{}},operateEffect:{num:78,duration:3e3}},call:"",lineChartData:_.newVisitis}},created:function(){this.statLoginForMonth(),this.indexStat(),this.FileDistributionFuc(),this.statKeepTimeForSpread(),this.queryArchStatus()},methods:{queryArchStatus:function(){this.$api.getAction("/transferForm/stat",{})},statKeepTimeForSpread:function(){var e=this;this.statKeepTimeForSpreadCode=!1,this.$api.httpAction("/statKeepTimeForSpread",{},"post").then((function(t){"200"==t.code&&(e.statKeepTimeForSpreadData=t.data,e.statKeepTimeForSpreadCode=!0)}))},FileDistributionFuc:function(){var e=this;this.FileDistributionCode=!1,this.$api.httpAction("/statArchiveForSpread",{},"post").then((function(t){"200"==t.code&&(e.FileDistributionData=t.data,e.FileDistributionCode=!0)}))},indexStat:function(){var e=this;this.indexStatCode=!1,this.$api.httpAction("/indexStat",{},"post").then((function(t){"200"==t.code&&(e.indexStatData=t.data,e.indexStatCode=!0)}))},statLoginForMonth:function(){var e=this;this.statLoginForMonthCode=!1,this.$api.httpAction("/statLoginForMonth",{},"post").then((function(t){"200"==t.code&&(e.statLoginForMonthData=t.data,e.statLoginForMonthCode=!0)}))},initValue:function(){var e=this.info,t=e.ipVisit,a=e.timesVisit,i=e.totalVisit;this.info=Object(r["a"])(Object(r["a"])({},this.info),{},{ipVisit:Object(r["a"])(Object(r["a"])({},t),{},{num:0}),timesVisit:Object(r["a"])(Object(r["a"])({},a),{},{num:0}),totalVisit:Object(r["a"])(Object(r["a"])({},i),{},{num:0})})},initTopCardValue:function(){var e=this.topCard,t=e.cellNum,a=e.visitNum,i=e.payCount,n=e.operateEffect;this.topCard={cellNum:Object(r["a"])(Object(r["a"])({},t),{},{num:0}),visitNum:Object(r["a"])(Object(r["a"])({},a),{},{num:0}),payCount:Object(r["a"])(Object(r["a"])({},i),{},{num:0}),operateEffect:Object(r["a"])(Object(r["a"])({},n),{},{num:0})}},initCharts:function(){for(var e=[],t=[],a=0;a<12;a+=1)e.push("".concat(a+1,"月")),t.push(Math.floor(1e3*Math.random())+200);this.tabs=Object(r["a"])(Object(r["a"])({},this.tabs),{},{cellNum:{data:{xData:e,yData:t}},visitNum:{data:{xData:e,yData:t}}})},getTopCardInfo:function(){var e=this;this.initTopCardValue(),this.$nextTick((function(){for(var t=[],a=[],i=(new Date).getTime(),n=0;n<6;n++)t.push(C()(new Date(i+864e5*n)).format("YYYY-MM-DD")),a.push(Math.round(10*Math.random()));e.topCard={cellNum:{num:126560,duration:3e3},visitNum:{num:8846,duration:3e3,data:{xData:t,yData:a}},payCount:{num:6560,duration:3e3,data:{xData:t,yData:a}},operateEffect:{num:78,duration:3e3}}}))},getLoginInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.initValue();case 1:case"end":return t.stop()}}),t)})))()},cycleCall:function(){var e=this;this.call=setInterval((function(){e.getTopCardInfo(),e.initCharts()}),8e3)},stopCall:function(){clearInterval(this.call)}},mounted:function(){this.cycleCall(),this.getTopCardInfo(),this.initCharts()},destroyed:function(){this.stopCall()}},D=T,O=(a("937a"),a("2877")),I=Object(O["a"])(D,i,n,!1,null,"699eef16",null);t["default"]=I.exports},f87d:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"max-height"},[a("fox-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],attrs:{"highlight-current-row":"",column:e.table.column,data:e.table.data,background:"",layout:"total, sizes, prev, pager, next, jumper","page-sizes":[5,10,20,30],"page-count":10,"current-page":e.page.pageNum,total:e.page.total,"page-size":e.page.pageSize,"page-bot":!0},on:{"update:currentPage":function(t){return e.$set(e.page,"pageNum",t)},"update:current-page":function(t){return e.$set(e.page,"pageNum",t)},"size-change":e.sizeChange,"p-current-change":e.currentChange,"selection-change":e.selection,"cell-click":e.cellClick}})],1)},n=[],s=a("1da1"),r=a("5530"),o=(a("96cf"),a("f7c4")),l=a("3f19"),c={mixins:[l["a"]],components:{foxTable:o["a"]},props:{title:{type:String,default:""},info:{type:Object,default:null}},data:function(){return{visible:!1,loading:!1,model:null,url:{list:"/dynamic/queryBackInfo"}}},computed:{},created:function(){this.setTableColumn(),this.info&&this.queryList()},methods:{setTableColumn:function(){var e=this;this.table=Object(r["a"])(Object(r["a"])({},this.table),{},{show:!1,column:[{label:"用户",prop:"OPT_USER"},{label:"时间",prop:"OPT_TIME"},{label:"操作",prop:"OPT_TYPE_DESC"}]}),this.$nextTick((function(){e.table=Object(r["a"])(Object(r["a"])({},e.table),{},{show:!0})}))},queryList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,i,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={id:t.info.id,templateId:t.info.templateId},t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!0}),e.next=4,t.$api.getAction(t.url.list,a);case 4:i=e.sent,n=i.count,s=i.data,t.page=Object(r["a"])(Object(r["a"])({},t.page),{},{total:1*n}),t.$nextTick((function(){t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{data:s})})),t.table=Object(r["a"])(Object(r["a"])({},t.table),{},{loading:!1});case 10:case"end":return e.stop()}}),e)})))()}}},u=c,d=a("2877"),p=Object(d["a"])(u,i,n,!1,null,"11acb2b0",null);t["default"]=p.exports},f8ff:function(e,t,a){"use strict";a("7921")},f930:function(e,t,a){},f955:function(e,t,a){"use strict";a("8e99")},f981:function(e,t,a){},f9aa:function(e,t,a){"use strict";a("d48c")},fbbd:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},n=[],s=a("313e"),r=a.n(s),o=a("1e21");a("817d");var l={name:"",mixins:[o["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"280px"},dataInfo:{type:Object}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=r.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.expectedData,e.actualData;this.chart.setOption({title:{},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"right",data:["已数字化","未数字化"]},series:[{name:"档案数字化比列",type:"pie",radius:["30%","70%"],center:["40%","50%"],emphasis:{label:{show:!0,fontWeight:"bold"}},data:[{value:this.dataInfo.hasFileTotal,name:"已数字化",itemStyle:{color:"#C12E34"}},{value:this.dataInfo.noHasFileTotal,name:"未数字化",itemStyle:{color:"#1E90FF"}}]}]})}}},c=l,u=a("2877"),d=Object(u["a"])(c,i,n,!1,null,"523d6b7e",null);t["default"]=d.exports},fc5f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},n=[],s=a("ade3"),r=(a("159b"),a("d81d"),a("313e")),o=a.n(r),l=a("6e44");a("817d");var c={name:"",mixins:[l["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"60vh"},dataInfo:{type:Object}},data:function(){return{chart:null,dataInfo1:[],legendData:[]}},computed:{title:function(){if(this.dataInfo)return this.dataInfo.title},legend:function(){if(this.dataInfo)return this.dataInfo.legend},subTitle:function(){if(this.dataInfo)return this.dataInfo.subTitle}},watch:{chartData:{deep:!0,handler:function(e){var t=this;this.legend,this.dataInfo.seriesArr;this.dataInfo.seriesArr.forEach((function(e){var a={type:"line",color:["#FF7F50"],smooth:0,itemStyle:{normal:{label:{show:!0}}}};a.name=e.username,a.data=e.map((function(e){return e.number})),t.legendData.push(e.username),t.dataInfo1.push(a)})),this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){var e=this;this.chart=o.a.init(this.$el,"macarons"),this.dataInfo1=[],this.dataInfo.seriesArr.forEach((function(t){var a={type:"line",smooth:0,itemStyle:{normal:{label:{show:!1}}}};a.name=t[0].username,a.data=t.map((function(e){return e.number})),e.legendData.push(t[0].username),e.dataInfo1.push(a)})),this.setOptions(this.chartData)},setOptions:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.expectedData,t.actualData;this.chart.setOption({text:"标题文本",title:{text:this.title,padding:[0,0,0,50],textStyle:(e={color:"#000",fontWeight:"bold",fontStyle:"normal"},Object(s["a"])(e,"fontWeight","bold"),Object(s["a"])(e,"fontFamily","sans-serif"),Object(s["a"])(e,"fontSize",14),e),subtext:this.subTitle},tooltip:{trigger:"axis"},legend:{},xAxis:{type:"category",boundaryGap:!1,axisLine:{lineStyle:{color:"#4488BB",width:1}},axisLabel:{textStyle:{}},data:this.dataInfo.xAxisArr},yAxis:{type:"value",axisLine:{lineStyle:{color:"#4488BB",width:1}},axisLabel:{textStyle:{}}},series:this.dataInfo1})}}},u=c,d=a("2877"),p=Object(d["a"])(u,i,n,!1,null,"2906d5f2",null);t["default"]=p.exports},fd5c:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"index"},[a("grid-layout",{staticClass:"layout",attrs:{layout:e.layout,"col-num":12,"row-height":30,"auto-size":!0,"is-draggable":e.draggable,"is-resizable":e.resizable,"vertical-compact":!0,margin:[12,12],"use-css-transforms":!0,responsive:!0}},e._l(e.layout,(function(t,i){return a("grid-item",{key:i,attrs:{static:t.static,x:t.x,y:t.y,w:t.w,h:t.h,i:t.i}},[0===i?[a("chart-card",[a("div",{attrs:{slot:"card-head"},slot:"card-head"},[a("div",{staticClass:"flex justify-between"},[a("div",{staticClass:"card-title"},[e._v("销售总额")]),a("div",[a("el-tooltip",{attrs:{content:"指标说明",placement:"top"}},[a("i",{staticClass:"el-icon-warning-outline cursor-pointer"})])],1)])]),a("div",{attrs:{slot:"card-content"},slot:"card-content"},[a("div",{staticClass:"text-3xl"},[a("span",[e._v("￥")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":e.data.cellNum.num,duration:e.data.cellNum.duration}})],1),a("div",{staticClass:"chart-container"},[a("span",[e._v("周同比")]),a("span",{staticClass:"pl-2 pr-1"},[e._v("12%")]),a("span",{staticClass:"el-icon-caret-top text-red-400"}),a("span",{staticClass:"pl-3"},[e._v("日同比")]),a("span",{staticClass:"pl-2 pr-1"},[e._v("11%")]),a("span",{staticClass:"el-icon-caret-bottom text-green-400"})])]),a("div",{attrs:{slot:"card-footer"},slot:"card-footer"},[a("div",{staticClass:"pt-3 border-t border-solid border-gray-300"},[a("span",[e._v("日均销售额￥ 234.56")])])])])]:e._e(),1===i?[a("chart-card",[a("div",{attrs:{slot:"card-head"},slot:"card-head"},[a("div",{staticClass:"flex justify-between"},[a("div",{staticClass:"card-title"},[e._v("访问量")]),a("div",[a("el-tooltip",{attrs:{content:"指标说明",placement:"top"}},[a("i",{staticClass:"el-icon-warning-outline cursor-pointer"})])],1)])]),a("div",{attrs:{slot:"card-content"},slot:"card-content"},[a("el-row",{staticClass:"text-3xl"},[a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":e.data.visitNum.num,duration:e.data.visitNum.duration}})],1),a("el-row",{staticClass:"chart-container"},[a("v-chart",{attrs:{options:e.options.visit,autoresize:""}})],1)],1),a("div",{attrs:{slot:"card-footer"},slot:"card-footer"},[a("div",{staticClass:"pt-3 border-t border-solid border-gray-300"},[a("span",[e._v("日访问量 1,234")])])])])]:e._e(),2===i?[a("chart-card",[a("div",{attrs:{slot:"card-head"},slot:"card-head"},[a("div",{staticClass:"flex justify-between"},[a("div",{staticClass:"card-title"},[e._v("支付笔数")]),a("div",[a("el-tooltip",{attrs:{content:"指标说明",placement:"top"}},[a("i",{staticClass:"el-icon-warning-outline cursor-pointer"})])],1)])]),a("div",{attrs:{slot:"card-content"},slot:"card-content"},[a("el-row",{staticClass:"text-3xl"},[a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":e.data.payCount.num,duration:e.data.payCount.duration}})],1),a("el-row",{staticClass:"chart-container"},[a("v-chart",{attrs:{options:e.options.payNum,autoresize:""}})],1)],1),a("div",{attrs:{slot:"card-footer"},slot:"card-footer"},[a("div",{staticClass:"pt-3 border-t border-solid border-gray-300"},[a("span",[e._v("转化率 60%")])])])])]:e._e(),3===i?[a("chart-card",[a("div",{attrs:{slot:"card-head"},slot:"card-head"},[a("div",{staticClass:"flex justify-between"},[a("div",{staticClass:"card-title"},[e._v("运营活动效果")]),a("div",[a("el-tooltip",{attrs:{content:"指标说明",placement:"top"}},[a("i",{staticClass:"el-icon-warning-outline cursor-pointer"})])],1)])]),a("div",{attrs:{slot:"card-content"},slot:"card-content"},[a("div",{staticClass:"text-3xl"},[a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":e.data.operateEffect.num,duration:e.data.operateEffect.duration}}),a("span",[e._v("%")])],1),a("div",{staticClass:"progress-container"},[a("el-progress",{attrs:{"show-text":!1,"stroke-width":26,percentage:78}})],1)]),a("div",{attrs:{slot:"card-footer"},slot:"card-footer"},[a("div",{staticClass:"pt-3 border-t border-solid border-gray-300"},[a("span",[e._v("同周比")]),a("span",{staticClass:"pl-2 pr-1"},[e._v("12%")]),a("span",{staticClass:"el-icon-caret-bottom text-green-400"}),a("span",{staticClass:"pl-3"},[e._v("日环比")]),a("span",{staticClass:"pl-2 pr-1"},[e._v("80%")]),a("span",{staticClass:"el-icon-caret-top text-red-400"})])])])]:e._e()],2)})),1)],1)},n=[],s=a("5530"),r=a("5304"),o=a("9ca8"),l=(a("ef97"),a("94b1"),a("007d"),a("5a0c"),a("7be8")),c=a.n(l),u=a("ec1b"),d=a.n(u),p={name:"QuotaExplain",props:{data:{type:Object}},components:{ChartCard:r["default"],"v-chart":o["a"],GridLayout:c.a.GridLayout,GridItem:c.a.GridItem,CountTo:d.a},data:function(){var e=[{x:0,y:0,w:3,h:5,i:"0",static:!1},{x:3,y:0,w:3,h:5,i:"1",static:!1},{x:6,y:0,w:3,h:5,i:"2",static:!1},{x:9,y:0,w:3,h:5,i:"3",static:!1}];return{options:{visit:{},payNum:{}},layout:e,draggable:!0,resizable:!0}},watch:{data:{handler:function(e){var t=e.visitNum,a=e.payCount;t.data&&this.initVisitChart(),a.data&&this.initPayNumChart()},immediate:!0}},methods:{itemTitle:function(e){var t=e.i;return e.static&&(t+=" - Static"),t},initVisitChart:function(){var e=this.data.visitNum.data,t=e.xData,a=e.yData;this.options=Object(s["a"])(Object(s["a"])({},this.options),{},{visit:{tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},grid:{left:"0",right:"0"},xAxis:[{type:"category",show:!1,boundaryGap:!1,axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{formatter:function(){return""}},data:t}],yAxis:[{type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{formatter:function(){return""}}}],series:[{name:"搜索引擎",type:"line",stack:"总量",label:{normal:{show:!0,position:"top"}},areaStyle:{normal:{color:"#1890ff"}},itemStyle:{normal:{color:"#1890ff"}},symbol:"none",smooth:!0,data:a}]}})},initPayNumChart:function(){var e=this.data.payCount.data,t=e.xData,a=e.yData;this.options=Object(s["a"])(Object(s["a"])({},this.options),{},{payNum:{tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{backgroundColor:"#6a7985"}}},grid:{left:"0",right:"0"},xAxis:[{type:"category",show:!1,boundaryGap:!1,splitLine:{show:!1},data:t}],yAxis:[{type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{formatter:function(){return""}}}],series:[{type:"bar",itemStyle:{normal:{color:function(e){var t=["#C33531","#EFE42A","#64BD3D","#EE9201","#29AAE3","#B74AE5","#0AAF9F","#E89589","#16A085","#4A235A","#C39BD3 ","#F9E79F","#BA4A00","#ECF0F1","#616A6B","#EAF2F8","#4A235A","#3498DB"];return t[e.dataIndex]}}},data:a}]}})}},mounted:function(){this.initVisitChart(),this.initPayNumChart()}},f=p,m=(a("d381"),a("2877")),h=Object(m["a"])(f,i,n,!1,null,"619619a9",null);t["default"]=h.exports},fe5f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tree"},[a("div",{staticClass:"content"},[a("basic-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeData&&e.treeData.length>0,expression:"treeData && treeData.length > 0"}],ref:"tree",attrs:{data:e.treeData,defaultExpandedKeys:e.defaultExpandedKeys,"default-checked-keys":e.defaultCheckedKeys,"show-checkbox":""},on:{checkChange:e.checkChange,click:e.treeNodeClick,keys:e.getCheckedKeys}})],1)])},n=[],s=a("1da1"),r=(a("96cf"),a("c740"),a("a434"),a("159b"),a("7db0"),a("b0c0"),a("4de4"),a("d81d"),a("d3b7"),a("ddb0"),a("60f9")),o={name:"RecordSide",components:{BasicTree:r["default"]},props:{title:{type:String,default:""}},data:function(){return{keys:[],treeData:[],allData:[],loading:!1,selectedData:null,baseTreeData:null,rootList:[],optionList:[],defaultCheckedKeys:[],defaultExpandedKeys:[],url:{tree:"/category/categoryTree",organ:"/sys/organ/getOrganByParentId"},baseData:null}},watch:{},computed:{},methods:{checkChange:function(e){var t=this;if(this.rootList=[],e.checked)e.data.icon=null,this.optionList.push(e.data);else{var a=this.optionList.findIndex((function(t){return t.id==e.data.id}));a>-1&&this.optionList.splice(a,1)}this.optionList.forEach((function(e){"undefined"!=typeof e.children&&e.children.forEach((function(e){t.rootList.push(e)}))}))},getParentList:function(e,t,a){},init:function(){this.getTreeData()},getRootDate:function(){return this.$emit("ok",{rootList:this.rootList}),this.rootList},getTreeData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.$api.getAction(e.url.tree,{moduleType:1});case 4:a=t.sent,i=a.treeData,e.treeData=e.setTreeData(i),e.baseData=i,e.$nextTick((function(){e.$refs.tree.getCheckedKeys()})),e.loading=!1,e.baseTreeData=i,t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](1),e.loading=!1;case 16:case"end":return t.stop()}}),t,null,[[1,13]])})))()},setTreeData:function(e){var t=this,a=e.filter((function(e){return"-1"==e.parentId}));this.defaultExpandedKeys=a.map((function(e){return e.id})),e.map((function(e){return e.label=e.name,e})),a.forEach((function(t){var a=e.filter((function(e){return e.parentId==t.id}));t.children=a,a.length?t.elIcon="folder":t.elIcon="document-copy"}));var i=[];return this.optionList.forEach((function(e,n){var s={label:e.label,children:t.setTreeDataByOptionList(a,n)};i.push(s)})),i},setTreeDataByOptionList:function(e,t){var a=function e(a){a.forEach((function(a){a.id&&(a.id=t+"-"+a.id),a.children&&a.children.length>0&&e(a.children)}))},i=JSON.parse(JSON.stringify(e));return a(i),i},treeNodeClick:function(e){this.selectedData=e},getCheckedKeys:function(e){var t=this;this.keys=e,this.rootList=[],e.forEach((function(e){var a=t.baseData.find((function(t){return t.id==e}));"undefined"!=typeof a&&-1==a.parentId&&(a.children.length>0?a.children.forEach((function(e){t.rootList.push(e)})):t.rootList.push(a))}))},getChecked:function(){}},created:function(){},mounted:function(){var e=this;this.$api.httpAction(this.url.organ,{pid:"-1"},"post").then((function(t){"操作成功"==t.msg&&e.optionList.push({label:t.organ.name,id:"1"})}))}},l=o,c=(a("4c9b"),a("2877")),u=Object(c["a"])(l,i,n,!1,null,"11c36b62",null);t["default"]=u.exports},fefb:function(e,t,a){"use strict";a("b5d0")},ff44:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container max-height flex-column borrow-info-box"},[a("div",{staticClass:"flex justify-between"},[a("div",{staticClass:"flex"},[a("el-button",{attrs:{type:"text",icon:"el-icon-arrow-left"},on:{click:e.goBack}},[e._v(" 返回 ")]),a("div",{staticStyle:{"margin-left":"10px","margin-bottom":"2px","font-size":"15px"}},[e._v(" "+e._s(e.detailTitle)+" ")])],1),a("div")]),e._m(0),a("div",{staticClass:"table-box-title"},[e._v("借阅档案内容")]),a("div",{staticClass:"table-box-list max-width"},[a("borrow-content")],1),a("div",{staticClass:"table-box-title"},[e._v("审批人意见")]),a("div",{staticClass:"table-box-list max-width"},[a("opinion-list")],1)])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex"},[a("table",{staticClass:"mini-table",staticStyle:{width:"100%"},attrs:{border:"2"}},[a("tr",[a("td",{staticClass:"label-item shadow",attrs:{rowspan:"2"}},[e._v("申请人")]),a("td",{staticClass:"label-item"},[e._v("姓名")]),a("td",{attrs:{colspan:"4"}},[e._v("asdfadsf")]),a("td",{staticClass:"label-item"},[e._v("联系电话")]),a("td",{attrs:{colspan:"4"}},[e._v("asdfad")])]),a("tr",[a("td",{staticClass:"label-item"},[e._v("单位")]),a("td",{attrs:{colspan:"4"}},[e._v("adfasf")]),a("td",{staticClass:"label-item"},[e._v("身份证")]),a("td",{attrs:{colspan:"4"}},[e._v("asdfdasf")])]),a("tr",[a("td",{staticClass:"label-item shadow",attrs:{rowspan:"3"}},[e._v("借阅形式")]),a("td",{attrs:{colspan:"10"}},[e._v("馆内查询")])]),a("tr",[a("td",{staticClass:"label-item"},[e._v("到馆时间")]),a("td",{attrs:{colspan:"9"}},[e._v("dfas")])]),a("tr",[a("td",{staticClass:"label-item"},[e._v("利用形式")]),a("td",{attrs:{colspan:"9"}},[e._v("dfas")])]),a("tr",[a("td",{staticClass:"label-item shadow"},[e._v("利用目的")]),a("td",{attrs:{colspan:"10"}},[e._v("dfas")])]),a("tr",[a("td",{staticClass:"label-item shadow"},[e._v("备注")]),a("td",{attrs:{colspan:"10"}},[e._v("dfas")])])])])}],s=a("c5d4"),r=a("86b3"),o=a("14de"),l=a("f19a"),c={name:"TaskInfo",components:{SelectPrint:s["default"],RecordsList:r["default"],BorrowContent:o["default"],OpinionList:l["default"]},props:{},data:function(){return{detailTitle:"借阅申请详情",remark:"",activeName:"archive",selectPrint:{show:!1,title:"",loading:!1}}},watch:{},computed:{},methods:{goBack:function(){this.$emit("back")}},created:function(){},mounted:function(){}},u=c,d=(a("e630"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,"79d6559d",null);t["default"]=p.exports}}]);