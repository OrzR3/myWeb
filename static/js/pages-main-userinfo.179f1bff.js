(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-main-userinfo"],{"010b":function(e,t,o){var a=o("24fb");t=a(!1),t.push([e.i,".swiper[data-v-27117570]{display:-webkit-box;display:-webkit-flex;display:flex;color:#2979ff}.bjt[data-v-27117570]{width:%?750?%;height:%?256?%;margin-bottom:%?30?%}.bjt uni-image[data-v-27117570]{width:100%;height:100%}.content[data-v-27117570]{width:%?750?%;padding-top:%?0?%;margin:0 auto;overflow:hidden}.content .form-item[data-v-27117570]{width:%?686?%;border-bottom:1px solid rgba(0,0,0,.1);height:%?115?%;padding:%?25?%;margin:0 auto;display:-webkit-box;display:-webkit-flex;display:flex}.content .form-item .title[data-v-27117570]{display:-webkit-box;display:-webkit-flex;display:flex;color:#333;font-size:%?28?%;margin-bottom:%?16?%;width:%?200?%;line-height:%?50?%}.content .form-item .title .tips[data-v-27117570]{color:red;margin-left:%?6?%;line-height:%?50?%}.content .form-item .input[data-v-27117570]{height:%?50?%;font-size:%?32?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.content .form-item .select[data-v-27117570]{color:#2979ff;width:%?100?%}.content .form-item .placeholder-input[data-v-27117570]{color:rgba(51,51,51,.25)}.content .btn[data-v-27117570]{padding:%?8?% 0;width:%?686?%;height:%?96?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#2979ff;color:#fff;font-size:%?32?%;border-radius:%?16?%;margin:%?40?% auto}.content .btns[data-v-27117570]{padding:%?8?% 0;width:%?686?%;height:%?96?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#fff;color:#2979ff;font-size:%?32?%;border-radius:%?16?%;border:1px solid #ccc;margin:%?40?% auto}.content .btn_Gray[data-v-27117570]{padding:%?8?% 0;width:%?686?%;height:%?96?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#fff;color:#2979ff;font-size:%?32?%;border-radius:%?16?%;border:1px solid #ccc;margin:%?40?% auto}",""]),e.exports=t},"1bf4":function(e,t,o){e.exports=o.p+"static/img/user_top.61d4b6a8.png"},4473:function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return a}));var a={uPopup:o("df25").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"bjt"},[a("v-uni-image",{attrs:{src:o("1bf4"),mode:""}})],1),a("v-uni-view",{staticClass:"article"},[a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"title flex"},[e._v("学校")]),a("v-uni-view",{staticClass:"input flex space-between"},[a("v-uni-input",{attrs:{placeholder:"请输入学校","placeholder-class":"placeholder-input",disabled:!0},model:{value:e.form.schoolname,callback:function(t){e.$set(e.form,"schoolname",t)},expression:"form.schoolname"}})],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"title flex"},[e._v("类别")]),a("v-uni-view",{staticClass:"input flex space-between"},[a("v-uni-input",{staticClass:"width",attrs:{placeholder:"请选择学历类别",disabled:!0,"placeholder-class":"placeholder-input"},model:{value:e.form.categoryName,callback:function(t){e.$set(e.form,"categoryName",t)},expression:"form.categoryName"}})],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"title flex"},[e._v("层次")]),a("v-uni-view",{staticClass:"input flex space-between"},[a("v-uni-input",{staticClass:"width",attrs:{placeholder:"请选择学历层次",disabled:!0,"placeholder-class":"placeholder-input"},model:{value:e.form.levelName,callback:function(t){e.$set(e.form,"levelName",t)},expression:"form.levelName"}})],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"title flex"},[e._v("院系")]),a("v-uni-view",{staticClass:"input flex space-between"},[a("v-uni-input",{staticClass:"width",attrs:{disabled:!0,"placeholder-class":"placeholder-input"},model:{value:e.yx,callback:function(t){e.yx=t},expression:"yx"}})],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"title flex"},[e._v("专业")]),a("v-uni-view",{staticClass:"input flex space-between"},[a("v-uni-input",{staticClass:"width",attrs:{disabled:!0,"placeholder-class":"placeholder-input"},model:{value:e.zy,callback:function(t){e.zy=t},expression:"zy"}})],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"title flex"},[e._v("姓名")]),a("v-uni-view",{staticClass:"input flex space-between"},[a("v-uni-input",{attrs:{placeholder:"请输入",disabled:!0,"placeholder-class":"placeholder-input"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"title flex"},[e._v("身份证号码")]),a("v-uni-view",{staticClass:"input flex space-between"},[a("v-uni-input",{attrs:{placeholder:"请输入",maxlength:"18",disabled:!0,"placeholder-class":"placeholder-input"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1)],1),a("v-uni-view",{staticClass:"btn",attrs:{disabled:!e.form.school},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onSave.apply(void 0,arguments)}}},[e._v("解绑")]),a("v-uni-view",{staticClass:"btn_Gray",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.returnHome.apply(void 0,arguments)}}},[e._v("返回首页")]),a("Picker",{ref:"PickerCategory",attrs:{range:e.category,"range-key":"name","name-key":"name","id-key":"code"},on:{onConfirm:function(t){arguments[0]=t=e.$handleEvent(t),e.categoryConfirm.apply(void 0,arguments)}}}),a("Picker",{ref:"PickerLevel",attrs:{range:e.level,"range-key":"name","name-key":"name","id-key":"code"},on:{onConfirm:function(t){arguments[0]=t=e.$handleEvent(t),e.levelConfirm.apply(void 0,arguments)}}}),a("Picker",{ref:"university",attrs:{range:e.schoolname,"range-key":"name","name-key":"name","id-key":"code"},on:{onConfirm:function(t){arguments[0]=t=e.$handleEvent(t),e.GetSchool.apply(void 0,arguments)}}}),a("u-popup",{model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("txl",{attrs:{datas:e.schoolname,index:!0,name:"name"},on:{ev:function(t){arguments[0]=t=e.$handleEvent(t),e.evFunc.apply(void 0,arguments)}}})],1)],1)},i=[]},"703c":function(e,t,o){var a=o("010b");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=o("4f06").default;n("acf5e4dc",a,!0,{sourceMap:!1,shadowMode:!1})},"984b":function(e,t,o){"use strict";var a=o("703c"),n=o.n(a);n.a},b198:function(e,t,o){"use strict";o.r(t);var a=o("c842"),n=o.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){o.d(t,e,(function(){return a[e]}))}(i);t["default"]=n.a},c842:function(e,t,o){"use strict";o("d3b7"),o("3ca3"),o("10d1"),o("ddb0"),o("e439");var a=o("4ea4"),n=o("7037");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o("ac1f"),o("5319"),o("96cf");var i=a(o("1da1")),l=a(o("ade3")),c=a(o("72d2")),s=(d(o("2371")),a(o("19f9")));function r(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(r=function(e){return e?o:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!==typeof e)return{default:e};var o=r(t);if(o&&o.has(e))return o.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var c=i?Object.getOwnPropertyDescriptor(e,l):null;c&&(c.get||c.set)?Object.defineProperty(a,l,c):a[l]=e[l]}return a.default=e,o&&o.set(e,a),a}var u={components:{Picker:c.default,txl:s.default},data:function(){var e;return e={category:[],level:[],schoolname:[],disabled:!1,disableds:!1,scrollTop:"",current:""},(0,l.default)(e,"scrollTop",0),(0,l.default)(e,"indexList",["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]),(0,l.default)(e,"form",{school:"",schoolname:"",category:"",categoryName:"",level:"",levelName:"",userName:"",phone:""}),(0,l.default)(e,"show",!1),(0,l.default)(e,"banner",""),(0,l.default)(e,"schoolisshow",!0),(0,l.default)(e,"swiperItem",[{title:""},{title:""}]),(0,l.default)(e,"tztitle",""),(0,l.default)(e,"schoolCode",""),(0,l.default)(e,"tgzt",""),(0,l.default)(e,"yx",""),(0,l.default)(e,"zy",""),e},created:function(){},onLoad:function(e){if(this.tgzt=e.tgzt,console.log("onLoad:",e.schoolCode),this.schoolCode=e.schoolCode,void 0!=e.token&&""!=e.token&&uni.setStorageSync("token",e.token),void 0!=e.schoolCode&&""!=e.schoolCode){uni.setStorageSync("schoolCode",e.schoolCode);var t=uni.getStorageSync("schoolCode");this.schoolinfo(t)}this.current=e.current,this.grinfo()},methods:{evFunc:function(e){this.form.school=e.code,this.form.schoolname=e.name,this.show=!1,this.form.category="",this.form.categoryName="",this.form.level="",this.form.levelName="",null!=e.code&&(this.getcategory(!1),this.getlevel(!1))},grinfo:function(){var e=this;uni.request({url:"".concat(getApp().globalData.url,"/api/getUserInfo"),method:"POST",header:{"x-access-token":uni.getStorageSync("token")},success:function(t){if(console.log(t),void 0!=e.schoolCode&&""!=e.schoolCode||(e.schoolCode=t.data.data.schoolCode,console.log(e.schoolCode),e.schoolinfo(e.schoolCode),uni.setStorageSync("schoolCode",e.schoolCode)),void 0==t.data.data||void 0==t.data.data.school||""==t.data.data.school){var o=uni.getStorageSync("schoolCode");void 0!=o&&""!=o&&e.getSchoolInit(o)}void 0!=t.data.data&&void 0!=t.data.data.school&&(e.form.school=t.data.data.schoolCode,e.form.schoolname=t.data.data.school,e.form.category=t.data.data.category,e.form.categoryName=t.data.data.categoryName,e.form.level=t.data.data.level,e.form.levelName=t.data.data.levelName,e.form.phone=t.data.data.cardNum,e.form.userName=t.data.data.xm,e.yx=t.data.data.yx,e.zy=t.data.data.specialitie)},fail:function(e){}})},schoolinfo:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,uni.request({url:"".concat(getApp().globalData.url,"/api/getschoolInfo"),method:"POST",header:{"x-access-token":uni.getStorageSync("token"),"content-type":"application/x-www-form-urlencoded"},data:{schoolCode:e},success:function(e){if(console.log(e.data.schoolName),e.data.banner?(t.banner=getApp().globalData.url+e.data.banner,console.log(t.banner)):t.banner="../../static/user_top.png",e.data.schoolName&&(t.schoolisshow=!1),console.log(e.data.notice.length),1==e.data.notice.length){var o=e.data.notice[0].title,a=e.data.notice[0].context;console.log(o);for(var n=0;n<t.swiperItem.length;n++)t.swiperItem[n].title=o,t.swiperItem[n].context=a}else t.swiperItem=e.data.notice;console.log(t.swiperItem)}});case 2:case"end":return o.stop()}}),o)})))()},getSchool:function(){var e=this,t=uni.getStorageSync("token"),o="";""==this.form.school&&""!=this.form.schoolname&&(o=this.form.schoolname.replace(/\s+/g,"")),uni.request({url:"".concat(getApp().globalData.url,"/api/getSchool"),method:"POST",header:{"x-access-token":t,"content-type":"application/x-www-form-urlencoded"},data:{schoolName:o,schoolId:""},success:function(t){console.log(t.data.data),e.schoolname=t.data.data},fail:function(e){}})},getSchoolInit:function(e){var t=this,o=uni.getStorageSync("token");uni.request({url:"".concat(getApp().globalData.url,"/api/getSchool"),method:"POST",header:{"x-access-token":o,"content-type":"application/x-www-form-urlencoded"},data:{schoolName:"",schoolId:""},success:function(o){for(var a=0;a<o.data.data.length;a++)if(o.data.data[a].code==e){t.form.school=o.data.data[a].code,t.form.schoolname=o.data.data[a].name;break}},fail:function(e){}})},getcategory:function(e){var t=this,o=uni.getStorageSync("token");uni.request({url:"".concat(getApp().globalData.url,"/api/sysDict"),method:"POST",header:{"x-access-token":o,"content-type":"application/x-www-form-urlencoded"},data:{type:"student_xslb",schoolCode:t.form.school},success:function(o){t.category=o.data.data,e?t.$refs.PickerCategory.show():t.category&&t.category.length>=1&&(t.form.category=t.category[0].code,t.form.categoryName=t.category[0].name)},fail:function(e){}})},getlevel:function(e){var t=this,o=uni.getStorageSync("token");uni.request({url:"".concat(getApp().globalData.url,"/api/sysDict"),method:"POST",header:{"x-access-token":o,"content-type":"application/x-www-form-urlencoded"},data:{type:"student_pycc",schoolCode:t.form.school},success:function(o){console.log(o.data.data),t.level=o.data.data,e?t.$refs.PickerLevel.show():t.level&&t.level.length>=1&&(t.form.level=t.level[0].code,t.form.levelName=t.level[0].name)},fail:function(e){}})},stop:function(){uni.navigateBack({delta:1})},School:function(){this.getSchool(),this.show=!0},onCategory:function(){void 0!=this.form.schoolname&&null!=this.form.schoolname&&""!=this.form.schoolname&&""!=this.form.school?this.getcategory(!0):uni.showToast({title:"请先选择学校",icon:"none"})},onLevel:function(){void 0!=this.form.schoolname&&null!=this.form.schoolname&&""!=this.form.schoolname&&""!=this.form.school?this.getlevel(!0):uni.showToast({title:"请先选择学校",icon:"none"})},GetSchool:function(e,t,o){this.form.school=t,this.form.schoolname=e},categoryConfirm:function(e,t,o){this.form.category=t,this.form.categoryName=e},levelConfirm:function(e,t,o){this.form.level=t,this.form.levelName=e},getschoolLoginType:function(e){uni.request({url:"".concat(getApp().globalData.url,"/api/getschoolLoginType"),header:{"content-type":"application/x-www-form-urlencoded"},data:{schoolCode:e},method:"POST",success:function(t){if(200==t.data.code){var o=t.data.result.code,a="/pages/user/index";15==o&&(a="/pages/user/authentication?schoolCode="+e),setTimeout((function(){uni.navigateTo({url:a})}),1e3)}},fail:function(e){setTimeout((function(){uni.navigateTo({url:"/pages/user/index"})}),1e3)}})},onSave:function(){var e=this;uni.showModal({title:"提示",content:"是否解绑",success:function(t){if(t.confirm){var o=uni.getStorageSync("token");uni.request({url:"".concat(getApp().globalData.url,"/api/unbound"),method:"POST",header:{"x-access-token":o,"content-type":"application/x-www-form-urlencoded"},success:function(t){console.log(t.data);t.data.code;t.data?(uni.showToast({title:"解绑成功",duration:2e3,icon:"none"}),e.getschoolLoginType(e.form.school)):uni.showToast({title:"解绑不成功："+t.data.msg,duration:2e3,icon:"none"})},fail:function(e){}})}else t.cancel&&console.log("用户点击取消")}})},returnHome:function(){setTimeout((function(){uni.navigateTo({url:"/pages/main/index"})}),300)}}};t.default=u},eccf:function(e,t,o){"use strict";o.r(t);var a=o("4473"),n=o("b198");for(var i in n)["default"].indexOf(i)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(i);o("984b");var l,c=o("f0c5"),s=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"27117570",null,!1,a["a"],l);t["default"]=s.exports}}]);