(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-perfectInfo"],{"231d":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".active[data-v-83279c26]{width:%?60?%;height:%?60?%;border-radius:50%;border:1px solid #ccc;line-height:%?60?%;font-size:%?28?%;background:#81d4f4;text-align:center}.xxbox[data-v-83279c26]{width:%?200?%;display:-webkit-box;display:-webkit-flex;display:flex;margin:auto;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.xxbox .xxindex[data-v-83279c26]{width:%?60?%;height:%?60?%;border-radius:50%;border:1px solid #ccc;line-height:%?60?%;font-size:%?28?%;text-align:center}.article[data-v-83279c26]{width:%?750?%;margin-bottom:%?30?%}.content[data-v-83279c26]{height:100vh;overflow:auto}.form-items[data-v-83279c26]{width:%?686?%;border-bottom:1px solid rgba(0,0,0,.1);height:%?220?%;padding:%?25?%;margin:0 auto;padding-top:%?10?%}.form-items .title[data-v-83279c26]{display:-webkit-box;display:-webkit-flex;display:flex;color:#333;font-size:%?28?%;margin-bottom:%?16?%;width:%?240?%;line-height:%?50?%}.form-items .title .tips[data-v-83279c26]{color:red;margin-left:%?6?%;line-height:%?50?%}.form-items .input[data-v-83279c26]{height:auto;font-size:%?32?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.form-items .select[data-v-83279c26]{color:#2979ff}.form-items .placeholder-input[data-v-83279c26]{color:rgba(51,51,51,.25)}.form-item[data-v-83279c26]{width:%?686?%;border-bottom:1px solid rgba(0,0,0,.1);height:%?115?%;padding:%?25?%;margin:0 auto;display:-webkit-box;display:-webkit-flex;display:flex}.form-item .title[data-v-83279c26]{display:-webkit-box;display:-webkit-flex;display:flex;color:#333;font-size:%?28?%;margin-bottom:%?16?%;width:%?230?%;line-height:%?50?%}.form-item .title .tips[data-v-83279c26]{color:red;margin-left:%?6?%;line-height:%?50?%}.form-item .input[data-v-83279c26]{height:%?50?%;font-size:%?32?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.form-item .select[data-v-83279c26]{color:#2979ff;width:%?100?%}.form-item .placeholder-input[data-v-83279c26]{color:rgba(51,51,51,.25)}.footer[data-v-83279c26]{width:%?750?%;height:%?110?%;box-sizing:border-box;background:#fff;z-index:5;margin-top:%?50?%}.btn[data-v-83279c26]{position:relative;width:%?686?%;height:%?96?%;left:%?32?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#2979ff;color:#fff;font-size:%?32?%;border-radius:%?16?%}.btn-1[data-v-83279c26]{width:%?200?%;margin:%?40?% %?20?%}.btns[data-v-83279c26]{padding:%?8?% 0;position:relative;width:%?300?%;height:%?96?%;left:%?32?%;bottom:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#fff;color:#2979ff;font-size:%?32?%;border-radius:%?16?%;border:1px solid #ccc}.btnss[data-v-83279c26]{padding:%?8?% 0;position:relative;width:%?300?%;height:%?96?%;left:%?32?%;bottom:%?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:#2979ff;color:#fff;font-size:%?32?%;border-radius:%?16?%}.red[data-v-83279c26]{color:red}",""]),t.exports=e},"5cc7":function(t,e,i){"use strict";var a=i("b558"),s=i.n(a);s.a},"5f15":function(t,e,i){t.exports=i.p+"static/img/cw.1a7e6a07.png"},6754:function(t,e,i){"use strict";i.r(e);var a=i("e926"),s=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=s.a},"70c8":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticStyle:{width:"686rpx",margin:"20rpx auto","line-height":"40rpx","letter-spacing":"2rpx",color:"#2979FF"}},[t._v("温馨提示：请如实填写以下信息，该信息将与您大学就读期间的各类奖助学金、个人诚信、就业密切相关。如相关信息发生变化请及时告知所在学院。")]),a("v-uni-view",[a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"title flex"},[t._v("联系电话"),a("v-uni-view",{staticClass:"tips"},[t._v("*")])],1),a("v-uni-view",{staticClass:"input flex space-between"},[a("v-uni-input",{attrs:{placeholder:"请输入联系电话",disabled:t.disableds,focus:t.userPhonefocus,maxlength:"100",type:"number","placeholder-class":"placeholder-input"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.dh.apply(void 0,arguments)}},model:{value:t.userPhone,callback:function(e){t.userPhone=e},expression:"userPhone"}}),t.userPhonefocus?a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.dhs,expression:"dhs"}]},[a("v-uni-image",{staticStyle:{width:"26rpx",height:"26rpx"},attrs:{src:i("5f15"),mode:""}})],1):t._e()],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"title flex"},[t._v("QQ"),a("v-uni-view",{staticClass:"tips"},[t._v("*")])],1),a("v-uni-view",{staticClass:"input flex space-between"},[a("v-uni-input",{attrs:{placeholder:"请输入QQ",maxlength:"100",disabled:t.disableds,focus:t.qqfocus,type:"number","placeholder-class":"placeholder-input"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.qqh.apply(void 0,arguments)}},model:{value:t.qq,callback:function(e){t.qq=e},expression:"qq"}}),t.qqfocus?a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.qqhs,expression:"qqhs"}]},[a("v-uni-image",{staticStyle:{width:"26rpx",height:"26rpx"},attrs:{src:i("5f15"),mode:""}})],1):t._e()],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"title flex"},[t._v("微信"),a("v-uni-view",{staticClass:"tips"},[t._v("*")])],1),a("v-uni-view",{staticClass:"input flex space-between"},[a("v-uni-input",{attrs:{placeholder:"请输入微信",maxlength:"100",disabled:t.disableds,focus:t.wechatfocus,"placeholder-class":"placeholder-input"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.wxs.apply(void 0,arguments)}},model:{value:t.wechat,callback:function(e){t.wechat=e},expression:"wechat"}}),t.wechatfocus?a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.wx,expression:"wx"}]},[a("v-uni-image",{staticStyle:{width:"26rpx",height:"26rpx"},attrs:{src:i("5f15"),mode:""}})],1):t._e()],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"title flex"},[t._v("Email"),a("v-uni-view",{staticClass:"tips"},[t._v("*")])],1),a("v-uni-view",{staticClass:"input flex space-between"},[a("v-uni-input",{attrs:{placeholder:"请输入邮箱",maxlength:"100",disabled:t.disableds,focus:t.emailfocus,"placeholder-class":"placeholder-input"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.yxss.apply(void 0,arguments)}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t.emailfocus?a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.yxs,expression:"yxs"}]},[a("v-uni-image",{staticStyle:{width:"26rpx",height:"26rpx"},attrs:{src:i("5f15"),mode:""}})],1):t._e()],1)],1),a("v-uni-view",{staticClass:"form-items"},[a("v-uni-view",{staticClass:"title flex"},[t._v("家庭详细地址"),a("v-uni-view",{staticClass:"tips"},[t._v("*")])],1),a("v-uni-view",{staticClass:"input"},[a("v-uni-textarea",{attrs:{"auto-height":!0,placeholder:"请输入家庭详细地址",disabled:t.disableds,maxlength:"50",focus:t.addrfocus,"placeholder-class":"placeholder-input"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.jtzzs.apply(void 0,arguments)}},model:{value:t.addr,callback:function(e){t.addr=e},expression:"addr"}}),t.addrfocus?a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.jtzz,expression:"jtzz"}]},[a("v-uni-image",{staticStyle:{width:"26rpx",height:"26rpx"},attrs:{src:i("5f15"),mode:""}})],1):t._e()],1)],1),a("v-uni-view",{staticClass:"form-item"},[a("v-uni-view",{staticClass:"title flex"},[t._v("家庭邮编"),a("v-uni-view",{staticClass:"tips"},[t._v("*")])],1),a("v-uni-view",{staticClass:"input flex space-between"},[a("v-uni-input",{attrs:{placeholder:"请输入家庭邮编",maxlength:"100",disabled:t.disableds,focus:t.jtybfocus,"placeholder-class":"placeholder-input"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.jtybs.apply(void 0,arguments)}},model:{value:t.jtyb,callback:function(e){t.jtyb=e},expression:"jtyb"}}),t.jtybfocus?a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.pcf,expression:"pcf"}]},[a("v-uni-image",{staticStyle:{width:"26rpx",height:"26rpx"},attrs:{src:i("5f15"),mode:""}})],1):t._e()],1)],1)],1),a("v-uni-view",{staticClass:"footer"},[a("v-uni-view",{staticStyle:{width:"686upx",display:"flex","justify-content":"space-around"}},[a("v-uni-view",{staticClass:"btnss",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.stop.apply(void 0,arguments)}}},[t._v("关闭")]),0!=t.isAllowModify?a("v-uni-view",{staticClass:"btnss",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSave.apply(void 0,arguments)}}},[t._v("提交")]):t._e()],1)],1)],1)},o=[]},"98cc":function(t,e,i){"use strict";i.r(e);var a=i("70c8"),s=i("6754");for(var o in s)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(o);i("5cc7");var n,l=i("f0c5"),c=Object(l["a"])(s["default"],a["b"],a["c"],!1,null,"83279c26",null,!1,a["a"],n);e["default"]=c.exports},b558:function(t,e,i){var a=i("231d");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=i("4f06").default;s("029e8c68",a,!0,{sourceMap:!1,shadowMode:!1})},e926:function(t,e,i){"use strict";i("d3b7"),i("3ca3"),i("10d1"),i("ddb0"),i("e439");var a=i("7037");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;o(i("2371"));function s(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(s=function(t){return t?i:e})(t)}function o(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!==typeof t)return{default:t};var i=s(e);if(i&&i.has(t))return i.get(t);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in t)if("default"!==l&&Object.prototype.hasOwnProperty.call(t,l)){var c=n?Object.getOwnPropertyDescriptor(t,l):null;c&&(c.get||c.set)?Object.defineProperty(o,l,c):o[l]=t[l]}return o.default=t,i&&i.set(t,o),o}var n={components:{},data:function(){return{userPhone:"",qq:"",email:"",sex:"",sexlist:[],sexcode:"",nation:"",DateOfBirth:"",politicalOutlook:"",nativePlace:"",addr:"",origin:"",wechat:"",examineecategory:"",jtyb:"",userPhonefocus:!1,qqfocus:!1,emailfocus:!1,sexfocus:!1,nationfocus:!1,DateOfBirthfocus:!1,politicalOutlookfocus:!1,nativePlacefocus:!1,addrfocus:!1,originfocus:!1,wechatfocus:!1,examineecategoryfocus:!1,jtybfocus:!1,index:[{index:1},{index:2}],isActive:1,schoolCode:"",datalist:[],relation:[],isAllowModify:"",kslb:[],kslbname:"",dhs:"",qqhs:"",yxs:"",wx:"",mz:"",zzmm:"",jg:"",jtzz:"",syd:"",pcf:"",disabled:!1,disableds:!1}},created:function(){this.grinfo(),this.getjhr(),console.log(this.form)},onShow:function(){},onLoad:function(t){this.isAllowModify=t.isAllowModify,console.log(this.isAllowModify),0==this.isAllowModify&&(this.disableds=!0)},methods:{dh:function(){console.log(this.userPhone),this.isMobile(this.userPhone)&&(this.dhs=!1)},wxs:function(){console.log(this.wechat),""!=this.wechat&&(this.wx=!1)},mzs:function(){""!=this.nation&&(this.mz=!1)},zzmms:function(){""!=this.addr&&(this.zzmm=!1)},jgs:function(){""!=this.nativePlace&&(this.jg=!1)},jtzzs:function(){""!=this.addr&&(this.jtzz=!1)},syds:function(){""!=this.origin&&(this.syd=!1)},qqh:function(){console.log(this.qq);var t=this.qq;this.qqs(t)&&(this.qqhs=!1)},yxss:function(){console.log(this.email),this.yx(this.email)&&(this.yxs=!1)},jtybs:function(){""!=this.jtyb&&(this.pcf=!1)},bindSexChange:function(t){this.sex=this.sexlist[t.target.value].name,this.sexcode=this.sexlist[t.target.value].code,console.log(this.sex,this.sexcode)},bindKslbChange:function(t){this.kslbname=this.kslb[t.target.value].name,this.examineecategory=this.kslb[t.target.value].code,console.log(this.kslbname,this.examineecategory)},bindDateChange:function(t){console.log(t.target.value),this.DateOfBirth=t.target.value},chenked:function(t){0==this.isAllowModify?this.isActive=t:this.notnull(t)},chenkeds:function(t){this.isActive=t},grinfo:function(){var t=this;uni.request({url:"".concat(getApp().globalData.url,"/api/getUserInfo"),method:"POST",header:{"x-access-token":uni.getStorageSync("token")},success:function(e){console.log(e.data.data),void 0!=e.data.data&&void 0!=e.data.data.school&&(t.email=e.data.data.email,t.qq=e.data.data.qq,t.userPhone=e.data.data.userPhone,t.sexcode=e.data.data.sex,t.disabled=!0,t.nation=e.data.data.nation,e.data.data.nation&&(t.disabled=!0,console.log(t.disabled)),t.DateOfBirth=e.data.data.DateOfBirth,e.data.data.DateOfBirth&&(t.disabled=!0),t.politicalOutlook=e.data.data.politicalOutlook,t.nativePlace=e.data.data.nativePlace,t.addr=e.data.data.addr,t.origin=e.data.data.origin,t.wechat=e.data.data.wechat,t.jtyb=e.data.data.jtyb,t.examineecategory=e.data.data.examineecategory,t.schoolCode=e.data.data.schoolCode,t.getStudent_family(),t.getStudent_kslb(),t.getStudent_sex())},fail:function(t){}})},stop:function(){this.$u.route({url:"/pages/main/index"})},getStudent_kslb:function(){var t=this,e=this,i=uni.getStorageSync("token");uni.request({url:"".concat(getApp().globalData.url,"/api/sysDict"),method:"POST",header:{"x-access-token":i,"content-type":"application/x-www-form-urlencoded"},data:{type:"student_kslb",schoolCode:e.schoolCode},success:function(e){console.log("考试类别",e),t.kslb=e.data.data;for(var i=0;i<t.kslb.length;i++)if(t.examineecategory==t.kslb[i].code){t.kslbname=t.kslb[i].name;break}},fail:function(t){}})},getStudent_sex:function(){var t=this,e=this,i=uni.getStorageSync("token");uni.request({url:"".concat(getApp().globalData.url,"/api/sysDict"),method:"POST",header:{"x-access-token":i,"content-type":"application/x-www-form-urlencoded"},data:{type:"sex",schoolCode:e.schoolCode},success:function(e){console.log("性别",e),t.sexlist=e.data.data;for(var i=0;i<t.sexlist.length;i++)if(t.sexcode==t.sexlist[i].code){t.sex=t.sexlist[i].name;break}},fail:function(t){}})},getStudent_family:function(){var t=this,e=this,i=uni.getStorageSync("token");uni.request({url:"".concat(getApp().globalData.url,"/api/sysDict"),method:"POST",header:{"x-access-token":i,"content-type":"application/x-www-form-urlencoded"},data:{type:"student_family",schoolCode:e.schoolCode},success:function(e){t.relation=e.data.data},fail:function(t){}})},getjhr:function(){var t=this,e=uni.getStorageSync("token");uni.request({url:"".concat(getApp().globalData.url,"/api/getGuardian"),method:"POST",header:{"x-access-token":e},success:function(e){void 0!=e.data.data&&(console.log(e.data.data),""!=e.data.data&&(t.form=e.data.data,""==e.data.data[1].address&&t.form.pop()))},fail:function(t){}})},School:function(t){console.log(t),"0"==t?(this.$refs.university1.show(),console.log(this.$refs.university1.show())):this.$refs.university2.show()},GetSchool1:function(t,e,i){this.form[0].relation=t,this.form[0].relationCode=e},GetSchool2:function(t,e,i){this.form[1].relation=t,this.form[1].relationCode=e},isMobile:function(t){var e=/^1\d{10}$/;return e.test(t)},qqs:function(t){var e=/[1-9][0-9]{4,14}/;return e.test(t)},yx:function(t){var e=/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;return e.test(t)},onSave:function(t){return void 0==this.userPhone||null==this.userPhone||""==this.userPhone?(uni.showToast({title:"联系电话不能为空",icon:"none"}),this.userPhonefocus=!0,void(this.dhs=!0)):this.isMobile(this.userPhone)?void 0==this.qq||null==this.qq||""==this.qq?(uni.showToast({title:"QQ不能为空",icon:"none"}),this.qqfocus=!0,void(this.qqhs=!0)):this.qqs(this.qq)?void 0==this.email||null==this.email||""==this.email?(uni.showToast({title:"邮箱不能为空",icon:"none"}),this.emailfocus=!0,void(this.yxs=!0)):this.yx(this.email)?void 0==this.wechat||null==this.wechat||""==this.wechat?(uni.showToast({title:"微信不能为空",icon:"none"}),this.wechatfocus=!0,void(this.wx=!0)):void 0==this.addr||null==this.addr||""==this.addr?(uni.showToast({title:"家庭住址不能为空",icon:"none"}),this.addrfocus=!0,void(this.jtzz=!0)):void 0==this.jtyb||null==this.jtyb||""==this.jtyb?(uni.showToast({title:"家庭邮编不能为空",icon:"none"}),this.jtybfocus=!0,void(this.pcf=!0)):void this.savePersonalInfo(t):(uni.showToast({title:"邮箱格式错误",icon:"none"}),this.emailfocus=!0,void(this.yxs=!0)):(uni.showToast({title:"QQ格式错误",icon:"none"}),this.qqfocus=!0,void(this.qqhs=!0)):(uni.showToast({title:"联系电话格式错误",icon:"none"}),this.userPhonefocus=!0,void(this.dhs=!0))},savePersonalInfo:function(t){var e=this,i=uni.getStorageSync("token");uni.request({url:"".concat(getApp().globalData.url,"/api/savePersonalInfo"),method:"POST",header:{"x-access-token":i,"content-type":"application/x-www-form-urlencoded"},data:{email:this.email,qq:this.qq,userPhone:this.userPhone,sex:this.sexcode,nation:this.nation,DateOfBirth:this.DateOfBirth,politicalOutlook:this.politicalOutlook,nativePlace:this.nativePlace,addr:this.addr,origin:this.origin,wechat:this.wechat,jtyb:this.jtyb,examineecategory:this.examineecategory},success:function(t){"200"==t.data.code?e.$u.route({url:"/pages/main/index"}):uni.showToast({title:"保存失败："+t.data.msg,icon:"none"})},fail:function(t){}})}}};e.default=n}}]);